import{c as Ye,a as Z,h as it,b as Gr,F as ya,G as Bx,H as _a,I as Px,r as Ft,g as lr,J as Us,K as ln,L as Ax,M as fh,N as ch,Q as Ar,O as dh,P as Ks,R as Rf,S as zx,T as Ds,E as Ts,U as un,w as He,o as Ki,f as ii,V as va,k as Wl,W as Wv,X as Zr,t as Lx,Y as Fx,Z as vh,$ as Gx,a0 as Ss,a1 as Vl,a2 as $x,a3 as qx,a4 as Nx,a5 as Wx,a6 as ha,a7 as Vx,a8 as Vv,j as Hx,a9 as Yx,aa as ph,ab as Xx,ac as Ux,ad as Kx,ae as hh,af as jx,ag as Fi,ah as Zx,ai as Kr,aj as kf,n as Rs,ak as gh,al as Qa,am as Qx,an as xl,ao as mh,ap as bh,aq as Jx,p as tw,ar as ew,as as rw,at as yh,i as ks,e as Cn,au as Br,av as nw,x as aw,aw as iw,ax as ow,ay as sw,az as uw,aA as lw,aB as fw,l as cw,d as dw,aC as vw,aD as pw,aE as hw,y as $r,A as jt,aF as or,_ as rn,aG as tr,aH as ji,aI as Zi,aJ as gw,aK as _h,z as Pr,B as xe,aL as Fn,aM as Ya,v as mw,C as Kt,aN as bw,D as zt,aO as Hv,aP as Yv,aQ as Or,aR as os,aS as wn,aT as Xv,aU as yw}from"./index.1cfa68f6.js";import{Q as _w}from"./QResizeObserver.1764e46c.js";var ar=Ye({name:"QItemSection",props:{avatar:Boolean,thumbnail:Boolean,side:Boolean,top:Boolean,noWrap:Boolean},setup(t,{slots:e}){const r=Z(()=>`q-item__section column q-item__section--${t.avatar===!0||t.side===!0||t.thumbnail===!0?"side":"main"}`+(t.top===!0?" q-item__section--top justify-start":" justify-center")+(t.avatar===!0?" q-item__section--avatar":"")+(t.thumbnail===!0?" q-item__section--thumbnail":"")+(t.noWrap===!0?" q-item__section--nowrap":""));return()=>it("div",{class:r.value},Gr(e.default))}}),Ur=Ye({name:"QItem",props:{...ya,...Bx,tag:{type:String,default:"div"},active:{type:Boolean,default:null},clickable:Boolean,dense:Boolean,insetLevel:Number,tabindex:[String,Number],focused:Boolean,manualFocus:Boolean},emits:["click","keyup"],setup(t,{slots:e,emit:r}){const{proxy:{$q:n}}=lr(),a=_a(t,n),{hasLink:o,linkAttrs:u,linkClass:l,linkTag:c,navigateOnClick:f}=Px(),v=Ft(null),h=Ft(null),p=Z(()=>t.clickable===!0||o.value===!0||t.tag==="label"),g=Z(()=>t.disable!==!0&&p.value===!0),b=Z(()=>"q-item q-item-type row no-wrap"+(t.dense===!0?" q-item--dense":"")+(a.value===!0?" q-item--dark":"")+(o.value===!0&&t.active===null?l.value:t.active===!0?` q-item--active${t.activeClass!==void 0?` ${t.activeClass}`:""}`:"")+(t.disable===!0?" disabled":"")+(g.value===!0?" q-item--clickable q-link cursor-pointer "+(t.manualFocus===!0?"q-manual-focusable":"q-focusable q-hoverable")+(t.focused===!0?" q-manual-focusable--focused":""):"")),y=Z(()=>{if(t.insetLevel===void 0)return null;const w=n.lang.rtl===!0?"Right":"Left";return{["padding"+w]:16+t.insetLevel*56+"px"}});function _(w){g.value===!0&&(h.value!==null&&(w.qKeyEvent!==!0&&document.activeElement===v.value?h.value.focus():document.activeElement===h.value&&v.value.focus()),f(w))}function x(w){if(g.value===!0&&Us(w,13)===!0){ln(w),w.qKeyEvent=!0;const C=new MouseEvent("click",w);C.qKeyEvent=!0,v.value.dispatchEvent(C)}r("keyup",w)}function E(){const w=Ax(e.default,[]);return g.value===!0&&w.unshift(it("div",{class:"q-focus-helper",tabindex:-1,ref:h})),w}return()=>{const w={ref:v,class:b.value,style:y.value,role:"listitem",onClick:_,onKeyup:x};return g.value===!0?(w.tabindex=t.tabindex||"0",Object.assign(w,u.value)):p.value===!0&&(w["aria-disabled"]="true"),it(c.value,w,E())}}}),wl=Ye({name:"QList",props:{...ya,bordered:Boolean,dense:Boolean,separator:Boolean,padding:Boolean},setup(t,{slots:e}){const r=lr(),n=_a(t,r.proxy.$q),a=Z(()=>"q-list"+(t.bordered===!0?" q-list--bordered":"")+(t.dense===!0?" q-list--dense":"")+(t.separator===!0?" q-list--separator":"")+(n.value===!0?" q-list--dark":"")+(t.padding===!0?" q-list--padding":""));return()=>it("div",{class:a.value,role:"list"},Gr(e.default))}}),Uv=Ye({name:"QAvatar",props:{...fh,fontSize:String,color:String,textColor:String,icon:String,square:Boolean,rounded:Boolean},setup(t,{slots:e}){const r=ch(t),n=Z(()=>"q-avatar"+(t.color?` bg-${t.color}`:"")+(t.textColor?` text-${t.textColor} q-chip--colored`:"")+(t.square===!0?" q-avatar--square":t.rounded===!0?" rounded-borders":"")),a=Z(()=>t.fontSize?{fontSize:t.fontSize}:null);return()=>{const o=t.icon!==void 0?[it(Ar,{name:t.icon})]:void 0;return it("div",{class:n.value,style:r.value},[it("div",{class:"q-avatar__content row flex-center overflow-hidden",style:a.value},dh(e.default,o))])}}}),Kv=Ye({name:"QItemLabel",props:{overline:Boolean,caption:Boolean,header:Boolean,lines:[Number,String]},setup(t,{slots:e}){const r=Z(()=>parseInt(t.lines,10)),n=Z(()=>"q-item__label"+(t.overline===!0?" q-item__label--overline text-overline":"")+(t.caption===!0?" q-item__label--caption text-caption":"")+(t.header===!0?" q-item__label--header":"")+(r.value===1?" ellipsis":"")),a=Z(()=>t.lines!==void 0&&r.value>1?{overflow:"hidden",display:"-webkit-box","-webkit-box-orient":"vertical","-webkit-line-clamp":r.value}:null);return()=>it("div",{style:a.value,class:n.value},Gr(e.default))}});const Sw={xs:8,sm:10,md:14,lg:20,xl:24};var jv=Ye({name:"QChip",props:{...ya,...fh,dense:Boolean,icon:String,iconRight:String,iconRemove:String,iconSelected:String,label:[String,Number],color:String,textColor:String,modelValue:{type:Boolean,default:!0},selected:{type:Boolean,default:null},square:Boolean,outline:Boolean,clickable:Boolean,removable:Boolean,removeAriaLabel:String,tabindex:[String,Number],disable:Boolean,ripple:{type:[Boolean,Object],default:!0}},emits:["update:modelValue","update:selected","remove","click"],setup(t,{slots:e,emit:r}){const{proxy:{$q:n}}=lr(),a=_a(t,n),o=ch(t,Sw),u=Z(()=>t.selected===!0||t.icon!==void 0),l=Z(()=>t.selected===!0?t.iconSelected||n.iconSet.chip.selected:t.icon),c=Z(()=>t.iconRemove||n.iconSet.chip.remove),f=Z(()=>t.disable===!1&&(t.clickable===!0||t.selected!==null)),v=Z(()=>{const _=t.outline===!0&&t.color||t.textColor;return"q-chip row inline no-wrap items-center"+(t.outline===!1&&t.color!==void 0?` bg-${t.color}`:"")+(_?` text-${_} q-chip--colored`:"")+(t.disable===!0?" disabled":"")+(t.dense===!0?" q-chip--dense":"")+(t.outline===!0?" q-chip--outline":"")+(t.selected===!0?" q-chip--selected":"")+(f.value===!0?" q-chip--clickable cursor-pointer non-selectable q-hoverable":"")+(t.square===!0?" q-chip--square":"")+(a.value===!0?" q-chip--dark q-dark":"")}),h=Z(()=>{const _=t.disable===!0?{tabindex:-1,"aria-disabled":"true"}:{tabindex:t.tabindex||0},x={..._,role:"button","aria-hidden":"false","aria-label":t.removeAriaLabel||n.lang.label.remove};return{chip:_,remove:x}});function p(_){_.keyCode===13&&g(_)}function g(_){t.disable||(r("update:selected",!t.selected),r("click",_))}function b(_){(_.keyCode===void 0||_.keyCode===13)&&(ln(_),t.disable===!1&&(r("update:modelValue",!1),r("remove")))}function y(){const _=[];f.value===!0&&_.push(it("div",{class:"q-focus-helper"})),u.value===!0&&_.push(it(Ar,{class:"q-chip__icon q-chip__icon--left",name:l.value}));const x=t.label!==void 0?[it("div",{class:"ellipsis"},[t.label])]:void 0;return _.push(it("div",{class:"q-chip__content col row no-wrap items-center q-anchor--skip"},dh(e.default,x))),t.iconRight&&_.push(it(Ar,{class:"q-chip__icon q-chip__icon--right",name:t.iconRight})),t.removable===!0&&_.push(it(Ar,{class:"q-chip__icon q-chip__icon--remove cursor-pointer",name:c.value,...h.value.remove,onClick:b,onKeyup:b})),_}return()=>{if(t.modelValue===!1)return;const _={class:v.value,style:o.value};return f.value===!0&&Object.assign(_,h.value.chip,{onClick:g,onKeyup:p}),Ks("div",_,y(),"ripple",t.ripple!==!1&&t.disable!==!0,()=>[[Rf,t.ripple]])}}}),xw=Ye({name:"QBtnGroup",props:{unelevated:Boolean,outline:Boolean,flat:Boolean,rounded:Boolean,square:Boolean,push:Boolean,stretch:Boolean,glossy:Boolean,spread:Boolean},setup(t,{slots:e}){const r=Z(()=>{const n=["unelevated","outline","flat","rounded","square","push","stretch","glossy"].filter(a=>t[a]===!0).map(a=>`q-btn-group--${a}`).join(" ");return`q-btn-group row no-wrap${n.length>0?" "+n:""}`+(t.spread===!0?" q-btn-group--spread":" inline")});return()=>it("div",{class:r.value},Gr(e.default))}});function If(){if(window.getSelection!==void 0){const t=window.getSelection();t.empty!==void 0?t.empty():t.removeAllRanges!==void 0&&(t.removeAllRanges(),zx.is.mobile!==!0&&t.addRange(document.createRange()))}else document.selection!==void 0&&document.selection.empty()}const Sh={target:{default:!0},noParentEvent:Boolean,contextMenu:Boolean};function xh({showing:t,avoidEmit:e,configureAnchorEl:r}){const{props:n,proxy:a,emit:o}=lr(),u=Ft(null);let l;function c(g){return u.value===null?!1:g===void 0||g.touches===void 0||g.touches.length<=1}const f={};r===void 0&&(Object.assign(f,{hide(g){a.hide(g)},toggle(g){a.toggle(g),g.qAnchorHandled=!0},toggleKey(g){Us(g,13)===!0&&f.toggle(g)},contextClick(g){a.hide(g),Ds(g),Ts(()=>{a.show(g),g.qAnchorHandled=!0})},prevent:Ds,mobileTouch(g){if(f.mobileCleanup(g),c(g)!==!0)return;a.hide(g),u.value.classList.add("non-selectable");const b=g.target;un(f,"anchor",[[b,"touchmove","mobileCleanup","passive"],[b,"touchend","mobileCleanup","passive"],[b,"touchcancel","mobileCleanup","passive"],[u.value,"contextmenu","prevent","notPassive"]]),l=setTimeout(()=>{a.show(g),g.qAnchorHandled=!0},300)},mobileCleanup(g){u.value.classList.remove("non-selectable"),clearTimeout(l),t.value===!0&&g!==void 0&&If()}}),r=function(g=n.contextMenu){if(n.noParentEvent===!0||u.value===null)return;let b;g===!0?a.$q.platform.is.mobile===!0?b=[[u.value,"touchstart","mobileTouch","passive"]]:b=[[u.value,"mousedown","hide","passive"],[u.value,"contextmenu","contextClick","notPassive"]]:b=[[u.value,"click","toggle","passive"],[u.value,"keyup","toggleKey","passive"]],un(f,"anchor",b)});function v(){va(f,"anchor")}function h(g){for(u.value=g;u.value.classList.contains("q-anchor--skip");)u.value=u.value.parentNode;r()}function p(){if(n.target===!1||n.target===""||a.$el.parentNode===null)u.value=null;else if(n.target===!0)h(a.$el.parentNode);else{let g=n.target;if(typeof n.target=="string")try{g=document.querySelector(n.target)}catch{g=void 0}g!=null?(u.value=g.$el||g,r()):(u.value=null,console.error(`Anchor: target "${n.target}" not found`))}}return He(()=>n.contextMenu,g=>{u.value!==null&&(v(),r(g))}),He(()=>n.target,()=>{u.value!==null&&v(),p()}),He(()=>n.noParentEvent,g=>{u.value!==null&&(g===!0?v():r())}),Ki(()=>{p(),e!==!0&&n.modelValue===!0&&u.value===null&&o("update:modelValue",!1)}),ii(()=>{clearTimeout(l),v()}),{anchorEl:u,canShow:c,anchorEvents:f}}function ww(t,e){const r=Ft(null);let n;function a(l,c){const f=`${c!==void 0?"add":"remove"}EventListener`,v=c!==void 0?c:n;l!==window&&l[f]("scroll",v,Wl.passive),window[f]("scroll",v,Wl.passive),n=c}function o(){r.value!==null&&(a(r.value),r.value=null)}const u=He(()=>t.noParentEvent,()=>{r.value!==null&&(o(),e())});return ii(u),{localScrollTarget:r,unconfigureScrollTarget:o,changeScrollEvent:a}}let wh;const{notPassiveCapture:Is}=Wl,pa=[];function Os(t){clearTimeout(wh);const e=t.target;if(e===void 0||e.nodeType===8||e.classList.contains("no-pointer-events")===!0)return;let r=Wv.length-1;for(;r>=0;){const n=Wv[r].$;if(n.type.name!=="QDialog")break;if(n.props.seamless!==!0)return;r--}for(let n=pa.length-1;n>=0;n--){const a=pa[n];if((a.anchorEl.value===null||a.anchorEl.value.contains(e)===!1)&&(e===document.body||a.innerRef.value!==null&&a.innerRef.value.contains(e)===!1))t.qClickOutside=!0,a.onClickOutside(t);else return}}function Cw(t){pa.push(t),pa.length===1&&(document.addEventListener("mousedown",Os,Is),document.addEventListener("touchstart",Os,Is))}function Zv(t){const e=pa.findIndex(r=>r===t);e>-1&&(pa.splice(e,1),pa.length===0&&(clearTimeout(wh),document.removeEventListener("mousedown",Os,Is),document.removeEventListener("touchstart",Os,Is)))}let Qv,Jv;function tp(t){const e=t.split(" ");return e.length!==2?!1:["top","center","bottom"].includes(e[0])!==!0?(console.error("Anchor/Self position must start with one of top/center/bottom"),!1):["left","middle","right","start","end"].includes(e[1])!==!0?(console.error("Anchor/Self position must end with one of left/middle/right/start/end"),!1):!0}function Ew(t){return t?!(t.length!==2||typeof t[0]!="number"||typeof t[1]!="number"):!0}const Hl={"start#ltr":"left","start#rtl":"right","end#ltr":"right","end#rtl":"left"};["left","middle","right"].forEach(t=>{Hl[`${t}#ltr`]=t,Hl[`${t}#rtl`]=t});function ep(t,e){const r=t.split(" ");return{vertical:r[0],horizontal:Hl[`${r[1]}#${e===!0?"rtl":"ltr"}`]}}function Mw(t,e){let{top:r,left:n,right:a,bottom:o,width:u,height:l}=t.getBoundingClientRect();return e!==void 0&&(r-=e[1],n-=e[0],o+=e[1],a+=e[0],u+=e[0],l+=e[1]),{top:r,left:n,right:a,bottom:o,width:u,height:l,middle:n+(a-n)/2,center:r+(o-r)/2}}function Dw(t){return{top:0,center:t.offsetHeight/2,bottom:t.offsetHeight,left:0,middle:t.offsetWidth/2,right:t.offsetWidth}}function Tw(t){if(Zr.is.ios===!0&&window.visualViewport!==void 0){const l=document.body.style,{offsetLeft:c,offsetTop:f}=window.visualViewport;c!==Qv&&(l.setProperty("--q-pe-left",c+"px"),Qv=c),f!==Jv&&(l.setProperty("--q-pe-top",f+"px"),Jv=f)}let e;const{scrollLeft:r,scrollTop:n}=t.el;if(t.absoluteOffset===void 0)e=Mw(t.anchorEl,t.cover===!0?[0,0]:t.offset);else{const{top:l,left:c}=t.anchorEl.getBoundingClientRect(),f=l+t.absoluteOffset.top,v=c+t.absoluteOffset.left;e={top:f,left:v,width:1,height:1,right:v+1,center:f,middle:v,bottom:f+1}}let a={maxHeight:t.maxHeight,maxWidth:t.maxWidth,visibility:"visible"};(t.fit===!0||t.cover===!0)&&(a.minWidth=e.width+"px",t.cover===!0&&(a.minHeight=e.height+"px")),Object.assign(t.el.style,a);const o=Dw(t.el),u={top:e[t.anchorOrigin.vertical]-o[t.selfOrigin.vertical],left:e[t.anchorOrigin.horizontal]-o[t.selfOrigin.horizontal]};Rw(u,e,o,t.anchorOrigin,t.selfOrigin),a={top:u.top+"px",left:u.left+"px"},u.maxHeight!==void 0&&(a.maxHeight=u.maxHeight+"px",e.height>u.maxHeight&&(a.minHeight=a.maxHeight)),u.maxWidth!==void 0&&(a.maxWidth=u.maxWidth+"px",e.width>u.maxWidth&&(a.minWidth=a.maxWidth)),Object.assign(t.el.style,a),t.el.scrollTop!==n&&(t.el.scrollTop=n),t.el.scrollLeft!==r&&(t.el.scrollLeft=r)}function Rw(t,e,r,n,a){const o=r.bottom,u=r.right,l=Lx(),c=window.innerHeight-l,f=document.body.clientWidth;if(t.top<0||t.top+o>c)if(a.vertical==="center")t.top=e[n.vertical]>c/2?Math.max(0,c-o):0,t.maxHeight=Math.min(o,c);else if(e[n.vertical]>c/2){const v=Math.min(c,n.vertical==="center"?e.center:n.vertical===a.vertical?e.bottom:e.top);t.maxHeight=Math.min(o,v),t.top=Math.max(0,v-o)}else t.top=Math.max(0,n.vertical==="center"?e.center:n.vertical===a.vertical?e.top:e.bottom),t.maxHeight=Math.min(o,c-t.top);if(t.left<0||t.left+u>f)if(t.maxWidth=Math.min(u,f),a.horizontal==="middle")t.left=e[n.horizontal]>f/2?Math.max(0,f-u):0;else if(e[n.horizontal]>f/2){const v=Math.min(f,n.horizontal==="middle"?e.middle:n.horizontal===a.horizontal?e.right:e.left);t.maxWidth=Math.min(u,v),t.left=Math.max(0,v-t.maxWidth)}else t.left=Math.max(0,n.horizontal==="middle"?e.middle:n.horizontal===a.horizontal?e.left:e.right),t.maxWidth=Math.min(u,f-t.left)}var Of=Ye({name:"QMenu",inheritAttrs:!1,props:{...Sh,...Fx,...ya,...vh,persistent:Boolean,autoClose:Boolean,separateClosePopup:Boolean,noRouteDismiss:Boolean,noRefocus:Boolean,noFocus:Boolean,fit:Boolean,cover:Boolean,square:Boolean,anchor:{type:String,validator:tp},self:{type:String,validator:tp},offset:{type:Array,validator:Ew},scrollTarget:{default:void 0},touchPosition:Boolean,maxHeight:{type:String,default:null},maxWidth:{type:String,default:null}},emits:[...Gx,"click","escape-key"],setup(t,{slots:e,emit:r,attrs:n}){let a=null,o,u,l;const c=lr(),{proxy:f}=c,{$q:v}=f,h=Ft(null),p=Ft(!1),g=Z(()=>t.persistent!==!0&&t.noRouteDismiss!==!0),b=_a(t,v),{registerTick:y,removeTick:_}=Ss(),{registerTimeout:x}=Vl(),{transition:E,transitionStyle:w}=$x(t,p),{localScrollTarget:C,changeScrollEvent:I,unconfigureScrollTarget:R}=ww(t,Ct),{anchorEl:k,canShow:O}=xh({showing:p}),{hide:B}=qx({showing:p,canShow:O,handleShow:Q,handleHide:lt,hideOnRouteChange:g,processOnMount:!0}),{showPortal:A,hidePortal:N,renderPortal:L}=Nx(c,h,Et),z={anchorEl:k,innerRef:h,onClickOutside(T){if(t.persistent!==!0&&p.value===!0)return B(T),(T.type==="touchstart"||T.target.classList.contains("q-dialog__backdrop"))&&ln(T),!0}},H=Z(()=>ep(t.anchor||(t.cover===!0?"center middle":"bottom start"),v.lang.rtl)),V=Z(()=>t.cover===!0?H.value:ep(t.self||"top start",v.lang.rtl)),tt=Z(()=>(t.square===!0?" q-menu--square":"")+(b.value===!0?" q-menu--dark q-dark":"")),J=Z(()=>t.autoClose===!0?{onClick:gt}:{}),ot=Z(()=>p.value===!0&&t.persistent!==!0);He(ot,T=>{T===!0?(Xx(yt),Cw(z)):(Vv(yt),Zv(z))});function X(){Ux(()=>{let T=h.value;T&&T.contains(document.activeElement)!==!0&&(T=T.querySelector("[autofocus], [data-autofocus]")||T,T.focus({preventScroll:!0}))})}function Q(T){if(a=t.noRefocus===!1?document.activeElement:null,Wx(vt),A(),Ct(),o=void 0,T!==void 0&&(t.touchPosition||t.contextMenu)){const G=ha(T);if(G.left!==void 0){const{top:U,left:ut}=k.value.getBoundingClientRect();o={left:G.left-ut,top:G.top-U}}}u===void 0&&(u=He(()=>v.screen.width+"|"+v.screen.height+"|"+t.self+"|"+t.anchor+"|"+v.lang.rtl,Dt)),t.noFocus!==!0&&document.activeElement.blur(),y(()=>{Dt(),t.noFocus!==!0&&X()}),x(()=>{v.platform.is.ios===!0&&(l=t.autoClose,h.value.click()),Dt(),A(!0),r("show",T)},t.transitionDuration)}function lt(T){_(),N(),_t(!0),a!==null&&(T===void 0||T.qClickOutside!==!0)&&(a.focus(),a=null),x(()=>{N(!0),r("hide",T)},t.transitionDuration)}function _t(T){o=void 0,u!==void 0&&(u(),u=void 0),(T===!0||p.value===!0)&&(Vx(vt),R(),Zv(z),Vv(yt)),T!==!0&&(a=null)}function Ct(){(k.value!==null||t.scrollTarget!==void 0)&&(C.value=Hx(k.value,t.scrollTarget),I(C.value,Dt))}function gt(T){l!==!0?(Yx(f,T),r("click",T)):l=!1}function vt(T){ot.value===!0&&t.noFocus!==!0&&Kx(h.value,T.target)!==!0&&X()}function yt(T){r("escape-key"),B(T)}function Dt(){const T=h.value;T===null||k.value===null||Tw({el:T,offset:t.offset,anchorEl:k.value,anchorOrigin:H.value,selfOrigin:V.value,absoluteOffset:o,fit:t.fit,cover:t.cover,maxHeight:t.maxHeight,maxWidth:t.maxWidth})}function Et(){return it(ph,{name:E.value,appear:!0},()=>p.value===!0?it("div",{role:"menu",...n,ref:h,tabindex:-1,class:["q-menu q-position-engine scroll"+tt.value,n.class],style:[n.style,w.value],...J.value},Gr(e.default)):null)}return ii(_t),Object.assign(f,{focus:X,updatePosition:Dt}),L}});const Ch=Object.keys(Zx),kw=Ch.reduce((t,e)=>(t[e]={})&&t,{}),Iw=t=>Ch.reduce((e,r)=>{const n=t[r];return n!==void 0&&(e[r]=n),e},{});var Ow=Ye({name:"QBtnDropdown",props:{...kw,...vh,modelValue:Boolean,split:Boolean,dropdownIcon:String,contentClass:[Array,String,Object],contentStyle:[Array,String,Object],cover:Boolean,persistent:Boolean,noRouteDismiss:Boolean,autoClose:Boolean,menuAnchor:{type:String,default:"bottom end"},menuSelf:{type:String,default:"top end"},menuOffset:Array,disableMainBtn:Boolean,disableDropdown:Boolean,noIconAnimation:Boolean,toggleAriaLabel:String},emits:["update:modelValue","click","before-show","show","before-hide","hide"],setup(t,{slots:e,emit:r}){const{proxy:n}=lr(),a=Ft(t.modelValue),o=Ft(null),u=hh(),l=Z(()=>{const C={"aria-expanded":a.value===!0?"true":"false","aria-haspopup":"true","aria-controls":u,"aria-owns":u,"aria-label":t.toggleAriaLabel||n.$q.lang.label[a.value===!0?"collapse":"expand"](t.label)};return(t.disable===!0||t.split===!1&&t.disableMainBtn===!0||t.disableDropdown===!0)&&(C["aria-disabled"]="true"),C}),c=Z(()=>"q-btn-dropdown__arrow"+(a.value===!0&&t.noIconAnimation===!1?" rotate-180":"")+(t.split===!1?" q-btn-dropdown__arrow-container":"")),f=Z(()=>jx(t)),v=Z(()=>Iw(t));He(()=>t.modelValue,C=>{o.value!==null&&o.value[C?"show":"hide"]()}),He(()=>t.split,w);function h(C){a.value=!0,r("before-show",C)}function p(C){r("show",C),r("update:modelValue",!0)}function g(C){a.value=!1,r("before-hide",C)}function b(C){r("hide",C),r("update:modelValue",!1)}function y(C){r("click",C)}function _(C){Kr(C),w(),r("click",C)}function x(C){o.value!==null&&o.value.toggle(C)}function E(C){o.value!==null&&o.value.show(C)}function w(C){o.value!==null&&o.value.hide(C)}return Object.assign(n,{show:E,hide:w,toggle:x}),Ki(()=>{t.modelValue===!0&&E()}),()=>{const C=[it(Ar,{class:c.value,name:t.dropdownIcon||n.$q.iconSet.arrow.dropdown})];return t.disableDropdown!==!0&&C.push(it(Of,{ref:o,id:u,class:t.contentClass,style:t.contentStyle,cover:t.cover,fit:!0,persistent:t.persistent,noRouteDismiss:t.noRouteDismiss,autoClose:t.autoClose,anchor:t.menuAnchor,self:t.menuSelf,offset:t.menuOffset,separateClosePopup:!0,transitionShow:t.transitionShow,transitionHide:t.transitionHide,transitionDuration:t.transitionDuration,onBeforeShow:h,onShow:p,onBeforeHide:g,onHide:b},e.default)),t.split===!1?it(Fi,{class:"q-btn-dropdown q-btn-dropdown--simple",...v.value,...l.value,disable:t.disable===!0||t.disableMainBtn===!0,noWrap:!0,round:!1,onClick:y},{default:()=>Gr(e.label,[]).concat(C),loading:e.loading}):it(xw,{class:"q-btn-dropdown q-btn-dropdown--split no-wrap q-btn-item",rounded:t.rounded,square:t.square,...f.value,glossy:t.glossy,stretch:t.stretch},()=>[it(Fi,{class:"q-btn-dropdown--current",...v.value,disable:t.disable===!0||t.disableMainBtn===!0,noWrap:!0,round:!1,onClick:_},{default:e.label,loading:e.loading}),it(Fi,{class:"q-btn-dropdown__arrow-container q-anchor--skip",...l.value,...f.value,disable:t.disable===!0||t.disableDropdown===!0,rounded:t.rounded,color:t.color,textColor:t.textColor,dense:t.dense,size:t.size,padding:t.padding,ripple:t.ripple},()=>C)])}}}),Bw=Ye({name:"QToolbar",props:{inset:Boolean},setup(t,{slots:e}){const r=Z(()=>"q-toolbar row no-wrap items-center"+(t.inset===!0?" q-toolbar--inset":""));return()=>it("div",{class:r.value,role:"toolbar"},Gr(e.default))}});const Bf={left:!0,right:!0,up:!0,down:!0,horizontal:!0,vertical:!0},Pw=Object.keys(Bf);Bf.all=!0;function Bs(t){const e={};for(const r of Pw)t[r]===!0&&(e[r]=!0);return Object.keys(e).length===0?Bf:(e.horizontal===!0?e.left=e.right=!0:e.left===!0&&e.right===!0&&(e.horizontal=!0),e.vertical===!0?e.up=e.down=!0:e.up===!0&&e.down===!0&&(e.vertical=!0),e.horizontal===!0&&e.vertical===!0&&(e.all=!0),e)}function Ps(t,e){return e.event===void 0&&t.target!==void 0&&t.target.draggable!==!0&&typeof e.handler=="function"&&t.target.nodeName.toUpperCase()!=="INPUT"&&(t.qClonedBy===void 0||t.qClonedBy.indexOf(e.uid)===-1)}function Cl(t,e,r){const n=ha(t);let a,o=n.left-e.event.x,u=n.top-e.event.y,l=Math.abs(o),c=Math.abs(u);const f=e.direction;f.horizontal===!0&&f.vertical!==!0?a=o<0?"left":"right":f.horizontal!==!0&&f.vertical===!0?a=u<0?"up":"down":f.up===!0&&u<0?(a="up",l>c&&(f.left===!0&&o<0?a="left":f.right===!0&&o>0&&(a="right"))):f.down===!0&&u>0?(a="down",l>c&&(f.left===!0&&o<0?a="left":f.right===!0&&o>0&&(a="right"))):f.left===!0&&o<0?(a="left",l<c&&(f.up===!0&&u<0?a="up":f.down===!0&&u>0&&(a="down"))):f.right===!0&&o>0&&(a="right",l<c&&(f.up===!0&&u<0?a="up":f.down===!0&&u>0&&(a="down")));let v=!1;if(a===void 0&&r===!1){if(e.event.isFirst===!0||e.event.lastDir===void 0)return{};a=e.event.lastDir,v=!0,a==="left"||a==="right"?(n.left-=o,l=0,o=0):(n.top-=u,c=0,u=0)}return{synthetic:v,payload:{evt:t,touch:e.event.mouse!==!0,mouse:e.event.mouse===!0,position:n,direction:a,isFirst:e.event.isFirst,isFinal:r===!0,duration:Date.now()-e.event.time,distance:{x:l,y:c},offset:{x:o,y:u},delta:{x:n.left-e.event.lastX,y:n.top-e.event.lastY}}}}let Aw=0;var Eh=kf({name:"touch-pan",beforeMount(t,{value:e,modifiers:r}){if(r.mouse!==!0&&Zr.has.touch!==!0)return;function n(o,u){r.mouse===!0&&u===!0?ln(o):(r.stop===!0&&Kr(o),r.prevent===!0&&Ds(o))}const a={uid:"qvtp_"+Aw++,handler:e,modifiers:r,direction:Bs(r),noop:Rs,mouseStart(o){Ps(o,a)&&gh(o)&&(un(a,"temp",[[document,"mousemove","move","notPassiveCapture"],[document,"mouseup","end","passiveCapture"]]),a.start(o,!0))},touchStart(o){if(Ps(o,a)){const u=o.target;un(a,"temp",[[u,"touchmove","move","notPassiveCapture"],[u,"touchcancel","end","passiveCapture"],[u,"touchend","end","passiveCapture"]]),a.start(o)}},start(o,u){if(Zr.is.firefox===!0&&Qa(t,!0),a.lastEvt=o,u===!0||r.stop===!0){if(a.direction.all!==!0&&(u!==!0||a.modifiers.mouseAllDir!==!0&&a.modifiers.mousealldir!==!0)){const f=o.type.indexOf("mouse")>-1?new MouseEvent(o.type,o):new TouchEvent(o.type,o);o.defaultPrevented===!0&&Ds(f),o.cancelBubble===!0&&Kr(f),Object.assign(f,{qKeyEvent:o.qKeyEvent,qClickOutside:o.qClickOutside,qAnchorHandled:o.qAnchorHandled,qClonedBy:o.qClonedBy===void 0?[a.uid]:o.qClonedBy.concat(a.uid)}),a.initialEvent={target:o.target,event:f}}Kr(o)}const{left:l,top:c}=ha(o);a.event={x:l,y:c,time:Date.now(),mouse:u===!0,detected:!1,isFirst:!0,isFinal:!1,lastX:l,lastY:c}},move(o){if(a.event===void 0)return;const u=ha(o),l=u.left-a.event.x,c=u.top-a.event.y;if(l===0&&c===0)return;a.lastEvt=o;const f=a.event.mouse===!0,v=()=>{n(o,f);let g;r.preserveCursor!==!0&&r.preservecursor!==!0&&(g=document.documentElement.style.cursor||"",document.documentElement.style.cursor="grabbing"),f===!0&&document.body.classList.add("no-pointer-events--children"),document.body.classList.add("non-selectable"),If(),a.styleCleanup=b=>{if(a.styleCleanup=void 0,g!==void 0&&(document.documentElement.style.cursor=g),document.body.classList.remove("non-selectable"),f===!0){const y=()=>{document.body.classList.remove("no-pointer-events--children")};b!==void 0?setTimeout(()=>{y(),b()},50):y()}else b!==void 0&&b()}};if(a.event.detected===!0){a.event.isFirst!==!0&&n(o,a.event.mouse);const{payload:g,synthetic:b}=Cl(o,a,!1);g!==void 0&&(a.handler(g)===!1?a.end(o):(a.styleCleanup===void 0&&a.event.isFirst===!0&&v(),a.event.lastX=g.position.left,a.event.lastY=g.position.top,a.event.lastDir=b===!0?void 0:g.direction,a.event.isFirst=!1));return}if(a.direction.all===!0||f===!0&&(a.modifiers.mouseAllDir===!0||a.modifiers.mousealldir===!0)){v(),a.event.detected=!0,a.move(o);return}const h=Math.abs(l),p=Math.abs(c);h!==p&&(a.direction.horizontal===!0&&h>p||a.direction.vertical===!0&&h<p||a.direction.up===!0&&h<p&&c<0||a.direction.down===!0&&h<p&&c>0||a.direction.left===!0&&h>p&&l<0||a.direction.right===!0&&h>p&&l>0?(a.event.detected=!0,a.move(o)):a.end(o,!0))},end(o,u){if(a.event!==void 0){if(va(a,"temp"),Zr.is.firefox===!0&&Qa(t,!1),u===!0)a.styleCleanup!==void 0&&a.styleCleanup(),a.event.detected!==!0&&a.initialEvent!==void 0&&a.initialEvent.target.dispatchEvent(a.initialEvent.event);else if(a.event.detected===!0){a.event.isFirst===!0&&a.handler(Cl(o===void 0?a.lastEvt:o,a).payload);const{payload:l}=Cl(o===void 0?a.lastEvt:o,a,!0),c=()=>{a.handler(l)};a.styleCleanup!==void 0?a.styleCleanup(c):c()}a.event=void 0,a.initialEvent=void 0,a.lastEvt=void 0}}};if(t.__qtouchpan=a,r.mouse===!0){const o=r.mouseCapture===!0||r.mousecapture===!0?"Capture":"";un(a,"main",[[t,"mousedown","mouseStart",`passive${o}`]])}Zr.has.touch===!0&&un(a,"main",[[t,"touchstart","touchStart",`passive${r.capture===!0?"Capture":""}`],[t,"touchmove","noop","notPassiveCapture"]])},updated(t,e){const r=t.__qtouchpan;r!==void 0&&(e.oldValue!==e.value&&(typeof value!="function"&&r.end(),r.handler=e.value),r.direction=Bs(e.modifiers))},beforeUnmount(t){const e=t.__qtouchpan;e!==void 0&&(e.event!==void 0&&e.end(),va(e,"main"),va(e,"temp"),Zr.is.firefox===!0&&Qa(t,!1),e.styleCleanup!==void 0&&e.styleCleanup(),delete t.__qtouchpan)}});function Ua(t,e,r){return r<=e?e:Math.min(r,Math.max(e,t))}const rp="q-slider__marker-labels",zw=t=>({value:t}),Lw=({marker:t})=>it("div",{key:t.value,style:t.style,class:t.classes},t.label),Mh=[34,37,40,33,39,38],Fw={...ya,...mh,min:{type:Number,default:0},max:{type:Number,default:100},innerMin:Number,innerMax:Number,step:{type:Number,default:1,validator:t=>t>=0},snap:Boolean,vertical:Boolean,reverse:Boolean,hideSelection:Boolean,color:String,markerLabelsClass:String,label:Boolean,labelColor:String,labelTextColor:String,labelAlways:Boolean,switchLabelSide:Boolean,markers:[Boolean,Number],markerLabels:[Boolean,Array,Object,Function],switchMarkerLabelsSide:Boolean,trackImg:String,trackColor:String,innerTrackImg:String,innerTrackColor:String,selectionColor:String,selectionImg:String,thumbSize:{type:String,default:"20px"},trackSize:{type:String,default:"4px"},disable:Boolean,readonly:Boolean,dense:Boolean,tabindex:[String,Number],thumbColor:String,thumbPath:{type:String,default:"M 4, 10 a 6,6 0 1,0 12,0 a 6,6 0 1,0 -12,0"}},Gw=["pan","update:modelValue","change"];function $w({updateValue:t,updatePosition:e,getDragging:r,formAttrs:n}){const{props:a,emit:o,slots:u,proxy:{$q:l}}=lr(),c=_a(a,l),f=bh(n),v=Ft(!1),h=Ft(!1),p=Ft(!1),g=Ft(!1),b=Z(()=>a.vertical===!0?"--v":"--h"),y=Z(()=>"-"+(a.switchLabelSide===!0?"switched":"standard")),_=Z(()=>a.vertical===!0?a.reverse===!0:a.reverse!==(l.lang.rtl===!0)),x=Z(()=>isNaN(a.innerMin)===!0||a.innerMin<a.min?a.min:a.innerMin),E=Z(()=>isNaN(a.innerMax)===!0||a.innerMax>a.max?a.max:a.innerMax),w=Z(()=>a.disable!==!0&&a.readonly!==!0&&x.value<E.value),C=Z(()=>(String(a.step).trim().split(".")[1]||"").length),I=Z(()=>a.step===0?1:a.step),R=Z(()=>w.value===!0?a.tabindex||0:-1),k=Z(()=>a.max-a.min),O=Z(()=>E.value-x.value),B=Z(()=>U(x.value)),A=Z(()=>U(E.value)),N=Z(()=>a.vertical===!0?_.value===!0?"bottom":"top":_.value===!0?"right":"left"),L=Z(()=>a.vertical===!0?"height":"width"),z=Z(()=>a.vertical===!0?"width":"height"),H=Z(()=>a.vertical===!0?"vertical":"horizontal"),V=Z(()=>{const at={role:"slider","aria-valuemin":x.value,"aria-valuemax":E.value,"aria-orientation":H.value,"data-step":a.step};return a.disable===!0?at["aria-disabled"]="true":a.readonly===!0&&(at["aria-readonly"]="true"),at}),tt=Z(()=>`q-slider q-slider${b.value} q-slider--${v.value===!0?"":"in"}active inline no-wrap `+(a.vertical===!0?"row":"column")+(a.disable===!0?" disabled":" q-slider--enabled"+(w.value===!0?" q-slider--editable":""))+(p.value==="both"?" q-slider--focus":"")+(a.label||a.labelAlways===!0?" q-slider--label":"")+(a.labelAlways===!0?" q-slider--label-always":"")+(c.value===!0?" q-slider--dark":"")+(a.dense===!0?" q-slider--dense q-slider--dense"+b.value:""));function J(at){const $t="q-slider__"+at;return`${$t} ${$t}${b.value} ${$t}${b.value}${y.value}`}function ot(at){const $t="q-slider__"+at;return`${$t} ${$t}${b.value}`}const X=Z(()=>{const at=a.selectionColor||a.color;return"q-slider__selection absolute"+(at!==void 0?` text-${at}`:"")}),Q=Z(()=>ot("markers")+" absolute overflow-hidden"),lt=Z(()=>ot("track-container")),_t=Z(()=>J("pin")),Ct=Z(()=>J("label")),gt=Z(()=>J("text-container")),vt=Z(()=>J("marker-labels-container")+(a.markerLabelsClass!==void 0?` ${a.markerLabelsClass}`:"")),yt=Z(()=>"q-slider__track relative-position no-outline"+(a.trackColor!==void 0?` bg-${a.trackColor}`:"")),Dt=Z(()=>{const at={[z.value]:a.trackSize};return a.trackImg!==void 0&&(at.backgroundImage=`url(${a.trackImg}) !important`),at}),Et=Z(()=>"q-slider__inner absolute"+(a.innerTrackColor!==void 0?` bg-${a.innerTrackColor}`:"")),T=Z(()=>{const at={[N.value]:`${100*B.value}%`,[L.value]:`${100*(A.value-B.value)}%`};return a.innerTrackImg!==void 0&&(at.backgroundImage=`url(${a.innerTrackImg}) !important`),at});function G(at){const{min:$t,max:te,step:Yt}=a;let me=$t+at*(te-$t);if(Yt>0){const Zt=(me-$t)%Yt;me+=(Math.abs(Zt)>=Yt/2?(Zt<0?-1:1)*Yt:0)-Zt}return C.value>0&&(me=parseFloat(me.toFixed(C.value))),Ua(me,x.value,E.value)}function U(at){return k.value===0?0:(at-a.min)/k.value}function ut(at,$t){const te=ha(at),Yt=a.vertical===!0?Ua((te.top-$t.top)/$t.height,0,1):Ua((te.left-$t.left)/$t.width,0,1);return Ua(_.value===!0?1-Yt:Yt,B.value,A.value)}const pt=Z(()=>Qx(a.markers)===!0?a.markers:I.value),dt=Z(()=>{const at=[],$t=pt.value,te=a.max;let Yt=a.min;do at.push(Yt),Yt+=$t;while(Yt<te);return at.push(te),at}),Mt=Z(()=>{const at=` ${rp}${b.value}-`;return rp+`${at}${a.switchMarkerLabelsSide===!0?"switched":"standard"}${at}${_.value===!0?"rtl":"ltr"}`}),kt=Z(()=>a.markerLabels===!1?null:Wt(a.markerLabels).map((at,$t)=>({index:$t,value:at.value,label:at.label||at.value,classes:Mt.value+(at.classes!==void 0?" "+at.classes:""),style:{...fe(at.value),...at.style||{}}}))),At=Z(()=>({markerList:kt.value,markerMap:ge.value,classes:Mt.value,getStyle:fe})),Jt=Z(()=>{if(O.value!==0){const at=100*pt.value/O.value;return{...T.value,backgroundSize:a.vertical===!0?`2px ${at}%`:`${at}% 2px`}}return null});function Wt(at){if(at===!1)return null;if(at===!0)return dt.value.map(zw);if(typeof at=="function")return dt.value.map(te=>{const Yt=at(te);return xl(Yt)===!0?{...Yt,value:te}:{value:te,label:Yt}});const $t=({value:te})=>te>=a.min&&te<=a.max;return Array.isArray(at)===!0?at.map(te=>xl(te)===!0?te:{value:te}).filter($t):Object.keys(at).map(te=>{const Yt=at[te],me=Number(te);return xl(Yt)===!0?{...Yt,value:me}:{value:me,label:Yt}}).filter($t)}function fe(at){return{[N.value]:`${100*(at-a.min)/k.value}%`}}const ge=Z(()=>{if(a.markerLabels===!1)return null;const at={};return kt.value.forEach($t=>{at[$t.value]=$t}),at});function Fe(){if(u["marker-label-group"]!==void 0)return u["marker-label-group"](At.value);const at=u["marker-label"]||Lw;return kt.value.map($t=>at({marker:$t,...At.value}))}const nt=Z(()=>[[Eh,mt,void 0,{[H.value]:!0,prevent:!0,stop:!0,mouse:!0,mouseAllDir:!0}]]);function mt(at){at.isFinal===!0?(g.value!==void 0&&(e(at.evt),at.touch===!0&&t(!0),g.value=void 0,o("pan","end")),v.value=!1,p.value=!1):at.isFirst===!0?(g.value=r(at.evt),e(at.evt),t(),v.value=!0,o("pan","start")):(e(at.evt),t())}function Tt(){p.value=!1}function oe(at){e(at,r(at)),t(),h.value=!0,v.value=!0,document.addEventListener("mouseup",ne,!0)}function ne(){h.value=!1,v.value=!1,t(!0),Tt(),document.removeEventListener("mouseup",ne,!0)}function Vt(at){e(at,r(at)),t(!0)}function Lt(at){Mh.includes(at.keyCode)&&t(!0)}function ce(at){if(a.vertical===!0)return null;const $t=l.lang.rtl!==a.reverse?1-at:at;return{transform:`translateX(calc(${2*$t-1} * ${a.thumbSize} / 2 + ${50-100*$t}%))`}}function Ge(at){const $t=Z(()=>h.value===!1&&(p.value===at.focusValue||p.value==="both")?" q-slider--focus":""),te=Z(()=>`q-slider__thumb q-slider__thumb${b.value} q-slider__thumb${b.value}-${_.value===!0?"rtl":"ltr"} absolute non-selectable`+$t.value+(at.thumbColor.value!==void 0?` text-${at.thumbColor.value}`:"")),Yt=Z(()=>({width:a.thumbSize,height:a.thumbSize,[N.value]:`${100*at.ratio.value}%`,zIndex:p.value===at.focusValue?2:void 0})),me=Z(()=>at.labelColor.value!==void 0?` text-${at.labelColor.value}`:""),Zt=Z(()=>ce(at.ratio.value)),Ce=Z(()=>"q-slider__text"+(at.labelTextColor.value!==void 0?` text-${at.labelTextColor.value}`:""));return()=>{const qr=[it("svg",{class:"q-slider__thumb-shape absolute-full",viewBox:"0 0 20 20","aria-hidden":"true"},[it("path",{d:a.thumbPath})]),it("div",{class:"q-slider__focus-ring fit"})];return(a.label===!0||a.labelAlways===!0)&&(qr.push(it("div",{class:_t.value+" absolute fit no-pointer-events"+me.value},[it("div",{class:Ct.value,style:{minWidth:a.thumbSize}},[it("div",{class:gt.value,style:Zt.value},[it("span",{class:Ce.value},at.label.value)])])])),a.name!==void 0&&a.disable!==!0&&f(qr,"push")),it("div",{class:te.value,style:Yt.value,...at.getNodeData()},qr)}}function fr(at,$t,te,Yt){const me=[];a.innerTrackColor!=="transparent"&&me.push(it("div",{key:"inner",class:Et.value,style:T.value})),a.selectionColor!=="transparent"&&me.push(it("div",{key:"selection",class:X.value,style:at.value})),a.markers!==!1&&me.push(it("div",{key:"marker",class:Q.value,style:Jt.value})),Yt(me);const Zt=[Ks("div",{key:"trackC",class:lt.value,tabindex:$t.value,...te.value},[it("div",{class:yt.value,style:Dt.value},me)],"slide",w.value,()=>nt.value)];if(a.markerLabels!==!1){const Ce=a.switchMarkerLabelsSide===!0?"unshift":"push";Zt[Ce](it("div",{key:"markerL",class:vt.value},Fe()))}return Zt}return ii(()=>{document.removeEventListener("mouseup",ne,!0)}),{state:{active:v,focus:p,preventFocus:h,dragging:g,editable:w,classes:tt,tabindex:R,attributes:V,step:I,decimals:C,trackLen:k,innerMin:x,innerMinRatio:B,innerMax:E,innerMaxRatio:A,positionProp:N,sizeProp:L,isReversed:_},methods:{onActivate:oe,onMobileClick:Vt,onBlur:Tt,onKeyup:Lt,getContent:fr,getThumbRenderFn:Ge,convertRatioToModel:G,convertModelToRatio:U,getDraggingRatio:ut}}}const qw=()=>({});var Va=Ye({name:"QSlider",props:{...Fw,modelValue:{required:!0,default:null,validator:t=>typeof t=="number"||t===null},labelValue:[String,Number]},emits:Gw,setup(t,{emit:e}){const{proxy:{$q:r}}=lr(),{state:n,methods:a}=$w({updateValue:b,updatePosition:_,getDragging:y,formAttrs:Jx(t)}),o=Ft(null),u=Ft(0),l=Ft(0);function c(){l.value=t.modelValue===null?n.innerMin.value:Ua(t.modelValue,n.innerMin.value,n.innerMax.value)}He(()=>`${t.modelValue}|${n.innerMin.value}|${n.innerMax.value}`,c),c();const f=Z(()=>a.convertModelToRatio(l.value)),v=Z(()=>n.active.value===!0?u.value:f.value),h=Z(()=>{const w={[n.positionProp.value]:`${100*n.innerMinRatio.value}%`,[n.sizeProp.value]:`${100*(v.value-n.innerMinRatio.value)}%`};return t.selectionImg!==void 0&&(w.backgroundImage=`url(${t.selectionImg}) !important`),w}),p=a.getThumbRenderFn({focusValue:!0,getNodeData:qw,ratio:v,label:Z(()=>t.labelValue!==void 0?t.labelValue:l.value),thumbColor:Z(()=>t.thumbColor||t.color),labelColor:Z(()=>t.labelColor),labelTextColor:Z(()=>t.labelTextColor)}),g=Z(()=>n.editable.value!==!0?{}:r.platform.is.mobile===!0?{onClick:a.onMobileClick}:{onMousedown:a.onActivate,onFocus:x,onBlur:a.onBlur,onKeydown:E,onKeyup:a.onKeyup});function b(w){l.value!==t.modelValue&&e("update:modelValue",l.value),w===!0&&e("change",l.value)}function y(){return o.value.getBoundingClientRect()}function _(w,C=n.dragging.value){const I=a.getDraggingRatio(w,C);l.value=a.convertRatioToModel(I),u.value=t.snap!==!0||t.step===0?I:a.convertModelToRatio(l.value)}function x(){n.focus.value=!0}function E(w){if(!Mh.includes(w.keyCode))return;ln(w);const C=([34,33].includes(w.keyCode)?10:1)*n.step.value,I=([34,37,40].includes(w.keyCode)?-1:1)*(n.isReversed.value===!0?-1:1)*(t.vertical===!0?-1:1)*C;l.value=Ua(parseFloat((l.value+I).toFixed(n.decimals.value)),n.innerMin.value,n.innerMax.value),b()}return()=>{const w=a.getContent(h,n.tabindex,g,C=>{C.push(p())});return it("div",{ref:o,class:n.classes.value+(t.modelValue===null?" q-slider--no-value":""),...n.attributes.value,"aria-valuenow":t.modelValue},w)}}});let Dh=!1;{const t=document.createElement("div");t.setAttribute("dir","rtl"),Object.assign(t.style,{width:"1px",height:"1px",overflow:"auto"});const e=document.createElement("div");Object.assign(e.style,{width:"1000px",height:"1px"}),document.body.appendChild(t),t.appendChild(e),t.scrollLeft=-1e3,Dh=t.scrollLeft>=0,t.remove()}function Nw(t,e,r){const n=r===!0?["left","right"]:["top","bottom"];return`absolute-${e===!0?n[0]:n[1]}${t?` text-${t}`:""}`}const Ww=["left","center","right","justify"];var np=Ye({name:"QTabs",props:{modelValue:[Number,String],align:{type:String,default:"center",validator:t=>Ww.includes(t)},breakpoint:{type:[String,Number],default:600},vertical:Boolean,shrink:Boolean,stretch:Boolean,activeClass:String,activeColor:String,activeBgColor:String,indicatorColor:String,leftIcon:String,rightIcon:String,outsideArrows:Boolean,mobileArrows:Boolean,switchIndicator:Boolean,narrowIndicator:Boolean,inlineLabel:Boolean,noCaps:Boolean,dense:Boolean,contentClass:String,"onUpdate:modelValue":[Function,Array]},setup(t,{slots:e,emit:r}){const{proxy:n}=lr(),{$q:a}=n,{registerTick:o}=Ss(),{registerTick:u}=Ss(),{registerTick:l}=Ss(),{registerTimeout:c,removeTimeout:f}=Vl(),{registerTimeout:v,removeTimeout:h}=Vl(),p=Ft(null),g=Ft(null),b=Ft(t.modelValue),y=Ft(!1),_=Ft(!0),x=Ft(!1),E=Ft(!1),w=Z(()=>a.platform.is.desktop===!0||t.mobileArrows===!0),C=[],I=Ft(0),R=Ft(!1);let k,O,B,A=w.value===!0?gt:Rs;const N=Z(()=>({activeClass:t.activeClass,activeColor:t.activeColor,activeBgColor:t.activeBgColor,indicatorClass:Nw(t.indicatorColor,t.switchIndicator,t.vertical),narrowIndicator:t.narrowIndicator,inlineLabel:t.inlineLabel,noCaps:t.noCaps})),L=Z(()=>{const nt=I.value,mt=b.value;for(let Tt=0;Tt<nt;Tt++)if(C[Tt].name.value===mt)return!0;return!1}),z=Z(()=>`q-tabs__content--align-${y.value===!0?"left":E.value===!0?"justify":t.align}`),H=Z(()=>`q-tabs row no-wrap items-center q-tabs--${y.value===!0?"":"not-"}scrollable q-tabs--${t.vertical===!0?"vertical":"horizontal"} q-tabs__arrows--${w.value===!0&&t.outsideArrows===!0?"outside":"inside"}`+(t.dense===!0?" q-tabs--dense":"")+(t.shrink===!0?" col-shrink":"")+(t.stretch===!0?" self-stretch":"")),V=Z(()=>"q-tabs__content row no-wrap items-center self-stretch hide-scrollbar relative-position "+z.value+(t.contentClass!==void 0?` ${t.contentClass}`:"")+(a.platform.is.mobile===!0?" scroll":"")),tt=Z(()=>t.vertical===!0?{container:"height",content:"offsetHeight",scroll:"scrollHeight"}:{container:"width",content:"offsetWidth",scroll:"scrollWidth"}),J=Z(()=>t.vertical!==!0&&a.lang.rtl===!0),ot=Z(()=>Dh===!1&&J.value===!0);He(J,A),He(()=>t.modelValue,nt=>{X({name:nt,setCurrent:!0,skipEmit:!0})}),He(()=>t.outsideArrows,()=>{Q()}),He(w,nt=>{A=nt===!0?gt:Rs,Q()});function X({name:nt,setCurrent:mt,skipEmit:Tt,fromRoute:oe}){b.value!==nt&&(Tt!==!0&&t["onUpdate:modelValue"]!==void 0&&r("update:modelValue",nt),(mt===!0||t["onUpdate:modelValue"]===void 0)&&(_t(b.value,nt),b.value=nt))}function Q(){o(()=>{lt({width:p.value.offsetWidth,height:p.value.offsetHeight})})}function lt(nt){if(tt.value===void 0||g.value===null)return;const mt=nt[tt.value.container],Tt=Math.min(g.value[tt.value.scroll],Array.prototype.reduce.call(g.value.children,(ne,Vt)=>ne+(Vt[tt.value.content]||0),0)),oe=mt>0&&Tt>mt;y.value=oe,oe===!0&&u(A),E.value=mt<parseInt(t.breakpoint,10)}function _t(nt,mt){const Tt=nt!=null&&nt!==""?C.find(ne=>ne.name.value===nt):null,oe=mt!=null&&mt!==""?C.find(ne=>ne.name.value===mt):null;if(Tt&&oe){const ne=Tt.tabIndicatorRef.value,Vt=oe.tabIndicatorRef.value;clearTimeout(k),ne.style.transition="none",ne.style.transform="none",Vt.style.transition="none",Vt.style.transform="none";const Lt=ne.getBoundingClientRect(),ce=Vt.getBoundingClientRect();Vt.style.transform=t.vertical===!0?`translate3d(0,${Lt.top-ce.top}px,0) scale3d(1,${ce.height?Lt.height/ce.height:1},1)`:`translate3d(${Lt.left-ce.left}px,0,0) scale3d(${ce.width?Lt.width/ce.width:1},1,1)`,l(()=>{k=setTimeout(()=>{Vt.style.transition="transform .25s cubic-bezier(.4, 0, .2, 1)",Vt.style.transform="none"},70)})}oe&&y.value===!0&&Ct(oe.rootRef.value)}function Ct(nt){const{left:mt,width:Tt,top:oe,height:ne}=g.value.getBoundingClientRect(),Vt=nt.getBoundingClientRect();let Lt=t.vertical===!0?Vt.top-oe:Vt.left-mt;if(Lt<0){g.value[t.vertical===!0?"scrollTop":"scrollLeft"]+=Math.floor(Lt),A();return}Lt+=t.vertical===!0?Vt.height-ne:Vt.width-Tt,Lt>0&&(g.value[t.vertical===!0?"scrollTop":"scrollLeft"]+=Math.ceil(Lt),A())}function gt(){const nt=g.value;if(nt!==null){const mt=nt.getBoundingClientRect(),Tt=t.vertical===!0?nt.scrollTop:Math.abs(nt.scrollLeft);J.value===!0?(_.value=Math.ceil(Tt+mt.width)<nt.scrollWidth-1,x.value=Tt>0):(_.value=Tt>0,x.value=t.vertical===!0?Math.ceil(Tt+mt.height)<nt.scrollHeight:Math.ceil(Tt+mt.width)<nt.scrollWidth)}}function vt(nt){Et(),O=setInterval(()=>{U(nt)===!0&&Et()},5)}function yt(){vt(ot.value===!0?Number.MAX_SAFE_INTEGER:0)}function Dt(){vt(ot.value===!0?0:Number.MAX_SAFE_INTEGER)}function Et(){clearInterval(O)}function T(nt,mt){const Tt=Array.prototype.filter.call(g.value.children,ce=>ce===mt||ce.matches&&ce.matches(".q-tab.q-focusable")===!0),oe=Tt.length;if(oe===0)return;if(nt===36)return Ct(Tt[0]),Tt[0].focus(),!0;if(nt===35)return Ct(Tt[oe-1]),Tt[oe-1].focus(),!0;const ne=nt===(t.vertical===!0?38:37),Vt=nt===(t.vertical===!0?40:39),Lt=ne===!0?-1:Vt===!0?1:void 0;if(Lt!==void 0){const ce=J.value===!0?-1:1,Ge=Tt.indexOf(mt)+Lt*ce;return Ge>=0&&Ge<oe&&(Ct(Tt[Ge]),Tt[Ge].focus({preventScroll:!0})),!0}}const G=Z(()=>ot.value===!0?{get:nt=>Math.abs(nt.scrollLeft),set:(nt,mt)=>{nt.scrollLeft=-mt}}:t.vertical===!0?{get:nt=>nt.scrollTop,set:(nt,mt)=>{nt.scrollTop=mt}}:{get:nt=>nt.scrollLeft,set:(nt,mt)=>{nt.scrollLeft=mt}});function U(nt){const mt=g.value,{get:Tt,set:oe}=G.value;let ne=!1,Vt=Tt(mt);const Lt=nt<Vt?-1:1;return Vt+=Lt*5,Vt<0?(ne=!0,Vt=0):(Lt===-1&&Vt<=nt||Lt===1&&Vt>=nt)&&(ne=!0,Vt=nt),oe(mt,Vt),A(),ne}function ut(nt,mt){for(const Tt in nt)if(nt[Tt]!==mt[Tt])return!1;return!0}function pt(){let nt=null,mt={matchedLen:0,queryDiff:9999,hrefLen:0};const Tt=C.filter(Lt=>Lt.routeData!==void 0&&Lt.routeData.hasRouterLink.value===!0),{hash:oe,query:ne}=n.$route,Vt=Object.keys(ne).length;for(const Lt of Tt){const ce=Lt.routeData.exact.value===!0;if(Lt.routeData[ce===!0?"linkIsExactActive":"linkIsActive"].value!==!0)continue;const{hash:Ge,query:fr,matched:at,href:$t}=Lt.routeData.resolvedLink.value,te=Object.keys(fr).length;if(ce===!0){if(Ge!==oe||te!==Vt||ut(ne,fr)===!1)continue;nt=Lt.name.value;break}if(Ge!==""&&Ge!==oe||te!==0&&ut(fr,ne)===!1)continue;const Yt={matchedLen:at.length,queryDiff:Vt-te,hrefLen:$t.length-Ge.length};if(Yt.matchedLen>mt.matchedLen){nt=Lt.name.value,mt=Yt;continue}else if(Yt.matchedLen!==mt.matchedLen)continue;if(Yt.queryDiff<mt.queryDiff)nt=Lt.name.value,mt=Yt;else if(Yt.queryDiff!==mt.queryDiff)continue;Yt.hrefLen>mt.hrefLen&&(nt=Lt.name.value,mt=Yt)}nt===null&&C.some(Lt=>Lt.routeData===void 0&&Lt.name.value===b.value)===!0||X({name:nt,setCurrent:!0})}function dt(nt){if(f(),R.value!==!0&&p.value!==null&&nt.target&&typeof nt.target.closest=="function"){const mt=nt.target.closest(".q-tab");mt&&p.value.contains(mt)===!0&&(R.value=!0,y.value===!0&&Ct(mt))}}function Mt(){c(()=>{R.value=!1},30)}function kt(){fe.avoidRouteWatcher===!1?v(pt):h()}function At(){if(B===void 0){const nt=He(()=>n.$route.fullPath,kt);B=()=>{nt(),B=void 0}}}function Jt(nt){C.push(nt),I.value++,Q(),nt.routeData===void 0||n.$route===void 0?v(()=>{if(y.value===!0){const mt=b.value,Tt=mt!=null&&mt!==""?C.find(oe=>oe.name.value===mt):null;Tt&&Ct(Tt.rootRef.value)}}):(At(),nt.routeData.hasRouterLink.value===!0&&kt())}function Wt(nt){C.splice(C.indexOf(nt),1),I.value--,Q(),B!==void 0&&nt.routeData!==void 0&&(C.every(mt=>mt.routeData===void 0)===!0&&B(),kt())}const fe={currentModel:b,tabProps:N,hasFocus:R,hasActiveTab:L,registerTab:Jt,unregisterTab:Wt,verifyRouteModel:kt,updateModel:X,onKbdNavigate:T,avoidRouteWatcher:!1};tw(yh,fe);function ge(){clearTimeout(k),Et(),B!==void 0&&B()}let Fe;return ii(ge),ew(()=>{Fe=B!==void 0,ge()}),rw(()=>{Fe===!0&&At(),Q()}),()=>{const nt=[it(_w,{onResize:lt}),it("div",{ref:g,class:V.value,onScroll:A},Gr(e.default))];return w.value===!0&&nt.push(it(Ar,{class:"q-tabs__arrow q-tabs__arrow--left absolute q-tab__icon"+(_.value===!0?"":" q-tabs__arrow--faded"),name:t.leftIcon||a.iconSet.tabs[t.vertical===!0?"up":"left"],onMousedownPassive:yt,onTouchstartPassive:yt,onMouseupPassive:Et,onMouseleavePassive:Et,onTouchendPassive:Et}),it(Ar,{class:"q-tabs__arrow q-tabs__arrow--right absolute q-tab__icon"+(x.value===!0?"":" q-tabs__arrow--faded"),name:t.rightIcon||a.iconSet.tabs[t.vertical===!0?"down":"right"],onMousedownPassive:Dt,onTouchstartPassive:Dt,onMouseupPassive:Et,onMouseleavePassive:Et,onTouchendPassive:Et})),it("div",{ref:p,class:H.value,role:"tablist",onFocusin:dt,onFocusout:Mt},nt)}}});let Vw=0;const Hw=["click","keydown"],Yw={icon:String,label:[Number,String],alert:[Boolean,String],alertIcon:String,name:{type:[Number,String],default:()=>`t_${Vw++}`},noCaps:Boolean,tabindex:[String,Number],disable:Boolean,contentClass:String,ripple:{type:[Boolean,Object],default:!0}};function Xw(t,e,r,n){const a=ks(yh,Cn);if(a===Cn)return console.error("QTab/QRouteTab component needs to be child of QTabs"),Cn;const{proxy:o}=lr(),u=Ft(null),l=Ft(null),c=Ft(null),f=Z(()=>t.disable===!0||t.ripple===!1?!1:Object.assign({keyCodes:[13,32],early:!0},t.ripple===!0?{}:t.ripple)),v=Z(()=>a.currentModel.value===t.name),h=Z(()=>"q-tab relative-position self-stretch flex flex-center text-center"+(v.value===!0?" q-tab--active"+(a.tabProps.value.activeClass?" "+a.tabProps.value.activeClass:"")+(a.tabProps.value.activeColor?` text-${a.tabProps.value.activeColor}`:"")+(a.tabProps.value.activeBgColor?` bg-${a.tabProps.value.activeBgColor}`:""):" q-tab--inactive")+(t.icon&&t.label&&a.tabProps.value.inlineLabel===!1?" q-tab--full":"")+(t.noCaps===!0||a.tabProps.value.noCaps===!0?" q-tab--no-caps":"")+(t.disable===!0?" disabled":" q-focusable q-hoverable cursor-pointer")+(n!==void 0?n.linkClass.value:"")),p=Z(()=>"q-tab__content self-stretch flex-center relative-position q-anchor--skip non-selectable "+(a.tabProps.value.inlineLabel===!0?"row no-wrap q-tab__content--inline":"column")+(t.contentClass!==void 0?` ${t.contentClass}`:"")),g=Z(()=>t.disable===!0||a.hasFocus.value===!0||v.value===!1&&a.hasActiveTab.value===!0?-1:t.tabindex||0);function b(w,C){if(C!==!0&&u.value!==null&&u.value.focus(),t.disable===!0){n!==void 0&&n.hasRouterLink.value===!0&&ln(w);return}if(n===void 0){a.updateModel({name:t.name}),r("click",w);return}if(n.hasRouterLink.value===!0){const I=(R={})=>{let k;const O=R.to===void 0||iw(R.to,t.to)===!0?a.avoidRouteWatcher=hh():null;return n.navigateToRouterLink(w,{...R,returnRouterError:!0}).catch(B=>{k=B}).then(B=>{if(O===a.avoidRouteWatcher&&(a.avoidRouteWatcher=!1,k===void 0&&(B===void 0||B.message.startsWith("Avoided redundant navigation")===!0)&&a.updateModel({name:t.name})),R.returnRouterError===!0)return k!==void 0?Promise.reject(k):B})};r("click",w,I),w.defaultPrevented!==!0&&I();return}r("click",w)}function y(w){Us(w,[13,32])?b(w,!0):nw(w)!==!0&&w.keyCode>=35&&w.keyCode<=40&&w.altKey!==!0&&w.metaKey!==!0&&a.onKbdNavigate(w.keyCode,o.$el)===!0&&ln(w),r("keydown",w)}function _(){const w=a.tabProps.value.narrowIndicator,C=[],I=it("div",{ref:c,class:["q-tab__indicator",a.tabProps.value.indicatorClass]});t.icon!==void 0&&C.push(it(Ar,{class:"q-tab__icon",name:t.icon})),t.label!==void 0&&C.push(it("div",{class:"q-tab__label"},t.label)),t.alert!==!1&&C.push(t.alertIcon!==void 0?it(Ar,{class:"q-tab__alert-icon",color:t.alert!==!0?t.alert:void 0,name:t.alertIcon}):it("div",{class:"q-tab__alert"+(t.alert!==!0?` text-${t.alert}`:"")})),w===!0&&C.push(I);const R=[it("div",{class:"q-focus-helper",tabindex:-1,ref:u}),it("div",{class:p.value},aw(e.default,C))];return w===!1&&R.push(I),R}const x={name:Z(()=>t.name),rootRef:l,tabIndicatorRef:c,routeData:n};ii(()=>{a.unregisterTab(x)}),Ki(()=>{a.registerTab(x)});function E(w,C){const I={ref:l,class:h.value,tabindex:g.value,role:"tab","aria-selected":v.value===!0?"true":"false","aria-disabled":t.disable===!0?"true":void 0,onClick:b,onKeydown:y,...C};return Br(it(w,I,_()),[[Rf,f.value]])}return{renderTab:E,$tabs:a}}var Ri=Ye({name:"QTab",props:Yw,emits:Hw,setup(t,{slots:e,emit:r}){const{renderTab:n}=Xw(t,e,r);return()=>n("div")}});function Uw(t){const e=[.06,6,50];return typeof t=="string"&&t.length&&t.split(":").forEach((r,n)=>{const a=parseFloat(r);a&&(e[n]=a)}),e}var Kw=kf({name:"touch-swipe",beforeMount(t,{value:e,arg:r,modifiers:n}){if(n.mouse!==!0&&Zr.has.touch!==!0)return;const a=n.mouseCapture===!0?"Capture":"",o={handler:e,sensitivity:Uw(r),direction:Bs(n),noop:Rs,mouseStart(u){Ps(u,o)&&gh(u)&&(un(o,"temp",[[document,"mousemove","move",`notPassive${a}`],[document,"mouseup","end","notPassiveCapture"]]),o.start(u,!0))},touchStart(u){if(Ps(u,o)){const l=u.target;un(o,"temp",[[l,"touchmove","move","notPassiveCapture"],[l,"touchcancel","end","notPassiveCapture"],[l,"touchend","end","notPassiveCapture"]]),o.start(u)}},start(u,l){Zr.is.firefox===!0&&Qa(t,!0);const c=ha(u);o.event={x:c.left,y:c.top,time:Date.now(),mouse:l===!0,dir:!1}},move(u){if(o.event===void 0)return;if(o.event.dir!==!1){ln(u);return}const l=Date.now()-o.event.time;if(l===0)return;const c=ha(u),f=c.left-o.event.x,v=Math.abs(f),h=c.top-o.event.y,p=Math.abs(h);if(o.event.mouse!==!0){if(v<o.sensitivity[1]&&p<o.sensitivity[1]){o.end(u);return}}else if(v<o.sensitivity[2]&&p<o.sensitivity[2])return;const g=v/l,b=p/l;o.direction.vertical===!0&&v<p&&v<100&&b>o.sensitivity[0]&&(o.event.dir=h<0?"up":"down"),o.direction.horizontal===!0&&v>p&&p<100&&g>o.sensitivity[0]&&(o.event.dir=f<0?"left":"right"),o.direction.up===!0&&v<p&&h<0&&v<100&&b>o.sensitivity[0]&&(o.event.dir="up"),o.direction.down===!0&&v<p&&h>0&&v<100&&b>o.sensitivity[0]&&(o.event.dir="down"),o.direction.left===!0&&v>p&&f<0&&p<100&&g>o.sensitivity[0]&&(o.event.dir="left"),o.direction.right===!0&&v>p&&f>0&&p<100&&g>o.sensitivity[0]&&(o.event.dir="right"),o.event.dir!==!1?(ln(u),o.event.mouse===!0&&(document.body.classList.add("no-pointer-events--children"),document.body.classList.add("non-selectable"),If(),o.styleCleanup=y=>{o.styleCleanup=void 0,document.body.classList.remove("non-selectable");const _=()=>{document.body.classList.remove("no-pointer-events--children")};y===!0?setTimeout(_,50):_()}),o.handler({evt:u,touch:o.event.mouse!==!0,mouse:o.event.mouse,direction:o.event.dir,duration:l,distance:{x:v,y:p}})):o.end(u)},end(u){o.event!==void 0&&(va(o,"temp"),Zr.is.firefox===!0&&Qa(t,!1),o.styleCleanup!==void 0&&o.styleCleanup(!0),u!==void 0&&o.event.dir!==!1&&ln(u),o.event=void 0)}};if(t.__qtouchswipe=o,n.mouse===!0){const u=n.mouseCapture===!0||n.mousecapture===!0?"Capture":"";un(o,"main",[[t,"mousedown","mouseStart",`passive${u}`]])}Zr.has.touch===!0&&un(o,"main",[[t,"touchstart","touchStart",`passive${n.capture===!0?"Capture":""}`],[t,"touchmove","noop","notPassiveCapture"]])},updated(t,e){const r=t.__qtouchswipe;r!==void 0&&(e.oldValue!==e.value&&(typeof e.value!="function"&&r.end(),r.handler=e.value),r.direction=Bs(e.modifiers))},beforeUnmount(t){const e=t.__qtouchswipe;e!==void 0&&(va(e,"main"),va(e,"temp"),Zr.is.firefox===!0&&Qa(t,!1),e.styleCleanup!==void 0&&e.styleCleanup(),delete t.__qtouchswipe)}});function Th(){const t=new Map;return{getCache:function(e,r){return t[e]===void 0?t[e]=r:t[e]},getCacheWithFn:function(e,r){return t[e]===void 0?t[e]=r():t[e]}}}const jw={name:{required:!0},disable:Boolean},ap={setup(t,{slots:e}){return()=>it("div",{class:"q-panel scroll",role:"tabpanel"},Gr(e.default))}},Zw={modelValue:{required:!0},animated:Boolean,infinite:Boolean,swipeable:Boolean,vertical:Boolean,transitionPrev:String,transitionNext:String,transitionDuration:{type:[String,Number],default:300},keepAlive:Boolean,keepAliveInclude:[String,Array,RegExp],keepAliveExclude:[String,Array,RegExp],keepAliveMax:Number},Qw=["update:modelValue","before-transition","transition"];function Jw(){const{props:t,emit:e,proxy:r}=lr(),{getCacheWithFn:n}=Th();let a,o;const u=Ft(null),l=Ft(null);function c(z){const H=t.vertical===!0?"up":"left";k((r.$q.lang.rtl===!0?-1:1)*(z.direction===H?1:-1))}const f=Z(()=>[[Kw,c,void 0,{horizontal:t.vertical!==!0,vertical:t.vertical,mouse:!0}]]),v=Z(()=>t.transitionPrev||`slide-${t.vertical===!0?"down":"right"}`),h=Z(()=>t.transitionNext||`slide-${t.vertical===!0?"up":"left"}`),p=Z(()=>`--q-transition-duration: ${t.transitionDuration}ms`),g=Z(()=>typeof t.modelValue=="string"||typeof t.modelValue=="number"?t.modelValue:String(t.modelValue)),b=Z(()=>({include:t.keepAliveInclude,exclude:t.keepAliveExclude,max:t.keepAliveMax})),y=Z(()=>t.keepAliveInclude!==void 0||t.keepAliveExclude!==void 0);He(()=>t.modelValue,(z,H)=>{const V=w(z)===!0?C(z):-1;o!==!0&&R(V===-1?0:V<C(H)?-1:1),u.value!==V&&(u.value=V,e("before-transition",z,H),Ts(()=>{e("transition",z,H)}))});function _(){k(1)}function x(){k(-1)}function E(z){e("update:modelValue",z)}function w(z){return z!=null&&z!==""}function C(z){return a.findIndex(H=>H.props.name===z&&H.props.disable!==""&&H.props.disable!==!0)}function I(){return a.filter(z=>z.props.disable!==""&&z.props.disable!==!0)}function R(z){const H=z!==0&&t.animated===!0&&u.value!==-1?"q-transition--"+(z===-1?v.value:h.value):null;l.value!==H&&(l.value=H)}function k(z,H=u.value){let V=H+z;for(;V>-1&&V<a.length;){const tt=a[V];if(tt!==void 0&&tt.props.disable!==""&&tt.props.disable!==!0){R(z),o=!0,e("update:modelValue",tt.props.name),setTimeout(()=>{o=!1});return}V+=z}t.infinite===!0&&a.length>0&&H!==-1&&H!==a.length&&k(z,z===-1?a.length:-1)}function O(){const z=C(t.modelValue);return u.value!==z&&(u.value=z),!0}function B(){const z=w(t.modelValue)===!0&&O()&&a[u.value];return t.keepAlive===!0?[it(sw,b.value,[it(y.value===!0?n(g.value,()=>({...ap,name:g.value})):ap,{key:g.value,style:p.value},()=>z)])]:[it("div",{class:"q-panel scroll",style:p.value,key:g.value,role:"tabpanel"},[z])]}function A(){if(a.length!==0)return t.animated===!0?[it(ph,{name:l.value},B)]:B()}function N(z){return a=ow(Gr(z.default,[])).filter(H=>H.props!==null&&H.props.slot===void 0&&w(H.props.name)===!0),a.length}function L(){return a}return Object.assign(r,{next:_,previous:x,goTo:E}),{panelIndex:u,panelDirectives:f,updatePanelsList:N,updatePanelIndex:O,getPanelContent:A,getEnabledPanels:I,getPanels:L,isValidPanelName:w,keepAliveProps:b,needsUniqueKeepAliveWrapper:y,goToPanelByOffset:k,goToPanel:E,nextPanel:_,previousPanel:x}}var tC=Ye({name:"QTabPanels",props:{...Zw,...ya},emits:Qw,setup(t,{slots:e}){const r=lr(),n=_a(t,r.proxy.$q),{updatePanelsList:a,getPanelContent:o,panelDirectives:u}=Jw(),l=Z(()=>"q-tab-panels q-panel-parent"+(n.value===!0?" q-tab-panels--dark q-dark":""));return()=>(a(e),Ks("div",{class:l.value},o(),"pan",t.swipeable,()=>u.value))}}),El=Ye({name:"QTabPanel",props:jw,setup(t,{slots:e}){return()=>it("div",{class:"q-tab-panel",role:"tabpanel"},Gr(e.default))}});const eC=/^rgb(a)?\((\d{1,3}),(\d{1,3}),(\d{1,3}),?([01]?\.?\d*?)?\)$/;function ip({r:t,g:e,b:r,a:n}){const a=n!==void 0;if(t=Math.round(t),e=Math.round(e),r=Math.round(r),t>255||e>255||r>255||a&&n>100)throw new TypeError("Expected 3 numbers below 256 (and optionally one below 100)");return n=a?(Math.round(255*n/100)|1<<8).toString(16).slice(1):"","#"+(r|e<<8|t<<16|1<<24).toString(16).slice(1)+n}function op({r:t,g:e,b:r,a:n}){return`rgb${n!==void 0?"a":""}(${t},${e},${r}${n!==void 0?","+n/100:""})`}function Rh(t){if(typeof t!="string")throw new TypeError("Expected a string");t=t.replace(/^#/,""),t.length===3?t=t[0]+t[0]+t[1]+t[1]+t[2]+t[2]:t.length===4&&(t=t[0]+t[0]+t[1]+t[1]+t[2]+t[2]+t[3]+t[3]);const e=parseInt(t,16);return t.length>6?{r:e>>24&255,g:e>>16&255,b:e>>8&255,a:Math.round((e&255)/2.55)}:{r:e>>16,g:e>>8&255,b:e&255}}function sp({h:t,s:e,v:r,a:n}){let a,o,u;e=e/100,r=r/100,t=t/360;const l=Math.floor(t*6),c=t*6-l,f=r*(1-e),v=r*(1-c*e),h=r*(1-(1-c)*e);switch(l%6){case 0:a=r,o=h,u=f;break;case 1:a=v,o=r,u=f;break;case 2:a=f,o=r,u=h;break;case 3:a=f,o=v,u=r;break;case 4:a=h,o=f,u=r;break;case 5:a=r,o=f,u=v;break}return{r:Math.round(a*255),g:Math.round(o*255),b:Math.round(u*255),a:n}}function Ml({r:t,g:e,b:r,a:n}){const a=Math.max(t,e,r),o=Math.min(t,e,r),u=a-o,l=a===0?0:u/a,c=a/255;let f;switch(a){case o:f=0;break;case t:f=e-r+u*(e<r?6:0),f/=6*u;break;case e:f=r-t+u*2,f/=6*u;break;case r:f=t-e+u*4,f/=6*u;break}return{h:Math.round(f*360),s:Math.round(l*100),v:Math.round(c*100),a:n}}function kh(t){if(typeof t!="string")throw new TypeError("Expected a string");const e=t.replace(/ /g,""),r=eC.exec(e);if(r===null)return Rh(e);const n={r:Math.min(255,parseInt(r[2],10)),g:Math.min(255,parseInt(r[3],10)),b:Math.min(255,parseInt(r[4],10))};if(r[1]){const a=parseFloat(r[5]);n.a=Math.min(1,isNaN(a)===!0?1:a)*100}return n}function rC(t){if(typeof t!="string"&&(!t||t.r===void 0))throw new TypeError("Expected a string or a {r, g, b} object as color");const e=typeof t=="string"?kh(t):t,r=e.r/255,n=e.g/255,a=e.b/255,o=r<=.03928?r/12.92:Math.pow((r+.055)/1.055,2.4),u=n<=.03928?n/12.92:Math.pow((n+.055)/1.055,2.4),l=a<=.03928?a/12.92:Math.pow((a+.055)/1.055,2.4);return .2126*o+.7152*u+.0722*l}const nC=["rgb(255,204,204)","rgb(255,230,204)","rgb(255,255,204)","rgb(204,255,204)","rgb(204,255,230)","rgb(204,255,255)","rgb(204,230,255)","rgb(204,204,255)","rgb(230,204,255)","rgb(255,204,255)","rgb(255,153,153)","rgb(255,204,153)","rgb(255,255,153)","rgb(153,255,153)","rgb(153,255,204)","rgb(153,255,255)","rgb(153,204,255)","rgb(153,153,255)","rgb(204,153,255)","rgb(255,153,255)","rgb(255,102,102)","rgb(255,179,102)","rgb(255,255,102)","rgb(102,255,102)","rgb(102,255,179)","rgb(102,255,255)","rgb(102,179,255)","rgb(102,102,255)","rgb(179,102,255)","rgb(255,102,255)","rgb(255,51,51)","rgb(255,153,51)","rgb(255,255,51)","rgb(51,255,51)","rgb(51,255,153)","rgb(51,255,255)","rgb(51,153,255)","rgb(51,51,255)","rgb(153,51,255)","rgb(255,51,255)","rgb(255,0,0)","rgb(255,128,0)","rgb(255,255,0)","rgb(0,255,0)","rgb(0,255,128)","rgb(0,255,255)","rgb(0,128,255)","rgb(0,0,255)","rgb(128,0,255)","rgb(255,0,255)","rgb(245,0,0)","rgb(245,123,0)","rgb(245,245,0)","rgb(0,245,0)","rgb(0,245,123)","rgb(0,245,245)","rgb(0,123,245)","rgb(0,0,245)","rgb(123,0,245)","rgb(245,0,245)","rgb(214,0,0)","rgb(214,108,0)","rgb(214,214,0)","rgb(0,214,0)","rgb(0,214,108)","rgb(0,214,214)","rgb(0,108,214)","rgb(0,0,214)","rgb(108,0,214)","rgb(214,0,214)","rgb(163,0,0)","rgb(163,82,0)","rgb(163,163,0)","rgb(0,163,0)","rgb(0,163,82)","rgb(0,163,163)","rgb(0,82,163)","rgb(0,0,163)","rgb(82,0,163)","rgb(163,0,163)","rgb(92,0,0)","rgb(92,46,0)","rgb(92,92,0)","rgb(0,92,0)","rgb(0,92,46)","rgb(0,92,92)","rgb(0,46,92)","rgb(0,0,92)","rgb(46,0,92)","rgb(92,0,92)","rgb(255,255,255)","rgb(205,205,205)","rgb(178,178,178)","rgb(153,153,153)","rgb(127,127,127)","rgb(102,102,102)","rgb(76,76,76)","rgb(51,51,51)","rgb(25,25,25)","rgb(0,0,0)"],up="M5 5 h10 v10 h-10 v-10 z",aC="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAAICAYAAADED76LAAAAH0lEQVQoU2NkYGAwZkAFZ5G5jPRRgOYEVDeB3EBjBQBOZwTVugIGyAAAAABJRU5ErkJggg==";var iC=Ye({name:"QColor",props:{...ya,...mh,modelValue:String,defaultValue:String,defaultView:{type:String,default:"spectrum",validator:t=>["spectrum","tune","palette"].includes(t)},formatModel:{type:String,default:"auto",validator:t=>["auto","hex","rgb","hexa","rgba"].includes(t)},palette:Array,noHeader:Boolean,noHeaderTabs:Boolean,noFooter:Boolean,square:Boolean,flat:Boolean,bordered:Boolean,disable:Boolean,readonly:Boolean},emits:["update:modelValue","change"],setup(t,{emit:e}){const{proxy:r}=lr(),{$q:n}=r,a=_a(t,n),{getCache:o}=Th(),u=Ft(null),l=Ft(null),c=Z(()=>t.formatModel==="auto"?null:t.formatModel.indexOf("hex")>-1),f=Z(()=>t.formatModel==="auto"?null:t.formatModel.indexOf("a")>-1),v=Ft(t.formatModel==="auto"?t.modelValue===void 0||t.modelValue===null||t.modelValue===""||t.modelValue.startsWith("#")?"hex":"rgb":t.formatModel.startsWith("hex")?"hex":"rgb"),h=Ft(t.defaultView),p=Ft(L(t.modelValue||t.defaultValue)),g=Z(()=>t.disable!==!0&&t.readonly!==!0),b=Z(()=>t.modelValue===void 0||t.modelValue===null||t.modelValue===""||t.modelValue.startsWith("#")),y=Z(()=>c.value!==null?c.value:b.value),_=Z(()=>({type:"hidden",name:t.name,value:p.value[y.value===!0?"hex":"rgb"]})),x=bh(_),E=Z(()=>f.value!==null?f.value:p.value.a!==void 0),w=Z(()=>({backgroundColor:p.value.rgb||"#000"})),C=Z(()=>`q-color-picker__header-content q-color-picker__header-content--${(p.value.a!==void 0&&p.value.a<65?!0:rC(p.value)>.4)?"light":"dark"}`),I=Z(()=>({background:`hsl(${p.value.h},100%,50%)`})),R=Z(()=>({top:`${100-p.value.v}%`,[n.lang.rtl===!0?"right":"left"]:`${p.value.s}%`})),k=Z(()=>t.palette!==void 0&&t.palette.length>0?t.palette:nC),O=Z(()=>"q-color-picker"+(t.bordered===!0?" q-color-picker--bordered":"")+(t.square===!0?" q-color-picker--square no-border-radius":"")+(t.flat===!0?" q-color-picker--flat no-shadow":"")+(t.disable===!0?" disabled":"")+(a.value===!0?" q-color-picker--dark q-dark":"")),B=Z(()=>t.disable===!0?{"aria-disabled":"true"}:t.readonly===!0?{"aria-readonly":"true"}:{}),A=Z(()=>[[Eh,ot,void 0,{prevent:!0,stop:!0,mouse:!0}]]);He(()=>t.modelValue,T=>{const G=L(T||t.defaultValue);G.hex!==p.value.hex&&(p.value=G)}),He(()=>t.defaultValue,T=>{if(!t.modelValue&&T){const G=L(T);G.hex!==p.value.hex&&(p.value=G)}});function N(T,G){p.value.hex=ip(T),p.value.rgb=op(T),p.value.r=T.r,p.value.g=T.g,p.value.b=T.b,p.value.a=T.a;const U=p.value[y.value===!0?"hex":"rgb"];e("update:modelValue",U),G===!0&&e("change",U)}function L(T){const G=f.value!==void 0?f.value:t.formatModel==="auto"?null:t.formatModel.indexOf("a")>-1;if(typeof T!="string"||T.length===0||uw.anyColor(T.replace(/ /g,""))!==!0)return{h:0,s:0,v:0,r:0,g:0,b:0,a:G===!0?100:void 0,hex:void 0,rgb:void 0};const U=kh(T);return G===!0&&U.a===void 0&&(U.a=100),U.hex=ip(U),U.rgb=op(U),Object.assign(U,Ml(U))}function z(T,G,U){const ut=u.value;if(ut===null)return;const pt=ut.clientWidth,dt=ut.clientHeight,Mt=ut.getBoundingClientRect();let kt=Math.min(pt,Math.max(0,T-Mt.left));n.lang.rtl===!0&&(kt=pt-kt);const At=Math.min(dt,Math.max(0,G-Mt.top)),Jt=Math.round(100*kt/pt),Wt=Math.round(100*Math.max(0,Math.min(1,-(At/dt)+1))),fe=sp({h:p.value.h,s:Jt,v:Wt,a:E.value===!0?p.value.a:void 0});p.value.s=Jt,p.value.v=Wt,N(fe,U)}function H(T,G){const U=Math.round(T),ut=sp({h:U,s:p.value.s,v:p.value.v,a:E.value===!0?p.value.a:void 0});p.value.h=U,N(ut,G)}function V(T,G,U,ut,pt){if(ut!==void 0&&Kr(ut),!/^[0-9]+$/.test(T)){pt===!0&&r.$forceUpdate();return}const dt=Math.floor(Number(T));if(dt<0||dt>U){pt===!0&&r.$forceUpdate();return}const Mt={r:G==="r"?dt:p.value.r,g:G==="g"?dt:p.value.g,b:G==="b"?dt:p.value.b,a:E.value===!0?G==="a"?dt:p.value.a:void 0};if(G!=="a"){const kt=Ml(Mt);p.value.h=kt.h,p.value.s=kt.s,p.value.v=kt.v}if(N(Mt,pt),ut!==void 0&&pt!==!0&&ut.target.selectionEnd!==void 0){const kt=ut.target.selectionEnd;Ts(()=>{ut.target.setSelectionRange(kt,kt)})}}function tt(T,G){let U;const ut=T.target.value;if(Kr(T),v.value==="hex"){if(ut.length!==(E.value===!0?9:7)||!/^#[0-9A-Fa-f]+$/.test(ut))return!0;U=Rh(ut)}else{let dt;if(ut.endsWith(")"))if(E.value!==!0&&ut.startsWith("rgb(")){if(dt=ut.substring(4,ut.length-1).split(",").map(Mt=>parseInt(Mt,10)),dt.length!==3||!/^rgb\([0-9]{1,3},[0-9]{1,3},[0-9]{1,3}\)$/.test(ut))return!0}else if(E.value===!0&&ut.startsWith("rgba(")){if(dt=ut.substring(5,ut.length-1).split(","),dt.length!==4||!/^rgba\([0-9]{1,3},[0-9]{1,3},[0-9]{1,3},(0|0\.[0-9]+[1-9]|0\.[1-9]+|1)\)$/.test(ut))return!0;for(let kt=0;kt<3;kt++){const At=parseInt(dt[kt],10);if(At<0||At>255)return!0;dt[kt]=At}const Mt=parseFloat(dt[3]);if(Mt<0||Mt>1)return!0;dt[3]=Mt}else return!0;else return!0;if(dt[0]<0||dt[0]>255||dt[1]<0||dt[1]>255||dt[2]<0||dt[2]>255||E.value===!0&&(dt[3]<0||dt[3]>1))return!0;U={r:dt[0],g:dt[1],b:dt[2],a:E.value===!0?dt[3]*100:void 0}}const pt=Ml(U);if(p.value.h=pt.h,p.value.s=pt.s,p.value.v=pt.v,N(U,G),G!==!0){const dt=T.target.selectionEnd;Ts(()=>{T.target.setSelectionRange(dt,dt)})}}function J(T){const G=L(T),U={r:G.r,g:G.g,b:G.b,a:G.a};U.a===void 0&&(U.a=p.value.a),p.value.h=G.h,p.value.s=G.s,p.value.v=G.v,N(U,!0)}function ot(T){T.isFinal?z(T.position.left,T.position.top,!0):X(T)}const X=lw(T=>{z(T.position.left,T.position.top)},20);function Q(T){z(T.pageX-window.pageXOffset,T.pageY-window.pageYOffset,!0)}function lt(T){z(T.pageX-window.pageXOffset,T.pageY-window.pageYOffset)}function _t(T){l.value!==null&&(l.value.$el.style.opacity=T?1:0)}function Ct(){const T=[];return t.noHeaderTabs!==!0&&T.push(it(np,{class:"q-color-picker__header-tabs",modelValue:v.value,dense:!0,align:"justify",...o("topVTab",{"onUpdate:modelValue":G=>{v.value=G}})},()=>[it(Ri,{label:"HEX"+(E.value===!0?"A":""),name:"hex",ripple:!1}),it(Ri,{label:"RGB"+(E.value===!0?"A":""),name:"rgb",ripple:!1})])),T.push(it("div",{class:"q-color-picker__header-banner row flex-center no-wrap"},[it("input",{class:"fit",value:p.value[v.value],...g.value!==!0?{readonly:!0}:{},...o("topIn",{onInput:G=>{_t(tt(G)===!0)},onChange:Kr,onBlur:G=>{tt(G,!0)===!0&&r.$forceUpdate(),_t(!1)}})}),it(Ar,{ref:l,class:"q-color-picker__error-icon absolute no-pointer-events",name:n.iconSet.type.negative})])),it("div",{class:"q-color-picker__header relative-position overflow-hidden"},[it("div",{class:"q-color-picker__header-bg absolute-full"}),it("div",{class:C.value,style:w.value},T)])}function gt(){return it(tC,{modelValue:h.value,animated:!0},()=>[it(El,{class:"q-color-picker__spectrum-tab overflow-hidden",name:"spectrum"},yt),it(El,{class:"q-pa-md q-color-picker__tune-tab",name:"tune"},Dt),it(El,{class:"q-color-picker__palette-tab",name:"palette"},Et)])}function vt(){return it("div",{class:"q-color-picker__footer relative-position overflow-hidden"},[it(np,{class:"absolute-full",modelValue:h.value,dense:!0,align:"justify",...o("ftIn",{"onUpdate:modelValue":T=>{h.value=T}})},()=>[it(Ri,{icon:n.iconSet.colorPicker.spectrum,name:"spectrum",ripple:!1}),it(Ri,{icon:n.iconSet.colorPicker.tune,name:"tune",ripple:!1}),it(Ri,{icon:n.iconSet.colorPicker.palette,name:"palette",ripple:!1})])])}function yt(){const T={ref:u,class:"q-color-picker__spectrum non-selectable relative-position cursor-pointer"+(g.value!==!0?" readonly":""),style:I.value,...g.value===!0?{onClick:Q,onMousedown:lt}:{}},G=[it("div",{style:{paddingBottom:"100%"}}),it("div",{class:"q-color-picker__spectrum-white absolute-full"}),it("div",{class:"q-color-picker__spectrum-black absolute-full"}),it("div",{class:"absolute",style:R.value},[p.value.hex!==void 0?it("div",{class:"q-color-picker__spectrum-circle"}):null])],U=[it(Va,{class:"q-color-picker__hue non-selectable",modelValue:p.value.h,min:0,max:360,trackSize:"8px",innerTrackColor:"transparent",selectionColor:"transparent",readonly:g.value!==!0,thumbPath:up,"onUpdate:modelValue":H,...o("lazyhue",{onChange:ut=>H(ut,!0)})})];return E.value===!0&&U.push(it(Va,{class:"q-color-picker__alpha non-selectable",modelValue:p.value.a,min:0,max:100,trackSize:"8px",trackColor:"white",innerTrackColor:"transparent",selectionColor:"transparent",trackImg:aC,readonly:g.value!==!0,hideSelection:!0,thumbPath:up,...o("alphaSlide",{"onUpdate:modelValue":ut=>V(ut,"a",100),onChange:ut=>V(ut,"a",100,void 0,!0)})})),[Ks("div",T,G,"spec",g.value,()=>A.value),it("div",{class:"q-color-picker__sliders"},U)]}function Dt(){return[it("div",{class:"row items-center no-wrap"},[it("div","R"),it(Va,{modelValue:p.value.r,min:0,max:255,color:"red",dark:a.value,readonly:g.value!==!0,...o("rSlide",{"onUpdate:modelValue":T=>V(T,"r",255),onChange:T=>V(T,"r",255,void 0,!0)})}),it("input",{value:p.value.r,maxlength:3,readonly:g.value!==!0,onChange:Kr,...o("rIn",{onInput:T=>V(T.target.value,"r",255,T),onBlur:T=>V(T.target.value,"r",255,T,!0)})})]),it("div",{class:"row items-center no-wrap"},[it("div","G"),it(Va,{modelValue:p.value.g,min:0,max:255,color:"green",dark:a.value,readonly:g.value!==!0,...o("gSlide",{"onUpdate:modelValue":T=>V(T,"g",255),onChange:T=>V(T,"g",255,void 0,!0)})}),it("input",{value:p.value.g,maxlength:3,readonly:g.value!==!0,onChange:Kr,...o("gIn",{onInput:T=>V(T.target.value,"g",255,T),onBlur:T=>V(T.target.value,"g",255,T,!0)})})]),it("div",{class:"row items-center no-wrap"},[it("div","B"),it(Va,{modelValue:p.value.b,min:0,max:255,color:"blue",readonly:g.value!==!0,dark:a.value,...o("bSlide",{"onUpdate:modelValue":T=>V(T,"b",255),onChange:T=>V(T,"b",255,void 0,!0)})}),it("input",{value:p.value.b,maxlength:3,readonly:g.value!==!0,onChange:Kr,...o("bIn",{onInput:T=>V(T.target.value,"b",255,T),onBlur:T=>V(T.target.value,"b",255,T,!0)})})]),E.value===!0?it("div",{class:"row items-center no-wrap"},[it("div","A"),it(Va,{modelValue:p.value.a,color:"grey",readonly:g.value!==!0,dark:a.value,...o("aSlide",{"onUpdate:modelValue":T=>V(T,"a",100),onChange:T=>V(T,"a",100,void 0,!0)})}),it("input",{value:p.value.a,maxlength:3,readonly:g.value!==!0,onChange:Kr,...o("aIn",{onInput:T=>V(T.target.value,"a",100,T),onBlur:T=>V(T.target.value,"a",100,T,!0)})})]):null]}function Et(){const T=G=>it("div",{class:"q-color-picker__cube col-auto",style:{backgroundColor:G},...g.value===!0?o("palette#"+G,{onClick:()=>{J(G)}}):{}});return[it("div",{class:"row items-center q-color-picker__palette-rows"+(g.value===!0?" q-color-picker__palette-rows--editable":"")},k.value.map(T))]}return()=>{const T=[gt()];return t.name!==void 0&&t.disable!==!0&&x(T,"push"),t.noHeader!==!0&&T.unshift(Ct()),t.noFooter!==!0&&T.push(vt()),it("div",{class:O.value,...B.value},T)}}}),oC=Ye({name:"QPopupProxy",props:{...Sh,breakpoint:{type:[String,Number],default:450}},emits:["show","hide"],setup(t,{slots:e,emit:r,attrs:n}){const{proxy:a}=lr(),{$q:o}=a,u=Ft(!1),l=Ft(null),c=Z(()=>parseInt(t.breakpoint,10)),{canShow:f}=xh({showing:u});function v(){return o.screen.width<c.value||o.screen.height<c.value?"dialog":"menu"}const h=Ft(v()),p=Z(()=>h.value==="menu"?{maxHeight:"99vh"}:{});He(()=>v(),y=>{u.value!==!0&&(h.value=y)});function g(y){u.value=!0,r("show",y)}function b(y){u.value=!1,h.value=v(),r("hide",y)}return Object.assign(a,{show(y){f(y)===!0&&l.value.show(y)},hide(y){l.value.hide(y)},toggle(y){l.value.toggle(y)}}),()=>{const y={ref:l,...p.value,...n,onShow:g,onHide:b};let _;return h.value==="dialog"?_=fw:(_=Of,Object.assign(y,{target:t.target,contextMenu:t.contextMenu,noParentEvent:!0,separateClosePopup:!0})),it(_,y,e.default)}}}),sC=Ye({name:"QPage",props:{padding:Boolean,styleFn:Function},setup(t,{slots:e}){const{proxy:{$q:r}}=lr(),n=ks(cw,Cn);if(n===Cn)return console.error("QPage needs to be a deep child of QLayout"),Cn;if(ks(dw,Cn)===Cn)return console.error("QPage needs to be child of QPageContainer"),Cn;const o=Z(()=>{const l=(n.header.space===!0?n.header.size:0)+(n.footer.space===!0?n.footer.size:0);if(typeof t.styleFn=="function"){const c=n.isContainer.value===!0?n.containerHeight.value:r.screen.height;return t.styleFn(l,c)}return{minHeight:n.isContainer.value===!0?n.containerHeight.value-l+"px":r.screen.height===0?l!==0?`calc(100vh - ${l}px)`:"100vh":r.screen.height-l+"px"}}),u=Z(()=>`q-page${t.padding===!0?" q-layout-padding":""}`);return()=>it("main",{class:u.value,style:o.value},Gr(e.default))}});function lp(t){if(t===!1)return 0;if(t===!0||t===void 0)return 1;const e=parseInt(t,10);return isNaN(e)?0:e}var sn=kf({name:"close-popup",beforeMount(t,{value:e}){const r={depth:lp(e),handler(n){r.depth!==0&&setTimeout(()=>{const a=vw(t);a!==void 0&&pw(a,n,r.depth)})},handlerKey(n){Us(n,13)===!0&&r.handler(n)}};t.__qclosepopup=r,t.addEventListener("click",r.handler),t.addEventListener("keyup",r.handlerKey)},updated(t,{value:e,oldValue:r}){e!==r&&(t.__qclosepopup.depth=lp(e))},beforeUnmount(t){const e=t.__qclosepopup;t.removeEventListener("click",e.handler),t.removeEventListener("keyup",e.handlerKey),delete t.__qclosepopup}});function uC(){return ks(hw)}function lC(t){for(var e=[],r=1;r<arguments.length;r++)e[r-1]=arguments[r];return e.map(function(n){return n.split(" ").map(function(a){return a?""+t+a:""}).join(" ")}).join(" ")}function fC(t,e){return e.replace(/([^}{]*){/gm,function(r,n){return n.replace(/\.([^{,\s\d.]+)/g,"."+t+"$1")+"{"})}function fn(t,e){return function(r){r&&(t[e]=r)}}function Ih(t,e,r){return function(n){n&&(t[e][r]=n)}}function Yl(t,e){return function(r){var n=r.prototype;t.forEach(function(a){e(n,a)})}}function cC(t,e){return e===void 0&&(e={}),function(r,n){t.forEach(function(a){var o=e[a]||a;o in r||(r[o]=function(){for(var u,l=[],c=0;c<arguments.length;c++)l[c]=arguments[c];var f=(u=this[n])[a].apply(u,l);return f===this[n]?this:f})})}}var dC=function(){function t(){this.keys=[],this.values=[]}var e=t.prototype;return e.get=function(r){return this.values[this.keys.indexOf(r)]},e.set=function(r,n){var a=this.keys,o=this.values,u=a.indexOf(r),l=u===-1?a.length:u;a[l]=r,o[l]=n},t}(),vC=function(){function t(){this.object={}}var e=t.prototype;return e.get=function(r){return this.object[r]},e.set=function(r,n){this.object[r]=n},t}(),pC=typeof Map=="function",hC=function(){function t(){}var e=t.prototype;return e.connect=function(r,n){this.prev=r,this.next=n,r&&(r.next=this),n&&(n.prev=this)},e.disconnect=function(){var r=this.prev,n=this.next;r&&(r.next=n),n&&(n.prev=r)},e.getIndex=function(){for(var r=this,n=-1;r;)r=r.prev,++n;return n},t}();function gC(t,e){var r=[],n=[];return t.forEach(function(a){var o=a[0],u=a[1],l=new hC;r[o]=l,n[u]=l}),r.forEach(function(a,o){a.connect(r[o-1])}),t.filter(function(a,o){return!e[o]}).map(function(a,o){var u=a[0],l=a[1];if(u===l)return[0,0];var c=r[u],f=n[l-1],v=c.getIndex();c.disconnect(),f?c.connect(f,f.next):c.connect(void 0,r[0]);var h=c.getIndex();return[v,h]})}var mC=function(){function t(r,n,a,o,u,l,c,f){this.prevList=r,this.list=n,this.added=a,this.removed=o,this.changed=u,this.maintained=l,this.changedBeforeAdded=c,this.fixed=f}var e=t.prototype;return Object.defineProperty(e,"ordered",{get:function(){return this.cacheOrdered||this.caculateOrdered(),this.cacheOrdered},enumerable:!0,configurable:!0}),Object.defineProperty(e,"pureChanged",{get:function(){return this.cachePureChanged||this.caculateOrdered(),this.cachePureChanged},enumerable:!0,configurable:!0}),e.caculateOrdered=function(){var r=gC(this.changedBeforeAdded,this.fixed),n=this.changed,a=[];this.cacheOrdered=r.filter(function(o,u){var l=o[0],c=o[1],f=n[u],v=f[0],h=f[1];if(l!==c)return a.push([v,h]),!0}),this.cachePureChanged=a},t}();function Qi(t,e,r){var n=pC?Map:r?vC:dC,a=r||function(E){return E},o=[],u=[],l=[],c=t.map(a),f=e.map(a),v=new n,h=new n,p=[],g=[],b={},y=[],_=0,x=0;return c.forEach(function(E,w){v.set(E,w)}),f.forEach(function(E,w){h.set(E,w)}),c.forEach(function(E,w){var C=h.get(E);typeof C=="undefined"?(++x,u.push(w)):b[C]=x}),f.forEach(function(E,w){var C=v.get(E);typeof C=="undefined"?(o.push(w),++_):(l.push([C,w]),x=b[w]||0,p.push([C-x,w-_]),g.push(w===C),C!==w&&y.push([C,w]))}),u.reverse(),new mC(t,e,o,u,y,l,p,g)}var bC=function(){function t(r,n){r===void 0&&(r=[]),this.findKeyCallback=n,this.list=[].slice.call(r)}var e=t.prototype;return e.update=function(r){var n=[].slice.call(r),a=Qi(this.list,n,this.findKeyCallback);return this.list=n,a},t}(),yC="function",_C="object",SC="string",xC="number",Oh="undefined",Bh=typeof window!==Oh,wC=[{open:"(",close:")"},{open:'"',close:'"'},{open:"'",close:"'"},{open:'\\"',close:'\\"'},{open:"\\'",close:"\\'"}],Ae=1e-7,ss={cm:function(t){return t*96/2.54},mm:function(t){return t*96/254},in:function(t){return t*96},pt:function(t){return t*96/72},pc:function(t){return t*96/6},"%":function(t,e){return t*e/100},vw:function(t,e){return e===void 0&&(e=window.innerWidth),t/100*e},vh:function(t,e){return e===void 0&&(e=window.innerHeight),t/100*e},vmax:function(t,e){return e===void 0&&(e=Math.max(window.innerWidth,window.innerHeight)),t/100*e},vmin:function(t,e){return e===void 0&&(e=Math.min(window.innerWidth,window.innerHeight)),t/100*e}};/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */function CC(){for(var t=0,e=0,r=arguments.length;e<r;e++)t+=arguments[e].length;for(var n=Array(t),a=0,e=0;e<r;e++)for(var o=arguments[e],u=0,l=o.length;u<l;u++,a++)n[a]=o[u];return n}function sa(t,e,r,n){return(t*n+e*r)/(r+n)}function oi(t){return typeof t===Oh}function tn(t){return t&&typeof t===_C}function Le(t){return Array.isArray(t)}function sr(t){return typeof t===SC}function Xl(t){return typeof t===xC}function Ph(t){return typeof t===yC}function EC(t,e){var r=t===""||t==" ",n=e===""||e==" ";return n&&r||t===e}function Ah(t,e,r,n,a){var o=Pf(t,e,r);return o?r:MC(t,e,r+1,n,a)}function Pf(t,e,r){if(!t.ignore)return null;var n=e.slice(Math.max(r-3,0),r+3).join("");return new RegExp(t.ignore).exec(n)}function MC(t,e,r,n,a){for(var o=function(f){var v=e[f].trim();if(v===t.close&&!Pf(t,e,f))return{value:f};var h=f,p=Mn(a,function(g){var b=g.open;return b===v});if(p&&(h=Ah(p,e,f,n,a)),h===-1)return u=f,"break";f=h,u=f},u,l=r;l<n;++l){var c=o(l);if(l=u,typeof c=="object")return c.value;if(c==="break")break}return-1}function Af(t,e){var r=sr(e)?{separator:e}:e,n=r.separator,a=n===void 0?",":n,o=r.isSeparateFirst,u=r.isSeparateOnlyOpenClose,l=r.isSeparateOpenClose,c=l===void 0?u:l,f=r.openCloseCharacters,v=f===void 0?wC:f,h=v.map(function(k){var O=k.open,B=k.close;return O===B?O:O+"|"+B}).join("|"),p="(\\s*"+a+"\\s*|"+h+"|\\s+)",g=new RegExp(p,"g"),b=t.split(g).filter(Boolean),y=b.length,_=[],x=[];function E(){return x.length?(_.push(x.join("")),x=[],!0):!1}for(var w=function(k){var O=b[k].trim(),B=k,A=Mn(v,function(z){var H=z.open;return H===O}),N=Mn(v,function(z){var H=z.close;return H===O});if(A){if(B=Ah(A,b,k,y,v),B!==-1&&c)return E()&&o||(_.push(b.slice(k,B+1).join("")),k=B,o)?(C=k,"break"):(C=k,"continue")}else if(N&&!Pf(N,b,k)){var L=CC(v);return L.splice(v.indexOf(N),1),{value:Af(t,{separator:a,isSeparateFirst:o,isSeparateOnlyOpenClose:u,isSeparateOpenClose:c,openCloseCharacters:L})}}else if(EC(O,a)&&!u)return E(),o?(C=k,"break"):(C=k,"continue");B===-1&&(B=y-1),x.push(b.slice(k,B+1).join("")),k=B,C=k},C,I=0;I<y;++I){var R=w(I);if(I=C,typeof R=="object")return R.value;if(R==="break")break}return x.length&&_.push(x.join("")),_}function Wn(t){return Af(t,"")}function da(t){return Af(t,",")}function zh(t){var e=/([^(]*)\(([\s\S]*)\)([\s\S]*)/g.exec(t);return!e||e.length<4?{}:{prefix:e[1],value:e[2],suffix:e[3]}}function si(t){var e=/^([^\d|e|\-|\+]*)((?:\d|\.|-|e-|e\+)+)(\S*)$/g.exec(t);if(!e)return{prefix:"",unit:"",value:NaN};var r=e[1],n=e[2],a=e[3];return{prefix:r,unit:a,value:parseFloat(n)}}function Ul(t){return t.replace(/[\s-_]([a-z])/g,function(e,r){return r.toUpperCase()})}function xs(t,e){return e===void 0&&(e="-"),t.replace(/([a-z])([A-Z])/g,function(r,n,a){return""+n+e+a.toLowerCase()})}function As(){return Date.now?Date.now():new Date().getTime()}function Vn(t,e,r){r===void 0&&(r=-1);for(var n=t.length,a=0;a<n;++a)if(e(t[a],a,t))return a;return r}function Mn(t,e,r){var n=Vn(t,e);return n>-1?t[n]:r}var Lh=function(){var t=As(),e=Bh&&(window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.msRequestAnimationFrame);return e?e.bind(window):function(r){var n=As(),a=window.setTimeout(function(){r(n-t)},1e3/60);return a}}(),DC=function(){var t=Bh&&(window.cancelAnimationFrame||window.webkitCancelAnimationFrame||window.mozCancelAnimationFrame||window.msCancelAnimationFrame);return t?t.bind(window):function(e){clearTimeout(e)}}();function ui(t){return Object.keys(t)}function Me(t,e){var r=si(t),n=r.value,a=r.unit;if(tn(e)){var o=e[a];if(o){if(Ph(o))return o(n);if(ss[a])return ss[a](n,o)}}else if(a==="%")return n*e/100;return ss[a]?ss[a](n):n}function zs(t,e,r){return Math.max(e,Math.min(t,r))}function fp(t,e,r,n){return n===void 0&&(n=t[0]/t[1]),[[re(e[0],Ae),re(e[0]/n,Ae)],[re(e[1]*n,Ae),re(e[1],Ae)]].filter(function(a){return a.every(function(o,u){var l=e[u],c=re(l,Ae);return r?o<=l||o<=c:o>=l||o>=c})})[0]||t}function Fh(t,e,r,n){if(!n)return t.map(function(g,b){return zs(g,e[b],r[b])});var a=t[0],o=t[1],u=n===!0?a/o:n,l=fp(t,e,!1,u),c=l[0],f=l[1],v=fp(t,r,!0,u),h=v[0],p=v[1];return a<c||o<f?(a=c,o=f):(a>h||o>p)&&(a=h,o=p),[a,o]}function TC(t){for(var e=t.length,r=0,n=e-1;n>=0;--n)r+=t[n];return r}function Kl(t){for(var e=t.length,r=0,n=e-1;n>=0;--n)r+=t[n];return e?r/e:0}function ke(t,e){var r=e[0]-t[0],n=e[1]-t[1],a=Math.atan2(n,r);return a>=0?a:a+Math.PI*2}function RC(t){return[0,1].map(function(e){return Kl(t.map(function(r){return r[e]}))})}function jl(t){var e=RC(t),r=ke(e,t[0]),n=ke(e,t[1]);return r<n&&n-r<Math.PI||r>n&&n-r<-Math.PI?1:-1}function Qr(t,e){return Math.sqrt(Math.pow((e?e[0]:0)-t[0],2)+Math.pow((e?e[1]:0)-t[1],2))}function re(t,e){if(!e)return t;var r=1/e;return Math.round(t/e)/r}function us(t,e){return t.forEach(function(r,n){t[n]=re(t[n],e)}),t}function ze(t,e){return t.classList?t.classList.contains(e):!!t.className.match(new RegExp("(\\s|^)"+e+"(\\s|$)"))}function zf(t,e){t.classList?t.classList.add(e):t.className+=" "+e}function Gh(t,e){if(t.classList)t.classList.remove(e);else{var r=new RegExp("(\\s|^)"+e+"(\\s|$)");t.className=t.className.replace(r," ")}}function je(t,e,r,n){t.addEventListener(e,r,n)}function We(t,e,r,n){t.removeEventListener(e,r,n)}/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */var Zl=function(t,e){return Zl=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var a in n)n.hasOwnProperty(a)&&(r[a]=n[a])},Zl(t,e)};function Sa(t,e){Zl(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var $n=function(){return $n=Object.assign||function(e){for(var r,n=1,a=arguments.length;n<a;n++){r=arguments[n];for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(e[o]=r[o])}return e},$n.apply(this,arguments)};function $h(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,n=Object.getOwnPropertySymbols(t);a<n.length;a++)e.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(t,n[a])&&(r[n[a]]=t[n[a]]);return r}function kC(){for(var t=0,e=0,r=arguments.length;e<r;e++)t+=arguments[e].length;for(var n=Array(t),a=0,e=0;e<r;e++)for(var o=arguments[e],u=0,l=o.length;u<l;u++,a++)n[a]=o[u];return n}function Ql(t,e){if(t===e)return!1;for(var r in t)if(!(r in e))return!0;for(var r in e)if(t[r]!==e[r])return!0;return!1}function Lf(t,e){var r=Object.keys(t),n=Object.keys(e),a=Qi(r,n,function(c){return c}),o={},u={},l={};return a.added.forEach(function(c){var f=n[c];o[f]=e[f]}),a.removed.forEach(function(c){var f=r[c];u[f]=t[f]}),a.maintained.forEach(function(c){var f=c[0],v=r[f],h=[t[v],e[v]];t[v]!==e[v]&&(l[v]=h)}),{added:o,removed:u,changed:l}}function qh(t){t.forEach(function(e){e()})}function cp(t){var e=0;return t.map(function(r){return r==null?"$compat"+ ++e:""+r})}function dp(t,e,r,n){if(sr(t)||Xl(t))return new PC("text_"+t,e,r,n,null,{});var a=typeof t.type=="string"?AC:t.type.prototype.render?LC:zC;return new a(t.type,e,r,n,t.ref,t.props)}function Nh(t){var e=[];return t.forEach(function(r){e=e.concat(Le(r)?Nh(r):r)}),e}function vp(t){var e=t.className,r=$h(t,["className"]);return e!=null&&(r.class=e),delete r.style,delete r.children,r}function Dl(t,e){if(!e)return t;for(var r in e)oi(t[r])&&(t[r]=e[r]);return t}function zr(t,e){for(var r=[],n=2;n<arguments.length;n++)r[n-2]=arguments[n];var a=e||{},o=a.key,u=a.ref,l=$h(a,["key","ref"]);return{type:t,key:o,ref:u,props:$n($n({},l),{children:Nh(r).filter(function(c){return c!=null&&c!==!1})})}}var Ji=function(){function t(r,n,a,o,u,l){l===void 0&&(l={}),this.type=r,this.key=n,this.index=a,this.container=o,this.ref=u,this.props=l,this._providers=[]}var e=t.prototype;return e._should=function(r,n){return!0},e._update=function(r,n,a,o){if(this.base&&!sr(n)&&!o&&!this._should(n.props,a))return!1;this.original=n,this._setState(a);var u=this.props;return sr(n)||(this.props=n.props,this.ref=n.ref),this._render(r,this.base?u:{},a),!0},e._mounted=function(){var r=this.ref;r&&r(this.base)},e._setState=function(r){},e._updated=function(){var r=this.ref;r&&r(this.base)},e._destroy=function(){var r=this.ref;r&&r(null)},t}();function IC(t,e,r){var n=Lf(t,e),a=n.added,o=n.removed,u=n.changed;for(var l in a)r.setAttribute(l,a[l]);for(var l in u)r.setAttribute(l,u[l][1]);for(var l in o)r.removeAttribute(l)}function OC(t,e,r){var n=Lf(t,e),a=n.added,o=n.removed,u=n.changed;for(var l in o)r.removeEventListener(l);for(var l in a)r.addEventListener(l,a[l]);for(var l in u)r.removeEventListener(l),r.addEventListener(l,u[l][1]);for(var l in o)r.removeEventListener(l)}function BC(t,e,r){var n=r.style,a=Lf(t,e),o=a.added,u=a.removed,l=a.changed;for(var c in o){var f=xs(c,"-");n.setProperty?n.setProperty(f,o[c]):n[f]=o[c]}for(var c in l){var f=xs(c,"-");n.setProperty?n.setProperty(f,l[c][1]):n[f]=l[c][1]}for(var c in u){var f=xs(c,"-");n.removeProperty?n.removeProperty(f):n[f]=""}}function pp(t){var e={},r={};for(var n in t)n.indexOf("on")===0?r[n.replace("on","").toLowerCase()]=t[n]:e[n]=t[n];return{attributes:e,events:r}}var PC=function(t){Sa(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}var r=e.prototype;return r._render=function(n){var a=this,o=!this.base;return o&&(this.base=document.createTextNode(this.type.replace("text_",""))),n.push(function(){o?a._mounted():a._updated()}),!0},r._unmount=function(){this.base.parentNode.removeChild(this.base)},e}(Ji),AC=function(t){Sa(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.events={},n._isSVG=!1,n}var r=e.prototype;return r.addEventListener=function(n,a){var o=this.events;o[n]=function(u){u.nativeEvent=u,a(u)},this.base.addEventListener(n,o[n])},r.removeEventListener=function(n){var a=this.events;this.base.removeEventListener(n,a[n]),delete a[n]},r._should=function(n){return Ql(this.props,n)},r._render=function(n,a){var o=this,u=!this.base;if(u){var l=this._hasSVG();this._isSVG=l;var c=this.props.portalContainer;if(!c){var f=this.type;l?c=document.createElementNS("http://www.w3.org/2000/svg",f):c=document.createElement(f)}this.base=c}to(this,this._providers,this.props.children,n,null);var v=this.base,h=pp(a),p=h.attributes,g=h.events,b=pp(this.props),y=b.attributes,_=b.events;return IC(vp(p),vp(y),v),OC(g,_,this),BC(a.style||{},this.props.style||{},v),n.push(function(){u?o._mounted():o._updated()}),!0},r._unmount=function(){var n=this.events,a=this.base;for(var o in n)a.removeEventListener(o,n[o]);this._providers.forEach(function(u){u._unmount()}),this.events={},this.props.portalContainer||a.parentNode.removeChild(a)},r._hasSVG=function(){if(this._isSVG||this.type==="svg")return!0;var n=Ff(this.container);return n&&"ownerSVGElement"in n},e}(Ji);function Ff(t){if(!t)return null;var e=t.base;return e instanceof Node?e:Ff(t.container)}function Vi(t){if(!t)return null;if(t instanceof Node)return t;var e=t.$_provider._providers;return e.length?Vi(e[0].base):null}var zC=function(t){Sa(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}var r=e.prototype;return r._render=function(n){var a=this.type(this.props);return to(this,this._providers,a?[a]:[],n),!0},r._unmount=function(){this._providers.forEach(function(n){n._unmount()})},e}(Ji),Wh=function(t){Sa(e,t);function e(n){var a=t.call(this,"container","container",0,null)||this;return a.base=n,a}var r=e.prototype;return r._render=function(){return!0},r._unmount=function(){},e}(Ji),LC=function(t){Sa(e,t);function e(n,a,o,u,l,c){return c===void 0&&(c={}),t.call(this,n,a,o,u,l,Dl(c,n.defaultProps))||this}var r=e.prototype;return r._should=function(n,a){return this.base.shouldComponentUpdate(Dl(n,this.type.defaultProps),a||this.base.state)},r._render=function(n,a){var o=this;this.props=Dl(this.props,this.type.defaultProps);var u=!this.base;u?(this.base=new this.type(this.props),this.base.$_provider=this):this.base.props=this.props;var l=this.base,c=l.state,f=l.render();f&&f.props&&!f.props.children.length&&(f.props.children=this.props.children),to(this,this._providers,f?[f]:[],n),n.push(function(){u?(o._mounted(),l.componentDidMount()):(o._updated(),l.componentDidUpdate(a,c))})},r._setState=function(n){var a=this.base;!a||!n||(a.state=n)},r._unmount=function(){this._providers.forEach(function(n){n._unmount()}),clearTimeout(this.base.$_timer),this.base.componentWillUnmount()},e}(Ji),Gf=function(){function t(r){r===void 0&&(r={}),this.props=r,this.state={},this.$_timer=0,this.$_state={}}var e=t.prototype;return e.shouldComponentUpdate=function(r,n){return!0},e.render=function(){return null},e.setState=function(r,n,a){var o=this;this.$_timer||(this.$_state={}),clearTimeout(this.$_timer),this.$_timer=0,this.$_state=$n($n({},this.$_state),r),a?this.$_setState(n,a):this.$_timer=setTimeout(function(){o.$_timer=0,o.$_setState(n,a)})},e.forceUpdate=function(r){this.setState({},r,!0)},e.componentDidMount=function(){},e.componentDidUpdate=function(r,n){},e.componentWillUnmount=function(){},e.$_setState=function(r,n){var a=[],o=this.$_provider,u=to(o.container,[o],[o.original],a,$n($n({},this.state),this.$_state),n);u&&(r&&a.push(r),qh(a))},t}(),$f=function(t){Sa(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}var r=e.prototype;return r.shouldComponentUpdate=function(n,a){return Ql(this.props,n)||Ql(this.state,a)},e}(Gf),FC=function(t){Sa(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}var r=e.prototype;return r.componentDidMount=function(){var n=this.props,a=n.element,o=n.container;this._portalProvider=new Wh(o),ws(a,o,this._portalProvider)},r.componentDidUpdate=function(){var n=this.props,a=n.element,o=n.container;ws(a,o,this._portalProvider)},r.componentWillUnmount=function(){var n=this.props.container;ws(null,n,this._portalProvider),this._portalProvider=null},e}($f);function GC(t,e,r){var n=[];to(t,t._providers,e,n,r),qh(n)}function $C(t,e){for(var r=t._providers,n=r.length,a=e.index+1;a<n;++a){var o=Vi(r[a].base);if(o)return o}return null}function qC(t,e,r){var n=r.map(function(c){return sr(c)?null:c.key}),a=cp(e.map(function(c){return c.key})),o=cp(n),u=Qi(a,o,function(c){return c});u.removed.forEach(function(c){e.splice(c,1)[0]._unmount()}),u.ordered.forEach(function(c){var f=c[0],v=c[1],h=e.splice(f,1)[0];e.splice(v,0,h);var p=Vi(h.base),g=Vi(e[v+1]&&e[v+1].base);p&&p.parentNode.insertBefore(p,g)}),u.added.forEach(function(c){e.splice(c,0,dp(r[c],n[c],c,t))});var l=u.maintained.filter(function(c){c[0];var f=c[1],v=r[f],h=e[f],p=sr(v)?"text_"+v:v.type;return p!==h.type?(h._unmount(),e.splice(f,1,dp(v,n[f],f,t)),!0):(h.index=f,!1)});return kC(u.added,l.map(function(c){c[0];var f=c[1];return f}))}function to(t,e,r,n,a,o){var u=qC(t,e,r),l=e.filter(function(f,v){return f._update(n,r[v],a,o)}),c=Ff(t);return c&&u.reverse().forEach(function(f){var v=e[f],h=Vi(v.base);if(!!h&&c!==h&&!h.parentNode){var p=$C(t,v);c.insertBefore(h,p)}}),l.length>0}function ws(t,e,r){r===void 0&&(r=e.__REACT_COMPAT__);var n=!!r;return r||(r=new Wh(e)),GC(r,t?[t]:[]),n||(e.__REACT_COMPAT__=r),r}function hp(t,e,r){var n=e.__REACT_COMPAT__;t&&!n&&(e.innerHTML=""),ws(t,e,n),r&&r()}function NC(t,e){return zr(FC,{element:t,container:e})}var WC="simple-1.1.0";function qf(t,e){for(var r=t.length,n=0;n<r;++n)if(e(t[n],n))return!0;return!1}function Vh(t,e){for(var r=t.length,n=0;n<r;++n)if(e(t[n],n))return t[n];return null}function Hh(t){var e=t;if(typeof e=="undefined"){if(typeof navigator=="undefined"||!navigator)return"";e=navigator.userAgent||""}return e.toLowerCase()}function Nf(t,e){try{return new RegExp(t,"g").exec(e)}catch{return null}}function VC(){if(typeof navigator=="undefined"||!navigator||!navigator.userAgentData)return!1;var t=navigator.userAgentData,e=t.brands||t.uaList;return!!(e&&e.length)}function HC(t,e){var r=Nf("("+t+")((?:\\/|\\s|:)([0-9|\\.|_]+))",e);return r?r[3]:""}function Jl(t){return t.replace(/_/g,".")}function Bi(t,e){var r=null,n="-1";return qf(t,function(a){var o=Nf("("+a.test+")((?:\\/|\\s|:)([0-9|\\.|_]+))?",e);return!o||a.brand?!1:(r=a,n=o[3]||"-1",a.versionAlias?n=a.versionAlias:a.versionTest&&(n=HC(a.versionTest.toLowerCase(),e)||n),n=Jl(n),!0)}),{preset:r,version:n}}function ki(t,e){var r={brand:"",version:"-1"};return qf(t,function(n){var a=Yh(e,n);return a?(r.brand=n.id,r.version=n.versionAlias||a.version,r.version!=="-1"):!1}),r}function Yh(t,e){return Vh(t,function(r){var n=r.brand;return Nf(""+e.test,n.toLowerCase())})}var tf=[{test:"phantomjs",id:"phantomjs"},{test:"whale",id:"whale"},{test:"edgios|edge|edg",id:"edge"},{test:"msie|trident|windows phone",id:"ie",versionTest:"iemobile|msie|rv"},{test:"miuibrowser",id:"miui browser"},{test:"samsungbrowser",id:"samsung internet"},{test:"samsung",id:"samsung internet",versionTest:"version"},{test:"chrome|crios",id:"chrome"},{test:"firefox|fxios",id:"firefox"},{test:"android",id:"android browser",versionTest:"version"},{test:"safari|iphone|ipad|ipod",id:"safari",versionTest:"version"}],Xh=[{test:"(?=.*applewebkit/(53[0-7]|5[0-2]|[0-4]))(?=.*\\schrome)",id:"chrome",versionTest:"chrome"},{test:"chromium",id:"chrome"},{test:"whale",id:"chrome",versionAlias:"-1",brand:!0}],ef=[{test:"applewebkit",id:"webkit",versionTest:"applewebkit|safari"}],Uh=[{test:"(?=(iphone|ipad))(?!(.*version))",id:"webview"},{test:"(?=(android|iphone|ipad))(?=.*(naver|daum|; wv))",id:"webview"},{test:"webview",id:"webview"}],Kh=[{test:"windows phone",id:"windows phone"},{test:"windows 2000",id:"window",versionAlias:"5.0"},{test:"windows nt",id:"window"},{test:"win32|windows",id:"window"},{test:"iphone|ipad|ipod",id:"ios",versionTest:"iphone os|cpu os"},{test:"macos|macintel|mac os x",id:"mac"},{test:"android|linux armv81",id:"android"},{test:"tizen",id:"tizen"},{test:"webos|web0s",id:"webos"}];function jh(t){return!!Bi(Uh,t).preset}function YC(t){var e=Hh(t),r=!!/mobi/g.exec(e),n={name:"unknown",version:"-1",majorVersion:-1,webview:jh(e),chromium:!1,chromiumVersion:"-1",webkit:!1,webkitVersion:"-1"},a={name:"unknown",version:"-1",majorVersion:-1},o=Bi(tf,e),u=o.preset,l=o.version,c=Bi(Kh,e),f=c.preset,v=c.version,h=Bi(Xh,e);if(n.chromium=!!h.preset,n.chromiumVersion=h.version,!n.chromium){var p=Bi(ef,e);n.webkit=!!p.preset,n.webkitVersion=p.version}return f&&(a.name=f.id,a.version=v,a.majorVersion=parseInt(v,10)),u&&(n.name=u.id,n.version=l,n.webview&&a.name==="ios"&&n.name!=="safari"&&(n.webview=!1)),n.majorVersion=parseInt(n.version,10),{browser:n,os:a,isMobile:r,isHints:!1}}function XC(t){var e=navigator.userAgentData,r=(e.uaList||e.brands).slice(),n=t&&t.fullVersionList,a=e.mobile||!1,o=r[0],u=(t&&t.platform||e.platform||navigator.platform).toLowerCase(),l={name:o.brand,version:o.version,majorVersion:-1,webkit:!1,webkitVersion:"-1",chromium:!1,chromiumVersion:"-1",webview:!!ki(Uh,r).brand||jh(Hh())},c={name:"unknown",version:"-1",majorVersion:-1};l.webkit=!l.chromium&&qf(ef,function(b){return Yh(r,b)});var f=ki(Xh,r);if(l.chromium=!!f.brand,l.chromiumVersion=f.version,!l.chromium){var v=ki(ef,r);l.webkit=!!v.brand,l.webkitVersion=v.version}var h=Vh(Kh,function(b){return new RegExp(""+b.test,"g").exec(u)});if(c.name=h?h.id:"",t&&(c.version=t.platformVersion),n&&n.length){var p=ki(tf,n);l.name=p.brand||l.name,l.version=p.version||l.version}else{var g=ki(tf,r);l.name=g.brand||l.name,l.version=g.brand&&t?t.uaFullVersion:g.version}return l.webkit&&(c.name=a?"ios":"mac"),c.name==="ios"&&l.webview&&(l.version="-1"),c.version=Jl(c.version),l.version=Jl(l.version),c.majorVersion=parseInt(c.version,10),l.majorVersion=parseInt(l.version,10),{browser:l,os:c,isMobile:a,isHints:!0}}function UC(t){return typeof t=="undefined"&&VC()?XC():YC(t)}function KC(t,e,r,n,a,o){for(var u=0;u<a;++u){var l=r+u*a,c=n+u*a;t[l]+=t[c]*o,e[l]+=e[c]*o}}function jC(t,e,r,n,a){for(var o=0;o<a;++o){var u=r+o*a,l=n+o*a,c=t[u],f=e[u];t[u]=t[l],t[l]=c,e[u]=e[l],e[l]=f}}function ZC(t,e,r,n,a){for(var o=0;o<n;++o){var u=r+o*n;t[u]/=a,e[u]/=a}}function Zh(t,e,r){r===void 0&&(r=Math.sqrt(t.length));for(var n=t.slice(),a=0;a<r;++a)n[a*r+e-1]=0,n[(e-1)*r+a]=0;return n[(e-1)*(r+1)]=1,n}function en(t,e){e===void 0&&(e=Math.sqrt(t.length));for(var r=t.slice(),n=De(e),a=0;a<e;++a){var o=e*a+a;if(!re(r[o],Ae)){for(var u=a+1;u<e;++u)if(r[e*a+u]){jC(r,n,a,u,e);break}}if(!re(r[o],Ae))return[];ZC(r,n,a,e,r[o]);for(var u=0;u<e;++u){var l=u,c=u+a*e,f=r[c];!re(f,Ae)||a===u||KC(r,n,l,a,e,-f)}}return n}function QC(t,e){e===void 0&&(e=Math.sqrt(t.length));for(var r=[],n=0;n<e;++n)for(var a=0;a<e;++a)r[a*e+n]=t[e*n+a];return r}function Qh(t,e){e===void 0&&(e=Math.sqrt(t.length));for(var r=[],n=t[e*e-1],a=0;a<e-1;++a)r[a]=t[e*(e-1)+a]/n;return r[e-1]=0,r}function JC(t,e){for(var r=De(e),n=0;n<e-1;++n)r[e*(e-1)+n]=t[n]||0;return r}function ga(t,e){for(var r=t.slice(),n=t.length;n<e-1;++n)r[n]=0;return r[e-1]=1,r}function cn(t,e,r){if(e===void 0&&(e=Math.sqrt(t.length)),e===r)return t;for(var n=De(r),a=Math.min(e,r),o=0;o<a-1;++o){for(var u=0;u<a-1;++u)n[o*r+u]=t[o*e+u];n[(o+1)*r-1]=t[(o+1)*e-1],n[(r-1)*r+o]=t[(e-1)*e+o]}return n[r*r-1]=t[e*e-1],n}function rf(t){for(var e=[],r=1;r<arguments.length;r++)e[r-1]=arguments[r];var n=De(t);return e.forEach(function(a){n=ye(n,a,t)}),n}function ye(t,e,r){r===void 0&&(r=Math.sqrt(t.length));var n=[],a=t.length/r,o=e.length/a;if(a){if(!o)return t}else return e;for(var u=0;u<r;++u)for(var l=0;l<o;++l){n[l*r+u]=0;for(var c=0;c<a;++c)n[l*r+u]+=t[c*r+u]*e[l*a+c]}return n}function ue(t,e){for(var r=Math.min(t.length,e.length),n=t.slice(),a=0;a<r;++a)n[a]=n[a]+e[a];return n}function Gt(t,e){for(var r=Math.min(t.length,e.length),n=t.slice(),a=0;a<r;++a)n[a]=n[a]-e[a];return n}function tE(t,e){return e===void 0&&(e=t.length===6),e?[t[0],t[1],0,t[2],t[3],0,t[4],t[5],1]:t}function Jh(t,e){return e===void 0&&(e=t.length===9),e?[t[0],t[1],t[3],t[4],t[6],t[7]]:t}function Ze(t,e,r){r===void 0&&(r=e.length);var n=ye(t,e,r),a=n[r-1];return n.map(function(o){return o/a})}function eE(t,e){return ye(t,[1,0,0,0,0,Math.cos(e),Math.sin(e),0,0,-Math.sin(e),Math.cos(e),0,0,0,0,1],4)}function rE(t,e){return ye(t,[Math.cos(e),0,-Math.sin(e),0,0,1,0,0,Math.sin(e),0,Math.cos(e),0,0,0,0,1],4)}function nE(t,e){return ye(t,ei(e,4))}function ls(t,e){var r=e[0],n=r===void 0?1:r,a=e[1],o=a===void 0?1:a,u=e[2],l=u===void 0?1:u;return ye(t,[n,0,0,0,0,o,0,0,0,0,l,0,0,0,0,1],4)}function js(t,e){return Ze(ei(e,3),ga(t,3))}function Tl(t,e){var r=e[0],n=r===void 0?0:r,a=e[1],o=a===void 0?0:a,u=e[2],l=u===void 0?0:u;return ye(t,[1,0,0,0,0,1,0,0,0,0,1,0,n,o,l,1],4)}function nf(t,e){return ye(t,e,4)}function ei(t,e){var r=Math.cos(t),n=Math.sin(t),a=De(e);return a[0]=r,a[1]=n,a[e]=-n,a[e+1]=r,a}function De(t){for(var e=t*t,r=[],n=0;n<e;++n)r[n]=n%(t+1)?0:1;return r}function tg(t,e){for(var r=De(e),n=Math.min(t.length,e-1),a=0;a<n;++a)r[(e+1)*a]=t[a];return r}function Hi(t,e){for(var r=De(e),n=Math.min(t.length,e-1),a=0;a<n;++a)r[e*(e-1)+a]=t[a];return r}function Wf(t,e,r,n,a,o,u,l){var c=t[0],f=t[1],v=e[0],h=e[1],p=r[0],g=r[1],b=n[0],y=n[1],_=a[0],x=a[1],E=o[0],w=o[1],C=u[0],I=u[1],R=l[0],k=l[1],O=[c,0,v,0,p,0,b,0,f,0,h,0,g,0,y,0,1,0,1,0,1,0,1,0,0,c,0,v,0,p,0,b,0,f,0,h,0,g,0,y,0,1,0,1,0,1,0,1,-_*c,-x*c,-E*v,-w*v,-C*p,-I*p,-R*b,-k*b,-_*f,-x*f,-E*h,-w*h,-C*g,-I*g,-R*y,-k*y],B=en(O,8);if(!B.length)return[];var A=ye(B,[_,x,E,w,C,I,R,k],8);return A[8]=1,cn(QC(A),3,4)}function Vf(){return[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]}function Zs(t){return Xa(ua(t))}function Cs(t,e){var r=Ze(t,[e[0],e[1]||0,e[2]||0,1],4),n=r[3]||1;return[r[0]/n,r[1]/n,r[2]/n]}function aE(t,e){e===void 0&&(e=document.body);for(var r=t,n=Vf();r;){var a=getComputedStyle(r).transform;if(n=nf(Zs(a),n),r===e)break;r=r.parentElement}return n=en(n,4),n[12]=0,n[13]=0,n[14]=0,n}function Xa(t){var e=Vf();return t.forEach(function(r){var n=r.matrixFunction,a=r.functionValue;!n||(e=n(e,a))}),e}function ua(t){var e=Le(t)?t:Wn(t);return e.map(function(r){var n=zh(r),a=n.prefix,o=n.value,u=null,l=a,c="";if(a==="translate"||a==="translateX"||a==="translate3d"){var f=da(o).map(function(A){return parseFloat(A)}),v=f[0],h=f[1],p=h===void 0?0:h,g=f[2],b=g===void 0?0:g;u=Tl,c=[v,p,b]}else if(a==="translateY"){var p=parseFloat(o);u=Tl,c=[0,p,0]}else if(a==="translateZ"){var b=parseFloat(o);u=Tl,c=[0,0,b]}else if(a==="scale"||a==="scale3d"){var y=da(o).map(function(A){return parseFloat(A)}),_=y[0],x=y[1],E=x===void 0?_:x,w=y[2],C=w===void 0?1:w;u=ls,c=[_,E,C]}else if(a==="scaleX"){var _=parseFloat(o);u=ls,c=[_,1,1]}else if(a==="scaleY"){var E=parseFloat(o);u=ls,c=[1,E,1]}else if(a==="scaleZ"){var C=parseFloat(o);u=ls,c=[1,1,C]}else if(a==="rotate"||a==="rotateZ"||a==="rotateX"||a==="rotateY"){var I=si(o),R=I.unit,k=I.value,O=R==="rad"?k:k*Math.PI/180;a==="rotate"||a==="rotateZ"?(l="rotateZ",u=nE):a==="rotateX"?u=eE:a==="rotateY"&&(u=rE),c=O}else if(a==="matrix3d")u=nf,c=da(o).map(function(A){return parseFloat(A)});else if(a==="matrix"){var B=da(o).map(function(A){return parseFloat(A)});u=nf,c=[B[0],B[1],0,0,B[2],B[3],0,0,0,0,1,0,B[4],B[5],0,1]}else l="";return{name:a,functionName:l,value:o,matrixFunction:u,functionValue:c}})}/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */var af=function(t,e){return af=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var a in n)n.hasOwnProperty(a)&&(r[a]=n[a])},af(t,e)};function iE(t,e){af(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var eg=typeof Map=="function"?void 0:function(){var t=0;return function(e){return e.__DIFF_KEY__||(e.__DIFF_KEY__=++t)}}(),rg=function(t){iE(e,t);function e(r){return r===void 0&&(r=[]),t.call(this,r,eg)||this}return e}(bC);function Gi(t,e){return Qi(t,e,eg)}/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */function oE(){for(var t=0,e=0,r=arguments.length;e<r;e++)t+=arguments[e].length;for(var n=Array(t),a=0,e=0;e<r;e++)for(var o=arguments[e],u=0,l=o.length;u<l;u++,a++)n[a]=o[u];return n}function hr(t){return re(t,Ae)}function sE(t,e){return t.every(function(r,n){return hr(r-e[n])===0})}function uE(t,e){return!hr(t[0]-e[0])&&!hr(t[1]-e[1])}function Ls(t){return t.length<3?0:Math.abs(TC(t.map(function(e,r){var n=t[r+1]||t[0];return e[0]*n[1]-n[0]*e[1]})))/2}function of(t,e){var r=e.width,n=e.height,a=e.left,o=e.top,u=eo(t),l=u.minX,c=u.minY,f=u.maxX,v=u.maxY,h=r/(f-l),p=n/(v-c);return t.map(function(g){return[a+(g[0]-l)*h,o+(g[1]-c)*p]})}function eo(t){var e=t.map(function(n){return n[0]}),r=t.map(function(n){return n[1]});return{minX:Math.min.apply(Math,e),minY:Math.min.apply(Math,r),maxX:Math.max.apply(Math,e),maxY:Math.max.apply(Math,r)}}function Fs(t,e,r){var n=t[0],a=t[1],o=eo(e),u=o.minX,l=o.maxX,c=[[u,a],[l,a]],f=Gs(c[0],c[1]),v=sf(e),h=[];if(v.forEach(function(b){var y=Gs(b[0],b[1]),_=b[0];if(sE(f,y))h.push({pos:t,line:b,type:"line"});else{var x=ng(Hf(f,y),[c,b]);x.forEach(function(E){b.some(function(w){return uE(w,E)})?h.push({pos:E,line:b,type:"point"}):hr(_[1]-a)!==0&&h.push({pos:E,line:b,type:"intersection"})})}}),!r&&Mn(h,function(b){return b[0]===n}))return!0;var p=0,g={};return h.forEach(function(b){var y=b.pos,_=b.type,x=b.line;if(!(y[0]>n))if(_==="intersection")++p;else{if(_==="line")return;if(_==="point"){var E=Mn(x,function(I){return I[1]!==a}),w=g[y[0]],C=E[1]>a?1:-1;w?w!==C&&++p:g[y[0]]=C}}}),p%2===1}function Gs(t,e){var r=t[0],n=t[1],a=e[0],o=e[1],u=a-r,l=o-n;Math.abs(u)<Ae&&(u=0),Math.abs(l)<Ae&&(l=0);var c=0,f=0,v=0;return u?l?(c=-l/u,f=1,v=-c*r-n):(f=1,v=-n):l&&(c=-1,v=r),[c,f,v]}function Hf(t,e){var r=t[0],n=t[1],a=t[2],o=e[0],u=e[1],l=e[2],c=r===0&&o===0,f=n===0&&u===0,v=[];if(c&&f)return[];if(c){var h=-a/n,p=-l/u;return h!==p?[]:[[-1/0,h],[1/0,h]]}else if(f){var g=-a/r,b=-l/o;return g!==b?[]:[[g,-1/0],[g,1/0]]}else if(r===0){var y=-a/n,_=-(u*y+l)/o;v=[[_,y]]}else if(o===0){var y=-l/u,_=-(n*y+a)/r;v=[[_,y]]}else if(n===0){var _=-a/r,y=-(o*_+l)/u;v=[[_,y]]}else if(u===0){var _=-l/o,y=-(r*_+a)/n;v=[[_,y]]}else{var _=(n*l-u*a)/(u*r-n*o),y=-(r*_+a)/n;v=[[_,y]]}return v.map(function(x){return[x[0],x[1]]})}function ng(t,e){var r=e.map(function(h){return[0,1].map(function(p){return[Math.min(h[0][p],h[1][p]),Math.max(h[0][p],h[1][p])]})}),n=[];if(t.length===2){var a=t[0],o=a[0],u=a[1];if(hr(o-t[1][0])){if(!hr(u-t[1][1])){var f=Math.max.apply(Math,r.map(function(h){return h[0][0]})),v=Math.min.apply(Math,r.map(function(h){return h[0][1]}));if(hr(f-v)>0)return[];n=[[f,u],[v,u]]}}else{var l=Math.max.apply(Math,r.map(function(h){return h[1][0]})),c=Math.min.apply(Math,r.map(function(h){return h[1][1]}));if(hr(l-c)>0)return[];n=[[o,l],[o,c]]}}return n.length||(n=t.filter(function(h){var p=h[0],g=h[1];return r.every(function(b){return 0<=hr(p-b[0][0])&&0<=hr(b[0][1]-p)&&0<=hr(g-b[1][0])&&0<=hr(b[1][1]-g)})})),n.map(function(h){return[hr(h[0]),hr(h[1])]})}function sf(t){return oE(t.slice(1),[t[0]]).map(function(e,r){return[t[r],e]})}function lE(t,e){var r=t.slice(),n=e.slice();jl(r)===-1&&r.reverse(),jl(n)===-1&&n.reverse();var a=sf(r),o=sf(n),u=a.map(function(v){return Gs(v[0],v[1])}),l=o.map(function(v){return Gs(v[0],v[1])}),c=[];u.forEach(function(v,h){var p=a[h],g=[];l.forEach(function(b,y){var _=Hf(v,b),x=ng(_,[p,o[y]]);g.push.apply(g,x.map(function(E){return{index1:h,index2:y,pos:E,type:"intersection"}}))}),g.sort(function(b,y){return Qr(p[0],b.pos)-Qr(p[0],y.pos)}),c.push.apply(c,g),Fs(p[1],n)&&c.push({index1:h,index2:-1,pos:p[1],type:"inside"})}),o.forEach(function(v,h){if(!!Fs(v[1],r)){var p=!1,g=Vn(c,function(b){var y=b.index2;return y===h?(p=!0,!1):!!p});g===-1&&(p=!1,g=Vn(c,function(b){var y=b.index1,_=b.index2;return y===-1&&_+1===h?(p=!0,!1):!!p})),g===-1?c.push({index1:-1,index2:h,pos:v[1],type:"inside"}):c.splice(g,0,{index1:-1,index2:h,pos:v[1],type:"inside"})}});var f={};return c.filter(function(v){var h=v.pos,p=h[0]+"x"+h[1];return f[p]?!1:(f[p]=!0,!0)})}function ag(t,e){var r=lE(t,e);return r.map(function(n){var a=n.pos;return a})}function fE(t,e){var r=ag(t,e);return Ls(r)}/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var uf=function(){return uf=Object.assign||function(e){for(var r,n=1,a=arguments.length;n<a;n++){r=arguments[n];for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(e[o]=r[o])}return e},uf.apply(this,arguments)};function cE(){for(var t=0,e=0,r=arguments.length;e<r;e++)t+=arguments[e].length;for(var n=Array(t),a=0,e=0;e<r;e++)for(var o=arguments[e],u=0,l=o.length;u<l;u++,a++)n[a]=o[u];return n}var dE=function(){function t(){this._events={}}var e=t.prototype;return e.on=function(r,n){if(tn(r))for(var a in r)this.on(a,r[a]);else this._addEvent(r,n,{});return this},e.off=function(r,n){if(!r)this._events={};else if(tn(r))for(var a in r)this.off(a);else if(!n)this._events[r]=[];else{var o=this._events[r];if(o){var u=Vn(o,function(l){return l.listener===n});u>-1&&o.splice(u,1)}}return this},e.once=function(r,n){var a=this;return n&&this._addEvent(r,n,{once:!0}),new Promise(function(o){a._addEvent(r,o,{once:!0})})},e.emit=function(r,n){var a=this;n===void 0&&(n={});var o=this._events[r];if(!r||!o)return!0;var u=!1;return n.eventType=r,n.stop=function(){u=!0},n.currentTarget=this,cE(o).forEach(function(l){l.listener(n),l.once&&a.off(r,l.listener)}),!u},e.trigger=function(r,n){return n===void 0&&(n={}),this.emit(r,n)},e._addEvent=function(r,n,a){var o=this._events;o[r]=o[r]||[];var u=o[r];u.push(uf({listener:n},a))},t}(),li=dE,vE="function",pE="string";function hE(t){return typeof t===pE}function gE(t){return typeof t===vE}function mE(){return Date.now?Date.now():new Date().getTime()}/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */var lf=function(t,e){return lf=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var a in n)n.hasOwnProperty(a)&&(r[a]=n[a])},lf(t,e)};function bE(t,e){lf(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var Ka=function(){return Ka=Object.assign||function(e){for(var r,n=1,a=arguments.length;n<a;n++){r=arguments[n];for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(e[o]=r[o])}return e},Ka.apply(this,arguments)};function yE(t){var e=t.container;return e===document.body?[e.scrollLeft||document.documentElement.scrollLeft,e.scrollTop||document.documentElement.scrollTop]:[e.scrollLeft,e.scrollTop]}function Rl(t){if(t){if(hE(t))return document.querySelector(t)}else return null;if(gE(t))return t();if(t instanceof Element)return t;if("current"in t)return t.current;if("value"in t)return t.value}var _E=function(t){bE(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n._startRect=null,n._startPos=[],n._prevTime=0,n._timer=0,n._prevScrollPos=[0,0],n._isWait=!1,n._flag=!1,n}var r=e.prototype;return r.dragStart=function(n,a){var o=Rl(a.container);if(!o){this._flag=!1;return}var u=0,l=0,c=0,f=0;if(o===document.body)c=window.innerWidth,f=window.innerHeight;else{var v=o.getBoundingClientRect();u=v.top,l=v.left,c=v.width,f=v.height}this._flag=!0,this._startPos=[n.clientX,n.clientY],this._startRect={top:u,left:l,width:c,height:f},this._prevScrollPos=this._getScrollPosition([0,0],a)},r.drag=function(n,a){if(!!this._flag){var o=n.clientX,u=n.clientY,l=a.threshold,c=l===void 0?0:l,f=this,v=f._startRect,h=f._startPos,p=[0,0];return v.top>u-c?(h[1]>v.top||u<h[1])&&(p[1]=-1):v.top+v.height<u+c&&(h[1]<v.top+v.height||u>h[1])&&(p[1]=1),v.left>o-c?(h[0]>v.left||o<h[0])&&(p[0]=-1):v.left+v.width<o+c&&(h[0]<v.left+v.width||o>h[0])&&(p[0]=1),clearTimeout(this._timer),!p[0]&&!p[1]?!1:this._continueDrag(Ka(Ka({},a),{direction:p,inputEvent:n,isDrag:!0}))}},r.checkScroll=function(n){var a=this;if(this._isWait)return!1;var o=n.prevScrollPos,u=o===void 0?this._prevScrollPos:o,l=n.direction,c=n.throttleTime,f=c===void 0?0:c,v=n.inputEvent,h=n.isDrag,p=this._getScrollPosition(l||[0,0],n),g=p[0]-u[0],b=p[1]-u[1],y=l||[g?Math.abs(g)/g:0,b?Math.abs(b)/b:0];return this._prevScrollPos=p,!g&&!b?!1:(this.trigger("move",{offsetX:y[0]?g:0,offsetY:y[1]?b:0,inputEvent:v}),f&&h&&(this._timer=window.setTimeout(function(){a._continueDrag(n)},f)),!0)},r.dragEnd=function(){clearTimeout(this._timer)},r._getScrollPosition=function(n,a){var o=a.container,u=a.getScrollPosition,l=u===void 0?yE:u;return l({container:Rl(o),direction:n})},r._continueDrag=function(n){var a=this,o=n.container,u=n.direction,l=n.throttleTime,c=n.useScroll,f=n.isDrag,v=n.inputEvent;if(!(f&&this._isWait)){var h=mE(),p=Math.max(l+this._prevTime-h,0);if(p>0)return this._timer=window.setTimeout(function(){a._continueDrag(n)},p),!1;this._prevTime=h;var g=this._getScrollPosition(u,n);return this._prevScrollPos=g,f&&(this._isWait=!0),this.trigger("scroll",{container:Rl(o),direction:u,inputEvent:v}),this._isWait=!1,c||this.checkScroll(Ka(Ka({},n),{prevScrollPos:g,direction:u,inputEvent:v}))}},e}(li),ig=_E;/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */var ff=function(t,e){return ff=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var a in n)n.hasOwnProperty(a)&&(r[a]=n[a])},ff(t,e)};function SE(t,e){ff(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var Pe=function(){return Pe=Object.assign||function(e){for(var r,n=1,a=arguments.length;n<a;n++){r=arguments[n];for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(e[o]=r[o])}return e},Pe.apply(this,arguments)};function xE(t,e){var r=e[0]-t[0],n=e[1]-t[1],a=Math.atan2(n,r);return a>=0?a:a+Math.PI*2}function kl(t){return xE([t[0].clientX,t[0].clientY],[t[1].clientX,t[1].clientY])/Math.PI*180}function wE(t){return t.touches&&t.touches.length>=2}function fs(t){return t?t.touches?EE(t.touches):[og(t)]:[]}function CE(t){return t&&(t.type.indexOf("mouse")>-1||"button"in t)}function gp(t,e,r){var n=r.length,a=$i(t,n),o=a.clientX,u=a.clientY,l=a.originalClientX,c=a.originalClientY,f=$i(e,n),v=f.clientX,h=f.clientY,p=$i(r,n),g=p.clientX,b=p.clientY,y=o-v,_=u-h,x=o-g,E=u-b;return{clientX:l,clientY:c,deltaX:y,deltaY:_,distX:x,distY:E}}function Il(t){return Math.sqrt(Math.pow(t[0].clientX-t[1].clientX,2)+Math.pow(t[0].clientY-t[1].clientY,2))}function EE(t){for(var e=Math.min(t.length,2),r=[],n=0;n<e;++n)r.push(og(t[n]));return r}function og(t){return{clientX:t.clientX,clientY:t.clientY}}function $i(t,e){e===void 0&&(e=t.length);for(var r={clientX:0,clientY:0,originalClientX:0,originalClientY:0},n=0;n<e;++n){var a=t[n];r.originalClientX+="originalClientX"in a?a.originalClientX:a.clientX,r.originalClientY+="originalClientY"in a?a.originalClientY:a.clientY,r.clientX+=a.clientX,r.clientY+=a.clientY}return e?{clientX:r.clientX/e,clientY:r.clientY/e,originalClientX:r.originalClientX/e,originalClientY:r.originalClientY/e}:r}var Ol=function(){function t(r){this.prevClients=[],this.startClients=[],this.movement=0,this.length=0,this.startClients=r,this.prevClients=r,this.length=r.length}var e=t.prototype;return e.getAngle=function(r){return r===void 0&&(r=this.prevClients),kl(r)},e.getRotation=function(r){return r===void 0&&(r=this.prevClients),kl(r)-kl(this.startClients)},e.getPosition=function(r,n){r===void 0&&(r=this.prevClients);var a=gp(r||this.prevClients,this.prevClients,this.startClients),o=a.deltaX,u=a.deltaY;return this.movement+=Math.sqrt(o*o+u*u),this.prevClients=r,a},e.getPositions=function(r){r===void 0&&(r=this.prevClients);var n=this.prevClients;return this.startClients.map(function(a,o){return gp([r[o]],[n[o]],[a])})},e.getMovement=function(r){var n=this.movement;if(!r)return n;var a=$i(r,this.length),o=$i(this.prevClients,this.length),u=a.clientX-o.clientX,l=a.clientY-o.clientY;return Math.sqrt(u*u+l*l)+n},e.getDistance=function(r){return r===void 0&&(r=this.prevClients),Il(r)},e.getScale=function(r){return r===void 0&&(r=this.prevClients),Il(r)/Il(this.startClients)},e.move=function(r,n){this.startClients.forEach(function(a){a.clientX-=r,a.clientY-=n})},t}(),mp=["textarea","input"],ME=function(t){SE(e,t);function e(n,a){a===void 0&&(a={});var o=t.call(this)||this;o.options={},o.flag=!1,o.pinchFlag=!1,o.data={},o.isDrag=!1,o.isPinch=!1,o.isMouse=!1,o.isTouch=!1,o.clientStores=[],o.targets=[],o.prevTime=0,o.doubleFlag=!1,o._dragFlag=!1,o._isMouseEvent=!1,o._isSecondaryButton=!1,o._preventMouseEvent=!1,o.onDragStart=function(p,g){if(g===void 0&&(g=!0),!(!o.flag&&p.cancelable===!1)){var b=o.options,y=b.container,_=b.pinchOutside,x=b.preventWheelClick,E=b.preventRightClick,w=b.preventDefault,C=b.checkInput,I=b.preventClickEventOnDragStart,R=b.preventClickEventOnDrag,k=b.preventClickEventByCondition,O=o.isTouch,B=!o.flag;if(o._isSecondaryButton=p.which===3||p.button===2,x&&(p.which===2||p.button===1)||E&&(p.which===3||p.button===2))return o.stop(),!1;if(B){var A=document.activeElement,N=p.target;if(N){var L=N.tagName.toLowerCase(),z=mp.indexOf(L)>-1,H=N.isContentEditable;if(z||H){if(C||A===N||A&&H&&A.isContentEditable&&A.contains(N))return!1}else if((w||p.type==="touchstart")&&A){var V=A.tagName.toLowerCase();(A.isContentEditable||mp.indexOf(V)>-1)&&A.blur()}(I||R||k)&&je(window,"click",o._onClick,!0)}o.clientStores=[new Ol(fs(p))],o.flag=!0,o.isDrag=!1,o._dragFlag=!0,o.data={},o.doubleFlag=As()-o.prevTime<200,o._isMouseEvent=CE(p),!o._isMouseEvent&&o._preventMouseEvent&&(o._preventMouseEvent=!1);var tt=o._preventMouseEvent||o.emit("dragStart",Pe(Pe({data:o.data,datas:o.data,inputEvent:p,isMouseEvent:o._isMouseEvent,isSecondaryButton:o._isSecondaryButton,isTrusted:g,isDouble:o.doubleFlag},o.getCurrentStore().getPosition()),{preventDefault:function(){p.preventDefault()},preventDrag:function(){o._dragFlag=!1}}));tt===!1&&o.stop(),o._isMouseEvent&&o.flag&&w&&p.preventDefault()}if(!o.flag)return!1;var J=0;if(B?(o._attchDragEvent(),O&&_&&(J=setTimeout(function(){je(y,"touchstart",o.onDragStart,{passive:!1})}))):O&&_&&We(y,"touchstart",o.onDragStart),o.flag&&wE(p)){if(clearTimeout(J),B&&p.touches.length!==p.changedTouches.length)return;o.pinchFlag||o.onPinchStart(p)}}},o.onDrag=function(p,g){if(!!o.flag){var b=o.options.preventDefault;!o._isMouseEvent&&b&&p.preventDefault();var y=fs(p),_=o.moveClients(y,p,!1);if(o._dragFlag){if(o.pinchFlag||_.deltaX||_.deltaY){var x=o._preventMouseEvent||o.emit("drag",Pe(Pe({},_),{isScroll:!!g,inputEvent:p}));if(x===!1){o.stop();return}}o.pinchFlag&&o.onPinch(p,y)}o.getCurrentStore().getPosition(y,!0)}},o.onDragEnd=function(p){if(!!o.flag){var g=o.options,b=g.pinchOutside,y=g.container,_=g.preventClickEventOnDrag,x=g.preventClickEventOnDragStart,E=g.preventClickEventByCondition,w=o.isDrag;(_||x||E)&&requestAnimationFrame(function(){o._allowClickEvent()}),!E&&!x&&_&&!w&&o._allowClickEvent(),o.isTouch&&b&&We(y,"touchstart",o.onDragStart),o.pinchFlag&&o.onPinchEnd(p);var C=p!=null&&p.touches?fs(p):[],I=C.length;I===0||!o.options.keepDragging?o.flag=!1:o._addStore(new Ol(C));var R=o._getPosition(),k=As(),O=!w&&o.doubleFlag;o.prevTime=w||O?0:k,o.flag||(o._dettachDragEvent(),o._preventMouseEvent||o.emit("dragEnd",Pe({data:o.data,datas:o.data,isDouble:O,isDrag:w,isClick:!w,isMouseEvent:o._isMouseEvent,isSecondaryButton:o._isSecondaryButton,inputEvent:p},R)),o.clientStores=[],o._isMouseEvent||(o._preventMouseEvent=!0,requestAnimationFrame(function(){requestAnimationFrame(function(){o._preventMouseEvent=!1})})))}},o.onBlur=function(){o.onDragEnd()},o._allowClickEvent=function(){We(window,"click",o._onClick,!0)},o._onClick=function(p){o._allowClickEvent(),o._preventMouseEvent=!1;var g=o.options.preventClickEventByCondition;g!=null&&g(p)||(p.stopPropagation(),p.preventDefault())},o._onContextMenu=function(p){var g=o.options;g.preventRightClick?o.onDragEnd(p):p.preventDefault()},o._passCallback=function(){};var u=[].concat(n);o.options=Pe({checkInput:!1,container:u.length>1?window:u[0],preventRightClick:!0,preventWheelClick:!0,preventClickEventOnDragStart:!1,preventClickEventOnDrag:!1,preventClickEventByCondition:null,preventDefault:!0,checkWindowBlur:!1,keepDragging:!1,pinchThreshold:0,events:["touch","mouse"]},a);var l=o.options,c=l.container,f=l.events,v=l.checkWindowBlur;if(o.isTouch=f.indexOf("touch")>-1,o.isMouse=f.indexOf("mouse")>-1,o.targets=u,o.isMouse&&(u.forEach(function(p){je(p,"mousedown",o.onDragStart),je(p,"mousemove",o._passCallback)}),je(c,"contextmenu",o._onContextMenu)),v&&je(window,"blur",o.onBlur),o.isTouch){var h={passive:!1};u.forEach(function(p){je(p,"touchstart",o.onDragStart,h),je(p,"touchmove",o._passCallback,h)})}return o}var r=e.prototype;return r.stop=function(){this.isDrag=!1,this.data={},this.clientStores=[],this.pinchFlag=!1,this.doubleFlag=!1,this.prevTime=0,this.flag=!1,this._allowClickEvent(),this._dettachDragEvent()},r.getMovement=function(n){return this.getCurrentStore().getMovement(n)+this.clientStores.slice(1).reduce(function(a,o){return a+o.movement},0)},r.isDragging=function(){return this.isDrag},r.isFlag=function(){return this.flag},r.isPinchFlag=function(){return this.pinchFlag},r.isDoubleFlag=function(){return this.doubleFlag},r.isPinching=function(){return this.isPinch},r.scrollBy=function(n,a,o,u){u===void 0&&(u=!0),this.flag&&(this.clientStores[0].move(n,a),u&&this.onDrag(o,!0))},r.move=function(n,a){var o=n[0],u=n[1],l=this.getCurrentStore(),c=l.prevClients;return this.moveClients(c.map(function(f){var v=f.clientX,h=f.clientY;return{clientX:v+o,clientY:h+u,originalClientX:v,originalClientY:h}}),a,!0)},r.triggerDragStart=function(n){this.onDragStart(n,!1)},r.setEventData=function(n){var a=this.data;for(var o in n)a[o]=n[o];return this},r.setEventDatas=function(n){return this.setEventData(n)},r.getCurrentEvent=function(n){return Pe(Pe({data:this.data,datas:this.data},this._getPosition()),{movement:this.getMovement(),isDrag:this.isDrag,isPinch:this.isPinch,isScroll:!1,inputEvent:n})},r.getEventData=function(){return this.data},r.getEventDatas=function(){return this.data},r.unset=function(){var n=this,a=this.targets,o=this.options.container;this.off(),We(window,"blur",this.onBlur),this.isMouse&&(a.forEach(function(u){We(u,"mousedown",n.onDragStart)}),We(o,"contextmenu",this._onContextMenu)),this.isTouch&&(a.forEach(function(u){We(u,"touchstart",n.onDragStart)}),We(o,"touchstart",this.onDragStart)),this._allowClickEvent(),this._dettachDragEvent()},r.onPinchStart=function(n){var a=this.options.pinchThreshold;if(!(this.isDrag&&this.getMovement()>a)){var o=new Ol(fs(n));this.pinchFlag=!0,this._addStore(o);var u=this.emit("pinchStart",Pe(Pe({data:this.data,datas:this.data,angle:o.getAngle(),touches:this.getCurrentStore().getPositions()},o.getPosition()),{inputEvent:n}));u===!1&&(this.pinchFlag=!1)}},r.onPinch=function(n,a){if(!(!this.flag||!this.pinchFlag||a.length<2)){var o=this.getCurrentStore();this.isPinch=!0,this.emit("pinch",Pe(Pe({data:this.data,datas:this.data,movement:this.getMovement(a),angle:o.getAngle(a),rotation:o.getRotation(a),touches:o.getPositions(a),scale:o.getScale(a),distance:o.getDistance(a)},o.getPosition(a)),{inputEvent:n}))}},r.onPinchEnd=function(n){if(!!this.pinchFlag){var a=this.isPinch;this.isPinch=!1,this.pinchFlag=!1;var o=this.getCurrentStore();this.emit("pinchEnd",Pe(Pe({data:this.data,datas:this.data,isPinch:a,touches:o.getPositions()},o.getPosition()),{inputEvent:n}))}},r.getCurrentStore=function(){return this.clientStores[0]},r.moveClients=function(n,a,o){var u=this._getPosition(n,o);return(u.deltaX||u.deltaY)&&(this.isDrag=!0),Pe(Pe({data:this.data,datas:this.data},u),{movement:this.getMovement(n),isDrag:this.isDrag,isPinch:this.isPinch,isScroll:!1,isMouseEvent:this._isMouseEvent,isSecondaryButton:this._isSecondaryButton,inputEvent:a})},r._addStore=function(n){this.clientStores.splice(0,0,n)},r._getPosition=function(n,a){var o=this.getCurrentStore(),u=o.getPosition(n,a),l=this.clientStores.slice(1).reduce(function(v,h){var p=h.getPosition();return v.distX+=p.distX,v.distY+=p.distY,v},u),c=l.distX,f=l.distY;return Pe(Pe({},u),{distX:c,distY:f})},r._attchDragEvent=function(){var n=this.options.container,a={passive:!1};this.isMouse&&(je(n,"mousemove",this.onDrag),je(n,"mouseup",this.onDragEnd)),this.isTouch&&(je(n,"touchmove",this.onDrag,a),je(n,"touchend",this.onDragEnd,a),je(n,"touchcancel",this.onDragEnd,a))},r._dettachDragEvent=function(){var n=this.options.container;this.isMouse&&(We(n,"mousemove",this.onDrag),We(n,"mouseup",this.onDragEnd)),this.isTouch&&(We(n,"touchstart",this.onDragStart),We(n,"touchmove",this.onDrag),We(n,"touchend",this.onDragEnd),We(n,"touchcancel",this.onDragEnd))},e}(li),sg=ME;function DE(t){for(var e=5381,r=t.length;r;)e=e*33^t.charCodeAt(--r);return e>>>0}var TE=DE;function RE(t){return TE(t).toString(36)}function kE(t){if(t&&t.getRootNode){var e=t.getRootNode();if(e.nodeType===11)return e}}function IE(t,e,r){return r.original?e:e.replace(/([^};{\s}][^};{]*|^\s*){/mg,function(n,a){var o=a.trim();return(o?da(o):[""]).map(function(u){var l=u.trim();return l.indexOf("@")===0?l:l.indexOf(":global")>-1?l.replace(/\:global/g,""):l.indexOf(":host")>-1?""+l.replace(/\:host/g,"."+t):l?"."+t+" "+l:"."+t}).join(", ")+" {"})}function OE(t,e,r,n){var a=document.createElement("style");return a.setAttribute("type","text/css"),a.setAttribute("data-styled-id",t),r.nonce&&a.setAttribute("nonce",r.nonce),a.innerHTML=IE(t,e,r),(n||document.head||document.body).appendChild(a),a}function ug(t){var e="rCS"+RE(t),r=0,n;return{className:e,inject:function(a,o){o===void 0&&(o={});var u=kE(a),l=r===0,c;return(u||l)&&(c=OE(e,t,o,u)),l&&(n=c),u||++r,{destroy:function(){u?(u.removeChild(c),c=null):(r>0&&--r,r===0&&n&&(n.parentNode.removeChild(n),n=null))}}}}}/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */var cf=function(t,e){return cf=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var a in n)n.hasOwnProperty(a)&&(r[a]=n[a])},cf(t,e)};function lg(t,e){cf(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var df=function(){return df=Object.assign||function(e){for(var r,n=1,a=arguments.length;n<a;n++){r=arguments[n];for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(e[o]=r[o])}return e},df.apply(this,arguments)};function BE(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,n=Object.getOwnPropertySymbols(t);a<n.length;a++)e.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(t,n[a])&&(r[n[a]]=t[n[a]]);return r}var PE=function(t){lg(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.injectResult=null,n.tag="div",n}var r=e.prototype;return r.render=function(){var n=this.props,a=n.className,o=a===void 0?"":a;n.cspNonce;var u=n.portalContainer,l=BE(n,["className","cspNonce","portalContainer"]),c=this.injector.className,f=this.tag,v={};return WC.indexOf("simple")>-1&&u&&(v={portalContainer:u}),zr(f,df({ref:fn(this,"element"),"data-styled-id":c,className:o+" "+c},v,l))},r.componentDidMount=function(){this.injectResult=this.injector.inject(this.element,{nonce:this.props.cspNonce})},r.componentWillUnmount=function(){this.injectResult.destroy(),this.injectResult=null},r.getElement=function(){return this.element},e}(Gf);function fg(t,e){var r=ug(e);return function(n){lg(a,n);function a(){var o=n!==null&&n.apply(this,arguments)||this;return o.injector=r,o.tag=t,o}return a}(PE)}var vf=function(t,e){return vf=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(r[a]=n[a])},vf(t,e)};function ro(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");vf(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var W=function(){return W=Object.assign||function(e){for(var r,n=1,a=arguments.length;n<a;n++){r=arguments[n];for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(e[o]=r[o])}return e},W.apply(this,arguments)};function AE(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,n=Object.getOwnPropertySymbols(t);a<n.length;a++)e.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(t,n[a])&&(r[n[a]]=t[n[a]]);return r}function zE(t,e,r,n){var a=arguments.length,o=a<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,r):n,u;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(t,e,r,n);else for(var l=t.length-1;l>=0;l--)(u=t[l])&&(o=(a<3?u(o):a>3?u(e,r,o):u(e,r))||o);return a>3&&o&&Object.defineProperty(e,r,o),o}function Ot(t,e,r){if(r||arguments.length===2)for(var n=0,a=e.length,o;n<a;n++)(o||!(n in e))&&(o||(o=Array.prototype.slice.call(e,0,n)),o[n]=e[n]);return t.concat(o||Array.prototype.slice.call(e))}function no(t,e){var r;return W({events:{},props:(r={},r[t]=Boolean,r),name:t},e)}function LE(t,e){return'data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" width="'.concat(32*t,'px" height="').concat(32*t,'px" viewBox="0 0 32 32" ><path d="M 16,5 L 12,10 L 14.5,10 L 14.5,22 L 12,22 L 16,27 L 20,22 L 17.5,22 L 17.5,10 L 20, 10 L 16,5 Z" stroke-linejoin="round" stroke-width="1.2" fill="black" stroke="white" style="transform:rotate(').concat(e,'deg);transform-origin: 16px 16px"></path></svg>')}function FE(t){var e=LE(1,t),r=Math.round(t/45)*45%180,n="ns-resize";return r===135?n="nwse-resize":r===45?n="nesw-resize":r===90&&(n="ew-resize"),"cursor:".concat(n,";cursor: url('").concat(e,"') 16 16, ").concat(n,";")}var $s=UC(),cg=$s.browser.webkit,dg=cg&&function(){var t=typeof window=="undefined"?{userAgent:""}:window.navigator,e=/applewebkit\/([^\s]+)/g.exec(t.userAgent.toLowerCase());return e?parseFloat(e[1])<605:!1}(),GE=$s.browser.name==="firefox",$E=parseInt($s.browser.webkitVersion,10)>=612||parseInt($s.browser.version,10)>=15,Yf="moveable-",qE=`
{
	position: absolute;
	width: 1px;
	height: 1px;
	left: 0;
	top: 0;
    z-index: 3000;
    --moveable-color: #4af;
    --zoom: 1;
    --zoompx: 1px;
    will-change: transform;
}
.control-box {
    z-index: 0;
}
.line, .control {
    position: absolute;
	left: 0;
    top: 0;
    will-change: transform;
}
.control {
	width: 14px;
	height: 14px;
	border-radius: 50%;
	border: 2px solid #fff;
	box-sizing: border-box;
    background: #4af;
    background: var(--moveable-color);
	margin-top: -7px;
    margin-left: -7px;
    border: 2px solid #fff;
    z-index: 10;
}
.padding {
    position: absolute;
    top: 0px;
    left: 0px;
    width: 100px;
    height: 100px;
    transform-origin: 0 0;
}
.line {
	width: 1px;
    height: 1px;
    background: #4af;
    background: var(--moveable-color);
	transform-origin: 0px 50%;
}
.line.edge {
    z-index: 1;
    background: transparent;
}
.line.dashed {
    box-sizing: border-box;
    background: transparent;
}
.line.dashed.horizontal {
    border-top: 1px dashed #4af;
    border-top-color: #4af;
    border-top-color: var(--moveable-color);
}
.line.dashed.vertical {
    border-left: 1px dashed #4af;
    border-left-color: #4af;
    border-left-color: var(--moveable-color);
}
.line.vertical {
    transform: translateX(-50%);
}
.line.horizontal {
    transform: translateY(-50%);
}
.line.vertical.bold {
    width: 2px;
}
.line.horizontal.bold {
    height: 2px;
}

.control.origin {
	border-color: #f55;
	background: #fff;
	width: 12px;
	height: 12px;
	margin-top: -6px;
    margin-left: -6px;
	pointer-events: none;
}
`.concat([0,15,30,45,60,75,90,105,120,135,150,165].map(function(t){return`
.direction[data-rotation="`.concat(t,'"], :global .view-control-rotation').concat(t,` {
	`).concat(FE(t),`
}
`)}).join(`
`),`
.group {
    z-index: -1;
}
.area {
    position: absolute;
}
.area-pieces {
    position: absolute;
    top: 0;
    left: 0;
    display: none;
}
.area.avoid, .area.pass {
    pointer-events: none;
}
.area.avoid+.area-pieces {
    display: block;
}
.area-piece {
    position: absolute;
}

`).concat(dg?`:global svg *:before {
	content:"";
	transform-origin: inherit;
}`:"",`
`),NE=[[0,1,2],[1,0,3],[2,0,3],[3,1,2]],WE=1e-4,ur=1e-7,cs=1e-9,pf=Math.pow(10,10),bp=-pf,VE=["n","w","s","e"],Xf=["n","w","s","e","nw","ne","sw","se"],HE={n:[0,-1],e:[1,0],s:[0,1],w:[-1,0],nw:[-1,-1],ne:[1,-1],sw:[-1,1],se:[1,1]},Uf={n:[0,1],e:[1,3],s:[3,2],w:[2,0],nw:[0],ne:[1],sw:[2],se:[3]},vg={n:0,s:180,w:270,e:90,nw:315,ne:45,sw:225,se:135},pg=["isMoveableElement","updateRect","updateTarget","destroy","dragStart","isInside","hitTest","setState","getRect","request","isDragging","getManager","forceUpdate","waitToChangeTarget","updateSelectors","getTargets"];function ao(t,e,r,n,a,o){o===void 0&&(o="draggable");var u=e.gestos[o].move(r,t.inputEvent),l=u.originalDatas||u.datas,c=l[o]||(l[o]={});return W(W({},a?Ag(e,u):u),{isPinch:!!n,parentEvent:!0,datas:c,originalDatas:t.originalDatas})}var ri=function(){function t(r){var n;r===void 0&&(r="draggable"),this.ableName=r,this.prevX=0,this.prevY=0,this.startX=0,this.startY=0,this.isDrag=!1,this.isFlag=!1,this.datas={draggable:{}},this.datas=(n={},n[r]={},n)}var e=t.prototype;return e.dragStart=function(r,n){this.isDrag=!1,this.isFlag=!1;var a=n.originalDatas;return this.datas=a,a[this.ableName]||(a[this.ableName]={}),W(W({},this.move(r,n.inputEvent)),{type:"dragstart"})},e.drag=function(r,n){return this.move([r[0]-this.prevX,r[1]-this.prevY],n)},e.move=function(r,n){var a,o;return this.isFlag?(a=this.prevX+r[0],o=this.prevY+r[1],(r[0]||r[1])&&(this.isDrag=!0)):(this.prevX=r[0],this.prevY=r[1],this.startX=r[0],this.startY=r[1],a=r[0],o=r[1],this.isFlag=!0),this.prevX=a,this.prevY=o,{type:"drag",clientX:a,clientY:o,inputEvent:n,isDrag:this.isDrag,distX:a-this.startX,distY:o-this.startY,deltaX:r[0],deltaY:r[1],datas:this.datas[this.ableName],originalDatas:this.datas,parentEvent:!0,parentGesto:this}},t}();function hg(t,e){var r=e.clientX,n=e.clientY,a=e.datas,o=t.state,u=o.moveableClientRect,l=o.rootMatrix,c=o.is3d,f=o.pos1,v=u.left,h=u.top,p=c?4:3,g=Gt(Ja(l,[r-v,n-h],p),f),b=g[0],y=g[1],_=dn({datas:a,distX:b,distY:y}),x=_[0],E=_[1];return[x,E]}function xa(t,e){var r=e.datas,n=t.state,a=n.allMatrix,o=n.beforeMatrix,u=n.is3d,l=n.left,c=n.top,f=n.origin,v=n.offsetMatrix,h=n.targetMatrix,p=n.transformOrigin,g=u?4:3;r.is3d=u,r.matrix=a,r.targetMatrix=h,r.beforeMatrix=o,r.offsetMatrix=v,r.transformOrigin=p,r.inverseMatrix=en(a,g),r.inverseBeforeMatrix=en(o,g),r.absoluteOrigin=ga(ue([l,c],f),g),r.startDragBeforeDist=Ze(r.inverseBeforeMatrix,r.absoluteOrigin,g),r.startDragDist=Ze(r.inverseMatrix,r.absoluteOrigin,g)}function YE(t){return qs(t.datas.beforeTransform,[50,50],100,100).direction}function Qs(t,e){var r=t.datas,n=t.originalDatas.beforeRenderable,a=r.transformIndex,o=n.nextTransforms,u=o.length,l=n.nextTransformAppendedIndexes,c=0;a===-1?(c=o.length,r.transformIndex=c):Mn(l,function(p){return p.index===a&&p.functionName===e})?c=a:c=a+l.filter(function(p){return p.index<a}).length;var f=_2(o,c),v=f.targetFunction,h=e==="rotate"?"rotateZ":e;r.beforeFunctionTexts=f.beforeFunctionTexts,r.afterFunctionTexts=f.afterFunctionTexts,r.beforeTransform=f.beforeFunctionMatrix,r.beforeTransform2=f.beforeFunctionMatrix2,r.targetTansform=f.targetFunctionMatrix,r.afterTransform=f.afterFunctionMatrix,r.afterTransform2=f.afterFunctionMatrix2,r.targetAllTransform=f.allFunctionMatrix,v.functionName===h?(r.afterFunctionTexts.splice(0,1),r.isAppendTransform=!1):u>c&&(r.isAppendTransform=!0,n.nextTransformAppendedIndexes=Ot(Ot([],l,!0),[{functionName:e,index:c,isAppend:!0}],!1))}function Js(t,e,r){return"".concat(t.beforeFunctionTexts.join(" ")," ").concat(t.isAppendTransform?r:e," ").concat(t.afterFunctionTexts.join(" "))}function XE(t){var e=t.datas,r=t.distX,n=t.distY,a=mg({datas:e,distX:r,distY:n}),o=a[0],u=a[1],l=gg(e,JC([o,u],4));return Ze(l,ga([0,0,0],4),4)}function gg(t,e,r){var n=t.beforeTransform,a=t.afterTransform,o=t.beforeTransform2,u=t.afterTransform2,l=t.targetAllTransform,c=r?ye(l,e,4):ye(e,l,4),f=ye(en(r?o:n,4),c,4),v=ye(f,en(r?u:a,4),4);return v}function mg(t){var e=t.datas,r=t.distX,n=t.distY,a=e.inverseBeforeMatrix,o=e.is3d,u=e.startDragBeforeDist,l=e.absoluteOrigin,c=o?4:3;return Gt(Ze(a,ue(l,[r,n]),c),u)}function dn(t,e){var r=t.datas,n=t.distX,a=t.distY,o=r.inverseBeforeMatrix,u=r.inverseMatrix,l=r.is3d,c=r.startDragBeforeDist,f=r.startDragDist,v=r.absoluteOrigin,h=l?4:3;return Gt(Ze(e?o:u,ue(v,[n,a]),h),e?c:f)}function UE(t,e){var r=t.datas,n=t.distX,a=t.distY,o=r.beforeMatrix,u=r.matrix,l=r.is3d,c=r.startDragBeforeDist,f=r.startDragDist,v=r.absoluteOrigin,h=l?4:3;return Gt(Ze(e?o:u,ue(e?c:f,[n,a]),h),v)}function KE(t,e,r,n,a,o){return n===void 0&&(n=e),a===void 0&&(a=r),o===void 0&&(o=[0,0]),t?t.map(function(u,l){var c=si(u),f=c.value,v=c.unit,h=l?a:n,p=l?r:e;if(u==="%"||isNaN(f)){var g=h?o[l]/h:0;return p*g}else if(v!=="%")return f;return p*f/100}):o}function bg(t){var e=[];return t[1]>=0&&(t[0]>=0&&e.push(3),t[0]<=0&&e.push(2)),t[1]<=0&&(t[0]>=0&&e.push(1),t[0]<=0&&e.push(0)),e}function jE(t,e){return bg(e).map(function(r){return t[r]})}function Re(t,e){var r=(e[0]+1)/2,n=(e[1]+1)/2,a=[sa(t[0][0],t[1][0],r,1-r),sa(t[0][1],t[1][1],r,1-r)],o=[sa(t[2][0],t[3][0],r,1-r),sa(t[2][1],t[3][1],r,1-r)];return[sa(a[0],o[0],n,1-n),sa(a[1],o[1],n,1-n)]}function ZE(t,e,r,n,a,o){var u=wa(e,r,n,a),l=Re(u,o),c=t[0]-l[0],f=t[1]-l[1];return[c,f]}function io(t,e,r,n){return ye(t,jf(e,n,r),n)}function QE(t,e,r){var n=t.transformOrigin,a=t.offsetMatrix,o=t.is3d,u=e.beforeTransform,l=e.afterTransform,c=o?4:3,f=Zs([r]);return io(a,cn(ye(ye(u,f,4),l,4),4,c),n,c)}function JE(t,e){var r=t.transformOrigin,n=t.offsetMatrix,a=t.is3d,o=t.targetMatrix,u=a?4:3;return io(n,ye(o,tg(e,u),u),r,u)}function tu(t){var e=fi(t);return{setTransform:function(r,n){n===void 0&&(n=-1),e.startTransforms=Le(r)?r:Wn(r),hf(t,n)},setTransformIndex:function(r){hf(t,r)}}}function eu(t,e){var r=fi(t),n=r.startTransforms;hf(t,Vn(n,function(a){return a.indexOf("".concat(e,"("))===0}))}function hf(t,e){var r=fi(t),n=t.datas;if(n.transformIndex=e,e!==-1){var a=r.startTransforms[e];if(!!a){var o=ua([a]);n.startValue=o[0].functionValue}}}function Kf(t,e){var r=fi(t);r.nextTransforms=Wn(e)}function fi(t){return t.originalDatas.beforeRenderable}function yg(t){var e=t.originalDatas.beforeRenderable;return e.nextTransforms}function ds(t){return yg(t).join(" ")}function vs(t){return fi(t).nextStyle}function _g(t,e,r,n,a){Kf(a,e);var o=ir.drag(t,ao(a,t.state,r,n,!1)),u=o?o.transform:e;return W(W({transform:e,drag:o},qn({transform:u},a)),{afterTransform:u})}function Sg(t,e,r,n,a){var o=t.state,u=o.left,l=o.top,c=t.props.groupable,f=QE(t.state,a,e),v=c?u:0,h=c?l:0,p=xg(t,r,f),g=Gt(n,p);return Gt(g,[v,h])}function t2(t,e,r,n,a){var o=Sg(t,"scale(".concat(e.join(", "),")"),r,n,a);return o}function e2(t){var e=t.state,r=e.width,n=e.height,a=e.transformOrigin;return[-1+a[0]/(r/2),-1+a[1]/(n/2)]}function xg(t,e,r){r===void 0&&(r=t.state.allMatrix);var n=t.state,a=n.width,o=n.height,u=n.is3d,l=u?4:3,c=[a/2*(1+e[0]),o/2*(1+e[1])];return Ve(r,c,l)}function r2(t,e,r){var n=r.fixedDirection,a=r.fixedPosition;return Sg(t,"rotate(".concat(e,"deg)"),n,a,r)}function n2(t,e,r,n,a,o){var u=t.props.groupable,l=t.state,c=l.transformOrigin,f=l.offsetMatrix,v=l.is3d,h=l.width,p=l.height,g=l.left,b=l.top,y=o.fixedDirection,_=o.nextTargetMatrix||l.targetMatrix,x=v?4:3,E=KE(a,e,r,h,p,c),w=u?g:0,C=u?b:0,I=io(f,_,E,x),R=ZE(n,I,e,r,x,y);return Gt(R,[w,C])}function wg(t,e){return Re(gr(t.state),e)}function a2(t,e){var r=t.targetGesto,n=t.controlGesto,a;return r!=null&&r.isFlag()&&(a=r.getEventData()[e]),!a&&(n==null?void 0:n.isFlag())&&(a=n.getEventData()[e]),a||{}}function i2(t,e){return[t[0]*e[0],t[1]*e[1]]}function Rt(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return lC.apply(void 0,Ot([Yf],t,!1))}function Cg(t){t()}function o2(t){return!t||t==="none"?[1,0,0,1,0,0]:tn(t)?t:Zs(t)}function jf(t,e,r){return rf(e,Hi(r,e),t,Hi(r.map(function(n){return-n}),e))}function s2(t,e,r){if(e==="%"){var n=Zf(t.ownerSVGElement);return n[r?"width":"height"]/100}return 1}function u2(t){var e=gf(Fr(t,":before"));return e.map(function(r,n){var a=si(r),o=a.value,u=a.unit;return o*s2(t,u,n===0)})}function gf(t){var e=t.transformOrigin;return e?e.split(" "):["0","0"]}function Eg(t,e){e===void 0&&(e=Fr(t));var r=e.transform;if(r&&r!=="none")return e.transform;if("transform"in t){var n=t.transform,a=n.baseVal;if(!a)return"";var o=a.length;if(!o)return"";for(var u=[],l=function(f){var v=a[f].matrix;u.push("matrix(".concat(["a","b","c","d","e","f"].map(function(h){return v[h]}).join(", "),")"))},c=0;c<o;++c)l(c);return u.join(" ")}return""}function Yi(t,e,r){var n,a,o=document.body,u=!1,l,c;if(!t||r)l=t;else{var f=(n=t==null?void 0:t.assignedSlot)===null||n===void 0?void 0:n.parentElement,v=t.parentElement;f?(u=!0,c=v,l=f):l=v}for(var h=!1,p=t===e||l===e,g="relative";l&&l!==o;){e===l&&(p=!0);var b=Fr(l),y=l.tagName.toLowerCase(),_=Eg(l,b),x=b.willChange;if(g=b.position,y==="svg"||g!=="static"||_&&_!=="none"||x==="transform")break;var E=(a=t==null?void 0:t.assignedSlot)===null||a===void 0?void 0:a.parentNode,w=l.parentNode;E&&(u=!0,c=w);var C=E||w;if(C&&C.nodeType===11){l=C.host,h=!0;break}l=C,g="relative"}return{hasSlot:u,parentSlotElement:c,isCustomElement:h,isStatic:g==="static",isEnd:p||!l||l===o,offsetParent:l||o}}function l2(t,e,r){var n,a=t.tagName.toLowerCase(),o=t.offsetLeft,u=t.offsetTop,l=oi(o),c=!l,f,v;return!c&&a!=="svg"?(f=dg?u2(t):gf(r).map(function(h){return parseFloat(h)}),v=f.slice(),c=!0,n=v2(t,f,t===e&&e.tagName.toLowerCase()==="g"),o=n[0],u=n[1],f[0]=n[2],f[1]=n[3]):(f=gf(r).map(function(h){return parseFloat(h)}),v=f.slice()),{tagName:a,isSVG:l,hasOffset:c,offset:[o||0,u||0],origin:f,targetOrigin:v}}function Mg(t,e,r){r===void 0&&(r=Fr(t));var n=Fr(document.body),a=n.position;if(!e&&(!a||a==="static"))return[0,0];var o=parseInt(n.marginLeft,10),u=parseInt(n.marginTop,10);return r.position==="absolute"&&((r.top!=="auto"||r.bottom!=="auto")&&(u=0),(r.left!=="auto"||r.right!=="auto")&&(o=0)),[o,u]}function mf(t){t.forEach(function(e){var r=e.matrix;r&&(e.matrix=cn(r,3,4))})}function f2(){return[document.documentElement.scrollLeft||document.body.scrollLeft,document.documentElement.scrollTop||document.body.scrollTop]}function c2(t){for(var e=t.parentElement,r=!1;e;){var n=Fr(e).transform;if(n&&n!=="none"){r=!0;break}if(e===document.body)break;e=e.parentElement}return{fixedContainer:e||document.body,hasTransform:r}}function ru(t,e){return e===void 0&&(e=t.length>9),"".concat(e?"matrix3d":"matrix","(").concat(Jh(t,!e).join(","),")")}function Zf(t){var e=t.clientWidth,r=t.clientHeight;if(!t)return{x:0,y:0,width:0,height:0,clientWidth:e,clientHeight:r};var n=t.viewBox,a=n&&n.baseVal||{x:0,y:0,width:0,height:0};return{x:a.x,y:a.y,width:a.width||e,height:a.height||r,clientWidth:e,clientHeight:r}}function d2(t,e){var r=Zf(t),n=r.width,a=r.height,o=r.clientWidth,u=r.clientHeight,l=o/n,c=u/a,f=t.preserveAspectRatio.baseVal,v=f.align,h=f.meetOrSlice,p=[0,0],g=[l,c],b=[0,0];if(v!==1){var y=(v-2)%3,_=Math.floor((v-2)/3);p[0]=n*y/2,p[1]=a*_/2;var x=h===2?Math.max(c,l):Math.min(l,c);g[0]=x,g[1]=x,b[0]=(o-n)/2*y,b[1]=(u-a)/2*_}var E=tg(g,e);return E[e*(e-1)]=b[0],E[e*(e-1)+1]=b[1],jf(E,e,p)}function v2(t,e,r){if(!t.getBBox||!r&&t.tagName.toLowerCase()==="g")return[0,0,0,0];var n=t.getBBox(),a=Zf(t.ownerSVGElement),o=n.x-a.x,u=n.y-a.y;return[o,u,e[0]-o,e[1]-u]}function Ve(t,e,r){return Ze(t,ga(e,r),r)}function wa(t,e,r,n){return[[0,0],[e,0],[0,r],[e,r]].map(function(a){return Ve(t,a,n)})}function Lr(t){var e=t.map(function(f){return f[0]}),r=t.map(function(f){return f[1]}),n=Math.min.apply(Math,e),a=Math.min.apply(Math,r),o=Math.max.apply(Math,e),u=Math.max.apply(Math,r),l=o-n,c=u-a;return{left:n,top:a,right:o,bottom:u,width:l,height:c}}function yp(t,e,r,n){var a=wa(t,e,r,n);return Lr(a)}function p2(t,e,r,n,a){var o,u=t.target,l=t.origin,c=e.matrix,f=Tg(u),v=f.offsetWidth,h=f.offsetHeight,p=r.getBoundingClientRect(),g=[0,0];r===document.body&&(g=Mg(u,!0));for(var b=u.getBoundingClientRect(),y=b.left-p.left+r.scrollLeft-(r.clientLeft||0)+g[0],_=b.top-p.top+r.scrollTop-(r.clientTop||0)+g[1],x=b.width,E=b.height,w=rf(n,a,c),C=yp(w,v,h,n),I=C.left,R=C.top,k=C.width,O=C.height,B=Ve(w,l,n),A=Gt(B,[I,R]),N=[y+A[0]*x/k,_+A[1]*E/O],L=[0,0],z=0;++z<10;){var H=en(a,n);o=Gt(Ve(H,N,n),Ve(H,B,n)),L[0]=o[0],L[1]=o[1];var V=rf(n,a,Hi(L,n),c),tt=yp(V,v,h,n),J=tt.left,ot=tt.top,X=J-y,Q=ot-_;if(Math.abs(X)<2&&Math.abs(Q)<2)break;N[0]-=X,N[1]-=Q}return L.map(function(lt){return Math.round(lt)})}function h2(t,e,r){var n=t.length===16,a=n?4:3,o=e.map(function(c){return Ve(t,c,a)}),u=r.left,l=r.top;return o.map(function(c){return[c[0]+u,c[1]+l]})}function qs(t,e,r,n){var a=t.length===16,o=a?4:3,u=wa(t,r,n,o),l=u[0],c=l[0],f=l[1],v=u[1],h=v[0],p=v[1],g=u[2],b=g[0],y=g[1],_=u[3],x=_[0],E=_[1],w=Ve(t,e,o),C=w[0],I=w[1],R=Math.min(c,h,b,x),k=Math.min(f,p,y,E),O=Math.max(c,h,b,x),B=Math.max(f,p,y,E);c=c-R||0,h=h-R||0,b=b-R||0,x=x-R||0,f=f-k||0,p=p-k||0,y=y-k||0,E=E-k||0,C=C-R||0,I=I-k||0;var A=jl(u);return{left:R,top:k,right:O,bottom:B,origin:[C,I],pos1:[c,f],pos2:[h,p],pos3:[b,y],pos4:[x,E],direction:A}}function Jr(t){return Math.sqrt(t[0]*t[0]+t[1]*t[1])}function Dg(t,e){return Jr([e[0]-t[0],e[1]-t[1]])}function Pi(t,e,r,n){r===void 0&&(r=1),n===void 0&&(n=ke(t,e));var a=Dg(t,e);return{transform:"translateY(-50%) translate(".concat(t[0],"px, ").concat(t[1],"px) rotate(").concat(n,"rad) scaleY(").concat(r,")"),width:"".concat(a,"px")}}function Qf(t,e){for(var r=[],n=2;n<arguments.length;n++)r[n-2]=arguments[n];var a=r.length,o=r.reduce(function(l,c){return l+c[0]},0)/a,u=r.reduce(function(l,c){return l+c[1]},0)/a;return{transform:"translateZ(0px) translate(".concat(o,"px, ").concat(u,"px) rotate(").concat(t,"rad) scale(").concat(e,")")}}function ma(t,e){var r=t[e];return tn(r)?W(W({},t),r):t}function Tg(t,e){e===void 0&&(e=t?Fr(t):null);var r=t&&!oi(t.offsetWidth),n=0,a=0,o=0,u=0,l=0,c=0,f=0,v=0,h=0,p=0,g=0,b=0,y=1/0,_=1/0,x=1/0,E=1/0,w=!1;if(t)if(!r&&t.tagName.toLowerCase()!=="svg"){var C=t.getBBox();w=!0,n=C.width,a=C.height,l=n,c=a,f=n,v=a,o=n,u=a}else{var I=t.style,R=e.boxSizing==="border-box",k=parseFloat(e.borderLeftWidth)||0,O=parseFloat(e.borderRightWidth)||0,B=parseFloat(e.borderTopWidth)||0,A=parseFloat(e.borderBottomWidth)||0,N=parseFloat(e.paddingLeft)||0,L=parseFloat(e.paddingRight)||0,z=parseFloat(e.paddingTop)||0,H=parseFloat(e.paddingBottom)||0,V=N+L,tt=z+H,J=k+O,ot=B+A,X=V+J,Q=tt+ot,lt=e.position,_t=0,Ct=0;if("clientLeft"in t){var gt=null;if(lt==="absolute"){var vt=Yi(t,document.body,!1);gt=vt.offsetParent}else gt=t.parentElement;if(gt){var yt=Fr(gt);_t=parseFloat(yt.width),Ct=parseFloat(yt.height)}}h=Math.max(V,Me(e.minWidth,_t)||0),p=Math.max(tt,Me(e.minHeight,Ct)||0),y=Me(e.maxWidth,_t),_=Me(e.maxHeight,Ct),isNaN(y)&&(y=1/0),isNaN(_)&&(_=1/0);var Dt=Me(I.width,0)||0,Et=Me(I.height,0)||0,T=parseFloat(e.width)||0,G=parseFloat(e.height)||0;l=parseFloat(e.width),c=parseFloat(e.height),f=Math.abs(T-Dt)<1?zs(h,Dt||l,y):T,v=Math.abs(G-Et)<1?zs(p,Et||c,_):G,n=f,a=v,o=f,u=v,R?(x=y,E=_,g=h,b=p,f=n-X,v=a-Q):(x=y+X,E=_+Q,g=h+X,b=p+Q,n=f+X,a=v+Q),o=f+V,u=v+tt}return{svg:w,offsetWidth:n,offsetHeight:a,clientWidth:o,clientHeight:u,contentWidth:f,contentHeight:v,cssWidth:l,cssHeight:c,minWidth:h,minHeight:p,maxWidth:y,maxHeight:_,minOffsetWidth:g,minOffsetHeight:b,maxOffsetWidth:x,maxOffsetHeight:E}}function Rg(t,e){return ke(e>0?t[0]:t[1],e>0?t[1]:t[0])}function ps(){return{left:0,top:0,width:0,height:0,right:0,bottom:0,clientLeft:0,clientTop:0,clientWidth:0,clientHeight:0,scrollWidth:0,scrollHeight:0}}function Ai(t,e){var r,n=0,a=0,o=0,u=0;if(t)if(t===document.body||t===document.documentElement){o=window.innerWidth,u=window.innerHeight;var l=f2();r=[-l[0],-l[1]],n=r[0],a=r[1]}else{var c=t.getBoundingClientRect();n=c.left,a=c.top,o=c.width,u=c.height}var f={left:n,top:a,width:o,height:u,right:n+o,bottom:a+u};return t&&e&&(f.clientLeft=t.clientLeft,f.clientTop=t.clientTop,f.clientWidth=t.clientWidth,f.clientHeight=t.clientHeight,f.scrollWidth=t.scrollWidth,f.scrollHeight=t.scrollHeight,f.overflow=Fr(t).overflow!=="visible"),f}function kg(t,e,r,n){var a;if(t)a=t;else if(e)a=[0,0];else{var o=r.target;a=Ig(o,n)}return a}function Ig(t,e){if(!!t){var r=t.getAttribute("data-rotation")||"",n=t.getAttribute("data-direction");if(e.deg=r,!!n){var a=[0,0];return n.indexOf("w")>-1&&(a[0]=-1),n.indexOf("e")>-1&&(a[0]=1),n.indexOf("n")>-1&&(a[1]=-1),n.indexOf("s")>-1&&(a[1]=1),a}}}function Jf(t,e){return[ue(e,t[0]),ue(e,t[1]),ue(e,t[2]),ue(e,t[3])]}function gr(t){var e=t.left,r=t.top,n=t.pos1,a=t.pos2,o=t.pos3,u=t.pos4;return Jf([n,a,o,u],[e,r])}function g2(t){return Math.round(t%1===-.5?t-1:t)}function ja(t,e){var r;(r=t[e])===null||r===void 0||r.unset(),t[e]=null}function qn(t,e){if(e){var r=fi(e);r.nextStyle=W(W({},r.nextStyle),t)}return{style:t,cssText:ui(t).map(function(n){return"".concat(xs(n,"-"),": ").concat(t[n],";")}).join("")}}function Og(t,e,r){var n=e.afterTransform||e.transform;return W(W({},qn(W(W(W({},t.style),e.style),{transform:n}),r)),{afterTransform:n,transform:t.transform})}function Ht(t,e,r,n){var a=e.datas;a.datas||(a.datas={});var o=W(W({},r),{target:t.state.target,clientX:e.clientX,clientY:e.clientY,inputEvent:e.inputEvent,currentTarget:t,moveable:t,datas:a.datas,stopDrag:function(){var u;(u=e.stop)===null||u===void 0||u.call(e)}});return a.isStartEvent?n||(a.lastEvent=o):a.isStartEvent=!0,o}function wr(t,e,r){var n=e.datas,a="isDrag"in r?r.isDrag:e.isDrag;return n.datas||(n.datas={}),W(W({isDrag:a},r),{moveable:t,target:t.state.target,clientX:e.clientX,clientY:e.clientY,inputEvent:e.inputEvent,currentTarget:t,lastEvent:n.lastEvent,isDouble:e.isDouble,datas:n.datas})}function tc(t,e,r){t._emitter.on(e,r)}function xt(t,e,r,n){return t.triggerEvent(e,r,n)}function Fr(t,e){return window.getComputedStyle(t,e)}function hs(t,e,r){var n={},a={};return t.filter(function(o){var u=o.name;if(n[u]||!e.some(function(l){return o[l]}))return!1;if(!r&&o.ableGroup){if(a[o.ableGroup])return!1;a[o.ableGroup]=!0}return n[u]=!0,!0})}function bf(t,e){return t===e||t==null&&e==null}function m2(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var r=t.length-1,n=0;n<r;++n){var a=t[n];if(!oi(a))return a}return t[r]}function Bg(t,e){var r=[],n=[];return t.forEach(function(a,o){var u=e(a,o,t),l=n.indexOf(u),c=r[l]||[];l===-1&&(n.push(u),r.push(c)),c.push(a)}),r}function b2(t,e){var r=[],n={};return t.forEach(function(a,o){var u=e(a,o,t),l=n[u];l||(l=[],n[u]=l,r.push(l)),l.push(a)}),r}function Pg(t){return t.reduce(function(e,r){return e.concat(r)},[])}function ni(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return t.sort(function(r,n){return Math.abs(n)-Math.abs(r)}),t[0]}function Ja(t,e,r){return Ze(en(t,r),ga(e,r),r)}function Ag(t,e){var r,n=t.is3d,a=t.rootMatrix,o=n?4:3;return r=Ja(a,[e.distX,e.distY],o),e.distX=r[0],e.distY=r[1],e}function gs(t,e,r,n,a){return Gt(Ve(t,ue(r,e),a),n)}function jr(t,e,r){return r?"".concat(t/e*100,"%"):"".concat(t,"px")}function Ns(t){return Math.abs(t)<=ur?0:t}function ec(t){return function(e){if(!e.isDragging(t))return"";var r=a2(e,t),n=r.deg;if(!n)return"";var a="view-".concat(t,"-dragging");return Rt(a,"view-control-rotation".concat(n))}}function rc(t,e){return e===void 0&&(e=[t]),function(r,n){if(n.isRequest)return e.some(function(o){return n.requestAble===o})?n.parentDirection:!1;var a=n.inputEvent.target;return ze(a,Rt("direction"))&&(!t||ze(a,Rt(t)))}}function y2(t){var e={};for(var r in t)e[t[r]]=r;return e}function _2(t,e){var r=t.slice(0,e<0?void 0:e),n=t.slice(0,e<0?void 0:e+1),a=t[e]||"",o=e<0?[]:t.slice(e),u=e<0?[]:t.slice(e+1),l=ua(r),c=ua(n),f=ua([a]),v=ua(o),h=ua(u),p=Xa(l),g=Xa(c),b=Xa(v),y=Xa(h),_=ye(p,b,4);return{transforms:t,beforeFunctionMatrix:p,beforeFunctionMatrix2:g,targetFunctionMatrix:Xa(f),afterFunctionMatrix:b,afterFunctionMatrix2:y,allFunctionMatrix:_,beforeFunctions:l,beforeFunctions2:c,targetFunction:f[0],afterFunctions:v,afterFunctions2:h,beforeFunctionTexts:r,beforeFunctionTexts2:n,targetFunctionText:a,afterFunctionTexts:o,afterFunctionTexts2:u}}function S2(t){return!t||!tn(t)||t instanceof Element?!1:Le(t)||"length"in t}function ba(t,e){return t?t instanceof Element?t:sr(t)?e?document.querySelector(t):t:Ph(t)?t():"current"in t?t.current:t:null}function nc(t,e){if(!t)return[];var r=S2(t)?[].slice.call(t):[t];return r.reduce(function(n,a){return sr(a)&&e?Ot(Ot([],n,!0),[].slice.call(document.querySelectorAll(a)),!0):(Le(a)?n.push(nc(a,e)):n.push(ba(a,e)),n)},[])}function x2(t,e,r){var n=ke(t,e)/Math.PI*180;return n=r>=0?n:180-n,n=n>=0?n:360+n,n}function _p(t,e){var r=t.rootMatrix,n=t.is3d,a=n?4:3,o=en(r,a);return n||(o=cn(o,3,4)),o[12]=0,o[13]=0,o[14]=0,Cs(o,e)}function zg(t,e,r,n,a){var o=t[0],u=t[1],l=0,c=0;if(a&&o&&u){var f=ke([0,0],e),v=ke([0,0],n),h=Jr(e),p=Math.cos(f-v)*h;if(!n[0])c=p,l=c*r;else if(!n[1])l=p,c=l/r;else{var g=n[0]*2*o,b=n[1]*2*u,y=Jr([g+e[0],b+e[1]])-Jr([g,b]),_=ke([0,0],[r,1]);l=Math.cos(_)*y,c=Math.sin(_)*y}}else l=n[0]*e[0],c=n[1]*e[1];return[l,c]}function Lg(t,e,r,n){var a,o=r.ratio,u=r.startOffsetWidth,l=r.startOffsetHeight,c=0,f=0,v=n.distX,h=n.distY,p=n.parentDistance,g=n.parentDist,b=n.parentScale,y=r.fixedDirection,_=[0,1].map(function(R){return Math.abs(t[R]-y[R])}),x=[0,1].map(function(R){var k=_[R];return k!==0&&(k=2/k),k});if(g)c=g[0],f=g[1],e&&(c?f||(f=c/o):c=f*o);else if(b)c=(b[0]-1)*u,f=(b[1]-1)*l;else if(p){var E=u*_[0],w=l*_[1],C=Jr([E,w]);c=p/C*E*x[0],f=p/C*w*x[1]}else{var I=dn({datas:r,distX:v,distY:h});I=x.map(function(R,k){return I[k]*R}),a=zg([u,l],I,o,t,e),c=a[0],f=a[1]}return{distWidth:c,distHeight:f}}var w2=no("pinchable",{events:{onPinchStart:"pinchStart",onPinch:"pinch",onPinchEnd:"pinchEnd",onPinchGroupStart:"pinchGroupStart",onPinchGroup:"pinchGroup",onPinchGroupEnd:"pinchGroupEnd"},dragStart:function(){return!0},pinchStart:function(t,e){var r=e.datas,n=e.targets,a=e.angle,o=e.originalDatas,u=t.props,l=u.pinchable,c=u.ables;if(!l)return!1;var f="onPinch".concat(n?"Group":"","Start"),v="drag".concat(n?"Group":"","ControlStart"),h=(l===!0?t.controlAbles:c.filter(function(y){return l.indexOf(y.name)>-1})).filter(function(y){return y.canPinch&&y[v]}),p=Ht(t,e,{});n&&(p.targets=n);var g=xt(t,f,p);r.isPinch=g!==!1,r.ables=h;var b=r.isPinch;return b?(h.forEach(function(y){if(o[y.name]=o[y.name]||{},!!y[v]){var _=W(W({},e),{datas:o[y.name],parentRotate:a,isPinch:!0});y[v](t,_)}}),t.state.snapRenderInfo={request:e.isRequest,direction:[0,0]},b):!1},pinch:function(t,e){var r=e.datas,n=e.scale,a=e.distance,o=e.originalDatas,u=e.inputEvent,l=e.targets,c=e.angle;if(!!r.isPinch){var f=a*(1-1/n),v=Ht(t,e,{});l&&(v.targets=l);var h="onPinch".concat(l?"Group":"");xt(t,h,v);var p=r.ables,g="drag".concat(l?"Group":"","Control");return p.forEach(function(b){!b[g]||b[g](t,W(W({},e),{datas:o[b.name],inputEvent:u,parentDistance:f,parentRotate:c,isPinch:!0}))}),v}},pinchEnd:function(t,e){var r=e.datas,n=e.isPinch,a=e.inputEvent,o=e.targets,u=e.originalDatas;if(!!r.isPinch){var l="onPinch".concat(o?"Group":"","End"),c=wr(t,e,{isDrag:n});o&&(c.targets=o),xt(t,l,c);var f=r.ables,v="drag".concat(o?"Group":"","ControlEnd");return f.forEach(function(h){!h[v]||h[v](t,W(W({},e),{isDrag:n,datas:u[h.name],inputEvent:a,isPinch:!0}))}),n}},pinchGroupStart:function(t,e){return this.pinchStart(t,W(W({},e),{targets:t.props.targets}))},pinchGroup:function(t,e){return this.pinch(t,W(W({},e),{targets:t.props.targets}))},pinchGroupEnd:function(t,e){return this.pinchEnd(t,W(W({},e),{targets:t.props.targets}))}});function Hn(t,e,r){var n=r.originalDatas;n.groupable=n.groupable||{};var a=n.groupable;a.childDatas=a.childDatas||[];var o=a.childDatas;return t.moveables.map(function(u,l){return o[l]=o[l]||{},o[l][e]=o[l][e]||{},W(W({},r),{datas:o[l][e],originalDatas:o[l]})})}function Bl(t,e,r,n,a,o,u){var l=!!r.match(/Start$/g),c=!!r.match(/End$/g),f=a.isPinch,v=a.datas,h=Hn(t,e.name,a),p=t.moveables,g=h.map(function(b,y){var _=p[y],x=_.state,E=x.gestos,w=b;if(l)w=new ri(u).dragStart(n,b);else{if(E[u]||(E[u]=v.childGestos[y]),!E[u])return;w=ao(b,x,n,f,o,u)}var C=e[r](_,W(W({},w),{parentFlag:!0}));return c&&(E[u]=null),C});return l&&(v.childGestos=p.map(function(b){return b.state.gestos[u]})),g}function En(t,e,r,n,a,o){a===void 0&&(a=function(v,h){return h});var u=!!r.match(/End$/g),l=Hn(t,e.name,n),c=t.moveables,f=l.map(function(v,h){var p=c[h],g=v;g=a(p,v);var b=e[r](p,W(W({},g),{parentFlag:!0}));return b&&o&&o(p,v,b,h),u&&(p.state.gestos={}),b});return f}var C2=["left","right","center"],E2=["top","bottom","middle"],Yn={start:"left",end:"right",center:"center"},Xn={start:"top",end:"bottom",center:"middle"};function ci(t,e){var r=t.props,n=r.snappable,a=r.bounds,o=r.innerBounds,u=r.verticalGuidelines,l=r.horizontalGuidelines,c=r.snapGridWidth,f=r.snapGridHeight,v=t.state,h=v.guidelines,p=v.enableSnap;return!n||!p||e&&n!==!0&&n.indexOf(e)<0?!1:!!(c||f||a||o||h&&h.length||u&&u.length||l&&l.length)}function ac(t){return t===!1?{}:t===!0||!t?{left:!0,right:!0,top:!0,bottom:!0}:t}function M2(t,e){var r=ac(t),n={};for(var a in r)a in e&&r[a]&&(n[a]=e[a]);return n}function ic(t,e){var r=M2(t,e),n=E2.filter(function(o){return o in r}),a=C2.filter(function(o){return o in r});return{horizontal:n.map(function(o){return r[o]}),vertical:a.map(function(o){return r[o]})}}function D2(t,e,r){var n=Ve(t,[e.clientLeft,e.clientTop],r);return[e.left+n[0],e.top+n[1]]}function T2(t){var e=t[0],r=t[1],n=r[0]-e[0],a=r[1]-e[1];Math.abs(n)<Ae&&(n=0),Math.abs(a)<Ae&&(a=0);var o=0,u=0,l=0;return n?a?(o=-a/n,u=1,l=o*e[0]-e[1]):(u=1,l=-e[1]):(o=-1,l=e[0]),[o,u,l].map(function(c){return re(c,Ae)})}function nu(t,e,r,n){var a=t.props,o=m2(n,a.snapThreshold,5);return Fg(t.state.guidelines,e,r,o)}function Fg(t,e,r,n){return{vertical:xp(t,"vertical",e,n),horizontal:xp(t,"horizontal",r,n)}}function R2(t,e,r){var n=r[0],a=r[1],o=e[0],u=e[1],l=Gt(r,e),c=l[0],f=l[1],v=f>0,h=c>0;c=Ns(c),f=Ns(f);var p={isSnap:!1,offset:0,pos:0},g={isSnap:!1,offset:0,pos:0};if(c===0&&f===0)return{vertical:p,horizontal:g};var b=nu(t,c?[n]:[],f?[a]:[]),y=b.vertical,_=b.horizontal;y.posInfos.filter(function(H){var V=H.pos;return h?V>=o:V<=o}),_.posInfos.filter(function(H){var V=H.pos;return v?V>=u:V<=u}),y.isSnap=y.posInfos.length>0,_.isSnap=_.posInfos.length>0;var x=yf(y),E=x.isSnap,w=x.guideline,C=yf(_),I=C.isSnap,R=C.guideline,k=I?R.pos[1]:0,O=E?w.pos[0]:0;if(c===0)I&&(g.isSnap=!0,g.pos=R.pos[1],g.offset=a-g.pos);else if(f===0)E&&(p.isSnap=!0,p.pos=O,p.offset=n-O);else{var B=f/c,A=r[1]-B*n,N=0,L=0,z=!1;E?(L=O,N=B*L+A,z=!0):I&&(N=k,L=(N-A)/B,z=!0),z&&(p.isSnap=!0,p.pos=L,p.offset=n-L,g.isSnap=!0,g.pos=N,g.offset=a-N)}return{vertical:p,horizontal:g}}function Sp(t,e,r){var n=ic(t.props.snapDirections,e);return nu(t,n.vertical,n.horizontal,r)}function yf(t){var e=t.isSnap;if(!e)return{isSnap:!1,offset:0,dist:-1,pos:0,guideline:null};var r=t.posInfos[0],n=r.guidelineInfos[0],a=n.offset,o=n.dist,u=n.guideline;return{isSnap:e,offset:a,dist:o,pos:r.pos,guideline:u}}function xp(t,e,r,n){if(!t||!t.length)return{isSnap:!1,index:-1,posInfos:[]};var a=e==="vertical",o=a?0:1,u=r.map(function(c,f){var v=t.map(function(h){var p=h.pos,g=c-p[o];return{offset:g,dist:Math.abs(g),guideline:h}}).filter(function(h){var p=h.guideline,g=h.dist,b=p.type;return!(b!==e||g>n)}).sort(function(h,p){return h.dist-p.dist});return{pos:c,index:f,guidelineInfos:v}}).filter(function(c){return c.guidelineInfos.length>0}).sort(function(c,f){return c.guidelineInfos[0].dist-f.guidelineInfos[0].dist}),l=u.length>0;return{isSnap:l,index:l?u[0].index:-1,posInfos:u}}function k2(t,e,r){var n=[];if(r[0]&&r[1])n=[r,[-r[0],r[1]],[r[0],-r[1]]].map(function(u){return Re(e,u)});else if(!r[0]&&!r[1])for(var a=[e[0],e[1],e[3],e[2],e[0]],o=0;o<4;++o)n.push(a[o]),n.push([(a[o][0]+a[o+1][0])/2,(a[o][1]+a[o+1][1])/2]);else t.props.keepRatio?n=[[-1,-1],[-1,1],[1,-1],[1,1],r].map(function(u){return Re(e,u)}):(n=jE(e,r),n.length>1&&n.push([(n[0][0]+n[1][0])/2,(n[0][1]+n[1][1])/2]));return nu(t,n.map(function(u){return u[0]}),n.map(function(u){return u[1]}),1)}function Gg(t,e){var r=Math.abs(t.offset),n=Math.abs(e.offset);return t.isBound&&e.isBound?n-r:t.isBound?-1:e.isBound?1:t.isSnap&&e.isSnap?n-r:t.isSnap?-1:e.isSnap||r<ur?1:n<ur?-1:r-n}function Ws(t,e){return t.slice().sort(function(r,n){var a=r.sign[e],o=n.sign[e],u=r.offset[e],l=n.offset[e];if(a){if(!o)return-1}else return 1;return Gg({isBound:r.isBound,isSnap:r.isSnap,offset:u},{isBound:n.isBound,isSnap:n.isSnap,offset:l})})[0]}function I2(t,e,r){var n=[];if(r)Math.abs(e[0])!==1||Math.abs(e[1])!==1?n.push([e,[-1,-1]],[e,[-1,1]],[e,[1,-1]],[e,[1,1]]):n.push([e,[t[0],-t[1]]],[e,[-t[0],t[1]]]),n.push([e,t]);else if(t[0]&&t[1]||!t[0]&&!t[1]){var a=t[0]?t:[1,1];[1,-1].forEach(function(u){[1,-1].forEach(function(l){var c=[u*a[0],l*a[1]];e[0]===c[0]&&e[1]===c[1]||n.push([e,c])})})}else if(t[0]){var o=Math.abs(e[0])===1?[1]:[1,-1];o.forEach(function(u){n.push([[e[0],-1],[u*t[0],-1]],[[e[0],0],[u*t[0],0]],[[e[0],1],[u*t[0],1]])})}else if(t[1]){var o=Math.abs(e[1])===1?[1]:[1,-1];o.forEach(function(l){n.push([[-1,e[1]],[-1,l*t[1]]],[[0,e[1]],[0,l*t[1]]],[[1,e[1]],[1,l*t[1]]])})}return n}function $g(t,e){var r=Kl([e[0][0],e[1][0]]),n=Kl([e[0][1],e[1][1]]);return{vertical:r<=t[0],horizontal:n<=t[1]}}function oc(t,e){var r=e[0],n=e[1],a=n[0]-r[0],o=n[1]-r[1];Math.abs(a)<ur&&(a=0),Math.abs(o)<ur&&(o=0);var u,l;if(!a)u=r[0],l=t[0];else if(!o)u=r[1],l=t[1];else{var c=o/a;u=c*(t[0]-r[0])+r[1],l=t[1]}return u-l}function qg(t,e,r,n){return n===void 0&&(n=ur),t.every(function(a){var o=oc(a,e),u=o<=0;return u===r||Math.abs(o)<=n})}function wp(t,e,r,n,a){return a===void 0&&(a=0),n&&e-a<=t||!n&&t<=r+a?{isBound:!0,offset:n?e-t:r-t}:{isBound:!1,offset:0}}function O2(t,e){var r=e.line,n=e.centerSign,a=e.verticalSign,o=e.horizontalSign,u=e.lineConstants,l=t.props.innerBounds;if(!l)return{isAllBound:!1,isBound:!1,isVerticalBound:!1,isHorizontalBound:!1,offset:[0,0]};var c=l.left,f=l.top,v=l.width,h=l.height,p=[[c,f],[c,f+h]],g=[[c,f],[c+v,f]],b=[[c+v,f],[c+v,f+h]],y=[[c,f+h],[c+v,f+h]];if(qg([[c,f],[c+v,f],[c,f+h],[c+v,f+h]],r,n))return{isAllBound:!1,isBound:!1,isVerticalBound:!1,isHorizontalBound:!1,offset:[0,0]};var _=Nn(r,u,g,a),x=Nn(r,u,y,a),E=Nn(r,u,p,o),w=Nn(r,u,b,o),C=_.isBound&&x.isBound,I=_.isBound||x.isBound,R=E.isBound&&w.isBound,k=E.isBound||w.isBound,O=ni(_.offset,x.offset),B=ni(E.offset,w.offset),A=[0,0],N=!1,L=!1;return Math.abs(B)<Math.abs(O)?(A=[O,0],N=I,L=C):(A=[0,B],N=k,L=R),{isAllBound:L,isVerticalBound:I,isHorizontalBound:k,isBound:N,offset:A}}function Nn(t,e,r,n,a,o){var u=e[0],l=e[1],c=t[0],f=r[0],v=r[1],h=Ns(v[1]-f[1]),p=Ns(v[0]-f[0]),g=l,b=u,y=-u/l;if(p){if(!h){if(o&&!g)return{isBound:!1,offset:0};if(b){var w=(f[1]-c[1])/y+c[0];return wp(w,f[0],v[0],n,a)}else{var x=f[1]-c[1],E=Math.abs(x)<=(a||0);return{isBound:E,offset:E?x:0}}}}else{if(o&&!b)return{isBound:!1,offset:0};if(g){var _=y*(f[0]-c[0])+c[1];return wp(_,f[1],v[1],n,a)}else{var x=f[0]-c[0],E=Math.abs(x)<=(a||0);return{isBound:E,offset:E?x:0}}}return{isBound:!1,offset:0}}function Ng(t,e,r){return e.map(function(n){var a=O2(t,n),o=a.isBound,u=a.offset,l=a.isVerticalBound,c=a.isHorizontalBound,f=n.multiple,v=dn({datas:r,distX:u[0],distY:u[1]}).map(function(h,p){return h*(f[p]?2/f[p]:0)});return{sign:f,isBound:o,isVerticalBound:l,isHorizontalBound:c,isSnap:!1,offset:v}})}function B2(t,e,r){var n,a=sc(t,e,[0,0],!1).map(function(p){return W(W({},p),{multiple:p.multiple.map(function(g){return Math.abs(g)*2})})}),o=Ng(t,a,r),u=Ws(o,0),l=Ws(o,1),c=0,f=0,v=u.isVerticalBound||l.isVerticalBound,h=u.isHorizontalBound||l.isHorizontalBound;return(v||h)&&(n=UE({datas:r,distX:-u.offset[0],distY:-l.offset[1]}),c=n[0],f=n[1]),{vertical:{isBound:v,offset:c},horizontal:{isBound:h,offset:f}}}function P2(t,e){var r=[],n=t[0],a=t[1];return n&&a?r.push([[0,a*2],t,[-n,a]],[[n*2,0],t,[n,-a]]):n?(r.push([[n*2,0],[n,1],[n,-1]]),e&&r.push([[0,-1],[n,-1],[-n,-1]],[[0,1],[n,1],[-n,1]])):a?(r.push([[0,a*2],[1,a],[-1,a]]),e&&r.push([[-1,0],[-1,a],[-1,-a]],[[1,0],[1,a],[1,-a]])):r.push([[-1,0],[-1,-1],[-1,1]],[[1,0],[1,-1],[1,1]],[[0,-1],[-1,-1],[1,-1]],[[0,1],[-1,1],[1,1]]),r}function sc(t,e,r,n){var a=t.state,o=a.allMatrix,u=a.is3d,l=wa(o,100,100,u?4:3),c=Re(l,[0,0]);return P2(r,n).map(function(f){var v=f[0],h=f[1],p=f[2],g=[Re(l,h),Re(l,p)],b=T2(g),y=$g(c,g),_=y.vertical,x=y.horizontal,E=oc(c,g)<=0;return{multiple:v,centerSign:E,verticalSign:_,horizontalSign:x,lineConstants:b,line:[Re(e,h),Re(e,p)]}})}function Cp(t,e,r,n){var a=n?t.map(function(o){return js(o,n)}):t;return[[a[0],a[1]],[a[1],a[3]],[a[3],a[2]],[a[2],a[0]]].some(function(o){var u=oc(r,o)<=0;return!qg(e,o,u)})}function A2(t){var e=t[0],r=t[1],n=r[0]-e[0],a=r[1]-e[1];if(!n)return Math.abs(e[0]);if(!a)return Math.abs(e[1]);var o=a/n;return Math.abs((-o*e[0]+e[1])/Math.sqrt(Math.pow(o,2)+1))}function z2(t){var e=t[0],r=t[1],n=r[0]-e[0],a=r[1]-e[1];if(!n)return[e[0],0];if(!a)return[0,e[1]];var o=a/n,u=-o*e[0]+e[1];return[-u/(o+1/o),u/(o*o+1)]}function L2(t,e,r,n,a){var o=t.props.innerBounds,u=a*Math.PI/180;if(!o)return[];var l=o.left,c=o.top,f=o.width,v=o.height,h=l-n[0],p=l+f-n[0],g=c-n[1],b=c+v-n[1],y=[[h,g],[p,g],[h,b],[p,b]],_=Re(r,[0,0]);if(!Cp(r,y,_,0))return[];var x=[],E=y.map(function(w){return[Jr(w),ke([0,0],w)]});return[[r[0],r[1]],[r[1],r[3]],[r[3],r[2]],[r[2],r[0]]].forEach(function(w){var C=ke([0,0],z2(w)),I=A2(w);x.push.apply(x,E.filter(function(R){var k=R[0];return k&&I<=k}).map(function(R){var k=R[0],O=R[1],B=Math.acos(k?I/k:0),A=O+B,N=O-B;return[u+A-C,u+N-C]}).reduce(function(R,k){return R.push.apply(R,k),R},[]).filter(function(R){return!Cp(e,y,_,R)}).map(function(R){return re(R*180/Math.PI,ur)}))}),x}function F2(t){var e=t.props.innerBounds;if(!e)return{vertical:[],horizontal:[]};var r=t.getRect(),n=r.pos1,a=r.pos2,o=r.pos3,u=r.pos4,l=[n,a,o,u],c=Re(l,[0,0]),f=e.left,v=e.top,h=e.width,p=e.height,g=[[f,v],[f,v+p]],b=[[f,v],[f+h,v]],y=[[f+h,v],[f+h,v+p]],_=[[f,v+p],[f+h,v+p]],x=sc(t,l,[0,0],!1),E=[],w=[],C={top:!1,bottom:!1,left:!1,right:!1};return x.forEach(function(I){var R=I.line,k=I.lineConstants,O=$g(c,R),B=O.horizontal,A=O.vertical,N=Nn(R,k,b,A,1,!0),L=Nn(R,k,_,A,1,!0),z=Nn(R,k,g,B,1,!0),H=Nn(R,k,y,B,1,!0);N.isBound&&!C.top&&(E.push(v),C.top=!0),L.isBound&&!C.bottom&&(E.push(v+p),C.bottom=!0),z.isBound&&!C.left&&(w.push(f),C.left=!0),H.isBound&&!C.right&&(w.push(f+h),C.right=!0)}),{horizontal:E,vertical:w}}function uc(t,e,r){var n=t||{},a=n.position,o=a===void 0?"client":a,u=n.left,l=u===void 0?-1/0:u,c=n.top,f=c===void 0?-1/0:c,v=n.right,h=v===void 0?1/0:v,p=n.bottom,g=p===void 0?1/0:p,b={position:o,left:l,top:f,right:h,bottom:g};return{vertical:Ep(b,e,!0),horizontal:Ep(b,r,!1)}}function au(t,e){var r=t.state,n=r.containerClientRect,a=n.clientHeight,o=n.clientWidth,u=n.clientLeft,l=n.clientTop,c=r.snapOffset,f=c.left,v=c.top,h=c.right,p=c.bottom,g=e||t.props.bounds||{},b=g.position||"client",y=b==="css",_=g.left,x=_===void 0?-1/0:_,E=g.top,w=E===void 0?-1/0:E,C=g.right,I=C===void 0?y?-1/0:1/0:C,R=g.bottom,k=R===void 0?y?-1/0:1/0:R;return y&&(I=o+h-f-I,k=a+p-v-k),{left:x+f-u,right:I+f-u,top:w+v-l,bottom:k+v-l}}function G2(t,e,r){var n=au(t),a=n.left,o=n.top,u=n.right,l=n.bottom,c=r[0],f=r[1],v=Gt(r,e),h=v[0],p=v[1];Math.abs(h)<ur&&(h=0),Math.abs(p)<ur&&(p=0);var g=p>0,b=h>0,y={isBound:!1,offset:0,pos:0},_={isBound:!1,offset:0,pos:0};if(h===0&&p===0)return{vertical:y,horizontal:_};if(h===0)g?l<f&&(_.pos=l,_.offset=f-l):o>f&&(_.pos=o,_.offset=f-o);else if(p===0)b?u<c&&(y.pos=u,y.offset=c-u):a>c&&(y.pos=a,y.offset=c-a);else{var x=p/h,E=r[1]-x*c,w=0,C=0,I=!1;b&&u<=c?(w=x*u+E,C=u,I=!0):!b&&c<=a&&(w=x*a+E,C=a,I=!0),I&&(w<o||w>l)&&(I=!1),I||(g&&l<=f?(w=l,C=(w-E)/x,I=!0):!g&&f<=o&&(w=o,C=(w-E)/x,I=!0)),I&&(y.isBound=!0,y.pos=C,y.offset=c-C,_.isBound=!0,_.pos=w,_.offset=f-w)}return{vertical:y,horizontal:_}}function Ep(t,e,r){var n=t[r?"left":"top"],a=t[r?"right":"bottom"],o=Math.min.apply(Math,e),u=Math.max.apply(Math,e),l=[];return n+1>o&&l.push({isBound:!0,offset:o-n,pos:n}),a-1<u&&l.push({isBound:!0,offset:u-a,pos:a}),l.length||l.push({isBound:!1,offset:0,pos:0}),l.sort(function(c,f){return Math.abs(f.offset)-Math.abs(c.offset)})}function Mp(t,e,r){var n=r?t.map(function(a){return js(a,r)}):t;return n.some(function(a){return a[0]<e.left&&Math.abs(a[0]-e.left)>.1||a[0]>e.right&&Math.abs(a[0]-e.right)>.1||a[1]<e.top&&Math.abs(a[1]-e.top)>.1||a[1]>e.bottom&&Math.abs(a[1]-e.bottom)>.1})}function $2(t,e,r){var n=Jr(t),a=Math.sqrt(n*n-e*e)||0;return[a,-a].sort(function(o,u){return Math.abs(o-t[r?0:1])-Math.abs(u-t[r?0:1])}).map(function(o){return ke([0,0],r?[o,e]:[e,o])})}function q2(t,e,r,n,a){if(!t.props.bounds)return[];var o=a*Math.PI/180,u=au(t),l=u.left,c=u.top,f=u.right,v=u.bottom,h=l-n[0],p=f-n[0],g=c-n[1],b=v-n[1],y={left:h,top:g,right:p,bottom:b};if(!Mp(r,y,0))return[];var _=[];return[[h,0],[p,0],[g,1],[b,1]].forEach(function(x){var E=x[0],w=x[1];r.forEach(function(C){var I=ke([0,0],C);_.push.apply(_,$2(C,E,w).map(function(R){return o+R-I}).filter(function(R){return!Mp(e,y,R)}).map(function(R){return re(R*180/Math.PI,ur)}))})}),_}function N2(t,e){var r,n=t.direction,a=t.classNames,o=t.size,u=t.pos,l=t.zoom,c=t.key,f=n==="horizontal",v=f?"Y":"X";return e.createElement("div",{key:c,className:a.join(" "),style:(r={},r[f?"width":"height"]="".concat(o),r.transform="translate(".concat(u[0],", ").concat(u[1],") translate").concat(v,"(-50%) scale").concat(v,"(").concat(l,")"),r)})}function lc(t,e){return N2(W(W({},t),{classNames:Ot([Rt("line","guideline",t.direction)],t.classNames,!0).filter(function(r){return r}),size:t.size||"".concat(t.sizeValue,"px"),pos:t.pos||t.posValue.map(function(r){return"".concat(re(r,.1),"px")})}),e)}function Dp(t,e,r,n,a,o,u,l){var c=t.props.zoom;return r.map(function(f,v){var h=f.type,p=f.pos,g=[0,0];return g[u]=n,g[u?0:1]=-a+p,lc({key:"".concat(e,"TargetGuideline").concat(v),classNames:[Rt("target","bold",h)],posValue:g,sizeValue:o,zoom:c,direction:e},l)})}function Tp(t,e,r,n,a,o){var u=t.props,l=u.zoom,c=u.isDisplayInnerSnapDigit,f=e==="horizontal"?Yn:Xn,v=a[f.start],h=a[f.end];return r.filter(function(p){var g=p.hide,b=p.elementRect;if(g)return!1;if(c&&b){var y=b.rect;if(y[f.start]<=v&&h<=y[f.end])return!1}return!0}).map(function(p,g){var b=p.pos,y=p.size,_=p.element,x=p.className,E=[-n[0]+b[0],-n[1]+b[1]];return lc({key:"".concat(e,"-default-guideline-").concat(g),classNames:_?[Rt("bold"),x]:[Rt("normal"),x],direction:e,posValue:E,sizeValue:y,zoom:l},o)})}function zi(t,e,r,n,a,o,u,l){var c,f=t.props,v=f.snapDigit,h=v===void 0?0:v,p=f.isDisplaySnapDigit,g=p===void 0?!0:p,b=f.snapDistFormat,y=b===void 0?function(I,R){return I}:b,_=f.zoom,x=e==="horizontal"?"X":"Y",E=e==="vertical"?"height":"width",w=Math.abs(a),C=g?parseFloat(w.toFixed(h)):0;return l.createElement("div",{key:"".concat(e,"-").concat(r,"-guideline-").concat(n),className:Rt("guideline-group",e),style:(c={left:"".concat(o[0],"px"),top:"".concat(o[1],"px")},c[E]="".concat(w,"px"),c)},lc({direction:e,classNames:[Rt(r),u],size:"100%",posValue:[0,0],sizeValue:w,zoom:_},l),l.createElement("div",{className:Rt("size-value","gap"),style:{transform:"translate".concat(x,"(-50%) scale(").concat(_,")")}},C>0?y(C,e):""))}function W2(t,e,r,n){var a=t==="vertical"?0:1,o=t==="vertical"?1:0,u=a?Yn:Xn,l=r[u.start],c=r[u.end];return Bg(e,function(f){return f.pos[a]}).map(function(f){var v=[],h=[],p=[];return f.forEach(function(g){var b,y,_=g.element,x=g.elementRect.rect;if(x[u.end]<l)v.push(g);else if(c<x[u.start])h.push(g);else if(x[u.start]<=l&&c<=x[u.end]&&n){var E=g.pos,w={element:_,rect:W(W({},x),(b={},b[u.end]=x[u.start],b))},C={element:_,rect:W(W({},x),(y={},y[u.start]=x[u.end],y))},I=[0,0],R=[0,0];I[a]=E[a],I[o]=E[o],R[a]=E[a],R[o]=E[o]+g.size,v.push({type:t,pos:I,size:0,elementRect:w}),h.push({type:t,pos:R,size:0,elementRect:C})}}),v.sort(function(g,b){return b.pos[o]-g.pos[o]}),h.sort(function(g,b){return g.pos[o]-b.pos[o]}),{total:f,start:v,end:h,inner:p}})}function V2(t,e,r,n,a){var o=t.props.isDisplayInnerSnapDigit,u=[];return["vertical","horizontal"].forEach(function(l){var c=e.filter(function(_){return _.type===l}),f=l==="vertical"?1:0,v=f?0:1,h=W2(l,c,n,o),p=f?Xn:Yn,g=f?Yn:Xn,b=n[p.start],y=n[p.end];h.forEach(function(_){var x=_.total,E=_.start,w=_.end,C=_.inner,I=r[v]+x[0].pos[v]-n[g.start],R=n;E.forEach(function(k){var O=k.elementRect.rect,B=R[p.start]-O[p.end];if(B>0){var A=[0,0];A[f]=r[f]+R[p.start]-b-B,A[v]=I,u.push(zi(t,l,"dashed",u.length,B,A,k.className,a))}R=O}),R=n,w.forEach(function(k){var O=k.elementRect.rect,B=O[p.start]-R[p.end];if(B>0){var A=[0,0];A[f]=r[f]+R[p.end]-b,A[v]=I,u.push(zi(t,l,"dashed",u.length,B,A,k.className,a))}R=O}),C.forEach(function(k){var O=k.elementRect.rect,B=b-O[p.start],A=O[p.end]-y,N=[0,0],L=[0,0];N[f]=r[f]-B,N[v]=I,L[f]=r[f]+y-b,L[v]=I,u.push(zi(t,l,"dashed",u.length,B,N,k.className,a)),u.push(zi(t,l,"dashed",u.length,A,L,k.className,a))})})}),u}function H2(t,e,r,n,a){var o=[];return["horizontal","vertical"].forEach(function(u){var l=e.filter(function(_){return _.type===u}).slice(0,1),c=u==="vertical"?0:1,f=c?0:1,v=c?Xn:Yn,h=c?Yn:Xn,p=n[v.start],g=n[v.end],b=n[h.start],y=n[h.end];l.forEach(function(_){var x=_.gap,E=_.gapRects,w=Math.max.apply(Math,Ot([b],E.map(function(R){var k=R.rect;return k[h.start]}),!1)),C=Math.min.apply(Math,Ot([y],E.map(function(R){var k=R.rect;return k[h.end]}),!1)),I=(w+C)/2;w===C||I===(b+y)/2||E.forEach(function(R){var k=R.rect,O=R.className,B=[r[0],r[1]];if(k[v.end]<p)B[c]+=k[v.end]-p;else if(g<k[v.start])B[c]+=k[v.start]-p-x;else return;B[f]+=I-b,o.push(zi(t,c?"vertical":"horizontal","gap",o.length,x,B,O,a))})})}),o}function Y2(t,e,r,n){var a=e[0]-t[0],o=e[1]-t[1];if(Math.abs(a)<Ae&&(a=0),Math.abs(o)<Ae&&(o=0),!a)return n?[0,0]:[0,r];if(!o)return n?[r,0]:[0,0];var u=o/a,l=t[1]-u*t[0];if(n){var c=u*(e[0]+r)+l;return[r,c-e[1]]}else{var f=(e[1]+r-l)/u;return[f-e[0],r]}}function _f(t,e,r,n,a){var o=Y2(t,e,r,n);if(!o)return{isOutside:!1,offset:[0,0]};var u=Qr(t,e),l=Qr(o,t),c=Qr(o,e),f=l>u||c>u,v=dn({datas:a,distX:o[0],distY:o[1]}),h=v[0],p=v[1];return{offset:[h,p],isOutside:f}}function Vs(t,e){return t.isBound?t.offset:e.isSnap?yf(e).offset:0}function X2(t,e,r,n,a){var o=e[0],u=e[1],l=r[0],c=r[1],f=n[0],v=n[1],h=a[0],p=a[1],g=-h,b=-p;if(t&&o&&u){g=0,b=0;var y=[];if(l&&c?y.push([0,p],[h,0]):l?y.push([h,0]):c?y.push([0,p]):f&&v?y.push([0,p],[h,0]):f?y.push([h,0]):v&&y.push([0,p]),y.length){y.sort(function(w,C){return Jr(Gt([o,u],w))-Jr(Gt([o,u],C))});var _=y[0];if(_[0]&&Math.abs(o)>Ae)g=-_[0],b=u*Math.abs(o+g)/Math.abs(o)-u;else if(_[1]&&Math.abs(u)>Ae){var x=u;b=-_[1],g=o*Math.abs(u+b)/Math.abs(x)-o}if(t&&c&&l)if(Math.abs(g)>Ae&&Math.abs(g)<Math.abs(h)){var E=Math.abs(h)/Math.abs(g);g*=E,b*=E}else if(Math.abs(b)>Ae&&Math.abs(b)<Math.abs(p)){var E=Math.abs(p)/Math.abs(b);g*=E,b*=E}else g=ni(-h,g),b=ni(-p,b)}}else g=o||l?-h:0,b=u||c?-p:0;return[g,b]}function U2(t,e,r,n,a,o){if(!ci(t,"draggable"))return[{isSnap:!1,isBound:!1,offset:0},{isSnap:!1,isBound:!1,offset:0}];var u=Jf(o.absolutePoses,[e,r]),l=Lr(u),c=l.left,f=l.right,v=l.top,h=l.bottom,p={horizontal:u.map(function(H){return H[1]}),vertical:u.map(function(H){return H[0]})},g=ac(t.props.snapDirections),b=ic(g,{left:c,right:f,top:v,bottom:h,center:(c+f)/2,middle:(v+h)/2}),y=iu(t,a,b,p),_=y.vertical,x=y.horizontal,E=B2(t,u,o),w=E.vertical,C=E.horizontal,I=_.isSnap,R=x.isSnap,k=_.isBound||w.isBound,O=x.isBound||C.isBound,B=ni(_.offset,w.offset),A=ni(x.offset,C.offset),N=X2(n,[e,r],[k,O],[I,R],[B,A]),L=N[0],z=N[1];return[{isBound:k,isSnap:I,offset:L},{isBound:O,isSnap:R,offset:z}]}function iu(t,e,r,n){n===void 0&&(n=r);var a=uc(au(t),n.vertical,n.horizontal),o=a.horizontal,u=a.vertical,l=e?{horizontal:{isSnap:!1,index:-1},vertical:{isSnap:!1,index:-1}}:nu(t,r.vertical,r.horizontal),c=l.horizontal,f=l.vertical,v=Vs(o[0],c),h=Vs(u[0],f),p=Math.abs(v),g=Math.abs(h);return{horizontal:{isBound:o[0].isBound,isSnap:c.isSnap,snapIndex:c.index,offset:v,dist:p,bounds:o,snap:c},vertical:{isBound:u[0].isBound,isSnap:f.isSnap,snapIndex:f.index,offset:h,dist:g,bounds:u,snap:f}}}function Rp(t,e,r,n,a){var o=uc(e,r,n),u=o.horizontal,l=o.vertical,c=Fg(t,r,n,a),f=c.horizontal,v=c.vertical,h=Vs(u[0],f),p=Vs(l[0],v),g=Math.abs(h),b=Math.abs(p);return{horizontal:{isBound:u[0].isBound,isSnap:f.isSnap,snapIndex:f.index,offset:h,dist:g,bounds:u,snap:f},vertical:{isBound:l[0].isBound,isSnap:v.isSnap,snapIndex:v.index,offset:p,dist:b,bounds:l,snap:v}}}function K2(t,e,r,n){var a=ke(t,e)/Math.PI*180,o=r.vertical,u=o.isBound,l=o.isSnap,c=o.dist,f=r.horizontal,v=f.isBound,h=f.isSnap,p=f.dist,g=a%180,b=g<3||g>177,y=g>87&&g<93;return p<c&&(u||l&&!y&&(!n||!b))?"vertical":v||h&&!b&&(!n||!y)?"horizontal":""}function j2(t,e,r,n,a,o){return r.map(function(u){var l=u[0],c=u[1],f=Re(e,l),v=Re(e,c),h=n?Z2(t,f,v,a):iu(t,a,{vertical:[v[0]],horizontal:[v[1]]}),p=h.horizontal,g=p.offset,b=p.isBound,y=p.isSnap,_=h.vertical,x=_.offset,E=_.isBound,w=_.isSnap,C=Gt(c,l);if(!x&&!g)return{isBound:E||b,isSnap:w||y,sign:C,offset:[0,0]};var I=K2(f,v,h,n);if(!I)return{sign:C,isBound:!1,isSnap:!1,offset:[0,0]};var R=I==="vertical",k=[0,0];return!n&&Math.abs(c[0])===1&&Math.abs(c[1])===1&&l[0]!==c[0]&&l[1]!==c[1]?k=dn({datas:o,distX:-x,distY:-g}):k=_f(f,v,-(R?x:g),R,o).offset,k=k.map(function(O,B){return O*(C[B]?2/C[B]:0)}),{sign:C,isBound:R?E:b,isSnap:R?w:y,offset:k}})}function kp(t,e){return t.isBound?t.offset:e.isSnap?e.offset:0}function Z2(t,e,r,n){var a=G2(t,e,r),o=a.horizontal,u=a.vertical,l=n?{horizontal:{isSnap:!1},vertical:{isSnap:!1}}:R2(t,e,r),c=l.horizontal,f=l.vertical,v=kp(o,c),h=kp(u,f),p=Math.abs(v),g=Math.abs(h);return{horizontal:{isBound:o.isBound,isSnap:c.isSnap,offset:v,dist:p},vertical:{isBound:u.isBound,isSnap:f.isSnap,offset:h,dist:g}}}function Q2(t,e,r,n,a){var o=[-r[0],-r[1]],u=t.state,l=u.width,c=u.height,f=t.props.bounds,v=1/0,h=1/0;if(f){var p=[[r[0],-r[1]],[-r[0],r[1]]],g=f.left,b=g===void 0?-1/0:g,y=f.top,_=y===void 0?-1/0:y,x=f.right,E=x===void 0?1/0:x,w=f.bottom,C=w===void 0?1/0:w;p.forEach(function(I){var R=I[0]!==o[0],k=I[1]!==o[1],O=Re(e,I),B=ke(n,O)*360/Math.PI;if(k){var A=O.slice();(Math.abs(B-360)<2||Math.abs(B-180)<2)&&(A[1]=n[1]);var N=_f(n,A,(n[1]<O[1]?C:_)-O[1],!1,a),L=N.offset,z=L[1],H=N.isOutside;isNaN(z)||(h=c+(H?1:-1)*Math.abs(z))}if(R){var A=O.slice();(Math.abs(B-90)<2||Math.abs(B-270)<2)&&(A[0]=n[0]);var V=_f(n,A,(n[0]<O[0]?E:b)-O[0],!0,a),tt=V.offset[0],J=V.isOutside;isNaN(tt)||(v=l+(J?1:-1)*Math.abs(tt))}})}return{maxWidth:v,maxHeight:h}}function Sf(t){var e=t.state,r=e.snapOffset,n=e.containerClientRect,a=n.overflow,o=n.scrollHeight,u=n.scrollWidth,l=n.clientHeight,c=n.clientWidth,f=n.clientLeft,v=n.clientTop,h=t.props,p=h.snapGap,g=p===void 0?!0:p,b=h.verticalGuidelines,y=h.horizontalGuidelines,_=h.snapThreshold,x=_===void 0?5:_,E=h.snapGridWidth,w=E===void 0?0:E,C=h.snapGridHeight,I=C===void 0?0:C,R=h.maxSnapElementGuidelineDistance,k=R===void 0?1/0:R,O=Lr(gr(t.state)),B=O.top,A=O.left,N=O.bottom,L=O.right,z={top:B,left:A,bottom:N,right:L,center:(A+L)/2,middle:(B+N)/2},H=eM(t),V=Ot([],H,!0);return g&&V.push.apply(V,J2(t,z,x)),V.push.apply(V,tM(w,I,a?u:c,a?o:l,f,v)),V.push.apply(V,Vg(y||!1,b||!1,a?u:c,a?o:l,f,v,r)),V=V.filter(function(tt){var J=tt.element,ot=tt.elementRect,X=tt.type;if(!J||!ot)return!0;var Q=ot.rect;return Wg(z,Q,X,k)}),V}function J2(t,e,r){var n=t.props,a=n.maxSnapElementGuidelineDistance,o=a===void 0?1/0:a,u=n.maxSnapElementGapDistance,l=u===void 0?1/0:u,c=t.state.elementRects,f=[];return[["vertical",Yn,Xn],["horizontal",Xn,Yn]].forEach(function(v){var h=v[0],p=v[1],g=v[2],b=e[p.start],y=e[p.end],_=e[p.center],x=e[g.start],E=e[g.end];function w(R){var k=R.rect;return k[p.end]<b+r?b-k[p.end]:y-r<k[p.start]?k[p.start]-y:-1}var C=c.filter(function(R){var k=R.rect;return k[g.start]>E||k[g.end]<x?!1:w(R)>0}).sort(function(R,k){return w(R)-w(k)}),I=[];C.forEach(function(R){C.forEach(function(k){if(R!==k){var O=R.rect,B=k.rect,A=O[g.start],N=O[g.end],L=B[g.start],z=B[g.end];A>z||L>N||I.push([R,k])}})}),I.forEach(function(R){var k=R[0],O=R[1],B=k.rect,A=O.rect,N=B[p.start],L=B[p.end],z=A[p.start],H=A[p.end],V=0,tt=0,J=!1,ot=!1,X=!1;if(L<=b&&y<=z){if(ot=!0,V=(z-L-(y-b))/2,tt=L+V+(y-b)/2,Math.abs(tt-_)>r)return}else if(L<z&&H<b+r){if(J=!0,V=z-L,tt=H+V,Math.abs(tt-b)>r)return}else if(L<z&&y-r<N){if(X=!0,V=z-L,tt=N-V,Math.abs(tt-y)>r)return}else return;!V||!Wg(e,A,h,o)||V>l||f.push({type:h,pos:h==="vertical"?[tt,0]:[0,tt],element:O.element,size:0,className:O.className,isStart:J,isCenter:ot,isEnd:X,gap:V,hide:!0,gapRects:[k,O]})})}),f}function tM(t,e,r,n,a,o){a===void 0&&(a=0),o===void 0&&(o=0);var u=[];if(e)for(var l=0;l<=n;l+=e)u.push({type:"horizontal",pos:[0,re(l-o,.1)],size:r,hide:!0});if(t)for(var l=0;l<=r;l+=t)u.push({type:"vertical",pos:[re(l-a,.1),0],size:n,hide:!0});return u}function Wg(t,e,r,n){return r==="horizontal"?Math.abs(t.right-e.left)<=n||Math.abs(t.left-e.right)<=n||t.left<=e.right&&e.left<=t.right:r==="vertical"?Math.abs(t.bottom-e.top)<=n||Math.abs(t.top-e.bottom)<=n||t.top<=e.bottom&&e.top<=t.bottom:!0}function eM(t){var e=t.state,r=t.props.elementGuidelines,n=r===void 0?[]:r;if(!n.length)return e.elementRects=[],[];var a=(e.elementRects||[]).filter(function(p){return!p.refresh}),o=n.map(function(p){return tn(p)&&"element"in p?W(W({},p),{element:ba(p.element,!0)}):{element:ba(p,!0)}}).filter(function(p){return p.element}),u=Gi(a.map(function(p){return p.element}),o.map(function(p){return p.element})),l=u.maintained,c=u.added,f=[];l.forEach(function(p){var g=p[0],b=p[1];f[b]=a[g]}),rM(t,c.map(function(p){return o[p]})).map(function(p,g){f[c[g]]=p}),e.elementRects=f;var v=ac(t.props.elementSnapDirections),h=[];return f.forEach(function(p){var g=p.element,b=p.top,y=b===void 0?v.top:b,_=p.left,x=_===void 0?v.left:_,E=p.right,w=E===void 0?v.right:E,C=p.bottom,I=C===void 0?v.bottom:C,R=p.center,k=R===void 0?v.center:R,O=p.middle,B=O===void 0?v.middle:O,A=p.className,N=p.rect,L=ic({top:y,right:w,left:x,bottom:I,center:k,middle:B},N),z=L.horizontal,H=L.vertical,V=N.top,tt=N.left,J=N.right-tt,ot=N.bottom-V,X=[J,ot];H.forEach(function(Q){h.push({type:"vertical",element:g,pos:[re(Q,.1),V],size:ot,sizes:X,className:A,elementRect:p})}),z.forEach(function(Q){h.push({type:"horizontal",element:g,pos:[tt,re(Q,.1)],size:J,sizes:X,className:A,elementRect:p})})}),h}function Vg(t,e,r,n,a,o,u){a===void 0&&(a=0),o===void 0&&(o=0),u===void 0&&(u={left:0,top:0,right:0,bottom:0});var l=[],c=u.left,f=u.top,v=u.bottom,h=u.right,p=r+h-c,g=n+v-f;return t&&t.forEach(function(b){var y=tn(b)?b:{pos:b};l.push({type:"horizontal",pos:[c,re(y.pos-o+f,.1)],size:p,className:y.className})}),e&&e.forEach(function(b){var y=tn(b)?b:{pos:b};l.push({type:"vertical",pos:[re(y.pos-a+c,.1),f],size:g,className:y.className})}),l}function rM(t,e){if(!e.length)return[];var r=t.state,n=r.containerClientRect,a=r.targetClientRect,o=a.top,u=a.left,l=r.rootMatrix,c=r.is3d,f=c?4:3,v=D2(l,n,f),h=v[0],p=v[1],g=gr(r),b=eo(g),y=b.minX,_=b.minY,x=Gt([y,_],Ja(l,[u-h,o-p],f)).map(function(C){return g2(C)}),E=x[0],w=x[1];return e.map(function(C){var I=C.element.getBoundingClientRect(),R=I.left-h,k=I.top-p,O=k+I.height,B=R+I.width,A=Ja(l,[R,k],f),N=A[0],L=A[1],z=Ja(l,[B,O],f),H=z[0],V=z[1];return W(W({},C),{rect:{left:N+E,right:H+E,top:L+w,bottom:V+w,center:(N+H)/2+E,middle:(L+V)/2+w}})})}function Pl(t){var e=t.state;if(!(e.guidelines&&e.guidelines.length)){var r=t.state.container,n=t.props.snapContainer||r,a=e.containerClientRect,o={left:0,top:0,bottom:0,right:0};if(r!==n){var u=ba(n,!0);if(u){var l=Ai(u),c=_p(e,[l.left-a.left,l.top-a.top]),f=_p(e,[l.right-a.right,l.bottom-a.bottom]);o.left=re(c[0],1e-5),o.top=re(c[1],1e-5),o.right=re(f[0],1e-5),o.bottom=re(f[1],1e-5)}}e.snapOffset=o,e.guidelines=Sf(t),e.enableSnap=!0}}function Hg(t,e,r,n,a,o){var u=wa(t,e,r,o?4:3),l=Re(u,n);return Jf(u,Gt(a,l))}function nM(t,e,r,n,a,o){var u=o.fixedDirection,l=I2(r,u,n),c=sc(t,e,r,n),f=Ot(Ot([],j2(t,e,l,n,a,o),!0),Ng(t,c,o),!0),v=Ws(f,0),h=Ws(f,1);return{width:{isBound:v.isBound,offset:v.offset[0]},height:{isBound:h.isBound,offset:h.offset[1]}}}function aM(t,e,r,n,a,o,u,l,c){var f=Re(e,u),v=iu(t,l,{vertical:[f[0]],horizontal:[f[1]]}),h=v.horizontal.offset,p=v.vertical.offset;if(p||h){var g=dn({datas:c,distX:-p,distY:-h}),b=g[0],y=g[1],_=Math.min(a||1/0,r+u[0]*b),x=Math.min(o||1/0,n+u[1]*y);return[_-r,x-n]}return[0,0]}function Yg(t,e,r,n,a,o,u,l){for(var c=gr(t.state),f=t.props.keepRatio,v=0,h=0,p=0;p<2;++p){var g=e(v,h),b=nM(t,g,a,f,u,l),y=b.width,_=b.height,x=y.isBound,E=_.isBound,w=y.offset,C=_.offset;if(p===1&&(x||(w=0),E||(C=0)),p===0&&u&&!x&&!E)return[0,0];if(f){var I=Math.abs(w)*(r?1/r:1),R=Math.abs(C)*(n?1/n:1),k=x&&E?I<R:E||!x&&I<R;k?w=r*C/n:C=n*w/r}v+=w,h+=C}if(a[0]&&a[1]){var O=Q2(t,c,a,o,l),B=O.maxWidth,A=O.maxHeight,N=aM(t,e(v,h).map(function(H){return H.map(function(V){return re(V,WE)})}),r+v,n+h,B,A,a,u,l),w=N[0],C=N[1];v+=w,h+=C}return[v,h]}function iM(t,e,r){if(!ci(t,"rotatable"))return{isSnap:!1,rotation:r};var n=e.pos1,a=e.pos2,o=e.pos3,u=e.pos4,l=e.origin,c=r*Math.PI/180,f=[n,a,o,u].map(function(g){return Gt(g,l)}),v=f.map(function(g){return js(g,c)}),h=Ot(Ot([],q2(t,f,v,l,r),!0),L2(t,f,v,l,r),!0);h.sort(function(g,b){return Math.abs(g-r)-Math.abs(b-r)});var p=h.length>0;return{isSnap:p,rotation:p?h[0]:r}}function oM(t,e,r,n,a,o,u){if(!ci(t,"resizable"))return[0,0];var l=u.fixedDirection,c=u.nextAllMatrix,f=t.state,v=f.allMatrix,h=f.is3d;return Yg(t,function(p,g){return Hg(c||v,e+p,r+g,l,a,h)},e,r,n,a,o,u)}function sM(t,e,r,n,a){if(!ci(t,"scalable"))return[0,0];var o=a.startOffsetWidth,u=a.startOffsetHeight,l=a.fixedPosition,c=a.fixedDirection,f=a.is3d,v=Yg(t,function(h,p){return Hg(JE(a,ue(e,[h/o,p/u])),o,u,c,l,f)},o,u,r,l,n,a);return[v[0]/o,v[1]/u]}function uM(t,e){e.absolutePoses=gr(t.state)}function Ip(t){var e=[];return t.forEach(function(r){r.guidelineInfos.forEach(function(n){var a=n.guideline;e.indexOf(a)>-1||e.push(a)})}),e}function Op(t,e,r,n,a,o){var u=uc(au(t,o),e,r),l=u.vertical,c=u.horizontal;l.forEach(function(p){p.isBound&&n.push({type:"bounds",pos:p.pos})}),c.forEach(function(p){p.isBound&&a.push({type:"bounds",pos:p.pos})});var f=F2(t),v=f.vertical,h=f.horizontal;v.forEach(function(p){Vn(n,function(g){var b=g.type,y=g.pos;return b==="bounds"&&y===p})>=0||n.push({type:"bounds",pos:p})}),h.forEach(function(p){Vn(a,function(g){var b=g.type,y=g.pos;return b==="bounds"&&y===p})>=0||a.push({type:"bounds",pos:p})})}var lM=rc("",["resizable","scalable"]),fM={name:"snappable",dragRelation:"strong",props:{snappable:[Boolean,Array],snapContainer:Object,snapDirections:[Boolean,Object],elementSnapDirections:[Boolean,Object],snapGap:Boolean,snapGridWidth:Number,snapGridHeight:Number,isDisplaySnapDigit:Boolean,isDisplayInnerSnapDigit:Boolean,snapDigit:Number,snapThreshold:Number,horizontalGuidelines:Array,verticalGuidelines:Array,elementGuidelines:Array,bounds:Object,innerBounds:Object,snapDistFormat:Function,maxSnapElementGuidelineDistance:Number,maxSnapElementGapDistance:Number},events:{onSnap:"snap"},css:[`:host {
    --bounds-color: #d66;
}
.guideline {
    pointer-events: none;
    z-index: 2;
}
.guideline.bounds {
    background: #d66;
    background: var(--bounds-color);
}
.guideline-group {
    position: absolute;
    top: 0;
    left: 0;
}
.guideline-group .size-value {
    position: absolute;
    color: #f55;
    font-size: 12px;
    font-weight: bold;
}
.guideline-group.horizontal .size-value {
    transform-origin: 50% 100%;
    transform: translateX(-50%);
    left: 50%;
    bottom: 5px;
}
.guideline-group.vertical .size-value {
    transform-origin: 0% 50%;
    top: 50%;
    transform: translateY(-50%);
    left: 5px;
}
.guideline.gap {
    background: #f55;
}
.size-value.gap {
    color: #f55;
}
`],render:function(t,e){var r=t.state,n=r.top,a=r.left,o=r.pos1,u=r.pos2,l=r.pos3,c=r.pos4,f=r.snapRenderInfo;if(!f||!ci(t,""))return[];r.guidelines=Sf(t);var v=Math.min(o[0],u[0],l[0],c[0]),h=Math.min(o[1],u[1],l[1],c[1]),p=f.externalPoses||[],g=gr(t.state),b=[],y=[],_=[],x=[],E=[],w=Lr(g),C=w.width,I=w.height,R=w.top,k=w.left,O=w.bottom,B=w.right,A={left:k,right:B,top:R,bottom:O,center:(k+B)/2,middle:(R+O)/2},N=p.length>0,L=N?Lr(p):{};if(!f.request){if(f.direction&&E.push(k2(t,g,f.direction)),f.snap){var z=Lr(g);f.center&&(z.middle=(z.top+z.bottom)/2,z.center=(z.left+z.right)/2),E.push(Sp(t,z,1))}N&&(f.center&&(L.middle=(L.top+L.bottom)/2,L.center=(L.left+L.right)/2),E.push(Sp(t,L,1))),E.forEach(function(J){var ot=J.vertical.posInfos,X=J.horizontal.posInfos;b.push.apply(b,ot.filter(function(Q){var lt=Q.guidelineInfos;return lt.some(function(_t){var Ct=_t.guideline;return!Ct.hide})}).map(function(Q){return{type:"snap",pos:Q.pos}})),y.push.apply(y,X.filter(function(Q){var lt=Q.guidelineInfos;return lt.some(function(_t){var Ct=_t.guideline;return!Ct.hide})}).map(function(Q){return{type:"snap",pos:Q.pos}})),_.push.apply(_,Ip(ot)),x.push.apply(x,Ip(X))})}Op(t,[k,B],[R,O],b,y),N&&Op(t,[L.left,L.right],[L.top,L.bottom],b,y,f.externalBounds);var H=Ot(Ot([],_,!0),x,!0),V=H.filter(function(J){return J.element&&!J.gapRects}),tt=H.filter(function(J){return J.gapRects}).sort(function(J,ot){return J.gap-ot.gap});return xt(t,"onSnap",{guidelines:H.filter(function(J){var ot=J.element;return!ot}),elements:V,gaps:tt},!0),Ot(Ot(Ot(Ot(Ot(Ot([],V2(t,V,[v,h],A,e),!0),H2(t,tt,[v,h],A,e),!0),Tp(t,"horizontal",x,[a,n],A,e),!0),Tp(t,"vertical",_,[a,n],A,e),!0),Dp(t,"horizontal",y,v,n,C,0,e),!0),Dp(t,"vertical",b,h,a,I,1,e),!0)},dragStart:function(t,e){t.state.snapRenderInfo={request:e.isRequest,snap:!0,center:!0},Pl(t)},drag:function(t){var e=t.state;e.guidelines=Sf(t)},pinchStart:function(t){this.unset(t)},dragEnd:function(t){this.unset(t)},dragControlCondition:function(t,e){if(lM(t,e)||wf(t,e))return!0;if(!e.isRequest&&e.inputEvent)return ze(e.inputEvent.target,Rt("snap-control"))},dragControlStart:function(t){t.state.snapRenderInfo=null,Pl(t)},dragControl:function(t){this.drag(t)},dragControlEnd:function(t){this.unset(t)},dragGroupStart:function(t,e){this.dragStart(t,e)},dragGroup:function(t){this.drag(t)},dragGroupEnd:function(t){this.unset(t)},dragGroupControlStart:function(t){t.state.snapRenderInfo=null,Pl(t)},dragGroupControl:function(t){this.drag(t)},dragGroupControlEnd:function(t){this.unset(t)},unset:function(t){var e=t.state;e.enableSnap=!1,e.guidelines=[],e.snapRenderInfo=null,e.elementRects=[]}};function Xg(t,e,r,n){var a=t.getState(),o=a.renderPoses,u=a.rotation,l=a.direction,c=ma(t.props,e).zoom,f=l>0?1:-1,v=u/Math.PI*180,h={},p=t.renderState;p.renderDirectionMap||(p.renderDirectionMap={});var g=p.renderDirectionMap;return r.forEach(function(b){var y=b.dir;h[y]=!0}),r.map(function(b){var y=b.data,_=b.classNames,x=b.dir,E=Uf[x];if(!E||!h[x])return null;g[x]=!0;var w=(re(v,15)+f*vg[x]+720)%180,C={};return ui(y).forEach(function(I){C["data-".concat(I)]=y[I]}),n.createElement("div",W({className:Rt.apply(void 0,Ot(["control","direction",x,e],_,!1)),"data-rotation":w,"data-direction":x},C,{key:"direction-".concat(x),style:Qf.apply(void 0,Ot([u,c],E.map(function(I){return o[I]}),!1))}))})}function Ug(t,e,r,n){var a=ma(t.props,r).renderDirections,o=a===void 0?e:a;if(!o)return[];var u=o===!0?Xf:o;return Xg(t,r,u.map(function(l){return{data:{},classNames:[],dir:l}}),n)}function cM(t,e){var r=t.renderState;r.renderDirectionMap||(r.renderDirectionMap={});var n=t.getState(),a=n.renderPoses,o=n.rotation,u=n.direction,l=r.renderDirectionMap,c=t.props.zoom,f=u>0?1:-1,v=o/Math.PI*180;return ui(l).map(function(h){var p=Uf[h];if(!p)return null;var g=(re(v,15)+f*vg[h]+720)%180;return e.createElement("div",{className:Rt("around-control"),"data-rotation":g,"data-direction":h,key:"direction-around-".concat(h),style:Qf.apply(void 0,Ot([o,c],p.map(function(b){return a[b]}),!1))})})}function Xi(t,e,r,n,a,o){for(var u=[],l=6;l<arguments.length;l++)u[l-6]=arguments[l];var c=ke(r,n),f=e?re(c/Math.PI*180,15)%180:-1;return t.createElement("div",{key:"line-".concat(o),className:Rt.apply(void 0,Ot(["line","direction",e?"edge":"",e],u,!1)),"data-rotation":f,"data-line-key":o,"data-direction":e,style:Pi(r,n,a,c)})}function Kg(t,e,r,n,a){var o=r===!0?VE:r;return o.map(function(u,l){var c=Uf[u],f=c[0],v=c[1];if(v!=null)return Xi(t,u,n[f],n[v],a,"".concat(e,"Edge").concat(l),e)}).filter(Boolean)}function jg(t){return function(e,r){var n=ma(e.props,t).edge;return n&&(n===!0||n.length)?Ot(Ot([],Kg(r,t,n,e.getState().renderPoses,e.props.zoom),!0),dM(e,t,r),!0):Zg(e,t,r)}}function Zg(t,e,r){return Ug(t,Xf,e,r)}function dM(t,e,r){return Ug(t,["nw","ne","sw","se"],e,r)}var ir={name:"draggable",props:{draggable:Boolean,throttleDrag:Number,throttleDragRotate:Number,startDragRotate:Number,edgeDraggable:Boolean},events:{onDragStart:"dragStart",onDrag:"drag",onDragEnd:"dragEnd",onDragGroupStart:"dragGroupStart",onDragGroup:"dragGroup",onDragGroupEnd:"dragGroupEnd"},render:function(t,e){var r=t.props,n=r.throttleDragRotate,a=r.zoom,o=t.getState(),u=o.dragInfo,l=o.beforeOrigin;if(!n||!u)return[];var c=u.dist;if(!c[0]&&!c[1])return[];var f=Jr(c),v=ke(c,[0,0]);return[e.createElement("div",{className:Rt("line","horizontal","dragline","dashed"),key:"dragRotateGuideline",style:{width:"".concat(f,"px"),transform:"translate(".concat(l[0],"px, ").concat(l[1],"px) rotate(").concat(v,"rad) scaleY(").concat(a,")")}})]},dragStart:function(t,e){var r=e.datas,n=e.parentEvent,a=e.parentGesto,o=t.state,u=o.target,l=o.gestos;if(l.draggable)return!1;l.draggable=a||t.targetGesto;var c=Fr(u);r.datas={},r.left=parseFloat(c.left||"")||0,r.top=parseFloat(c.top||"")||0,r.bottom=parseFloat(c.bottom||"")||0,r.right=parseFloat(c.right||"")||0,r.startValue=[0,0],xa(t,e),eu(e,"translate"),uM(t,r),r.prevDist=[0,0],r.prevBeforeDist=[0,0],r.isDrag=!1,r.deltaOffset=[0,0];var f=Ht(t,e,W({set:function(h){r.startValue=h}},tu(e))),v=n||xt(t,"onDragStart",f);return v!==!1?(r.isDrag=!0,t.state.dragInfo={startRect:t.getRect(),dist:[0,0]}):(l.draggable=null,r.isPinch=!1),r.isDrag?f:!1},drag:function(t,e){if(!!e){Qs(e,"translate");var r=e.datas,n=e.parentEvent,a=e.parentFlag,o=e.isPinch,u=e.isRequest,l=e.deltaOffset,c=e.distX,f=e.distY,v=r.isDrag,h=r.prevDist,p=r.prevBeforeDist,g=r.startValue;if(!!v){l&&(c+=l[0],f+=l[1]);var b=t.props,y=b.parentMoveable,_=n?0:b.throttleDrag||0,x=n?0:b.throttleDragRotate||0,E=!1,w=0;if(!n&&x>0&&(c||f)){var C=b.startDragRotate||0,I=re(C+ke([0,0],[c,f])*180/Math.PI,x)-C,R=f*Math.abs(Math.cos((I-90)/180*Math.PI)),k=c*Math.abs(Math.cos(I/180*Math.PI)),O=Jr([k,R]);w=I*Math.PI/180,c=O*Math.cos(w),f=O*Math.sin(w)}if(!o&&!n&&!a&&(!x||c||f)){var B=U2(t,c,f,x,u||l,r),A=B[0],N=B[1],L=A.isSnap,z=A.isBound,H=A.offset,V=N.isSnap,tt=N.isBound,J=N.offset;E=L||V||z||tt,c+=H,f+=J}var ot=ue(mg({datas:r,distX:c,distY:f}),g),X=ue(XE({datas:r,distX:c,distY:f}),g);!x&&!E&&(us(X,_),us(ot,_)),us(X,ur),us(ot,ur);var Q=Gt(ot,g),lt=Gt(X,g),_t=Gt(lt,h),Ct=Gt(Q,p);r.prevDist=lt,r.prevBeforeDist=Q,r.passDelta=_t,r.passDist=lt;var gt=r.left+Q[0],vt=r.top+Q[1],yt=r.right-Q[0],Dt=r.bottom-Q[1],Et=Js(r,"translate(".concat(X[0],"px, ").concat(X[1],"px)"),"translate(".concat(lt[0],"px, ").concat(lt[1],"px)"));if(Kf(e,Et),t.state.dragInfo.dist=n?[0,0]:lt,!(!n&&!y&&_t.every(function(pt){return!pt})&&Ct.some(function(pt){return!pt}))){var T=t.state,G=T.width,U=T.height,ut=Ht(t,e,W({transform:Et,dist:lt,delta:_t,translate:X,beforeDist:Q,beforeDelta:Ct,beforeTranslate:ot,left:gt,top:vt,right:yt,bottom:Dt,width:G,height:U,isPinch:o},qn({transform:Et},e)));return!n&&xt(t,"onDrag",ut),ut}}}},dragAfter:function(t,e){var r=e.datas,n=r.deltaOffset;return n[0]||n[1]?(r.deltaOffset=[0,0],this.drag(t,W(W({},e),{deltaOffset:n}))):!1},dragEnd:function(t,e){var r=e.parentEvent,n=e.datas;if(t.state.dragInfo=null,!!n.isDrag){n.isDrag=!1;var a=wr(t,e,{});return!r&&xt(t,"onDragEnd",a),a}},dragGroupStart:function(t,e){var r=e.datas,n=e.clientX,a=e.clientY,o=this.dragStart(t,e);if(!o)return!1;var u=Bl(t,this,"dragStart",[n||0,a||0],e,!1,"draggable"),l=W(W({},o),{targets:t.props.targets,events:u}),c=xt(t,"onDragGroupStart",l);return r.isDrag=c!==!1,r.isDrag?o:!1},dragGroup:function(t,e){var r=e.datas;if(!!r.isDrag){var n=this.drag(t,e),a=e.datas.passDelta,o=Bl(t,this,"drag",a,e,!1,"draggable");if(!!n){var u=W({targets:t.props.targets,events:o},n);return xt(t,"onDragGroup",u),u}}},dragGroupEnd:function(t,e){var r=e.isDrag,n=e.datas;if(!!n.isDrag){this.dragEnd(t,e);var a=Bl(t,this,"dragEnd",[0,0],e,!1,"draggable");return xt(t,"onDragGroupEnd",wr(t,e,{targets:t.props.targets,events:a})),r}},request:function(t){var e={},r=t.getRect(),n=0,a=0;return{isControl:!1,requestStart:function(){return{datas:e}},request:function(o){return"x"in o?n=o.x-r.left:"deltaX"in o&&(n+=o.deltaX),"y"in o?a=o.y-r.top:"deltaY"in o&&(a+=o.deltaY),{datas:e,distX:n,distY:a}},requestEnd:function(){return{datas:e,isDrag:!0}}}},unset:function(t){t.state.gestos.draggable=null,t.state.dragInfo=null}},Bp=rc("resizable"),xf={name:"resizable",ableGroup:"size",canPinch:!0,props:{resizable:Boolean,throttleResize:Number,renderDirections:Array,keepRatio:Boolean,resizeFormat:Function,keepRatioFinally:Boolean,edge:Boolean},events:{onResizeStart:"resizeStart",onBeforeResize:"beforeResize",onResize:"resize",onResizeEnd:"resizeEnd",onResizeGroupStart:"resizeGroupStart",onBeforeResizeGroup:"beforeResizeGroup",onResizeGroup:"resizeGroup",onResizeGroupEnd:"resizeGroupEnd"},render:jg("resizable"),dragControlCondition:Bp,viewClassName:ec("resizable"),dragControlStart:function(t,e){var r,n=e.inputEvent,a=e.isPinch,o=e.isGroup,u=e.parentDirection,l=e.parentGesto,c=e.datas,f=e.parentFixedDirection,v=e.parentEvent,h=kg(u,a,n,c),p=t.state,g=p.target,b=p.width,y=p.height,_=p.gestos;if(!h||!g||_.resizable)return!1;_.resizable=l||t.controlGesto,!a&&xa(t,e),c.datas={},c.direction=h,c.startOffsetWidth=b,c.startOffsetHeight=y,c.prevWidth=0,c.prevHeight=0,c.minSize=[0,0],c.startWidth=p.cssWidth,c.startHeight=p.cssHeight,c.maxSize=[1/0,1/0],o||(c.minSize=[p.minOffsetWidth,p.minOffsetHeight],c.maxSize=[p.maxOffsetWidth,p.maxOffsetHeight]);var x=t.props.transformOrigin||"% %";c.transformOrigin=x&&sr(x)?x.split(" "):x,c.startOffsetMatrix=p.offsetMatrix,c.startTransformOrigin=p.transformOrigin,c.isWidth=(r=e==null?void 0:e.parentIsWidth)!==null&&r!==void 0?r:!h[0]&&!h[1]||h[0]||!h[1];function E(O){c.ratio=O&&isFinite(O)?O:0}c.startPositions=gr(t.state);function w(O){c.fixedDirection=O,c.fixedPosition=Re(c.startPositions,O)}function C(O){c.minSize=[Me("".concat(O[0]),0)||0,Me("".concat(O[1]),0)||0]}function I(O){var B=[O[0]||1/0,O[1]||1/0];(!Xl(B[0])||isFinite(B[0]))&&(B[0]=Me("".concat(B[0]),0)||1/0),(!Xl(B[1])||isFinite(B[1]))&&(B[1]=Me("".concat(B[1]),0)||1/0),c.maxSize=B}E(b/y),w(f||[-h[0],-h[1]]),c.setFixedDirection=w,c.setMin=C,c.setMax=I;var R=Ht(t,e,{direction:h,startRatio:c.ratio,set:function(O){var B=O[0],A=O[1];c.startWidth=B,c.startHeight=A},setMin:C,setMax:I,setRatio:E,setFixedDirection:w,setOrigin:function(O){c.transformOrigin=O},dragStart:ir.dragStart(t,new ri().dragStart([0,0],e))}),k=v||xt(t,"onResizeStart",R);return c.startFixedDirection=c.fixedDirection,k!==!1&&(c.isResize=!0,t.state.snapRenderInfo={request:e.isRequest,direction:h}),c.isResize?R:!1},dragControl:function(t,e){var r,n=e.datas,a=e.parentFlag,o=e.isPinch,u=e.parentKeepRatio,l=e.dragClient,c=e.parentDist,f=e.isRequest,v=e.isGroup,h=e.parentEvent,p=e.resolveMatrix,g=n.isResize,b=n.transformOrigin,y=n.startWidth,_=n.startHeight,x=n.prevWidth,E=n.prevHeight,w=n.minSize,C=n.maxSize,I=n.ratio,R=n.startOffsetWidth,k=n.startOffsetHeight,O=n.isWidth;if(!g)return;if(p){var B=t.state.is3d,A=n.startOffsetMatrix,N=n.startTransformOrigin,L=B?4:3,z=Zs(yg(e)),H=Math.sqrt(z.length);L!==H&&(z=cn(z,H,L));var V=io(A,z,N,L),tt=wa(V,R,k,L);n.startPositions=tt,n.nextTargetMatrix=z,n.nextAllMatrix=V}var J=ma(t.props,"resizable"),ot=J.resizeFormat,X=J.throttleResize,Q=X===void 0?a?0:1:X,lt=J.parentMoveable,_t=J.keepRatioFinally,Ct=n.direction,gt=Ct,vt=0,yt=0;!Ct[0]&&!Ct[1]&&(gt=[1,1]);var Dt=I&&(u!=null?u:J.keepRatio)||!1;function Et(){var nt=n.fixedDirection,mt=Lg(gt,Dt,n,e);vt=mt.distWidth,yt=mt.distHeight;var Tt=gt[0]-nt[0]||Dt?Math.max(R+vt,ur):R,oe=gt[1]-nt[1]||Dt?Math.max(k+yt,ur):k;return Dt&&R&&k&&(O?oe=Tt/I:Tt=oe*I),[Tt,oe]}var T=Et(),G=T[0],U=T[1];h||(n.setFixedDirection(n.fixedDirection),xt(t,"onBeforeResize",Ht(t,e,{startFixedDirection:n.startFixedDirection,setFixedDirection:function(nt){var mt;return n.setFixedDirection(nt),mt=Et(),G=mt[0],U=mt[1],[G,U]},boundingWidth:G,boundingHeight:U,setSize:function(nt){G=nt[0],U=nt[1]}},!0)));var ut=l;l||(!a&&o?ut=wg(t,[0,0]):ut=n.fixedPosition);var pt=[0,0];o||(pt=oM(t,G,U,Ct,ut,f,n)),c&&(!c[0]&&(pt[0]=0),!c[1]&&(pt[1]=0));function dt(){var nt;ot&&(nt=ot([G,U]),G=nt[0],U=nt[1]),G=re(G,Q),U=re(U,Q)}if(Dt){gt[0]&&gt[1]&&pt[0]&&pt[1]&&(Math.abs(pt[0])>Math.abs(pt[1])?pt[1]=0:pt[0]=0);var Mt=!pt[0]&&!pt[1];Mt&&dt(),gt[0]&&!gt[1]||pt[0]&&!pt[1]||Mt&&O?(G+=pt[0],U=G/I):(!gt[0]&&gt[1]||!pt[0]&&pt[1]||Mt&&!O)&&(U+=pt[1],G=U*I)}else G+=pt[0],U+=pt[1],G=Math.max(0,G),U=Math.max(0,U);r=Fh([G,U],w,C,Dt?I:!1),G=r[0],U=r[1],dt(),Dt&&(v||_t)&&(O?U=G/I:G=U*I),vt=G-R,yt=U-k;var kt=[vt-x,yt-E];n.prevWidth=vt,n.prevHeight=yt;var At=n2(t,G,U,ut,b,n);if(!(!lt&&kt.every(function(nt){return!nt})&&At.every(function(nt){return!nt}))){var Jt=ir.drag(t,ao(e,t.state,At,!!o,!1,"draggable")),Wt=Jt.transform,fe=y+vt,ge=_+yt,Fe=Ht(t,e,W({width:fe,height:ge,offsetWidth:Math.round(G),offsetHeight:Math.round(U),startRatio:I,boundingWidth:G,boundingHeight:U,direction:Ct,dist:[vt,yt],delta:kt,isPinch:!!o,drag:Jt},Og({style:{width:"".concat(fe,"px"),height:"".concat(ge,"px")},transform:Wt},Jt,e)));return!h&&xt(t,"onResize",Fe),Fe}},dragControlAfter:function(t,e){var r=e.datas,n=r.isResize,a=r.startOffsetWidth,o=r.startOffsetHeight,u=r.prevWidth,l=r.prevHeight;if(!!n){var c=t.state,f=c.width,v=c.height,h=f-(a+u),p=v-(o+l),g=Math.abs(h)>3,b=Math.abs(p)>3;if(g&&(r.startWidth+=h,r.startOffsetWidth+=h,r.prevWidth+=h),b&&(r.startHeight+=p,r.startOffsetHeight+=p,r.prevHeight+=p),g||b)return this.dragControl(t,e)}},dragControlEnd:function(t,e){var r=e.datas,n=e.parentEvent;if(!!r.isResize){r.isResize=!1;var a=wr(t,e,{});return!n&&xt(t,"onResizeEnd",a),a}},dragGroupControlCondition:Bp,dragGroupControlStart:function(t,e){var r=e.datas,n=this.dragControlStart(t,W(W({},e),{isGroup:!0}));if(!n)return!1;var a=Hn(t,"resizable",e);function o(b,y){var _=r.fixedDirection,x=r.fixedPosition,E=y.datas.startPositions||gr(b.state),w=Re(E,_),C=Ze(ei(-t.rotation/180*Math.PI,3),[w[0]-x[0],w[1]-x[1],1],3),I=C[0],R=C[1];return y.datas.originalX=I,y.datas.originalY=R,y}var u=r.startOffsetWidth,l=r.startOffsetHeight;function c(){var b=r.minSize;a.forEach(function(y){var _=y.datas,x=_.minSize,E=_.startOffsetWidth,w=_.startOffsetHeight,C=u*(E?x[0]/E:0),I=l*(w?x[1]/w:0);b[0]=Math.max(b[0],C),b[1]=Math.max(b[1],I)})}function f(){var b=r.maxSize;a.forEach(function(y){var _=y.datas,x=_.maxSize,E=_.startOffsetWidth,w=_.startOffsetHeight,C=u*(E?x[0]/E:0),I=l*(w?x[1]/w:0);b[0]=Math.min(b[0],C),b[1]=Math.min(b[1],I)})}var v=En(t,this,"dragControlStart",e,function(b,y){return o(b,y)});c(),f();var h=function(b){n.setFixedDirection(b),v.forEach(function(y,_){y.setFixedDirection(b),o(y.moveable,a[_])})};r.setFixedDirection=h;var p=W(W({},n),{targets:t.props.targets,events:v.map(function(b){return W(W({},b),{setMin:function(y){b.setMin(y),c()},setMax:function(y){b.setMax(y),f()}})}),setFixedDirection:h,setMin:function(b){n.setMin(b),c()},setMax:function(b){n.setMax(b),f()}}),g=xt(t,"onResizeGroupStart",p);return r.isResize=g!==!1,r.isResize?n:!1},dragGroupControl:function(t,e){var r=e.datas;if(!!r.isResize){var n=ma(t.props,"resizable");tc(t,"onBeforeResize",function(g){xt(t,"onBeforeResizeGroup",Ht(t,e,W(W({},g),{targets:n.targets}),!0))});var a=this.dragControl(t,W(W({},e),{isGroup:!0}));if(!!a){var o=a.boundingWidth,u=a.boundingHeight,l=a.dist,c=n.keepRatio,f=[o/(o-l[0]),u/(u-l[1])],v=r.fixedPosition,h=En(t,this,"dragControl",e,function(g,b){var y=Ze(ei(t.rotation/180*Math.PI,3),[b.datas.originalX*f[0],b.datas.originalY*f[1],1],3),_=y[0],x=y[1];return W(W({},b),{parentDist:null,parentScale:f,dragClient:ue(v,[_,x]),parentKeepRatio:c})}),p=W({targets:n.targets,events:h},a);return xt(t,"onResizeGroup",p),p}}},dragGroupControlEnd:function(t,e){var r=e.isDrag,n=e.datas;if(!!n.isResize){this.dragControlEnd(t,e);var a=En(t,this,"dragControlEnd",e),o=wr(t,e,{targets:t.props.targets,events:a});return xt(t,"onResizeGroupEnd",o),r}},request:function(t){var e={},r=0,n=0,a=t.getRect();return{isControl:!0,requestStart:function(o){var u;return{datas:e,parentDirection:o.direction||[1,1],parentIsWidth:(u=o==null?void 0:o.horizontal)!==null&&u!==void 0?u:!0}},request:function(o){return"offsetWidth"in o?r=o.offsetWidth-a.offsetWidth:"deltaWidth"in o&&(r+=o.deltaWidth),"offsetHeight"in o?n=o.offsetHeight-a.offsetHeight:"deltaHeight"in o&&(n+=o.deltaHeight),{datas:e,parentDist:[r,n],parentKeepRatio:o.keepRatio}},requestEnd:function(){return{datas:e,isDrag:!0}}}},unset:function(t){t.state.gestos.resizable=null}};function Al(t,e,r,n,a){var o=t.props.groupable,u=t.state,l=u.is3d?4:3,c=e.origin,f=Ve(t.state.rootMatrix,Gt([c[0],c[1]],o?[0,0]:[u.left,u.top]),l),v=ue([a.left,a.top],f);e.startAbsoluteOrigin=v,e.prevDeg=ke(v,[r,n])/Math.PI*180,e.defaultDeg=e.prevDeg,e.prevSnapDeg=0,e.loop=0,e.startDist=Qr(v,[r,n])}function Es(t,e,r){var n=r.defaultDeg,a=r.prevDeg,o=a%360,u=Math.floor(a/360);o<0&&(o+=360),o>t&&o>270&&t<90?++u:o<t&&o<90&&t>270&&--u;var l=e*(u*360+t-n);return r.prevDeg=n+l,l}function zl(t,e,r,n){return Es(ke(n.startAbsoluteOrigin,[t,e])/Math.PI*180,r,n)}function Ll(t,e,r,n,a,o){var u=t.props.throttleRotate,l=u===void 0?0:u,c=r.prevSnapDeg,f=0,v=!1;if(o){var h=iM(t,e,n);v=h.isSnap,f=a+h.rotation}v||(f=re(a+n,l));var p=f-a;return r.prevSnapDeg=p,[p-c,p,f]}function vM(t,e,r){var n=e[0],a=e[1],o=e[2],u=e[3];if(t!=="none"){var l=(t||"top").split("-"),c=l[0],f=l[1],v=[n,a];c==="left"?v=[o,n]:c==="right"?v=[a,u]:c==="bottom"&&(v=[u,o]);var h=[(v[0][0]+v[1][0])/2,(v[0][1]+v[1][1])/2],p=Rg(v,r);if(f){var g=f==="top"||f==="left",b=c==="bottom"||c==="left";h=v[g&&!b||!g&&b?0:1]}return[h,p]}}function wf(t,e){if(e.isRequest)return e.requestAble==="rotatable";var r=e.inputEvent.target;if(ze(r,Rt("rotation-control"))||ze(r,Rt("around-control"))||ze(r,Rt("control"))&&ze(r,Rt("rotatable")))return!0;var n=t.props.rotationTarget;return n?nc(n,!0).some(function(a){return a?r===a||r.contains(a):!1}):!1}var pM=Xf.map(function(t){var e="",r="",n="center",a="center";return t.indexOf("n")>-1&&(e="top: -20px;",a="bottom"),t.indexOf("s")>-1&&(e="top: 0px;",a="top"),t.indexOf("w")>-1&&(r="left: -20px;",n="right"),t.indexOf("e")>-1&&(r="left: 0px;",n="left"),'.around-control[data-direction*="'.concat(t,`"] {
        `).concat(r).concat(e,`
        transform-origin: `).concat(n," ").concat(a,`;
    }`)}).join(`
`),hM=`.rotation {
    position: absolute;
    height: 40px;
    width: 1px;
    transform-origin: 50% 100%;
    height: calc(40px * var(--zoom));
    top: auto;
    left: 0;
    bottom: 100%;
    will-change: transform;
}
.rotation .rotation-line {
    display: block;
    width: 100%;
    height: 100%;
    transform-origin: 50% 50%;
}
.rotation .rotation-control {
    border-color: #4af;
    border-color: var(--moveable-color);
    background:#fff;
    cursor: alias;
}
:global .view-rotation-dragging, .rotatable.direction.control {
    cursor: alias;
}
.around-control {
    position: absolute;
    will-change: transform;
    width: 20px;
    height: 20px;
    left: -10px;
    top: -10px;
    box-sizing: border-box;
    background: transparent;
    z-index: 8;
    cursor: alias;
    transform-origin: center center;
}
.rotatable.direction.control.move {
    cursor: move;
}
`.concat(pM,`
`),gM={name:"rotatable",canPinch:!0,props:{rotatable:Boolean,rotationPosition:String,throttleRotate:Number,renderDirections:Object,rotationTarget:Object,rotateAroundControls:Boolean,edge:Boolean,resolveAblesWithRotatable:Object},events:{onRotateStart:"rotateStart",onBeforeRotate:"beforeRotate",onRotate:"rotate",onRotateEnd:"rotateEnd",onRotateGroupStart:"rotateGroupStart",onBeforeRotateGroup:"beforeRotateGroup",onRotateGroup:"rotateGroup",onRotateGroupEnd:"rotateGroupEnd"},css:[hM],viewClassName:function(t){return t.isDragging("rotatable")?Rt("view-rotation-dragging"):""},render:function(t,e){var r=ma(t.props,"rotatable"),n=r.rotatable,a=r.rotationPosition,o=r.zoom,u=r.renderDirections,l=r.rotateAroundControls,c=r.resolveAblesWithRotatable,f=t.getState(),v=f.renderPoses,h=f.direction;if(!n)return null;var p=vM(a,v,h),g=[];if(p){var b=p[0],y=p[1];g.push(e.createElement("div",{key:"rotation",className:Rt("rotation"),style:{transform:"translate(-50%) translate(".concat(b[0],"px, ").concat(b[1],"px) rotate(").concat(y,"rad)")}},e.createElement("div",{className:Rt("line rotation-line"),style:{transform:"scaleX(".concat(o,")")}}),e.createElement("div",{className:Rt("control rotation-control"),style:{transform:"translate(0.5px) scale(".concat(o,")")}})))}if(u){var _=ui(c||{}),x={};_.forEach(function(w){c[w].forEach(function(C){x[C]=w})});var E=[];Le(u)&&(E=u.map(function(w){var C=x[w];return{data:C?{resolve:C}:{},classNames:C?["move"]:[],dir:w}})),g.push.apply(g,Xg(t,"rotatable",E,e))}return l&&g.push.apply(g,cM(t,e)),g},dragControlCondition:wf,dragControlStart:function(t,e){var r,n,a=e.datas,o=e.clientX,u=e.clientY,l=e.parentRotate,c=e.parentFlag,f=e.isPinch,v=e.isRequest,h=t.state,p=h.target,g=h.left,b=h.top,y=h.direction,_=h.beforeDirection,x=h.targetTransform,E=h.moveableClientRect,w=h.offsetMatrix,C=h.targetMatrix,I=h.allMatrix,R=h.width,k=h.height;if(!v&&!p)return!1;var O=t.getRect();a.rect=O,a.transform=x,a.left=g,a.top=b;var B=function(gt){a.fixedDirection=gt,a.fixedPosition=xg(t,gt),Q&&Q.setFixedDirection(gt)},A=o,N=u;if(v||f||c){var L=l||0;a.beforeInfo={origin:O.beforeOrigin,prevDeg:L,defaultDeg:L,prevSnapDeg:0,startDist:0},a.afterInfo=W(W({},a.beforeInfo),{origin:O.origin}),a.absoluteInfo=W(W({},a.beforeInfo),{origin:O.origin,startValue:L})}else{var z=(n=e.inputEvent)===null||n===void 0?void 0:n.target;if(z){var H=z.getAttribute("data-direction")||"",V=HE[H];if(V){a.isControl=!0,a.isAroundControl=ze(z,Rt("around-control")),a.controlDirection=V;var tt=z.getAttribute("data-resolve");tt&&(a.resolveAble=tt);var J=h2(h.rootMatrix,h.renderPoses,E);r=Re(J,V),A=r[0],N=r[1]}}a.beforeInfo={origin:O.beforeOrigin},a.afterInfo={origin:O.origin},a.absoluteInfo={origin:O.origin,startValue:O.rotation};var ot=B;B=function(gt){var vt=h.is3d?4:3,yt=Re([[0,0],[R,0],[0,k],[R,k]],gt),Dt=ue(Qh(C,vt),yt),Et=Dt[0],T=Dt[1],G=Ze(w,ga([Et,T],vt)),U=Ze(I,ga([yt[0],yt[1]],vt));ot(gt),a.beforeInfo.origin=G,a.afterInfo.origin=U,a.absoluteInfo.origin=U,Al(t,a.beforeInfo,A,N,E),Al(t,a.afterInfo,A,N,E),Al(t,a.absoluteInfo,A,N,E)}}a.startClientX=A,a.startClientY=N,a.direction=y,a.beforeDirection=_,a.startValue=0,a.datas={},eu(e,"rotate");var X=!1,Q=!1;if(a.isControl&&a.resolveAble){var lt=a.resolveAble;lt==="resizable"&&(Q=xf.dragControlStart(t,W(W({},new ri("resizable").dragStart([0,0],e)),{parentDirection:a.controlDirection,parentFixedDirection:a.fixedDirection})))}Q||(X=ir.dragStart(t,new ri().dragStart([0,0],e))),B(e2(t));var _t=Ht(t,e,W(W({set:function(gt){a.startValue=gt*Math.PI/180},setFixedDirection:B},tu(e)),{dragStart:X,resizeStart:Q})),Ct=xt(t,"onRotateStart",_t);return a.isRotate=Ct!==!1,h.snapRenderInfo={request:e.isRequest},a.isRotate?_t:!1},dragControl:function(t,e){var r,n,a,o=e.datas,u=e.distX,l=e.distY,c=e.parentRotate,f=e.parentFlag,v=e.isPinch,h=e.groupDelta,p=o.beforeDirection,g=o.beforeInfo,b=o.afterInfo,y=o.absoluteInfo,_=o.isRotate,x=o.startValue,E=o.rect,w=o.startClientX,C=o.startClientY;if(!!_){Qs(e,"rotate");var I=YE(e),R=p*I,k=t.props.parentMoveable,O=0,B,A,N=0,L,z,H=0,V,tt,J=180/Math.PI*x,ot=y.startValue,X=!1,Q=w+u,lt=C+l;if(!f&&"parentDist"in e){var _t=e.parentDist;B=_t,L=_t,V=_t}else v||f?(B=Es(c,p,g),L=Es(c,R,b),V=Es(c,R,y)):(B=zl(Q,lt,p,g),L=zl(Q,lt,R,b),V=zl(Q,lt,R,y),X=!0);if(A=J+B,z=J+L,tt=ot+V,xt(t,"onBeforeRotate",Ht(t,e,{beforeRotation:A,rotation:z,absoluteRotation:tt,setRotation:function(ut){L=ut-J,B=L,V=L}},!0)),r=Ll(t,E,g,B,J,X),O=r[0],B=r[1],A=r[2],n=Ll(t,E,b,L,J,X),N=n[0],L=n[1],z=n[2],a=Ll(t,E,y,V,ot,X),H=a[0],V=a[1],tt=a[2],!(!H&&!N&&!O&&!k)){var Ct=Js(o,"rotate(".concat(z,"deg)"),"rotate(".concat(L,"deg)")),gt=r2(t,L,o),vt=Gt(ue(h||[0,0],gt),o.prevInverseDist||[0,0]);o.prevInverseDist=gt,o.requestValue=null;var yt=_g(t,Ct,vt,v,e),Dt=yt,Et=Qr([Q,lt],y.startAbsoluteOrigin)-y.startDist,T=void 0;if(o.resolveAble==="resizable"){var G=xf.dragControl(t,W(W({},ao(e,t.state,[e.deltaX,e.deltaY],!!v,!1,"resizable")),{resolveMatrix:!0,parentDistance:Et}));G&&(T=G,Dt=Og(Dt,G,e))}var U=Ht(t,e,W(W({delta:N,dist:L,rotate:z,rotation:z,beforeDist:B,beforeDelta:O,beforeRotate:A,beforeRotation:A,absoluteDist:V,absoluteDelta:H,absoluteRotate:tt,absoluteRotation:tt,isPinch:!!v,resize:T},yt),Dt));return xt(t,"onRotate",U),U}}},dragControlAfter:function(t,e){e.datas.requestValue},dragControlEnd:function(t,e){var r=e.datas;if(!!r.isRotate){r.isRotate=!1;var n=wr(t,e,{});return xt(t,"onRotateEnd",n),n}},dragGroupControlCondition:wf,dragGroupControlStart:function(t,e){var r=e.datas,n=t.state,a=n.left,o=n.top,u=n.beforeOrigin,l=this.dragControlStart(t,e);if(!l)return!1;l.set(r.beforeDirection*t.rotation);var c=En(t,this,"dragControlStart",e,function(h,p){var g=h.state,b=g.left,y=g.top,_=g.beforeOrigin,x=ue(Gt([b,y],[a,o]),Gt(_,u));return p.datas.startGroupClient=x,p.datas.groupClient=x,W(W({},p),{parentRotate:0})}),f=W(W({},l),{targets:t.props.targets,events:c}),v=xt(t,"onRotateGroupStart",f);return r.isRotate=v!==!1,r.isRotate?l:!1},dragGroupControl:function(t,e){var r=e.datas;if(!!r.isRotate){tc(t,"onBeforeRotate",function(f){xt(t,"onBeforeRotateGroup",Ht(t,e,W(W({},f),{targets:t.props.targets}),!0))});var n=this.dragControl(t,e);if(!!n){var a=r.beforeDirection,o=n.beforeDist,u=o/180*Math.PI,l=En(t,this,"dragControl",e,function(f,v){var h=v.datas.startGroupClient,p=v.datas.groupClient,g=p[0],b=p[1],y=js(h,u*a),_=y[0],x=y[1],E=[_-g,x-b];return v.datas.groupClient=[_,x],W(W({},v),{parentRotate:o,groupDelta:E})});t.rotation=a*n.beforeRotation;var c=W({targets:t.props.targets,events:l,set:function(f){t.rotation=f},setGroupRotation:function(f){t.rotation=f}},n);return xt(t,"onRotateGroup",c),c}}},dragGroupControlEnd:function(t,e){var r=e.isDrag,n=e.datas;if(!!n.isRotate){this.dragControlEnd(t,e);var a=En(t,this,"dragControlEnd",e),o=wr(t,e,{targets:t.props.targets,events:a});return xt(t,"onRotateGroupEnd",o),r}},request:function(t){var e={},r=0,n=t.getRotation();return{isControl:!0,requestStart:function(){return{datas:e}},request:function(a){return"deltaRotate"in a?r+=a.deltaRotate:"rotate"in a&&(r=a.rotate-n),{datas:e,parentDist:r}},requestEnd:function(){return{datas:e,isDrag:!0}}}}},Pp=rc("scalable"),mM={name:"scalable",ableGroup:"size",canPinch:!0,props:{scalable:Boolean,throttleScale:Number,renderDirections:String,keepRatio:Boolean,edge:Boolean},events:{onScaleStart:"scaleStart",onBeforeScale:"beforeScale",onScale:"scale",onScaleEnd:"scaleEnd",onScaleGroupStart:"scaleGroupStart",onBeforeScaleGroup:"beforeScaleGroup",onScaleGroup:"scaleGroup",onScaleGroupEnd:"scaleGroupEnd"},render:jg("scalable"),dragControlCondition:Pp,viewClassName:ec("scalable"),dragControlStart:function(t,e){var r=e.datas,n=e.isPinch,a=e.inputEvent,o=e.parentDirection,u=kg(o,n,a,r),l=t.state,c=l.width,f=l.height,v=l.targetTransform,h=l.target,p=l.pos1,g=l.pos2,b=l.pos4;if(!u||!h)return!1;n||xa(t,e),r.datas={},r.transform=v,r.prevDist=[1,1],r.direction=u,r.startOffsetWidth=c,r.startOffsetHeight=f,r.startValue=[1,1];var y=Qr(p,g),_=Qr(g,b),x=!u[0]&&!u[1]||u[0]||!u[1];r.scaleWidth=y,r.scaleHeight=_,r.scaleXRatio=y/c,r.scaleYRatio=_/f,eu(e,"scale"),r.isWidth=x;function E(R){r.ratio=R&&isFinite(R)?R:0}r.startPositions=gr(t.state);function w(R){r.fixedDirection=R,r.fixedPosition=Re(r.startPositions,R)}r.setFixedDirection=w,E(Qr(p,g)/Qr(g,b)),w([-u[0],-u[1]]);var C=Ht(t,e,W(W({direction:u,set:function(R){r.startValue=R},setRatio:E,setFixedDirection:w},tu(e)),{dragStart:ir.dragStart(t,new ri().dragStart([0,0],e))})),I=xt(t,"onScaleStart",C);return r.startFixedDirection=r.fixedDirection,I!==!1&&(r.isScale=!0,t.state.snapRenderInfo={request:e.isRequest,direction:u}),r.isScale?C:!1},dragControl:function(t,e){Qs(e,"scale");var r=e.datas,n=e.parentKeepRatio,a=e.parentFlag,o=e.isPinch,u=e.dragClient,l=e.isRequest,c=r.prevDist,f=r.direction,v=r.startOffsetWidth,h=r.startOffsetHeight,p=r.isScale,g=r.startValue,b=r.isWidth,y=r.ratio;if(!p)return!1;var _=t.props,x=_.throttleScale,E=_.parentMoveable,w=f;!f[0]&&!f[1]&&(w=[1,1]);var C=y&&(n!=null?n:_.keepRatio)||!1,I=t.state;function R(){var lt=Lg(w,C,r,e),_t=lt.distWidth,Ct=lt.distHeight,gt=(v+_t)/v,vt=(h+Ct)/h;return gt=w[0]||C?gt*g[0]:g[0],vt=w[1]||C?vt*g[1]:g[1],gt===0&&(gt=(c[0]>0?1:-1)*cs),vt===0&&(vt=(c[1]>0?1:-1)*cs),[gt,vt]}var k=R();if(!o&&t.props.groupable){var O=I.snapRenderInfo||{},B=O.direction;Le(B)&&(B[0]||B[1])&&(I.snapRenderInfo={direction:f,request:e.isRequest})}xt(t,"onBeforeScale",Ht(t,e,{scale:k,setFixedDirection:function(lt){return r.setFixedDirection(lt),k=R(),k},startFixedDirection:r.startFixedDirection,setScale:function(lt){k=lt}},!0));var A=[k[0]/g[0],k[1]/g[1]],N=u,L=[0,0];if(u||(!a&&o?N=wg(t,[0,0]):N=r.fixedPosition),o||(L=sM(t,A,f,l,r)),C){w[0]&&w[1]&&L[0]&&L[1]&&(Math.abs(L[0]*v)>Math.abs(L[1]*h)?L[1]=0:L[0]=0);var z=!L[0]&&!L[1];if(z&&(b?A[0]=re(A[0]*g[0],x)/g[0]:A[1]=re(A[1]*g[1],x)/g[1]),w[0]&&!w[1]||L[0]&&!L[1]||z&&b){A[0]+=L[0];var H=v*A[0]*g[0]/y;A[1]=H/h/g[1]}else if(!w[0]&&w[1]||!L[0]&&L[1]||z&&!b){A[1]+=L[1];var V=h*A[1]*g[1]*y;A[0]=V/v/g[0]}}else A[0]+=L[0],A[1]+=L[1],L[0]||(A[0]=re(A[0]*g[0],x)/g[0]),L[1]||(A[1]=re(A[1]*g[1],x)/g[1]);A[0]===0&&(A[0]=(c[0]>0?1:-1)*cs),A[1]===0&&(A[1]=(c[1]>0?1:-1)*cs);var tt=[A[0]/c[0],A[1]/c[1]];k=i2(A,g);var J=t2(t,A,r.fixedDirection,N,r),ot=Gt(J,r.prevInverseDist||[0,0]);if(r.prevDist=A,r.prevInverseDist=J,k[0]===c[0]&&k[1]===c[1]&&ot.every(function(lt){return!lt})&&!E)return!1;var X=Js(r,"scale(".concat(k.join(", "),")"),"scale(".concat(A.join(", "),")")),Q=Ht(t,e,W({offsetWidth:v,offsetHeight:h,direction:f,scale:k,dist:A,delta:tt,isPinch:!!o},_g(t,X,ot,o,e)));return xt(t,"onScale",Q),Q},dragControlEnd:function(t,e){var r=e.datas;if(!r.isScale)return!1;r.isScale=!1;var n=wr(t,e,{});return xt(t,"onScaleEnd",n),n},dragGroupControlCondition:Pp,dragGroupControlStart:function(t,e){var r=e.datas,n=this.dragControlStart(t,e);if(!n)return!1;var a=Hn(t,"resizable",e);function o(v,h){var p=r.fixedDirection,g=r.fixedPosition,b=h.datas.startPositions||gr(v.state),y=Re(b,p),_=Ze(ei(-t.rotation/180*Math.PI,3),[y[0]-g[0],y[1]-g[1],1],3),x=_[0],E=_[1];return h.datas.originalX=x,h.datas.originalY=E,h}r.moveableScale=t.scale;var u=En(t,this,"dragControlStart",e,function(v,h){return o(v,h)}),l=function(v){n.setFixedDirection(v),u.forEach(function(h,p){h.setFixedDirection(v),o(h.moveable,a[p])})};r.setFixedDirection=l;var c=W(W({},n),{targets:t.props.targets,events:u,setFixedDirection:l}),f=xt(t,"onScaleGroupStart",c);return r.isScale=f!==!1,r.isScale?c:!1},dragGroupControl:function(t,e){var r=e.datas;if(!!r.isScale){tc(t,"onBeforeScale",function(h){xt(t,"onBeforeScaleGroup",Ht(t,e,W(W({},h),{targets:t.props.targets}),!0))});var n=this.dragControl(t,e);if(!!n){var a=r.moveableScale;t.scale=[n.scale[0]*a[0],n.scale[1]*a[1]];var o=t.props.keepRatio,u=n.dist,l=n.scale,c=r.fixedPosition,f=En(t,this,"dragControl",e,function(h,p){var g=Ze(ei(t.rotation/180*Math.PI,3),[p.datas.originalX*u[0],p.datas.originalY*u[1],1],3),b=g[0],y=g[1];return W(W({},p),{parentDist:null,parentScale:l,parentKeepRatio:o,dragClient:ue(c,[b,y])})}),v=W({targets:t.props.targets,events:f},n);return xt(t,"onScaleGroup",v),v}}},dragGroupControlEnd:function(t,e){var r=e.isDrag,n=e.datas;if(!!n.isScale){this.dragControlEnd(t,e);var a=En(t,this,"dragControlEnd",e),o=wr(t,e,{targets:t.props.targets,events:a});return xt(t,"onScaleGroupEnd",o),r}},request:function(){var t={},e=0,r=0;return{isControl:!0,requestStart:function(n){return{datas:t,parentDirection:n.direction||[1,1]}},request:function(n){return e+=n.deltaWidth,r+=n.deltaHeight,{datas:t,parentDist:[e,r],parentKeepRatio:n.keepRatio}},requestEnd:function(){return{datas:t,isDrag:!0}}}}};function Gn(t,e){return t.map(function(r,n){return sa(r,e[n],1,2)})}function Ap(t,e,r){var n=ke(t,e),a=ke(t,r),o=a-n;return o>=0?o:o+2*Math.PI}function bM(t,e){var r=Ap(t[0],t[1],t[2]),n=Ap(e[0],e[1],e[2]),a=Math.PI;return!(r>=a&&n<=a||r<=a&&n>=a)}var yM={name:"warpable",ableGroup:"size",props:{warpable:Boolean,renderDirections:Array,edge:Boolean},events:{onWarpStart:"warpStart",onWarp:"warp",onWarpEnd:"warpEnd"},viewClassName:ec("warpable"),render:function(t,e){var r=t.props,n=r.resizable,a=r.scalable,o=r.warpable,u=r.zoom;if(n||a||!o)return[];var l=t.state,c=l.pos1,f=l.pos2,v=l.pos3,h=l.pos4,p=Gn(c,f),g=Gn(f,c),b=Gn(c,v),y=Gn(v,c),_=Gn(v,h),x=Gn(h,v),E=Gn(f,h),w=Gn(h,f);return Ot([e.createElement("div",{className:Rt("line"),key:"middeLine1",style:Pi(p,_,u)}),e.createElement("div",{className:Rt("line"),key:"middeLine2",style:Pi(g,x,u)}),e.createElement("div",{className:Rt("line"),key:"middeLine3",style:Pi(b,E,u)}),e.createElement("div",{className:Rt("line"),key:"middeLine4",style:Pi(y,w,u)})],Zg(t,"warpable",e),!0)},dragControlCondition:function(t,e){if(e.isRequest)return!1;var r=e.inputEvent.target;return ze(r,Rt("direction"))&&ze(r,Rt("warpable"))},dragControlStart:function(t,e){var r=e.datas,n=e.inputEvent,a=t.props.target,o=n.target,u=Ig(o,r);if(!u||!a)return!1;var l=t.state,c=l.transformOrigin,f=l.is3d,v=l.targetTransform,h=l.targetMatrix,p=l.width,g=l.height,b=l.left,y=l.top;r.datas={},r.targetTransform=v,r.warpTargetMatrix=f?h:cn(h,3,4),r.targetInverseMatrix=Zh(en(r.warpTargetMatrix,4),3,4),r.direction=u,r.left=b,r.top=y,r.poses=[[0,0],[p,0],[0,g],[p,g]].map(function(E){return Gt(E,c)}),r.nextPoses=r.poses.map(function(E){var w=E[0],C=E[1];return Ze(r.warpTargetMatrix,[w,C,0,1],4)}),r.startValue=De(4),r.prevMatrix=De(4),r.absolutePoses=gr(l),r.posIndexes=bg(u),xa(t,e),eu(e,"matrix3d"),l.snapRenderInfo={request:e.isRequest,direction:u};var _=Ht(t,e,W({set:function(E){r.startValue=E}},tu(e))),x=xt(t,"onWarpStart",_);return x!==!1&&(r.isWarp=!0),r.isWarp},dragControl:function(t,e){var r=e.datas,n=e.isRequest,a=e.distX,o=e.distY,u=r.targetInverseMatrix,l=r.prevMatrix,c=r.isWarp,f=r.startValue,v=r.poses,h=r.posIndexes,p=r.absolutePoses;if(!c)return!1;if(Qs(e,"matrix3d"),ci(t,"warpable")){var g=h.map(function(B){return p[B]});g.length>1&&g.push([(g[0][0]+g[1][0])/2,(g[0][1]+g[1][1])/2]);var b=iu(t,n,{horizontal:g.map(function(B){return B[1]+o}),vertical:g.map(function(B){return B[0]+a})}),y=b.horizontal,_=b.vertical;o-=y.offset,a-=_.offset}var x=dn({datas:r,distX:a,distY:o},!0),E=r.nextPoses.slice();if(h.forEach(function(B){E[B]=ue(E[B],x)}),!NE.every(function(B){return bM(B.map(function(A){return v[A]}),B.map(function(A){return E[A]}))}))return!1;var w=Wf(v[0],v[2],v[1],v[3],E[0],E[2],E[1],E[3]);if(!w.length)return!1;var C=ye(u,w,4),I=gg(r,C,!0),R=ye(en(l,4),I,4);r.prevMatrix=I;var k=ye(f,I,4),O=Js(r,"matrix3d(".concat(k.join(", "),")"),"matrix3d(".concat(I.join(", "),")"));return Kf(e,O),xt(t,"onWarp",Ht(t,e,{delta:R,matrix:k,dist:I,multiply:ye,transform:O})),!0},dragControlEnd:function(t,e){var r=e.datas,n=e.isDrag;return r.isWarp?(r.isWarp=!1,xt(t,"onWarpEnd",wr(t,e,{})),n):!1}},_M=Rt("area-pieces"),ms=Rt("area-piece"),Qg=Rt("avoid"),SM=Rt("view-dragging");function Fl(t){var e=t.areaElement;if(!!e){var r=t.state,n=r.width,a=r.height;Gh(e,Qg),e.style.cssText+="left: 0px; top: 0px; width: ".concat(n,"px; height: ").concat(a,"px")}}function zp(t){return t.createElement("div",{key:"area_pieces",className:_M},t.createElement("div",{className:ms}),t.createElement("div",{className:ms}),t.createElement("div",{className:ms}),t.createElement("div",{className:ms}))}var Jg={name:"dragArea",props:{dragArea:Boolean,passDragArea:Boolean},events:{onClick:"click",onClickGroup:"clickGroup"},render:function(t,e){var r=t.props,n=r.target,a=r.dragArea,o=r.groupable,u=r.passDragArea,l=t.getState(),c=l.width,f=l.height,v=l.renderPoses,h=u?Rt("area","pass"):Rt("area");if(o)return[e.createElement("div",{key:"area",ref:fn(t,"areaElement"),className:h}),zp(e)];if(!n||!a)return[];var p=Wf([0,0],[c,0],[0,f],[c,f],v[0],v[1],v[2],v[3]),g=p.length?ru(p,!0):"none";return[e.createElement("div",{key:"area",ref:fn(t,"areaElement"),className:h,style:{top:"0px",left:"0px",width:"".concat(c,"px"),height:"".concat(f,"px"),transformOrigin:"0 0",transform:g}}),zp(e)]},dragStart:function(t,e){var r=e.datas,n=e.clientX,a=e.clientY,o=e.inputEvent;if(!o)return!1;r.isDragArea=!1;var u=t.areaElement,l=t.state,c=l.moveableClientRect,f=l.renderPoses,v=l.rootMatrix,h=l.is3d,p=c.left,g=c.top,b=Lr(f),y=b.left,_=b.top,x=b.width,E=b.height,w=h?4:3,C=Ja(v,[n-p,a-g],w),I=C[0],R=C[1];I-=y,R-=_;var k=[{left:y,top:_,width:x,height:R-10},{left:y,top:_,width:I-10,height:E},{left:y,top:_+R+10,width:x,height:E-R-10},{left:y+I+10,top:_,width:x-I-10,height:E}],O=[].slice.call(u.nextElementSibling.children);k.forEach(function(B,A){O[A].style.cssText="left: ".concat(B.left,"px;top: ").concat(B.top,"px; width: ").concat(B.width,"px; height: ").concat(B.height,"px;")}),zf(u,Qg),l.disableNativeEvent=!0},drag:function(t,e){var r=e.datas,n=e.inputEvent;if(this.enableNativeEvent(t),!n)return!1;r.isDragArea||(r.isDragArea=!0,Fl(t))},dragEnd:function(t,e){this.enableNativeEvent(t);var r=e.inputEvent,n=e.datas;if(!r)return!1;n.isDragArea||Fl(t)},dragGroupStart:function(t,e){return this.dragStart(t,e)},dragGroup:function(t,e){return this.drag(t,e)},dragGroupEnd:function(t,e){return this.dragEnd(t,e)},unset:function(t){Fl(t),t.state.disableNativeEvent=!1},enableNativeEvent:function(t){var e=t.state;e.disableNativeEvent&&Lh(function(){e.disableNativeEvent=!1})}},xM=no("origin",{render:function(t,e){var r=t.props.zoom,n=t.getState(),a=n.beforeOrigin,o=n.rotation;return[e.createElement("div",{className:Rt("control","origin"),style:Qf(o,r,a),key:"beforeOrigin"})]}});function wM(t){var e=t.scrollContainer;return[e.scrollLeft,e.scrollTop]}var CM={name:"scrollable",canPinch:!0,props:{scrollable:Boolean,scrollContainer:Object,scrollThreshold:Number,getScrollPosition:Function},events:{onScroll:"scroll",onScrollGroup:"scrollGroup"},dragRelation:"strong",dragStart:function(t,e){var r=t.props,n=r.scrollContainer,a=n===void 0?t.getContainer():n,o=new ig,u=ba(a,!0);e.datas.dragScroll=o;var l=e.isControl?"controlGesto":"targetGesto",c=e.targets;o.on("scroll",function(f){var v=f.container,h=f.direction,p=Ht(t,e,{scrollContainer:v,direction:h}),g=c?"onScrollGroup":"onScroll";c&&(p.targets=c),xt(t,g,p)}).on("move",function(f){var v=f.offsetX,h=f.offsetY;t[l].scrollBy(v,h,e.inputEvent,!1)}),o.dragStart(e,{container:u})},checkScroll:function(t,e){var r=e.datas.dragScroll;if(!!r){var n=t.props,a=n.scrollContainer,o=a===void 0?t.getContainer():a,u=n.scrollThreshold,l=u===void 0?0:u,c=n.getScrollPosition,f=c===void 0?wM:c;return r.drag(e,{container:o,threshold:l,getScrollPosition:function(v){return f({scrollContainer:v.container,direction:v.direction})}}),!0}},drag:function(t,e){return this.checkScroll(t,e)},dragEnd:function(t,e){e.datas.dragScroll.dragEnd(),e.datas.dragScroll=null},dragControlStart:function(t,e){return this.dragStart(t,W(W({},e),{isControl:!0}))},dragControl:function(t,e){return this.drag(t,e)},dragControlEnd:function(t,e){return this.dragEnd(t,e)},dragGroupStart:function(t,e){return this.dragStart(t,W(W({},e),{targets:t.props.targets}))},dragGroup:function(t,e){return this.drag(t,W(W({},e),{targets:t.props.targets}))},dragGroupEnd:function(t,e){return this.dragEnd(t,W(W({},e),{targets:t.props.targets}))},dragGroupControlStart:function(t,e){return this.dragStart(t,W(W({},e),{targets:t.props.targets,isControl:!0}))},dragGroupContro:function(t,e){return this.drag(t,W(W({},e),{targets:t.props.targets}))},dragGroupControEnd:function(t,e){return this.dragEnd(t,W(W({},e),{targets:t.props.targets}))}},t0={name:"",props:{target:Object,dragTarget:Object,container:Object,portalContainer:Object,rootContainer:Object,useResizeObserver:Boolean,zoom:Number,transformOrigin:Array,edge:Object,ables:Array,className:String,pinchThreshold:Number,pinchOutside:Boolean,triggerAblesSimultaneously:Boolean,checkInput:Boolean,cspNonce:String,translateZ:Number,hideDefaultLines:Boolean,props:Object,flushSync:Function,stopPropagation:Boolean,preventClickEventOnDrag:Boolean,preventClickDefault:Boolean,viewContainer:Object},events:{}},EM=no("padding",{render:function(t,e){var r=t.props;if(r.dragArea)return[];var n=r.padding||{},a=n.left,o=a===void 0?0:a,u=n.top,l=u===void 0?0:u,c=n.right,f=c===void 0?0:c,v=n.bottom,h=v===void 0?0:v,p=t.getState(),g=p.renderPoses,b=p.pos1,y=p.pos2,_=p.pos3,x=p.pos4,E=[b,y,_,x],w=[];return o>0&&w.push([0,2]),l>0&&w.push([0,1]),f>0&&w.push([1,3]),h>0&&w.push([2,3]),w.map(function(C,I){var R=C[0],k=C[1],O=E[R],B=E[k],A=g[R],N=g[k],L=Wf([0,0],[100,0],[0,100],[100,100],O,B,A,N);if(!!L.length)return e.createElement("div",{key:"padding".concat(I),className:Rt("padding"),style:{transform:ru(L,!0)}})})}}),Lp=["nw","ne","se","sw"];function bs(t,e){var r=t[0]+t[1],n=r>e?e/r:1;return t[0]*=n,t[1]=e-t[1]*n,t}var MM=[1,2,5,6],DM=[0,3,4,7],la=[1,-1,-1,1],fa=[1,1,-1,-1];function fc(t,e,r,n,a,o,u,l){a===void 0&&(a=0),o===void 0&&(o=0),u===void 0&&(u=r),l===void 0&&(l=n);var c=[],f=!1,v=t.filter(function(p){return!p.virtual}),h=v.map(function(p){var g=p.horizontal,b=p.vertical,y=p.pos;if(b&&!f&&(f=!0,c.push("/")),f){var _=Math.max(0,b===1?y[1]-o:l-y[1]);return c.push(jr(_,n,e)),_}else{var _=Math.max(0,g===1?y[0]-a:u-y[0]);return c.push(jr(_,r,e)),_}});return{radiusPoses:v,styles:c,raws:h}}function e0(t){for(var e=[0,0],r=[0,0],n=t.length,a=0;a<n;++a){var o=t[a];!o.sub||(o.horizontal&&(e[1]===0&&(e[0]=a),e[1]=a-e[0]+1,r[0]=a+1),o.vertical&&(r[1]===0&&(r[0]=a),r[1]=a-r[0]+1))}return{horizontalRange:e,verticalRange:r}}function r0(t,e,r,n,a,o,u){var l,c,f,v;o===void 0&&(o=[0,0]),u===void 0&&(u=!1);var h=t.indexOf("/"),p=(h>-1?t.slice(0,h):t).length,g=t.slice(0,p),b=t.slice(p+1),y=g.length,_=b.length,x=_>0,E=g[0],w=E===void 0?"0px":E,C=g[1],I=C===void 0?w:C,R=g[2],k=R===void 0?w:R,O=g[3],B=O===void 0?I:O,A=b[0],N=A===void 0?w:A,L=b[1],z=L===void 0?x?N:I:L,H=b[2],V=H===void 0?x?N:k:H,tt=b[3],J=tt===void 0?x?z:B:tt,ot=[w,I,k,B].map(function(gt){return Me(gt,e)}),X=[N,z,V,J].map(function(gt){return Me(gt,r)}),Q=ot.slice(),lt=X.slice();l=bs([Q[0],Q[1]],e),Q[0]=l[0],Q[1]=l[1],c=bs([Q[3],Q[2]],e),Q[3]=c[0],Q[2]=c[1],f=bs([lt[0],lt[3]],r),lt[0]=f[0],lt[3]=f[1],v=bs([lt[1],lt[2]],r),lt[1]=v[0],lt[2]=v[1];var _t=u?Q:Q.slice(0,Math.max(o[0],y)),Ct=u?lt:lt.slice(0,Math.max(o[1],_));return Ot(Ot([],_t.map(function(gt,vt){var yt=Lp[vt];return{virtual:vt>=y,horizontal:la[vt],vertical:0,pos:[n+gt,a+(fa[vt]===-1?r:0)],sub:!0,raw:ot[vt],direction:yt}}),!0),Ct.map(function(gt,vt){var yt=Lp[vt];return{virtual:vt>=_,horizontal:0,vertical:fa[vt],pos:[n+(la[vt]===-1?e:0),a+gt],sub:!0,raw:X[vt],direction:yt}}),!0)}function TM(t,e,r,n,a){a===void 0&&(a=e.length);var o=e0(t.slice(n)),u=o.horizontalRange,l=o.verticalRange,c=r-n,f=0;if(c===0)f=a;else if(c>0&&c<u[1])f=u[1]-c;else if(c>=l[0])f=l[0]+l[1]-c;else return;t.splice(r,f),e.splice(r,f)}function RM(t,e,r,n,a,o,u,l,c,f,v){f===void 0&&(f=0),v===void 0&&(v=0);var h=e0(t.slice(r)),p=h.horizontalRange,g=h.verticalRange;if(n>-1)for(var b=la[n]===1?o-f:l-o,y=p[1];y<=n;++y){var _=fa[y]===1?v:c,x=0;if(n===y?x=o:y===0?x=f+b:la[y]===-1&&(x=l-(e[r][0]-f)),t.splice(r+y,0,{horizontal:la[y],vertical:0,pos:[x,_]}),e.splice(r+y,0,[x,_]),y===0)break}else if(a>-1){var E=fa[a]===1?u-v:c-u;if(p[1]===0&&g[1]===0){var w=[f+E,v];t.push({horizontal:la[0],vertical:0,pos:w}),e.push(w)}for(var C=g[0],y=g[1];y<=a;++y){var x=la[y]===1?f:l,_=0;if(a===y?_=u:y===0?_=v+E:fa[y]===1?_=e[r+C][1]:fa[y]===-1&&(_=c-(e[r+C][1]-v)),t.push({horizontal:0,vertical:fa[y],pos:[x,_]}),e.push([x,_]),y===0)break}}}function kM(t,e){e===void 0&&(e=t.map(function(a){return a.raw}));var r=t.map(function(a,o){return a.horizontal?e[o]:null}).filter(function(a){return a!=null}),n=t.map(function(a,o){return a.vertical?e[o]:null}).filter(function(a){return a!=null});return{horizontals:r,verticals:n}}var IM=[[0,-1,"n"],[1,0,"e"]],OM=[[-1,-1,"nw"],[0,-1,"n"],[1,-1,"ne"],[1,0,"e"],[1,1,"se"],[0,1,"s"],[-1,1,"sw"],[-1,0,"w"]];function cc(t,e,r){var n=t.props.clipRelative,a=t.state,o=a.width,u=a.height,l=e,c=l.type,f=l.poses,v=c==="rect",h=c==="circle";if(c==="polygon")return r.map(function(R){return"".concat(jr(R[0],o,n)," ").concat(jr(R[1],u,n))});if(v||c==="inset"){var p=r[1][1],g=r[3][0],b=r[7][0],y=r[5][1];if(v)return[p,g,y,b].map(function(R){return"".concat(R,"px")});var _=[p,o-g,u-y,b].map(function(R,k){return jr(R,k%2?o:u,n)});if(r.length>8){var x=Gt(r[4],r[0]),E=x[0],w=x[1];_.push.apply(_,Ot(["round"],fc(f.slice(8).map(function(R,k){return W(W({},R),{pos:r[k]})}),n,E,w,b,p,g,y).styles,!1))}return _}else if(h||c==="ellipse"){var C=r[0],I=jr(Math.abs(r[1][1]-C[1]),h?Math.sqrt((o*o+u*u)/2):u,n),_=h?[I]:[jr(Math.abs(r[2][0]-C[0]),o,n),I];return _.push("at",jr(C[0],o,n),jr(C[1],u,n)),_}}function Hs(t,e,r,n){var a=[n,(n+e)/2,e],o=[t,(t+r)/2,r];return OM.map(function(u){var l=u[0],c=u[1],f=u[2],v=a[l+1],h=o[c+1];return{vertical:Math.abs(c),horizontal:Math.abs(l),direction:f,pos:[v,h]}})}function n0(t){var e=[1/0,-1/0],r=[1/0,-1/0];return t.forEach(function(n){var a=n.pos;e[0]=Math.min(e[0],a[0]),e[1]=Math.max(e[1],a[0]),r[0]=Math.min(r[0],a[1]),r[1]=Math.max(r[1],a[1])}),[Math.abs(e[1]-e[0]),Math.abs(r[1]-r[0])]}function BM(t,e,r,n,a){var o=t[e],u=o.direction,l=o.sub,c=t.map(function(){return[0,0]}),f=u?u.split(""):[];if(n&&e<8){var v=f.filter(function(z){return z==="w"||z==="e"}),h=f.filter(function(z){return z==="n"||z==="s"}),p=v[0],g=h[0];c[e]=r;var b=n0(t),y=b[0],_=b[1],x=y&&_?y/_:0;if(x&&a){var E=(e+4)%8,w=t[E].pos,C=[0,0];u.indexOf("w")>-1?C[0]=-1:u.indexOf("e")>-1&&(C[0]=1),u.indexOf("n")>-1?C[1]=-1:u.indexOf("s")>-1&&(C[1]=1);var I=zg([y,_],r,x,C,!0),R=y+I[0],k=_+I[1],O=w[1],B=w[1],A=w[0],N=w[0];C[0]===-1?A=N-R:C[0]===1?N=A+R:(A=A-R/2,N=N+R/2),C[1]===-1?O=B-k:(C[1]===1||(O=B-k/2),B=O+k);var L=Hs(O,N,B,A);t.forEach(function(z,H){c[H][0]=L[H].pos[0]-z.pos[0],c[H][1]=L[H].pos[1]-z.pos[1]})}else t.forEach(function(z,H){var V=z.direction;!V||(V.indexOf(p)>-1&&(c[H][0]=r[0]),V.indexOf(g)>-1&&(c[H][1]=r[1]))}),p&&(c[1][0]=r[0]/2,c[5][0]=r[0]/2),g&&(c[3][1]=r[1]/2,c[7][1]=r[1]/2)}else u&&!l?f.forEach(function(z){var H=z==="n"||z==="s";t.forEach(function(V,tt){var J=V.direction,ot=V.horizontal,X=V.vertical;!J||J.indexOf(z)===-1||(c[tt]=[H||!ot?0:r[0],!H||!X?0:r[1]])})}):c[e]=r;return c}function Fp(t,e,r,n,a){var o,u,l,c,f,v,h,p=a;if(!p){var g=Fr(t),b=g.clipPath;p=b!=="none"?b:g.clip}if(!((!p||p==="none"||p==="auto")&&(p=n,!p))){var y=zh(p),_=y.prefix,x=_===void 0?p:_,E=y.value,w=E===void 0?"":E,C=x==="circle",I=" ";if(x==="polygon"){var R=da(w||"0% 0%, 100% 0%, 100% 100%, 0% 100%");I=",";var k=R.map(function(At){var Jt=At.split(" "),Wt=Jt[0],fe=Jt[1];return{vertical:1,horizontal:1,pos:[Me(Wt,e),Me(fe,r)]}});return{type:x,clipText:p,poses:k,splitter:I}}else if(C||x==="ellipse"){var O="",B="",A=0,N=0,R=Wn(w);if(C){var L="";o=R[0],L=o===void 0?"50%":o,u=R[2],O=u===void 0?"50%":u,l=R[3],B=l===void 0?"50%":l,A=Me(L,Math.sqrt((e*e+r*r)/2)),N=A}else{var z="",H="";c=R[0],z=c===void 0?"50%":c,f=R[1],H=f===void 0?"50%":f,v=R[3],O=v===void 0?"50%":v,h=R[4],B=h===void 0?"50%":h,A=Me(z,e),N=Me(H,r)}var V=[Me(O,e),Me(B,r)],k=Ot([{vertical:1,horizontal:1,pos:V,direction:"nesw"}],IM.slice(0,C?1:2).map(function(Wt){return{vertical:Math.abs(Wt[1]),horizontal:Wt[0],direction:Wt[2],sub:!0,pos:[V[0]+Wt[0]*A,V[1]+Wt[1]*N]}}),!0);return{type:x,clipText:p,radiusX:A,radiusY:N,left:V[0]-A,top:V[1]-N,poses:k,splitter:I}}else if(x==="inset"){var R=Wn(w||"0 0 0 0"),tt=R.indexOf("round"),J=(tt>-1?R.slice(0,tt):R).length,ot=R.slice(J+1),X=R.slice(0,J),Q=X[0],lt=X[1],_t=lt===void 0?Q:lt,Ct=X[2],gt=Ct===void 0?Q:Ct,vt=X[3],yt=vt===void 0?_t:vt,Dt=[Q,gt].map(function(Wt){return Me(Wt,r)}),Et=Dt[0],T=Dt[1],G=[yt,_t].map(function(Wt){return Me(Wt,e)}),U=G[0],ut=G[1],pt=e-ut,dt=r-T,Mt=r0(ot,pt-U,dt-Et,U,Et),k=Ot(Ot([],Hs(Et,pt,dt,U),!0),Mt,!0);return{type:"inset",clipText:p,poses:k,top:Et,left:U,right:pt,bottom:dt,radius:ot,splitter:I}}else if(x==="rect"){var R=da(w||"0px, ".concat(e,"px, ").concat(r,"px, 0px"));I=",";var kt=R.map(function(nt){var mt=si(nt).value;return mt}),Et=kt[0],ut=kt[1],T=kt[2],U=kt[3],k=Hs(Et,ut,T,U);return{type:"rect",clipText:p,poses:k,top:Et,right:ut,bottom:T,left:U,values:R,splitter:I}}}}function PM(t,e){var r=hg(t,e),n=r[0],a=r[1],o=e.datas,u=o.clipPath,l=o.clipIndex,c=u,f=c.type,v=c.poses,h=c.splitter,p=v.map(function(x){return x.pos});if(f==="polygon")p.splice(l,0,[n,a]);else if(f==="inset"){var g=MM.indexOf(l),b=DM.indexOf(l),y=v.length;if(RM(v,p,8,g,b,n,a,p[4][0],p[4][1],p[0][0],p[0][1]),y===v.length)return}else return;var _=cc(t,u,p);xt(t,"onClip",Ht(t,e,{clipEventType:"added",clipType:f,poses:p,clipStyles:_,clipStyle:"".concat(f,"(").concat(_.join(h),")"),distX:0,distY:0}))}function AM(t,e){var r=e.datas,n=r.clipPath,a=r.clipIndex,o=n,u=o.type,l=o.poses,c=o.splitter,f=l.map(function(p){return p.pos}),v=f.length;if(u==="polygon")l.splice(a,1),f.splice(a,1);else if(u==="inset"){if(a<8||(TM(l,f,a,8,v),v===l.length))return}else return;var h=cc(t,n,f);xt(t,"onClip",Ht(t,e,{clipEventType:"removed",clipType:u,poses:f,clipStyles:h,clipStyle:"".concat(u,"(").concat(h.join(c),")"),distX:0,distY:0}))}var zM={name:"clippable",props:{clippable:Boolean,defaultClipPath:String,customClipPath:String,keepRatio:Boolean,clipRelative:Boolean,clipArea:Boolean,dragWithClip:Boolean,clipTargetBounds:Boolean,clipVerticalGuidelines:Array,clipHorizontalGuidelines:Array,clipSnapThreshold:Boolean},events:{onClipStart:"clipStart",onClip:"clip",onClipEnd:"clipEnd"},css:[`.control.clip-control {
    background: #6d6;
    cursor: pointer;
}
.control.clip-control.clip-radius {
    background: #d66;
}
.line.clip-line {
    background: #6e6;
    cursor: move;
    z-index: 1;
}
.clip-area {
    position: absolute;
    top: 0;
    left: 0;
}
.clip-ellipse {
    position: absolute;
    cursor: move;
    border: 1px solid #6d6;
    border: var(--zoompx) solid #6d6;
    border-radius: 50%;
    transform-origin: 0px 0px;
}`,`:host {
    --bounds-color: #d66;
}`,`.guideline {
    pointer-events: none;
    z-index: 2;
}`,`.line.guideline.bounds {
    background: #d66;
    background: var(--bounds-color);
}`],render:function(t,e){var r=t.props,n=r.customClipPath,a=r.defaultClipPath,o=r.clipArea,u=r.zoom,l=t.getState(),c=l.target,f=l.width,v=l.height,h=l.allMatrix,p=l.is3d,g=l.left,b=l.top,y=l.pos1,_=l.pos2,x=l.pos3,E=l.pos4,w=l.clipPathState,C=l.snapBoundInfos,I=l.rotation;if(!c)return[];var R=Fp(c,f,v,a||"inset",w||n);if(!R)return[];var k=p?4:3,O=R.type,B=R.poses,A=B.map(function(dt){var Mt=Ve(h,dt.pos,k);return[Mt[0]-g,Mt[1]-b]}),N=[],L=[],z=O==="rect",H=O==="inset",V=O==="polygon";if(z||H||V){var tt=H?A.slice(0,8):A;L=tt.map(function(dt,Mt){var kt=Mt===0?tt[tt.length-1]:tt[Mt-1],At=ke(kt,dt),Jt=Dg(kt,dt);return e.createElement("div",{key:"clipLine".concat(Mt),className:Rt("line","clip-line","snap-control"),"data-clip-index":Mt,style:{width:"".concat(Jt,"px"),transform:"translate(".concat(kt[0],"px, ").concat(kt[1],"px) rotate(").concat(At,"rad) scaleY(").concat(u,")")}})})}if(N=A.map(function(dt,Mt){return e.createElement("div",{key:"clipControl".concat(Mt),className:Rt("control","clip-control","snap-control"),"data-clip-index":Mt,style:{transform:"translate(".concat(dt[0],"px, ").concat(dt[1],"px) rotate(").concat(I,"rad) scale(").concat(u,")")}})}),H&&N.push.apply(N,A.slice(8).map(function(dt,Mt){return e.createElement("div",{key:"clipRadiusControl".concat(Mt),className:Rt("control","clip-control","clip-radius","snap-control"),"data-clip-index":8+Mt,style:{transform:"translate(".concat(dt[0],"px, ").concat(dt[1],"px) rotate(").concat(I,"rad) scale(").concat(u,")")}})})),O==="circle"||O==="ellipse"){var J=R.left,ot=R.top,X=R.radiusX,Q=R.radiusY,lt=Gt(Ve(h,[J,ot],k),Ve(h,[0,0],k)),_t=lt[0],Ct=lt[1],gt="none";if(!o){for(var vt=Math.max(10,X/5,Q/5),yt=[],Dt=0;Dt<=vt;++Dt){var Et=Math.PI*2/vt*Dt;yt.push([X+(X-u)*Math.cos(Et),Q+(Q-u)*Math.sin(Et)])}yt.push([X,-2]),yt.push([-2,-2]),yt.push([-2,Q*2+2]),yt.push([X*2+2,Q*2+2]),yt.push([X*2+2,-2]),yt.push([X,-2]),gt="polygon(".concat(yt.map(function(dt){return"".concat(dt[0],"px ").concat(dt[1],"px")}).join(", "),")")}N.push(e.createElement("div",{key:"clipEllipse",className:Rt("clip-ellipse","snap-control"),style:{width:"".concat(X*2,"px"),height:"".concat(Q*2,"px"),clipPath:gt,transform:"translate(".concat(-g+_t,"px, ").concat(-b+Ct,"px) ").concat(ru(h))}}))}if(o){var T=Lr(Ot([y,_,x,E],A,!0)),G=T.width,U=T.height,ut=T.left,pt=T.top;if(V||z||H){var yt=H?A.slice(0,8):A;N.push(e.createElement("div",{key:"clipArea",className:Rt("clip-area","snap-control"),style:{width:"".concat(G,"px"),height:"".concat(U,"px"),transform:"translate(".concat(ut,"px, ").concat(pt,"px)"),clipPath:"polygon(".concat(yt.map(function(Mt){return"".concat(Mt[0]-ut,"px ").concat(Mt[1]-pt,"px")}).join(", "),")")}}))}}return C&&["vertical","horizontal"].forEach(function(dt){var Mt=C[dt],kt=dt==="horizontal";Mt.isSnap&&L.push.apply(L,Mt.snap.posInfos.map(function(At,Jt){var Wt=At.pos,fe=Gt(Ve(h,kt?[0,Wt]:[Wt,0],k),[g,b]),ge=Gt(Ve(h,kt?[f,Wt]:[Wt,v],k),[g,b]);return Xi(e,"",fe,ge,u,"clip".concat(dt,"snap").concat(Jt),"guideline")})),Mt.isBound&&L.push.apply(L,Mt.bounds.map(function(At,Jt){var Wt=At.pos,fe=Gt(Ve(h,kt?[0,Wt]:[Wt,0],k),[g,b]),ge=Gt(Ve(h,kt?[f,Wt]:[Wt,v],k),[g,b]);return Xi(e,"",fe,ge,u,"clip".concat(dt,"bounds").concat(Jt),"guideline","bounds","bold")}))}),Ot(Ot([],N,!0),L,!0)},dragControlCondition:function(t,e){return e.inputEvent&&(e.inputEvent.target.getAttribute("class")||"").indexOf("clip")>-1},dragStart:function(t,e){var r=t.props,n=r.dragWithClip,a=n===void 0?!0:n;return a?!1:this.dragControlStart(t,e)},drag:function(t,e){return this.dragControl(t,W(W({},e),{isDragTarget:!0}))},dragEnd:function(t,e){return this.dragControlEnd(t,e)},dragControlStart:function(t,e){var r=t.state,n=t.props,a=n.defaultClipPath,o=n.customClipPath,u=r.target,l=r.width,c=r.height,f=e.inputEvent?e.inputEvent.target:null,v=f&&f.getAttribute("class")||"",h=e.datas,p=Fp(u,l,c,a||"inset",o);if(!p)return!1;var g=p.clipText,b=p.type,y=p.poses,_=xt(t,"onClipStart",Ht(t,e,{clipType:b,clipStyle:g,poses:y.map(function(x){return x.pos})}));return _===!1?(h.isClipStart=!1,!1):(h.isControl=v&&v.indexOf("clip-control")>-1,h.isLine=v.indexOf("clip-line")>-1,h.isArea=v.indexOf("clip-area")>-1||v.indexOf("clip-ellipse")>-1,h.clipIndex=f?parseInt(f.getAttribute("data-clip-index"),10):-1,h.clipPath=p,h.isClipStart=!0,r.clipPathState=g,xa(t,e),!0)},dragControl:function(t,e){var r,n=e.datas,a=e.originalDatas,o=e.isDragTarget;if(!n.isClipStart)return!1;var u=n,l=u.isControl,c=u.isLine,f=u.isArea,v=u.clipIndex,h=u.clipPath;if(!h)return!1;var p=ma(t.props,"clippable"),g=p.keepRatio,b=0,y=0,_=a.draggable,x=dn(e);o&&_?(r=_.prevBeforeDist,b=r[0],y=r[1]):(b=x[0],y=x[1]);var E=[b,y],w=t.state,C=w.width,I=w.height,R=!f&&!l&&!c,k=h.type,O=h.poses,B=h.splitter,A=O.map(function(Zt){return Zt.pos});R&&(b=-b,y=-y);var N=!l||O[v].direction==="nesw",L=k==="inset"||k==="rect",z=O.map(function(){return[0,0]});if(l&&!N){var H=O[v],V=H.horizontal,tt=H.vertical,J=[b*Math.abs(V),y*Math.abs(tt)];z=BM(O,v,J,L,g)}else N&&(z=A.map(function(){return[b,y]}));var ot=A.map(function(Zt,Ce){return ue(Zt,z[Ce])}),X=Ot([],ot,!0);w.snapBoundInfos=null;var Q=h.type==="circle",lt=h.type==="ellipse";if(Q||lt){var _t=Lr(ot),Ct=Math.abs(_t.bottom-_t.top),gt=Math.abs(lt?_t.right-_t.left:Ct),vt=ot[0][1]+Ct,yt=ot[0][0]-gt,Dt=ot[0][0]+gt;Q&&(X.push([Dt,_t.bottom]),z.push([1,0])),X.push([_t.left,vt]),z.push([0,1]),X.push([yt,_t.bottom]),z.push([1,0])}var Et=Vg((p.clipHorizontalGuidelines||[]).map(function(Zt){return Me("".concat(Zt),I)}),(p.clipVerticalGuidelines||[]).map(function(Zt){return Me("".concat(Zt),C)}),C,I),T=[],G=[];if(Q||lt)T=[X[4][0],X[2][0]],G=[X[1][1],X[3][1]];else if(L){var U=[X[0],X[2],X[4],X[6]],ut=[z[0],z[2],z[4],z[6]];T=U.filter(function(Zt,Ce){return ut[Ce][0]}).map(function(Zt){return Zt[0]}),G=U.filter(function(Zt,Ce){return ut[Ce][1]}).map(function(Zt){return Zt[1]})}else T=X.filter(function(Zt,Ce){return z[Ce][0]}).map(function(Zt){return Zt[0]}),G=X.filter(function(Zt,Ce){return z[Ce][1]}).map(function(Zt){return Zt[1]});var pt=[0,0],dt=Rp(Et,p.clipTargetBounds&&{left:0,top:0,right:C,bottom:I},T,G,5),Mt=dt.horizontal,kt=dt.vertical,At=Mt.offset,Jt=kt.offset;if(Mt.isBound&&(pt[1]+=At),kt.isBound&&(pt[0]+=Jt),(lt||Q)&&z[0][0]===0&&z[0][1]===0){var _t=Lr(ot),Wt=_t.bottom-_t.top,fe=lt?_t.right-_t.left:Wt,ge=kt.isBound?Math.abs(Jt):kt.snapIndex===0?-Jt:Jt,Fe=Mt.isBound?Math.abs(At):Mt.snapIndex===0?-At:At;fe-=ge,Wt-=Fe,Q&&(Wt=Gg(kt,Mt)>0?Wt:fe,fe=Wt);var nt=X[0];X[1][1]=nt[1]-Wt,X[2][0]=nt[0]+fe,X[3][1]=nt[1]+Wt,X[4][0]=nt[0]-fe}else if(L&&g&&l){var mt=n0(O),Tt=mt[0],oe=mt[1],ne=Tt&&oe?Tt/oe:0,Vt=O[v],Lt=Vt.direction||"",ce=X[1][1],vt=X[5][1],yt=X[7][0],Dt=X[3][0];At<=Jt?At=Jt/ne:Jt=At*ne,Lt.indexOf("w")>-1?yt-=Jt:Lt.indexOf("e")>-1?Dt-=Jt:(yt+=Jt/2,Dt-=Jt/2),Lt.indexOf("n")>-1?ce-=At:Lt.indexOf("s")>-1?vt-=At:(ce+=At/2,vt-=At/2);var Ge=Hs(ce,Dt,vt,yt);X.forEach(function(Un,Kn){var jn;jn=Ge[Kn].pos,Un[0]=jn[0],Un[1]=jn[1]})}else X.forEach(function(Zt,Ce){var qr=z[Ce];qr[0]&&(Zt[0]-=Jt),qr[1]&&(Zt[1]-=At)});var fr=cc(t,h,ot),at="".concat(k,"(").concat(fr.join(B),")");if(w.clipPathState=at,Q||lt)T=[X[4][0],X[2][0]],G=[X[1][1],X[3][1]];else if(L){var U=[X[0],X[2],X[4],X[6]];T=U.map(function(Ce){return Ce[0]}),G=U.map(function(Ce){return Ce[1]})}else T=X.map(function(Zt){return Zt[0]}),G=X.map(function(Zt){return Zt[1]});if(w.snapBoundInfos=Rp(Et,p.clipTargetBounds&&{left:0,top:0,right:C,bottom:I},T,G,1),_){var $t=w.is3d,te=w.allMatrix,Yt=$t?4:3,me=pt;o&&(me=[E[0]+pt[0]-x[0],E[1]+pt[1]-x[1]]),_.deltaOffset=ye(te,[me[0],me[1],0,0],Yt)}return xt(t,"onClip",Ht(t,e,{clipEventType:"changed",clipType:k,poses:ot,clipStyle:at,clipStyles:fr,distX:b,distY:y})),!0},dragControlEnd:function(t,e){this.unset(t);var r=e.isDrag,n=e.datas,a=e.isDouble,o=n.isLine,u=n.isClipStart,l=n.isControl;return u?(xt(t,"onClipEnd",wr(t,e,{})),a&&(l?AM(t,e):o&&PM(t,e)),a||r):!1},unset:function(t){t.state.clipPathState="",t.state.snapBoundInfos=null}},LM={name:"originDraggable",props:{originDraggable:Boolean,originRelative:Boolean},events:{onDragOriginStart:"dragOriginStart",onDragOrigin:"dragOrigin",onDragOriginEnd:"dragOriginEnd"},css:[`:host[data-able-origindraggable] .control.origin {
    pointer-events: auto;
}`],dragControlCondition:function(t,e){return e.isRequest?e.requestAble==="originDraggable":ze(e.inputEvent.target,Rt("origin"))},dragControlStart:function(t,e){var r=e.datas;xa(t,e);var n=Ht(t,e,{dragStart:ir.dragStart(t,new ri().dragStart([0,0],e))}),a=xt(t,"onDragOriginStart",n);return r.startOrigin=t.state.transformOrigin,r.startTargetOrigin=t.state.targetOrigin,r.prevOrigin=[0,0],r.isDragOrigin=!0,a===!1?(r.isDragOrigin=!1,!1):n},dragControl:function(t,e){var r=e.datas,n=e.isPinch,a=e.isRequest;if(!r.isDragOrigin)return!1;var o=dn(e),u=o[0],l=o[1],c=t.state,f=c.width,v=c.height,h=c.offsetMatrix,p=c.targetMatrix,g=c.is3d,b=t.props.originRelative,y=b===void 0?!0:b,_=g?4:3,x=[u,l];if(a){var E=e.distOrigin;(E[0]||E[1])&&(x=E)}var w=ue(r.startOrigin,x),C=ue(r.startTargetOrigin,x),I=Gt(x,r.prevOrigin),R=io(h,p,w,_),k=t.getRect(),O=Lr(wa(R,f,v,_)),B=[k.left-O.left,k.top-O.top];r.prevOrigin=x;var A=[jr(C[0],f,y),jr(C[1],v,y)].join(" "),N=Ht(t,e,{width:f,height:v,origin:w,dist:x,delta:I,transformOrigin:A,drag:ir.drag(t,ao(e,t.state,B,!!n,!1))});return xt(t,"onDragOrigin",N),N},dragControlEnd:function(t,e){var r=e.datas;return r.isDragOrigin?(xt(t,"onDragOriginEnd",wr(t,e,{})),!0):!1},dragGroupControlCondition:function(t,e){return this.dragControlCondition(t,e)},dragGroupControlStart:function(t,e){var r=this.dragControlStart(t,e);return!!r},dragGroupControl:function(t,e){var r=this.dragControl(t,e);return r?(t.transformOrigin=r.transformOrigin,!0):!1},request:function(t){var e={},r=t.getRect(),n=0,a=0,o=r.transformOrigin,u=[0,0];return{isControl:!0,requestStart:function(){return{datas:e}},request:function(l){return"deltaOrigin"in l?(u[0]+=l.deltaOrigin[0],u[1]+=l.deltaOrigin[1]):"origin"in l?(u[0]=l.origin[0]-o[0],u[1]=l.origin[1]-o[1]):("x"in l?n=l.x-r.left:"deltaX"in l&&(n+=l.deltaX),"y"in l?a=l.y-r.top:"deltaY"in l&&(a+=l.deltaY)),{datas:e,distX:n,distY:a,distOrigin:u}},requestEnd:function(){return{datas:e,isDrag:!0}}}}};function FM(t,e,r,n){var a=t.filter(function(c){var f=c.virtual,v=c.horizontal;return v&&!f}).length,o=t.filter(function(c){var f=c.virtual,v=c.vertical;return v&&!f}).length,u=-1;if(e===0&&(a===0?u=0:a===1&&(u=1)),e===2&&(a<=2?u=2:a<=3&&(u=3)),e===3&&(o===0?u=4:o<4&&(u=7)),e===1&&(o<=1?u=5:o<=2&&(u=6)),!(u===-1||!t[u].virtual)){var l=t[u];GM(t,u),u<4?l.pos[0]=r:l.pos[1]=n}}function GM(t,e){e<4?t.slice(0,e+1).forEach(function(r){r.virtual=!1}):(t[0].virtual&&(t[0].virtual=!1),t.slice(4,e+1).forEach(function(r){r.virtual=!1}))}function $M(t,e){e<4?t.slice(e,4).forEach(function(r){r.virtual=!0}):t.slice(e).forEach(function(r){r.virtual=!0})}function Gp(t,e,r,n,a,o){n===void 0&&(n=[0,0]);var u,l=[];if(a)u=a;else{var c=Fr(t);u=c&&c.borderRadius||""}return!u||!a&&u==="0px"?l=[]:l=Wn(u),r0(l,e,r,0,0,n,o)}function $p(t,e,r,n,a){var o=t.state,u=o.width,l=o.height,c=fc(a,t.props.roundRelative,u,l),f=c.raws,v=c.styles,h=c.radiusPoses,p=kM(h,f),g=p.horizontals,b=p.verticals,y=v.join(" ");o.borderRadiusState=y,xt(t,"onRound",Ht(t,e,W({horizontals:g,verticals:b,borderRadius:y,width:u,height:l,delta:n,dist:r},qn({borderRadius:y},e))))}var qM={name:"roundable",props:{roundable:Boolean,roundRelative:Boolean,minRoundControls:Array,maxRoundControls:Array,roundClickable:Boolean,roundPadding:Number,isDisplayShadowRoundControls:Boolean},events:{onRoundStart:"roundStart",onRound:"round",onRoundEnd:"roundEnd"},css:[`.control.border-radius {
    background: #d66;
    cursor: pointer;
    z-index: 3;
}`,`.control.border-radius.vertical {
    background: #d6d;
    z-index: 2;
}`,`.control.border-radius.virtual {
    opacity: 0.5;
    z-index: 1;
}`,`:host.round-line-clickable .line.direction {
    cursor: pointer;
}`],className:function(t){var e=t.props.roundClickable;return e===!0||e==="line"?Rt("round-line-clickable"):""},render:function(t,e){var r=t.getState(),n=r.target,a=r.width,o=r.height,u=r.allMatrix,l=r.is3d,c=r.left,f=r.top,v=r.borderRadiusState,h=t.props,p=h.minRoundControls,g=p===void 0?[0,0]:p,b=h.maxRoundControls,y=b===void 0?[4,4]:b,_=h.zoom,x=h.roundPadding,E=x===void 0?0:x,w=h.isDisplayShadowRoundControls;if(!n)return null;var C=l?4:3,I=Gp(n,a,o,g,v,!0);if(!I)return null;var R=0,k=0;return I.map(function(O,B){var A=O.horizontal,N=O.vertical,L=O.direction||"",z=Ot([],O.pos,!0);k+=Math.abs(A),R+=Math.abs(N),A&&L.indexOf("n")>-1&&(z[1]-=E),N&&L.indexOf("w")>-1&&(z[0]-=E),A&&L.indexOf("s")>-1&&(z[1]+=E),N&&L.indexOf("e")>-1&&(z[0]+=E);var H=Gt(Ve(u,z,C),[c,f]),V=O.vertical?R<=y[1]&&(w||!O.virtual):k<=y[0]&&(w||!O.virtual);return e.createElement("div",{key:"borderRadiusControl".concat(B),className:Rt("control","border-radius",O.vertical?"vertical":"",O.virtual?"virtual":""),"data-radius-index":B,style:{display:V?"block":"none",transform:"translate(".concat(H[0],"px, ").concat(H[1],"px) scale(").concat(_,")")}})})},dragControlCondition:function(t,e){if(!e.inputEvent||e.isRequest)return!1;var r=e.inputEvent.target.getAttribute("class")||"";return r.indexOf("border-radius")>-1||r.indexOf("moveable-line")>-1&&r.indexOf("moveable-direction")>-1},dragControlStart:function(t,e){var r=e.inputEvent,n=e.datas,a=r.target,o=a.getAttribute("class")||"",u=o.indexOf("border-radius")>-1,l=o.indexOf("moveable-line")>-1&&o.indexOf("moveable-direction")>-1,c=u?parseInt(a.getAttribute("data-radius-index"),10):-1,f=-1;if(l){var v=a.getAttribute("data-line-key")||"";v&&(f=parseInt(v.replace(/render-line-/g,""),10),isNaN(f)&&(f=-1))}if(!u&&!l)return!1;var h=xt(t,"onRoundStart",Ht(t,e,{}));if(h===!1)return!1;n.lineIndex=f,n.controlIndex=c,n.isControl=u,n.isLine=l,xa(t,e);var p=t.props,g=p.roundRelative,b=p.minRoundControls,y=b===void 0?[0,0]:b,_=t.state,x=_.target,E=_.width,w=_.height;n.isRound=!0,n.prevDist=[0,0];var C=Gp(x,E,w,y,"",!0)||[];return n.controlPoses=C,_.borderRadiusState=fc(C,g,E,w).styles.join(" "),!0},dragControl:function(t,e){var r=e.datas,n=r.controlPoses;if(!r.isRound||!r.isControl||!n.length)return!1;var a=r.controlIndex,o=dn(e),u=o[0],l=o[1],c=[u,l],f=Gt(c,r.prevDist),v=t.props.maxRoundControls,h=v===void 0?[4,4]:v,p=t.state,g=p.width,b=p.height,y=n[a],_=y.vertical,x=y.horizontal,E=n.map(function(C){var I=C.horizontal,R=C.vertical,k=[I*x*c[0],R*_*c[1]];if(I){if(h[0]===1)return k;if(h[0]<4&&I!==x)return k}else{if(h[1]===0)return k[1]=R*x*c[0]/g*b,k;if(_){if(h[1]===1)return k;if(h[1]<4&&R!==_)return k}}return[0,0]});E[a]=c;var w=n.map(function(C,I){return W(W({},C),{pos:ue(C.pos,E[I])})});return a<4?w.slice(0,a+1).forEach(function(C){C.virtual=!1}):w.slice(4,a+1).forEach(function(C){C.virtual=!1}),r.prevDist=[u,l],$p(t,e,c,f,w),!0},dragControlEnd:function(t,e){var r=t.state;r.borderRadiusState="";var n=e.datas,a=e.isDouble;if(!n.isRound)return!1;var o=n.isControl,u=n.controlIndex,l=n.isLine,c=n.lineIndex,f=n.controlPoses,v=f.filter(function(_){var x=_.virtual;return x}).length,h=t.props.roundClickable,p=h===void 0?!0:h;if(a&&p){if(o&&(p===!0||p==="control"))$M(f,u);else if(l&&(p===!0||p==="line")){var g=hg(t,e),b=g[0],y=g[1];FM(f,c,b,y)}v!==f.filter(function(_){var x=_.virtual;return x}).length&&$p(t,e,[0,0],[0,0],f)}return xt(t,"onRoundEnd",wr(t,e,{})),r.borderRadiusState="",!0},unset:function(t){t.state.borderRadiusState=""}};function NM(t,e){var r=e?4:3,n=De(r),a="matrix".concat(e?"3d":"","(").concat(n.join(","),")");return t===a||t==="matrix(1,0,0,1,0,0)"}var a0={isPinch:!0,name:"beforeRenderable",props:{},events:{onBeforeRenderStart:"beforeRenderStart",onBeforeRender:"beforeRender",onBeforeRenderEnd:"beforeRenderEnd",onBeforeRenderGroupStart:"beforeRenderGroupStart",onBeforeRenderGroup:"beforeRenderGroup",onBeforeRenderGroupEnd:"beforeRenderGroupEnd"},dragRelation:"weak",setTransform:function(t,e){var r=t.state,n=r.is3d,a=r.target,o=r.targetMatrix,u=a==null?void 0:a.style.transform,l=n?"matrix3d(".concat(o.join(","),")"):"matrix(".concat(Jh(o,!0),")"),c=!u||u==="none"?l:u;e.datas.startTransforms=NM(c,n)?[]:Wn(c)},resetStyle:function(t){var e=t.datas;e.nextStyle={},e.nextTransforms=t.datas.startTransforms,e.nextTransformAppendedIndexes=[]},fillDragStartParams:function(t,e){return Ht(t,e,{setTransform:function(r){e.datas.startTransforms=Le(r)?r:Wn(r)},isPinch:!!e.isPinch})},fillDragParams:function(t,e){return Ht(t,e,{isPinch:!!e.isPinch})},dragStart:function(t,e){this.setTransform(t,e),this.resetStyle(e),xt(t,"onBeforeRenderStart",this.fillDragStartParams(t,e))},drag:function(t,e){this.resetStyle(e),xt(t,"onBeforeRender",Ht(t,e,{isPinch:!!e.isPinch}))},dragEnd:function(t,e){xt(t,"onBeforeRenderEnd",Ht(t,e,{isPinch:!!e.isPinch,isDrag:e.isDrag}))},dragGroupStart:function(t,e){var r=this;this.dragStart(t,e);var n=Hn(t,"beforeRenderable",e),a=t.moveables,o=n.map(function(u,l){var c=a[l];return r.setTransform(c,u),r.resetStyle(u),r.fillDragStartParams(c,u)});xt(t,"onBeforeRenderGroupStart",Ht(t,e,{isPinch:!!e.isPinch,targets:t.props.targets,setTransform:function(){},events:o}))},dragGroup:function(t,e){var r=this;this.drag(t,e);var n=Hn(t,"beforeRenderable",e),a=t.moveables,o=n.map(function(u,l){var c=a[l];return r.resetStyle(u),r.fillDragParams(c,u)});xt(t,"onBeforeRenderGroup",Ht(t,e,{isPinch:!!e.isPinch,targets:t.props.targets,events:o}))},dragGroupEnd:function(t,e){this.dragEnd(t,e),xt(t,"onBeforeRenderGroupEnd",Ht(t,e,{isPinch:!!e.isPinch,isDrag:e.isDrag,targets:t.props.targets}))},dragControlStart:function(t,e){return this.dragStart(t,e)},dragControl:function(t,e){return this.drag(t,e)},dragControlEnd:function(t,e){return this.dragEnd(t,e)},dragGroupControlStart:function(t,e){return this.dragGroupStart(t,e)},dragGroupControl:function(t,e){return this.dragGroup(t,e)},dragGroupControlEnd:function(t,e){return this.dragGroupEnd(t,e)}},i0={name:"renderable",props:{},events:{onRenderStart:"renderStart",onRender:"render",onRenderEnd:"renderEnd",onRenderGroupStart:"renderGroupStart",onRenderGroup:"renderGroup",onRenderGroupEnd:"renderGroupEnd"},dragRelation:"weak",dragStart:function(t,e){xt(t,"onRenderStart",Ht(t,e,{isPinch:!!e.isPinch}))},drag:function(t,e){xt(t,"onRender",this.fillDragParams(t,e))},dragAfter:function(t,e){if(e.resultCount)return this.drag(t,e)},dragEnd:function(t,e){xt(t,"onRenderEnd",this.fillDragEndParams(t,e))},dragGroupStart:function(t,e){xt(t,"onRenderGroupStart",Ht(t,e,{isPinch:!!e.isPinch,targets:t.props.targets}))},dragGroup:function(t,e){var r=this,n=Hn(t,"beforeRenderable",e),a=t.moveables,o=n.map(function(u,l){var c=a[l];return r.fillDragParams(c,u)});xt(t,"onRenderGroup",Ht(t,e,W(W({isPinch:!!e.isPinch,targets:t.props.targets,transform:ds(e)},qn(vs(e))),{events:o})))},dragGroupEnd:function(t,e){var r=this,n=Hn(t,"beforeRenderable",e),a=t.moveables,o=n.map(function(u,l){var c=a[l];return r.fillDragEndParams(c,u)});xt(t,"onRenderGroupEnd",Ht(t,e,W({isPinch:!!e.isPinch,isDrag:e.isDrag,targets:t.props.targets,events:o,transform:ds(e)},qn(vs(e)))))},dragControlStart:function(t,e){return this.dragStart(t,e)},dragControl:function(t,e){return this.drag(t,e)},dragControlAfter:function(t,e){return this.dragAfter(t,e)},dragControlEnd:function(t,e){return this.dragEnd(t,e)},dragGroupControlStart:function(t,e){return this.dragGroupStart(t,e)},dragGroupControl:function(t,e){return this.dragGroup(t,e)},dragGroupControlEnd:function(t,e){return this.dragGroupEnd(t,e)},fillDragParams:function(t,e){return Ht(t,e,W({isPinch:!!e.isPinch,transform:ds(e)},qn(vs(e))))},fillDragEndParams:function(t,e){return Ht(t,e,W({isPinch:!!e.isPinch,isDrag:e.isDrag,transform:ds(e)},qn(vs(e))))}};function qi(t,e,r,n,a,o,u){var l=a==="Start",c=t.state.target,f=o.isRequest;if(!c||l&&n.indexOf("Control")>-1&&!f&&t.areaElement===o.inputEvent.target)return!1;var v="".concat(r).concat(n).concat(a),h="".concat(r).concat(n,"Condition"),p=a==="End",g=a==="After",b=l&&(!t.targetGesto||!t.controlGesto||!t.targetGesto.isFlag()||!t.controlGesto.isFlag());b&&t.updateRect(a,!0,!1),a===""&&!f&&Ag(t.state,o);var y=Ot([],t[e],!0);if(f){var _=o.requestAble;y.some(function(L){return L.name===_})||y.push.apply(y,t.props.ables.filter(function(L){return L.name===_}))}if(!y.length||y.every(function(L){return L.dragRelation}))return!1;var x=Ot(Ot([a0],y,!0),[i0],!1).filter(function(L){return L[v]}),E=o.datas;b&&x.forEach(function(L){L.unset&&L.unset(t)});var w=o.inputEvent,C;p&&w&&(C=document.elementFromPoint(o.clientX,o.clientY)||w.target);var I=0,R=!1,k=function(){var L;R=!0,(L=o.stop)===null||L===void 0||L.call(o)},O=x.filter(function(L){var z=L.name,H=E[z]||(E[z]={});if(l&&(H.isEventStart=!L[h]||L[h](t,o)),H.isEventStart){var V=L[v](t,W(W({},o),{stop:k,resultCount:I,datas:H,originalDatas:E,inputTarget:C}));return t._emitter.off(),l&&V===!1&&(H.isEventStart=!1),I+=V?1:0,V}return!1}),B=O.length,A=!1;if(l&&(R||x.length&&!B)&&(A=R||x.filter(function(L){var z=L.name,H=E[z];return H.isEventStart?L.dragRelation!=="strong":!1}).length),(p||A)&&(t.state.gestos={},t.moveables&&t.moveables.forEach(function(L){L.state.gestos={}})),b&&A&&x.forEach(function(L){L.unset&&L.unset(t)}),l&&!A&&!f&&B&&(o==null||o.preventDefault()),t.isUnmounted||A)return!1;if(!l&&B&&!u||p){var N=t.props.flushSync||Cg;N(function(){t.updateRect(p?a:"",!0,!1),t.forceUpdate()})}return!l&&!p&&!g&&B&&!u&&qi(t,e,r,n,a+"After",o),!0}function Cf(t){var e=t.props.dragTarget;return function(r){var n=r.inputEvent.target,a=t.areaElement;return e&&(n===e||e.contains(n))||n===a||!t.isMoveableElement(n)&&!t.controlBox.getElement().contains(n)||ze(n,"moveable-area")||ze(n,"moveable-padding")||ze(n,"moveable-edgeDraggable")}}function o0(t,e,r){var n=t.controlBox.getElement(),a=[],o=t.props.dragTarget;return a.push(n),(!t.props.dragArea||o)&&a.push(e),dc(t,a,"targetAbles",r,{dragStart:Cf(t),pinchStart:Cf(t)})}function dc(t,e,r,n,a){a===void 0&&(a={});var o=r==="targetAbles",u=t.props,l=u.pinchOutside,c=u.pinchThreshold,f=u.preventClickEventOnDrag,v=u.preventClickDefault,h=u.checkInput,p={preventDefault:!0,preventRightClick:!0,preventWheelClick:!0,container:window,pinchThreshold:c,pinchOutside:l,preventClickEventOnDrag:o?f:!1,preventClickEventOnDragStart:o?v:!1,preventClickEventByCondition:o?null:function(y){return t.controlBox.getElement().contains(y.target)},checkInput:o?h:!1},g=new sg(e,p),b=n==="Control";return["drag","pinch"].forEach(function(y){["Start","","End"].forEach(function(_){g.on("".concat(y).concat(_),function(x){var E,w=x.eventType;if(a[w]&&!a[w](x)){x.stop();return}var C=qi(t,r,y,n,_,x);C?(t.props.stopPropagation||_==="Start"&&b)&&((E=x==null?void 0:x.inputEvent)===null||E===void 0||E.stopPropagation()):x.stop()})})}),g}var WM=function(){function t(r,n,a){var o=this;this.target=r,this.moveable=n,this.eventName=a,this.ables=[],this._onEvent=function(u){var l=o.eventName,c=o.moveable;c.state.disableNativeEvent||o.ables.forEach(function(f){f[l](c,{inputEvent:u})})},r.addEventListener(a.toLowerCase(),this._onEvent)}var e=t.prototype;return e.setAbles=function(r){this.ables=r},e.destroy=function(){this.target.removeEventListener(this.eventName.toLowerCase(),this._onEvent),this.target=null,this.moveable=null},t}();function VM(t){if(t&&t.getRootNode){var e=t.getRootNode();if(e.nodeType===11)return e}}function qp(t,e,r){for(var n=t,a=[],o=!r&&t===e||t===document.body,u=o,l=!1,c=3,f,v,h,p=!1,g=Yi(e,e,!0).offsetParent;n&&!u;){u=o;var b=getComputedStyle(n),y=b.position,_=Eg(n,b),x=tE(o2(_)),E=y==="fixed",w={hasTransform:!1,fixedContainer:null};E&&(p=!0,w=c2(n),g=w.fixedContainer);var C=x.length;!l&&C===16&&(l=!0,c=4,mf(a),h&&(h=cn(h,3,4))),l&&C===9&&(x=cn(x,3,4));var I=l2(n,t,b),R=I.tagName,k=I.hasOffset,O=I.isSVG,B=I.origin,A=I.targetOrigin,N=I.offset,L=N[0],z=N[1];R==="svg"&&h&&(a.push({type:"target",target:n,matrix:d2(n,c)}),a.push({type:"offset",target:n,matrix:De(c)}));var H=void 0,V=!1,tt=!1;if(E)H=w.fixedContainer,V=!0;else{var J=Yi(n,e);if(H=J.offsetParent,V=J.isEnd,tt=J.isStatic,GE){var ot=J.parentSlotElement;if(ot){for(var X=H,Q=0,lt=0;X&&VM(X);)Q+=X.offsetLeft,lt+=X.offsetTop,X=X.offsetParent;L-=Q,z-=lt}}}cg&&!$E&&k&&!O&&tt&&(y==="relative"||y==="static")&&(L-=H.offsetLeft,z-=H.offsetTop,o=o||V);var _t=0,Ct=0,gt=0,vt=0;if(E)k&&w.hasTransform&&(gt=H.clientLeft,vt=H.clientTop);else if(k&&g!==H&&(_t=H.clientLeft,Ct=H.clientTop),k&&H===document.body){var yt=Mg(n,!1,b);L+=yt[0],z+=yt[1]}if(a.push({type:"target",target:n,matrix:jf(x,c,B)}),k){var Dt=n===t,Et=Dt?0:n.scrollLeft,T=Dt?0:n.scrollTop;a.push({type:"offset",target:n,matrix:Hi([L-Et+_t-gt,z-T+Ct-vt],c)})}else a.push({type:"offset",target:n,origin:B});if(h||(h=x),f||(f=B),v||(v=A),u||E)break;n=H,o=V,(!r||n===document.body)&&(u=o)}return h||(h=De(c)),f||(f=[0,0]),v||(v=[0,0]),{offsetContainer:g,matrixes:a,targetMatrix:h,transformOrigin:f,targetOrigin:v,is3d:l,hasFixed:p}}function HM(t,e,r,n){var a;r===void 0&&(r=e);var o=qp(t,e),u=o.matrixes,l=o.is3d,c=o.targetMatrix,f=o.transformOrigin,v=o.targetOrigin,h=o.offsetContainer,p=o.hasFixed,g=qp(h,r,!0),b=g.matrixes,y=g.is3d,_=g.offsetContainer,x=n||y||l,E=x?4:3,w=t.tagName.toLowerCase()!=="svg"&&"ownerSVGElement"in t,C=c,I=De(E),R=De(E),k=De(E),O=De(E),B=u.length;b.reverse(),u.reverse(),!l&&x&&(C=cn(C,3,4),mf(u)),!y&&x&&mf(b),b.forEach(function(V){R=ye(R,V.matrix,E)});var A=r||document.body,N=((a=b[0])===null||a===void 0?void 0:a.target)||Yi(A,A,!0).offsetParent,L=b.slice(1).reduce(function(V,tt){return ye(V,tt.matrix,E)},De(E));u.forEach(function(V,tt){if(B-2===tt&&(k=I.slice()),B-1===tt&&(O=I.slice()),!V.matrix){var J=u[tt+1],ot=p2(V,J,N,E,ye(L,I,E));V.matrix=Hi(ot,E)}I=ye(I,V.matrix,E)});var z=!w&&l;C||(C=De(z?4:3));var H=ru(w&&C.length===16?cn(C,4,3):C,z);return R=Zh(R,E,E),{hasFixed:p,rootMatrix:R,beforeMatrix:k,offsetMatrix:O,allMatrix:I,targetMatrix:C,targetTransform:H,transformOrigin:f,targetOrigin:v,is3d:x,offsetContainer:h,offsetRootContainer:_}}function YM(t,e,r,n){r===void 0&&(r=e);var a=0,o=0,u=0,l={},c=Tg(t);if(t&&(a=c.offsetWidth,o=c.offsetHeight),t){var f=HM(t,e,r,n),v=qs(f.allMatrix,f.transformOrigin,a,o);l=W(W({},f),v);var h=qs(f.allMatrix,[50,50],100,100);u=Rg([h.pos1,h.pos2],h.direction)}var p=n?4:3;return W(W(W({width:a,height:o,rotation:u},c),{rootMatrix:De(p),beforeMatrix:De(p),offsetMatrix:De(p),allMatrix:De(p),targetMatrix:De(p),targetTransform:"",transformOrigin:[0,0],targetOrigin:[0,0],is3d:!!n,left:0,top:0,right:0,bottom:0,origin:[0,0],pos1:[0,0],pos2:[0,0],pos3:[0,0],pos4:[0,0],direction:1,hasFixed:!1,offsetContainer:null,offsetRootContainer:null}),l)}function Ef(t,e,r,n,a){var o=1,u=[0,0],l=ps(),c=ps(),f=ps(),v=ps(),h=YM(e,r,a,!0);if(e){var p=h.is3d?4:3,g=qs(h.offsetMatrix,ue(h.transformOrigin,Qh(h.targetMatrix,p)),h.width,h.height);o=g.direction,u=ue(g.origin,[g.left-h.left,g.top-h.top]),l=Ai(e);var b=Yi(n,n,!0).offsetParent||h.offsetRootContainer;f=Ai(b,!0),v=Ai(h.offsetRootContainer),t&&(c=Ai(t))}return W({targetClientRect:l,containerClientRect:f,moveableClientRect:c,rootContainerClientRect:v,beforeDirection:o,beforeOrigin:u,originalBeforeOrigin:u,target:e},h)}var ai=function(t){ro(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.state=W({container:null,gestos:{},renderPoses:[[0,0],[0,0],[0,0],[0,0]],disableNativeEvent:!1},Ef(null)),n.renderState={},n.enabledAbles=[],n.targetAbles=[],n.controlAbles=[],n.rotation=0,n.scale=[1,1],n.isUnmounted=!1,n.events={mouseEnter:null,mouseLeave:null},n._emitter=new li,n._prevTarget=null,n._prevDragArea=!1,n._isPropTargetChanged=!1,n._observer=null,n._observerId=0,n._rootContainer=null,n._viewContainer=null,n._viewClassNames=[],n.checkUpdateRect=function(){if(!n.isDragging()){var a=n.props.parentMoveable;if(a){a.checkUpdateRect();return}DC(n._observerId),n._observerId=Lh(function(){n.isDragging()||n.updateRect()})}},n._onPreventClick=function(a){a.stopPropagation(),a.preventDefault()},n}var r=e.prototype;return r.render=function(){var n=this.props,a=this.getState(),o=n.parentPosition,u=n.className,l=n.target,c=n.zoom,f=n.cspNonce,v=n.translateZ,h=n.cssStyled,p=n.portalContainer,g=n.groupable;this._checkUpdateRootContainer(),this.checkUpdate(),this.updateRenderPoses();var b=o||[0,0],y=b[0],_=b[1],x=a.left,E=a.top,w=a.target,C=a.direction,I=a.hasFixed,R=n.targets,k=(R&&R.length||l)&&(w||g),O=this.isDragging(),B={};this.getEnabledAbles().forEach(function(N){B["data-able-".concat(N.name.toLowerCase())]=!0});var A=this._getAbleClassName();return zr(h,W({cspNonce:f,ref:fn(this,"controlBox"),className:"".concat(Rt("control-box",C===-1?"reverse":"",O?"dragging":"")," ").concat(A," ").concat(u)},B,{onClick:this._onPreventClick,portalContainer:p,style:{position:I?"fixed":"absolute",display:k?"block":"none",visibility:this.controlBox||this.props.firstRenderState?"visible":"hidden",transform:"translate3d(".concat(x-y,"px, ").concat(E-_,"px, ").concat(v,")"),"--zoom":c,"--zoompx":"".concat(c,"px")}}),this.renderAbles(),this._renderLines())},r.componentDidMount=function(){this.isUnmounted=!1,this.controlBox.getElement();var n=this.props,a=n.parentMoveable,o=n.container,u=n.wrapperMoveable;this._checkUpdateRootContainer(),this._checkUpdateViewContainer(),this._updateTargets(),this._updateNativeEvents(),this._updateEvents(),this.updateCheckInput(),this._updateObserver(this.props),!o&&!a&&!u&&(this.updateRect("",!1,!0),this.forceUpdate())},r.componentDidUpdate=function(n){this._checkUpdateRootContainer(),this._checkUpdateViewContainer(),this._updateNativeEvents(),this._updateEvents(),this._updateTargets(),this.updateCheckInput(),this._updateObserver(n)},r.componentWillUnmount=function(){this.isUnmounted=!0,this._emitter.off();var n=this._viewContainer;n&&this._changeAbleViewClassNames([]),ja(this,"targetGesto"),ja(this,"controlGesto");var a=this.events;for(var o in a){var u=a[o];u&&u.destroy()}},r.getTargets=function(){var n=this.props.target;return n?[n]:[]},r.getAble=function(n){var a=this.props.ables||[];return Mn(a,function(o){return o.name===n})},r.getContainer=function(){var n=this.props,a=n.parentMoveable,o=n.wrapperMoveable,u=n.container;return u||o&&o.getContainer()||a&&a.getContainer()||this.controlBox.getElement().parentElement},r.isMoveableElement=function(n){var a;return n&&(((a=n.getAttribute)===null||a===void 0?void 0:a.call(n,"class"))||"").indexOf(Yf)>-1},r.dragStart=function(n){var a=this.targetGesto,o=this.controlGesto;return a&&Cf(this)({inputEvent:n})?a.isFlag()||a.triggerDragStart(n):o&&this.isMoveableElement(n.target)&&(o.isFlag()||o.triggerDragStart(n)),this},r.hitTest=function(n){var a=this.state,o=a.target,u=a.pos1,l=a.pos2,c=a.pos3,f=a.pos4,v=a.targetClientRect;if(!o)return 0;var h;if(n instanceof Element){var p=n.getBoundingClientRect();h={left:p.left,top:p.top,width:p.width,height:p.height}}else h=W({width:0,height:0},n);var g=h.left,b=h.top,y=h.width,_=h.height,x=of([u,l,f,c],v),E=fE(x,[[g,b],[g+y,b],[g+y,b+_],[g,b+_]]),w=Ls(x);return!E||!w?0:Math.min(100,E/w*100)},r.isInside=function(n,a){var o=this.state,u=o.target,l=o.pos1,c=o.pos2,f=o.pos3,v=o.pos4,h=o.targetClientRect;return u?Fs([n,a],of([l,c,v,f],h)):!1},r.updateRect=function(n,a,o){o===void 0&&(o=!0);var u=this.props,l=u.parentMoveable,c=this.state,f=c.target||this.props.target,v=this.getContainer(),h=l?l._rootContainer:this._rootContainer;this.updateState(Ef(this.controlBox&&this.controlBox.getElement(),f,v,v,h||v),l?!1:o)},r.isDragging=function(n){var a,o,u=this.targetGesto,l=this.controlGesto;if(u!=null&&u.isFlag()){if(!n)return!0;var c=u.getEventData();return!!(!((a=c[n])===null||a===void 0)&&a.isEventStart)}if(l!=null&&l.isFlag()){if(!n)return!0;var c=l.getEventData();return!!(!((o=c[n])===null||o===void 0)&&o.isEventStart)}return!1},r.updateTarget=function(n){this.updateRect(n,!0)},r.getRect=function(){var n=this.state,a=gr(this.state),o=a[0],u=a[1],l=a[2],c=a[3],f=Lr(a),v=n.width,h=n.height,p=f.width,g=f.height,b=f.left,y=f.top,_=[n.left,n.top],x=ue(_,n.origin),E=ue(_,n.beforeOrigin),w=n.transformOrigin;return{width:p,height:g,left:b,top:y,pos1:o,pos2:u,pos3:l,pos4:c,offsetWidth:v,offsetHeight:h,beforeOrigin:E,origin:x,transformOrigin:w,rotation:this.getRotation()}},r.getManager=function(){return this},r.getRotation=function(){var n=this.state,a=n.pos1,o=n.pos2,u=n.direction;return x2(a,o,u)},r.request=function(n,a,o){a===void 0&&(a={});var u=this.props,l=u.ables,c=u.groupable,f=l.filter(function(_){return _.name===n})[0];if(this.isDragging()||!f||!f.request)return{request:function(){return this},requestEnd:function(){return this}};var v=this,h=f.request(this),p=o||a.isInstant,g=h.isControl?"controlAbles":"targetAbles",b="".concat(c?"Group":"").concat(h.isControl?"Control":""),y={request:function(_){return qi(v,g,"drag",b,"",W(W({},h.request(_)),{requestAble:n,isRequest:!0}),p),this},requestEnd:function(){return qi(v,g,"drag",b,"End",W(W({},h.requestEnd()),{requestAble:n,isRequest:!0}),p),this}};return qi(v,g,"drag",b,"Start",W(W({},h.requestStart(a)),{requestAble:n,isRequest:!0}),p),p?y.request(a).requestEnd():y},r.destroy=function(){this.componentWillUnmount()},r.updateRenderPoses=function(){var n=this.getState(),a=this.props,o=n.originalBeforeOrigin,u=n.transformOrigin,l=n.allMatrix,c=n.is3d,f=n.pos1,v=n.pos2,h=n.pos3,p=n.pos4,g=n.left,b=n.top,y=a.padding||{},_=y.left,x=_===void 0?0:_,E=y.top,w=E===void 0?0:E,C=y.bottom,I=C===void 0?0:C,R=y.right,k=R===void 0?0:R,O=c?4:3,B=this.controlBox&&a.groupable?o:ue(o,[g,b]);n.renderPoses=[ue(f,gs(l,[-x,-w],u,B,O)),ue(v,gs(l,[k,-w],u,B,O)),ue(h,gs(l,[-x,I],u,B,O)),ue(p,gs(l,[k,I],u,B,O))]},r.checkUpdate=function(){this._isPropTargetChanged=!1;var n=this.props,a=n.target,o=n.container,u=n.parentMoveable,l=this.state,c=l.target,f=l.container;if(!(!c&&!a)){this.updateAbles();var v=!bf(c,a),h=v||!bf(f,o);if(!!h){var p=o||this.controlBox;p&&this.unsetAbles(),this.updateState({target:a,container:o}),!u&&p&&this.updateRect("End",!1,!1),this._isPropTargetChanged=v}}},r.waitToChangeTarget=function(){return new Promise(function(){})},r.triggerEvent=function(n,a){this._emitter.trigger(n,a);var o=this.props[n];return o&&o(a)},r.useCSS=function(n,a){var o=this.props.customStyledMap,u=n+a;return o[u]||(o[u]=fg(n,a)),o[u]},r.getState=function(){var n=this.props.firstRenderState;return n&&!this.controlBox?n:this.state},r.updateSelectors=function(){},r.unsetAbles=function(){var n=this;this.targetAbles.forEach(function(a){a.unset&&a.unset(n)})},r.updateAbles=function(n,a){n===void 0&&(n=this.props.ables),a===void 0&&(a="");var o=this.props,u=o.triggerAblesSimultaneously,l=n.filter(function(g){return g&&(g.always&&o[g.name]!==!1||o[g.name])}),c="drag".concat(a,"Start"),f="pinch".concat(a,"Start"),v="drag".concat(a,"ControlStart"),h=hs(l,[c,f],u),p=hs(l,[v],u);this.enabledAbles=l,this.targetAbles=h,this.controlAbles=p},r.updateState=function(n,a){if(a){if(this.isUnmounted)return;this.setState(n)}else{var o=this.state;for(var u in n)o[u]=n[u]}},r.getEnabledAbles=function(){var n=this.props,a=n.ables;return a.filter(function(o){return o&&n[o.name]})},r.renderAbles=function(){var n=this,a=this.props,o=a.triggerAblesSimultaneously,u={createElement:zr};return this.renderState={},b2(Pg(hs(this.getEnabledAbles(),["render"],o).map(function(l){var c=l.render;return c(n,u)||[]})).filter(function(l){return l}),function(l){var c=l.key;return c}).map(function(l){return l[0]})},r.updateCheckInput=function(){this.targetGesto&&(this.targetGesto.options.checkInput=this.props.checkInput)},r._updateObserver=function(n){var a,o=this.props,u=o.target;if(!window.ResizeObserver||!u||!o.useResizeObserver){(a=this._observer)===null||a===void 0||a.disconnect();return}if(!(n.target===u&&this._observer)){var l=new ResizeObserver(this.checkUpdateRect);l.observe(u,{box:"border-box"}),this._observer=l}},r._updateEvents=function(){var n=this.controlBox.getElement(),a=this.targetAbles.length,o=this.controlAbles.length,u=this.props,l=u.dragTarget||u.target,c=!a&&this.targetGesto||this._isTargetChanged(!0);c&&(ja(this,"targetGesto"),this.updateState({gesto:null})),o||ja(this,"controlGesto"),l&&a&&!this.targetGesto&&(this.targetGesto=o0(this,l,"")),!this.controlGesto&&o&&(this.controlGesto=dc(this,n,"controlAbles","Control"))},r._updateTargets=function(){var n=this.props;this._prevTarget=n.dragTarget||n.target,this._prevDragArea=n.dragArea},r._renderLines=function(){var n=this.props,a=n,o=a.zoom,u=a.hideDefaultLines,l=a.hideChildMoveableDefaultLines,c=a.parentMoveable;if(u||c&&l)return[];var f=this.getState().renderPoses,v={createElement:zr};return[[0,1],[1,3],[3,2],[2,0]].map(function(h,p){var g=h[0],b=h[1];return Xi(v,"",f[g],f[b],o,"render-line-".concat(p))})},r._isTargetChanged=function(n){var a=this.props,o=a.dragTarget||a.target,u=this._prevTarget,l=this._prevDragArea,c=a.dragArea,f=!c&&u!==o,v=(n||c)&&l!==c;return f||v},r._updateNativeEvents=function(){var n=this,a=this.props,o=a.dragArea?this.areaElement:this.state.target,u=this.events,l=ui(u);if(this._isTargetChanged())for(var c in u){var f=u[c];f&&f.destroy(),u[c]=null}if(!!o){var v=this.enabledAbles;l.forEach(function(h){var p=hs(v,[h]),g=p.length>0,b=u[h];if(!g){b&&(b.destroy(),u[h]=null);return}b||(b=new WM(o,n,h),u[h]=b),b.setAbles(p)})}},r._checkUpdateRootContainer=function(){var n=this.props.rootContainer;!this._rootContainer&&n&&(this._rootContainer=ba(n,!0))},r._checkUpdateViewContainer=function(){var n=this.props.viewContainer;!this._viewContainer&&n&&(this._viewContainer=ba(n,!0));var a=this._viewContainer;a&&this._changeAbleViewClassNames(Ot(Ot([],this._getAbleViewClassNames(),!0),[this.isDragging()?SM:""],!1))},r._changeAbleViewClassNames=function(n){var a=this._viewContainer,o=Bg(n.filter(Boolean),function(v){return v}).map(function(v){var h=v[0];return h}),u=this._viewClassNames,l=Qi(u,o),c=l.removed,f=l.added;c.forEach(function(v){Gh(a,u[v])}),f.forEach(function(v){zf(a,o[v])}),this._viewClassNames=o},r._getAbleViewClassNames=function(){var n=this;return this.getEnabledAbles().map(function(a){var o;return((o=a.viewClassName)===null||o===void 0?void 0:o.call(a,n))||""}).join(" ").split(/\s+/g)},r._getAbleClassName=function(){var n=this,a=this.getEnabledAbles(),o=this.targetGesto,u=this.controlGesto,l=o!=null&&o.isFlag()?o.getEventData():{},c=u!=null&&u.isFlag()?u.getEventData():{};return a.map(function(f){var v,h,p,g=f.name,b=((v=f.className)===null||v===void 0?void 0:v.call(f,n))||"";return(((h=l[g])===null||h===void 0?void 0:h.isEventStart)||((p=c[g])===null||p===void 0?void 0:p.isEventStart))&&(b+=" ".concat(Rt("".concat(g,"-dragging")))),b.trim()}).filter(Boolean).join(" ")},e.defaultProps={target:null,dragTarget:null,container:null,rootContainer:null,origin:!0,parentMoveable:null,wrapperMoveable:null,parentPosition:null,portalContainer:null,useResizeObserver:!1,ables:[],pinchThreshold:20,dragArea:!1,passDragArea:!1,transformOrigin:"",className:"",zoom:1,triggerAblesSimultaneously:!1,padding:{},pinchOutside:!0,checkInput:!1,groupable:!1,hideDefaultLines:!1,cspNonce:"",translateZ:0,cssStyled:null,customStyledMap:{},props:{},stopPropagation:!1,preventClickDefault:!1,preventClickEventOnDrag:!0,flushSync:Cg,firstRenderState:null,viewContainer:null},e}($f),vc={name:"groupable",props:{defaultGroupRotate:Number,defaultGroupOrigin:String,groupable:Boolean,targetGroups:Object,hideChildMoveableDefaultLines:Boolean},events:{},render:function(t,e){var r=t.props.targets||[];t.moveables=[];var n=t.state,a=n.left,o=n.top,u=[a,o],l=t.props,c=l.zoom||1,f=t.renderGroupRects;return Ot(Ot([],r.map(function(v,h){return e.createElement(ai,{key:"moveable"+h,ref:Ih(t,"moveables",h),target:v,origin:!1,cssStyled:l.cssStyled,customStyledMap:l.customStyledMap,useResizeObserver:l.useResizeObserver,hideChildMoveableDefaultLines:l.hideChildMoveableDefaultLines,parentMoveable:t,parentPosition:u,zoom:c})}),!0),Pg(f.map(function(v,h){var p=v.pos1,g=v.pos2,b=v.pos3,y=v.pos4,_=[p,g,b,y];return[[0,1],[1,3],[3,2],[2,0]].map(function(x,E){var w=x[0],C=x[1];return Xi(e,"",Gt(_[w],u),Gt(_[C],u),c,"group-rect-".concat(h,"-").concat(E))})})),!0)}},XM=no("clickable",{props:{clickable:Boolean},events:{onClick:"click",onClickGroup:"clickGroup"},always:!0,dragRelation:"weak",dragStart:function(){},dragControlStart:function(){},dragGroupStart:function(t,e){e.datas.inputTarget=e.inputEvent&&e.inputEvent.target},dragEnd:function(t,e){var r=t.props.target,n=e.inputEvent,a=e.inputTarget,o=t.isMoveableElement(a),u=!o&&t.controlBox.getElement().contains(a);if(!(!n||!a||e.isDrag||t.isMoveableElement(a)||u)){var l=r.contains(a);xt(t,"onClick",Ht(t,e,{isDouble:e.isDouble,inputTarget:a,isTarget:r===a,moveableTarget:t.props.target,containsTarget:l}))}},dragGroupEnd:function(t,e){var r=e.inputEvent,n=e.inputTarget;if(!(!r||!n||e.isDrag||t.isMoveableElement(n)||e.datas.inputTarget===n)){var a=t.props.targets,o=a.indexOf(n),u=o>-1,l=!1;o===-1&&(o=Vn(a,function(c){return c.contains(n)}),l=o>-1),xt(t,"onClickGroup",Ht(t,e,{isDouble:e.isDouble,targets:a,inputTarget:n,targetIndex:o,isTarget:u,containsTarget:l,moveableTarget:a[o]}))}},dragControlEnd:function(t,e){this.dragEnd(t,e)},dragGroupControlEnd:function(t,e){this.dragEnd(t,e)}});function Ha(t){var e=t.originalDatas.draggable;return e||(t.originalDatas.draggable={},e=t.originalDatas.draggable),W(W({},t),{datas:e})}var UM=no("edgeDraggable",{css:[`.edge.edgeDraggable.line {
    cursor: move;
}`],render:function(t,e){var r=t.props,n=r.edgeDraggable;return n?Kg(e,"edgeDraggable",n,t.getState().renderPoses,r.zoom):[]},dragControlCondition:function(t,e){if(!t.props.edgeDraggable||!e.inputEvent)return!1;var r=e.inputEvent.target;return ze(r,Rt("direction"))&&ze(r,Rt("edge"))&&ze(r,Rt("edgeDraggable"))},dragControlStart:function(t,e){return t.state.snapRenderInfo={request:e.isRequest,snap:!0,center:!0},ir.dragStart(t,Ha(e))},dragControl:function(t,e){return ir.drag(t,Ha(e))},dragControlEnd:function(t,e){return ir.dragEnd(t,Ha(e))},dragGroupControlCondition:function(t,e){if(!t.props.edgeDraggable||!e.inputEvent)return!1;var r=e.inputEvent.target;return ze(r,Rt("direction"))&&ze(r,Rt("line"))},dragGroupControlStart:function(t,e){return ir.dragGroupStart(t,Ha(e))},dragGroupControl:function(t,e){return ir.dragGroup(t,Ha(e))},dragGroupControlEnd:function(t,e){return ir.dragGroupEnd(t,Ha(e))},unset:function(t){return ir.unset(t)}}),s0={name:"individualGroupable",props:{individualGroupable:Boolean},events:{}},pc=[a0,t0,fM,w2,ir,UM,xf,mM,yM,gM,CM,EM,xM,LM,zM,qM,vc,s0,XM,Jg,i0],KM=pc.reduce(function(t,e){return W(W({},t),"events"in e?e.events:{})},{}),jM=pc.reduce(function(t,e){return W(W({},t),e.props)},{}),ZM=y2(KM),QM=Object.keys(ZM),JM=Object.keys(jM);function Np(t,e){var r=t[0],n=t[1],a=t[2];return(r*e[0]+n*e[1]+a)/Math.sqrt(r*r+n*n)}function ys(t,e){var r=t[0],n=t[1];return-r*e[0]-n*e[1]}function Wp(t,e){return Math.max.apply(Math,t.map(function(r){var n=r[0],a=r[1],o=r[2],u=r[3];return Math.max(n[e],a[e],o[e],u[e])}))}function Vp(t,e){return Math.min.apply(Math,t.map(function(r){var n=r[0],a=r[1],o=r[2],u=r[3];return Math.min(n[e],a[e],o[e],u[e])}))}function tD(t,e){var r,n=[0,0],a=[0,0],o=[0,0],u=[0,0],l=0,c=0;if(!t.length)return{pos1:n,pos2:a,pos3:o,pos4:u,minX:0,minY:0,width:l,height:c,rotation:e};var f=re(e,ur);if(f%90){var v=f/180*Math.PI,h=Math.tan(v),p=-1/h,g=[pf,bp],b=[[0,0],[0,0]],y=[pf,bp],_=[[0,0],[0,0]];t.forEach(function(J){J.forEach(function(ot){var X=Np([-h,1,0],ot),Q=Np([-p,1,0],ot);g[0]>X&&(b[0]=ot,g[0]=X),g[1]<X&&(b[1]=ot,g[1]=X),y[0]>Q&&(_[0]=ot,y[0]=Q),y[1]<Q&&(_[1]=ot,y[1]=Q)})});var x=b[0],E=b[1],w=_[0],C=_[1],I=[-h,1,ys([-h,1],x)],R=[-h,1,ys([-h,1],E)],k=[-p,1,ys([-p,1],w)],O=[-p,1,ys([-p,1],C)];r=[[I,k],[I,O],[R,k],[R,O]].map(function(J){var ot=J[0],X=J[1];return Hf(ot,X)[0]}),n=r[0],a=r[1],o=r[2],u=r[3],l=y[1]-y[0],c=g[1]-g[0]}else{var B=Vp(t,0),A=Vp(t,1),N=Wp(t,0),L=Wp(t,1);if(n=[B,A],a=[N,A],o=[B,L],u=[N,L],l=N-B,c=L-A,f%180){var z=[o,n,u,a];n=z[0],a=z[1],o=z[2],u=z[3],l=L-A,c=N-B}}if(f%360>180){var z=[u,o,a,n];n=z[0],a=z[1],o=z[2],u=z[3]}var H=eo([n,a,o,u]),V=H.minX,tt=H.minY;return{pos1:n,pos2:a,pos3:o,pos4:u,width:l,height:c,minX:V,minY:tt,rotation:e}}function u0(t,e){var r=e.map(function(n){if(Le(n)){var a=u0(t,n),o=a.length;return o>1?a:o===1?a[0]:null}else{var u=Mn(t,function(l){var c=l.manager;return c.props.target===n});return u?(u.finded=!0,u.manager):null}}).filter(Boolean);return r.length===1&&Le(r[0])?r[0]:r}var eD=function(t){ro(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.differ=new rg,n.moveables=[],n.transformOrigin="50% 50%",n.renderGroupRects=[],n}var r=e.prototype;return r.checkUpdate=function(){this._isPropTargetChanged=!1,this.updateAbles()},r.getTargets=function(){return this.props.targets},r.updateRect=function(n,a,o){if(o===void 0&&(o=!0),!this.controlBox)return;this.moveables.forEach(function(X){X.updateRect(n,!1,!1)});var u=this.state,l=this.props,c=this.moveables,f=u.target||l.target,v=c.map(function(X){return{finded:!1,manager:X}}),h=u0(v,this.props.targetGroups||[]);h.push.apply(h,v.filter(function(X){var Q=X.finded;return!Q}).map(function(X){var Q=X.manager;return Q}));var p=[],g=!a||n!==""&&l.updateGroup;function b(X,Q,lt){var _t=X.map(function(T){if(Le(T)){var G=b(T,Q),U=[G.pos1,G.pos2,G.pos3,G.pos4];return p.push(G),{poses:U,rotation:G.rotation}}else return{poses:gr(T.state),rotation:T.getRotation()}}),Ct=_t.map(function(T){var G=T.rotation;return G}),gt=0,vt=Ct[0],yt=Ct.every(function(T){return Math.abs(vt-T)<.1});g?gt=yt?vt:l.defaultGroupRotate||0:gt=!lt&&yt?vt:Q;var Dt=_t.map(function(T){var G=T.poses;return G}),Et=tD(Dt,gt);return Et}var y=b(h,this.rotation,!0);g&&(this.rotation=y.rotation,this.transformOrigin=l.defaultGroupOrigin||"50% 50%",this.scale=[1,1]),this.renderGroupRects=p;var _=this.rotation,x=this.scale,E=y.width,w=y.height,C=y.minX,I=y.minY,R="rotate(".concat(_,"deg) scale(").concat(x[0]>=0?1:-1,", ").concat(x[1]>=0?1:-1,")");f.style.cssText+="left:0px;top:0px; transform-origin: ".concat(this.transformOrigin,"; width:").concat(E,"px; height:").concat(w,"px;")+"transform:".concat(R),u.width=E,u.height=w;var k=this.getContainer(),O=Ef(this.controlBox.getElement(),f,this.controlBox.getElement(),this.getContainer(),this._rootContainer||k),B=[O.left,O.top],A=gr(O),N=A[0],L=A[1],z=A[2],H=A[3],V=eo([N,L,z,H]),tt=[V.minX,V.minY];O.pos1=Gt(N,tt),O.pos2=Gt(L,tt),O.pos3=Gt(z,tt),O.pos4=Gt(H,tt),O.left=C-O.left+tt[0],O.top=I-O.top+tt[1],O.origin=Gt(ue(B,O.origin),tt),O.beforeOrigin=Gt(ue(B,O.beforeOrigin),tt),O.originalBeforeOrigin=ue(B,O.originalBeforeOrigin);var J=O.targetClientRect,ot=x[0]*x[1]>0?1:-1;J.top+=O.top-u.top,J.left+=O.left-u.left,f.style.transform="translate(".concat(-tt[0],"px, ").concat(-tt[1],"px) ").concat(R),this.updateState(W(W({},O),{direction:ot,beforeDirection:ot}),o)},r.getRect=function(){return W(W({},t.prototype.getRect.call(this)),{children:this.moveables.map(function(n){return n.getRect()})})},r.triggerEvent=function(n,a,o){if(o||n.indexOf("Group")>-1)return t.prototype.triggerEvent.call(this,n,a);this._emitter.trigger(n,a)},r.updateAbles=function(){t.prototype.updateAbles.call(this,Ot(Ot([],this.props.ables,!0),[vc],!1),"Group")},r._updateTargets=function(){t.prototype._updateTargets.call(this),this._prevTarget=this.props.dragTarget||this.areaElement},r._updateEvents=function(){var n=this.state,a=this.props,o=this._prevTarget,u=a.dragTarget||this.areaElement;o!==u&&(ja(this,"targetGesto"),ja(this,"controlGesto"),n.target=null),n.target||(n.target=this.areaElement,this.controlBox.getElement().style.display="block"),n.target&&(this.targetGesto||(this.targetGesto=o0(this,u,"Group")),this.controlGesto||(this.controlGesto=dc(this,this.controlBox.getElement(),"controlAbles","GroupControl")));var l=!bf(n.container,a.container);l&&(n.container=a.container);var c=this.differ.update(a.targets),f=c.added,v=c.changed,h=c.removed,p=f.length||h.length;(l||p||v.length)&&this.updateRect(),this._isPropTargetChanged=!!p},r._updateObserver=function(){},e.defaultProps=W(W({},ai.defaultProps),{transformOrigin:["50%","50%"],groupable:!0,dragArea:!0,keepRatio:!0,targets:[],defaultGroupRotate:0,defaultGroupOrigin:"50% 50%"}),e}(ai),rD=function(t){ro(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.moveables=[],n}var r=e.prototype;return r.render=function(){var n=this,a=this.props,o=a.cspNonce,u=a.cssStyled,l=a.targets;return zr(u,{cspNonce:o,ref:fn(this,"controlBox"),className:Rt("control-box")},l.map(function(c,f){return zr(ai,W({key:"moveable"+f,ref:Ih(n,"moveables",f)},n.props,{target:c,wrapperMoveable:n}))}))},r.componentDidUpdate=function(){},r.getTargets=function(){return this.props.targets},r.updateRect=function(n,a,o){o===void 0&&(o=!0),this.moveables.forEach(function(u){u.updateRect(n,a,o)})},r.getRect=function(){return W(W({},t.prototype.getRect.call(this)),{children:this.moveables.map(function(n){return n.getRect()})})},r.request=function(){return{request:function(){return this},requestEnd:function(){return this}}},r.dragStart=function(){return this},r.hitTest=function(){return 0},r.isInside=function(){return!1},r.isDragging=function(){return!1},r.updateRenderPoses=function(){},r.checkUpdate=function(){},r.triggerEvent=function(){},r.updateAbles=function(){},r._updateEvents=function(){},r._updateObserver=function(){},e}(ai);function l0(t,e){var r=[];return t.forEach(function(n){if(!!n){if(sr(n)){e[n]&&r.push.apply(r,e[n]);return}Le(n)?r.push.apply(r,l0(n,e)):r.push(n)}}),r}function f0(t,e){var r=[];return t.forEach(function(n){if(!!n){if(sr(n)){e[n]&&r.push.apply(r,e[n]);return}Le(n)?r.push(f0(n,e)):r.push(n)}}),r}function c0(t,e){return t.length!==e.length||t.some(function(r,n){var a=e[n];return!r&&!a?!1:r!=a?Le(r)&&Le(a)?c0(r,a):!0:!1})}var nD=function(t){ro(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.refTargets=[],n.selectorMap={},n._differ=new rg,n._elementTargets=[],n._onChangetarget=null,n}var r=e.prototype;return e.makeStyled=function(){var n={},a=this.getTotalAbles();a.forEach(function(u){var l=u.css;!l||l.forEach(function(c){n[c]=!0})});var o=ui(n).join(`
`);this.defaultStyled=fg("div",fC(Yf,qE+o))},e.getTotalAbles=function(){return Ot([t0,vc,s0,Jg],this.defaultAbles,!0)},r.render=function(){var n=this.constructor;n.defaultStyled||n.makeStyled();var a=this.props,o=a.ables,u=a.props,l=AE(a,["ables","props"]),c=this._updateRefs(!0),f=l0(c,this.selectorMap),v=f.length>1,h=n.getTotalAbles(),p=Ot(Ot([],h,!0),o||[],!0),g=W(W(W({},l),u||{}),{ables:p,cssStyled:n.defaultStyled,customStyledMap:n.customStyledMap});this._elementTargets=f;var b=null,y=this.moveable;if(v){if(l.individualGroupable)return zr(rD,W({key:"individual-group",ref:fn(this,"moveable")},g,{target:null,targets:f}));var _=f0(c,this.selectorMap);if(y&&!y.props.groupable&&!y.props.individualGroupable){var x=y.props.target;x&&f.indexOf(x)>-1&&(b=W({},y.state))}return zr(eD,W({key:"group",ref:fn(this,"moveable")},g,{target:null,targets:f,targetGroups:_,firstRenderState:b}))}else{var E=f[0];if(y&&(y.props.groupable||y.props.individualGroupable)){var w=y.moveables||[],C=Mn(w,function(I){return I.props.target===E});C&&(b=W({},C.state))}return zr(ai,W({key:"single",ref:fn(this,"moveable")},g,{target:E,firstRenderState:b}))}},r.componentDidMount=function(){this._updateRefs()},r.componentDidUpdate=function(){var n=this._differ.update(this._elementTargets),a=n.added,o=n.removed,u=a.length||o.length;u&&this._onChangetarget&&this._onChangetarget(),this._updateRefs()},r.componentWillUnmount=function(){this.selectorMap={},this.refTargets=[]},r.getTargets=function(){var n,a;return(a=(n=this.moveable)===null||n===void 0?void 0:n.getTargets())!==null&&a!==void 0?a:[]},r.updateSelectors=function(){this.selectorMap={},this._updateRefs()},r.waitToChangeTarget=function(){var n=this,a;return this._onChangetarget=function(){n._onChangetarget=null,a()},new Promise(function(o){a=o})},r.getManager=function(){return this.moveable},r._updateRefs=function(n){var a=this.refTargets,o=nc(this.props.target||this.props.targets),u=typeof document!="undefined",l=c0(a,o),c=this.selectorMap,f={};return this.refTargets.forEach(function v(h){if(sr(h)){var p=c[h];p?f[h]=c[h]:u&&(l=!0,f[h]=[].slice.call(document.querySelectorAll(h)))}else Le(h)&&h.forEach(v)}),this.refTargets=o,this.selectorMap=f,!n&&l&&this.forceUpdate(),o},e.defaultAbles=[],e.customStyledMap={},e.defaultStyled=null,zE([cC(pg)],e.prototype,"moveable",void 0),e}($f),aD=function(t){ro(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.defaultAbles=pc,e}(nD),iD=aD;/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var Mf=function(t,e){return Mf=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var a in n)n.hasOwnProperty(a)&&(r[a]=n[a])},Mf(t,e)};function hc(t,e){Mf(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var Ui=function(){return Ui=Object.assign||function(e){for(var r,n=1,a=arguments.length;n<a;n++){r=arguments[n];for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(e[o]=r[o])}return e},Ui.apply(this,arguments)};function oD(t,e,r,n){var a=arguments.length,o=a<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,r):n,u;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(t,e,r,n);else for(var l=t.length-1;l>=0;l--)(u=t[l])&&(o=(a<3?u(o):a>3?u(e,r,o):u(e,r))||o);return a>3&&o&&Object.defineProperty(e,r,o),o}var sD=function(t){hc(e,t);function e(n){var a=t.call(this,n)||this;return a.state={},a.state=a.props,a}var r=e.prototype;return r.render=function(){return NC(zr(iD,Ui({ref:fn(this,"moveable")},this.state)),this.state.parentElement)},e}(Gf),Ys=JM,d0=pg,v0=QM,uD=function(t){hc(e,t);function e(n,a){a===void 0&&(a={});var o=t.call(this)||this;o.tempElement=document.createElement("div");var u=Ui({},a),l={};v0.forEach(function(f){l[Ul("on ".concat(f))]=function(v){return o.trigger(f,v)}}),hp(zr(sD,Ui({ref:fn(o,"innerMoveable"),parentElement:n},u,l)),o.tempElement);var c=u.target;return Le(c)&&c.length>1&&o.updateRect(),o}var r=e.prototype;return r.setState=function(n,a){this.innerMoveable.setState(n,a)},r.forceUpdate=function(n){this.innerMoveable.forceUpdate(n)},r.dragStart=function(n){var a=this.innerMoveable;a.$_timer&&this.forceUpdate(),this.getMoveable().dragStart(n)},r.destroy=function(){hp(null,this.tempElement),this.off(),this.tempElement=null,this.innerMoveable=null},r.getMoveable=function(){return this.innerMoveable.moveable},e=oD([Yl(d0,function(n,a){n[a]||(n[a]=function(){for(var o=[],u=0;u<arguments.length;u++)o[u]=arguments[u];var l=this.getMoveable();if(!(!l||!l[a]))return l[a].apply(l,o)})}),Yl(Ys,function(n,a){Object.defineProperty(n,a,{get:function(){return this.getMoveable().props[a]},set:function(o){var u;this.setState((u={},u[a]=o,u))},enumerable:!0,configurable:!0})})],e),e}(li),lD=function(t){hc(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e}(uD),Ni=function(){return Ni=Object.assign||function(e){for(var r,n=1,a=arguments.length;n<a;n++){r=arguments[n];for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(e[o]=r[o])}return e},Ni.apply(this,arguments)},p0={};d0.forEach(function(t){p0[t]=function(){for(var e,r=[],n=0;n<arguments.length;n++)r[n]=arguments[n];return(e=this.$_moveable)[t].apply(e,r)}});var h0={};Ys.forEach(function(t){h0[t]=function(e){this.$_moveable[t]=e}});var gc=$r({name:"moveable",methods:p0,props:Ys,watch:h0,mounted:function(){var t=this,e={},r=this.$props;Ys.forEach(function(u){var l=r[u];oi(l)||(e[u]=r[u])});var n=this.$refs,a=n.moveableElement,o=new lD(a,Ni(Ni({},e),{portalContainer:a}));v0.forEach(function(u){o.on(u,function(l){t.$emit(u,Ni({},l))})}),this.$_moveable=o},beforeUnmount:function(){this.$_moveable.destroy()}});const fD={ref:"moveableElement"};function cD(t,e,r,n,a,o){return jt(),or("div",fD,null,512)}gc.render=cD;gc.__file="src/Moveable.vue";var Df=function(t,e){return Df=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(r[a]=n[a])},Df(t,e)};function dD(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");Df(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}function vD(t,e){return e={exports:{}},t(e,e.exports),e.exports}var oo=vD(function(t,e){function r(c){if(c&&typeof c=="object"){var f=c.which||c.keyCode||c.charCode;f&&(c=f)}if(typeof c=="number")return u[c];var v=String(c),h=n[v.toLowerCase()];if(h)return h;var h=a[v.toLowerCase()];if(h)return h;if(v.length===1)return v.charCodeAt(0)}r.isEventKey=function(f,v){if(f&&typeof f=="object"){var h=f.which||f.keyCode||f.charCode;if(h==null)return!1;if(typeof v=="string"){var p=n[v.toLowerCase()];if(p)return p===h;var p=a[v.toLowerCase()];if(p)return p===h}else if(typeof v=="number")return v===h;return!1}},e=t.exports=r;var n=e.code=e.codes={backspace:8,tab:9,enter:13,shift:16,ctrl:17,alt:18,"pause/break":19,"caps lock":20,esc:27,space:32,"page up":33,"page down":34,end:35,home:36,left:37,up:38,right:39,down:40,insert:45,delete:46,command:91,"left command":91,"right command":93,"numpad *":106,"numpad +":107,"numpad -":109,"numpad .":110,"numpad /":111,"num lock":144,"scroll lock":145,"my computer":182,"my calculator":183,";":186,"=":187,",":188,"-":189,".":190,"/":191,"`":192,"[":219,"\\":220,"]":221,"'":222},a=e.aliases={windows:91,"\u21E7":16,"\u2325":18,"\u2303":17,"\u2318":91,ctl:17,control:17,option:18,pause:19,break:19,caps:20,return:13,escape:27,spc:32,spacebar:32,pgup:33,pgdn:34,ins:45,del:46,cmd:91};/*!
 * Programatically add the following
 */for(o=97;o<123;o++)n[String.fromCharCode(o)]=o-32;for(var o=48;o<58;o++)n[o-48]=o;for(o=1;o<13;o++)n["f"+o]=o+111;for(o=0;o<10;o++)n["numpad "+o]=o+96;var u=e.names=e.title={};for(o in n)u[n[o]]=o;for(var l in a)n[l]=a[l]});oo.code;oo.codes;oo.aliases;var pD=oo.names;oo.title;var Hp={"+":"plus","left command":"meta","right command":"meta"},Yp={shift:1,ctrl:2,alt:3,meta:4};function g0(t,e){var r=(pD[t]||e||"").toLowerCase();for(var n in Hp)r=r.replace(n,Hp[n]);return r.replace(/\s/g,"")}function m0(t,e){e===void 0&&(e=g0(t.keyCode,t.key));var r=hD(t);return r.indexOf(e)===-1&&r.push(e),r.filter(Boolean)}function hD(t){var e=[t.shiftKey&&"shift",t.ctrlKey&&"ctrl",t.altKey&&"alt",t.metaKey&&"meta"];return e.filter(Boolean)}function Xp(t){var e=t.slice();return e.sort(function(r,n){var a=Yp[r]||5,o=Yp[n]||5;return a-o}),e}var Up,gD=function(t){dD(e,t);function e(n){n===void 0&&(n=window);var a=t.call(this)||this;return a.container=n,a.ctrlKey=!1,a.altKey=!1,a.shiftKey=!1,a.metaKey=!1,a.clear=function(){return a.ctrlKey=!1,a.altKey=!1,a.shiftKey=!1,a.metaKey=!1,a},a.keydownEvent=function(o){a.triggerEvent("keydown",o)},a.keyupEvent=function(o){a.triggerEvent("keyup",o)},a.blur=function(){a.clear(),a.trigger("blur")},je(n,"blur",a.blur),je(n,"keydown",a.keydownEvent),je(n,"keyup",a.keyupEvent),a}var r=e.prototype;return Object.defineProperty(e,"global",{get:function(){return Up||(Up=new e)},enumerable:!1,configurable:!0}),e.setGlobal=function(){return this.global},r.destroy=function(){var n=this.container;this.clear(),this.off(),We(n,"blur",this.blur),We(n,"keydown",this.keydownEvent),We(n,"keyup",this.keyupEvent)},r.keydown=function(n,a){return this.addEvent("keydown",n,a)},r.offKeydown=function(n,a){return this.removeEvent("keydown",n,a)},r.offKeyup=function(n,a){return this.removeEvent("keyup",n,a)},r.keyup=function(n,a){return this.addEvent("keyup",n,a)},r.addEvent=function(n,a,o){return Le(a)?this.on("".concat(n,".").concat(Xp(a).join(".")),o):sr(a)?this.on("".concat(n,".").concat(a),o):this.on(n,a),this},r.removeEvent=function(n,a,o){return Le(a)?this.off("".concat(n,".").concat(Xp(a).join(".")),o):sr(a)?this.off("".concat(n,".").concat(a),o):this.off(n,a),this},r.triggerEvent=function(n,a){this.ctrlKey=a.ctrlKey,this.shiftKey=a.shiftKey,this.altKey=a.altKey,this.metaKey=a.metaKey;var o=g0(a.keyCode,a.key),u=o==="ctrl"||o==="shift"||o==="meta"||o==="alt",l={key:o,isToggle:u,inputEvent:a,keyCode:a.keyCode,ctrlKey:a.ctrlKey,altKey:a.altKey,shiftKey:a.shiftKey,metaKey:a.metaKey};this.trigger(n,l),this.trigger("".concat(n,".").concat(o),l);var c=m0(a,o);c.length>1&&this.trigger("".concat(n,".").concat(c.join(".")),l)},e}(li),mD=gD,Tf=function(t,e){return Tf=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(r[a]=n[a])},Tf(t,e)};function b0(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");Tf(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var Ke=function(){return Ke=Object.assign||function(e){for(var r,n=1,a=arguments.length;n<a;n++){r=arguments[n];for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(e[o]=r[o])}return e},Ke.apply(this,arguments)};function bD(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,n=Object.getOwnPropertySymbols(t);a<n.length;a++)e.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(t,n[a])&&(r[n[a]]=t[n[a]]);return r}function yD(t,e,r,n){var a=arguments.length,o=a<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,r):n,u;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(t,e,r,n);else for(var l=t.length-1;l>=0;l--)(u=t[l])&&(o=(a<3?u(o):a>3?u(e,r,o):u(e,r))||o);return a>3&&o&&Object.defineProperty(e,r,o),o}function Ms(t,e,r){if(r||arguments.length===2)for(var n=0,a=e.length,o;n<a;n++)(o||!(n in e))&&(o||(o=Array.prototype.slice.call(e,0,n)),o[n]=e[n]);return t.concat(o||Array.prototype.slice.call(e))}function _D(t){if("touches"in t){var e=t.touches[0]||t.changedTouches[0];return{clientX:e.clientX,clientY:e.clientY}}else return{clientX:t.clientX,clientY:t.clientY}}function SD(t){if(typeof Map=="undefined")return t.filter(function(r,n){return t.indexOf(r)===n});var e=new Map;return t.filter(function(r){return e.has(r)?!1:(e.set(r,!0),!0)})}function Kp(t,e){return document.elementFromPoint&&document.elementFromPoint(t,e)||null}function y0(t,e,r){var n=t.tag,a=t.children,o=t.attributes,u=t.className,l=t.style,c=e||document.createElement(n);for(var f in o)c.setAttribute(f,o[f]);var v=c.children;if(a.forEach(function(p,g){y0(p,v[g],c)}),u&&u.split(" ").forEach(function(p){ze(c,p)||zf(c,p)}),l){var h=c.style;for(var f in l)h[f]=l[f]}return!e&&r&&r.appendChild(c),c}function xD(t,e){for(var r=[],n=2;n<arguments.length;n++)r[n-2]=arguments[n];var a=e||{},o=a.className,u=o===void 0?"":o,l=a.style,c=l===void 0?{}:l,f=bD(a,["className","style"]);return{tag:t,className:u,style:c,attributes:f,children:r}}function Gl(t,e,r){t!==e&&r(t,e)}function jp(t,e,r){var n;r===void 0&&(r=t.data.boundArea);var a=t.distX,o=a===void 0?0:a,u=t.distY,l=u===void 0?0:u,c=t.data,f=c.startX,v=c.startY;if(e>0){var h=Math.sqrt((o*o+l*l)/(1+e*e)),p=e*h;o=(o>=0?1:-1)*p,l=(l>=0?1:-1)*h}var g=Math.abs(o),b=Math.abs(l),y=o<0?f-r.left:r.right-f,_=l<0?v-r.top:r.bottom-v;n=Fh([g,b],[0,0],[y,_],!!e),g=n[0],b=n[1],o=(o>=0?1:-1)*g,l=(l>=0?1:-1)*b;var x=Math.min(0,o),E=Math.min(0,l),w=f+x,C=v+E;return{left:w,top:C,right:w+g,bottom:C+b,width:g,height:b}}function $l(t){var e=t.getBoundingClientRect(),r=e.left,n=e.top,a=e.width,o=e.height;return{pos1:[r,n],pos2:[r+a,n],pos3:[r,n+o],pos4:[r+a,n+o]}}function Zp(t,e,r){var n=Gi(t,e),a=n.list,o=n.prevList,u=n.added,l=n.removed,c=n.maintained;return Ms(Ms(Ms([],u.map(function(f){return a[f]}),!0),l.map(function(f){return o[f]}),!0),r?c.map(function(f){var v=f[1];return a[v]}):[],!0)}var _0=ug(`
:host {
    position: fixed;
    display: none;
    border: 1px solid #4af;
    background: rgba(68, 170, 255, 0.5);
    pointer-events: none;
    will-change: transform;
    z-index: 100;
}
`),wD="selecto-selection ".concat(_0.className),mc=["boundContainer","selectableTargets","selectByClick","selectFromInside","continueSelect","continueSelectWithoutDeselect","toggleContinueSelect","toggleContinueSelectWithoutDeselect","keyContainer","hitRate","scrollOptions","checkInput","preventDefault","ratio","getElementRect","preventDragFromInside","rootContainer","dragCondition","clickBySelectEnd"],Qp=Ms(["dragContainer","cspNonce","preventClickEventOnDrag","preventClickEventOnDragStart","preventRightClick"],mc,!0),CD=["dragStart","drag","dragEnd","selectStart","select","selectEnd","keydown","keyup","scroll"],ED=["clickTarget","getSelectableElements","setSelectedTargets","getElementPoints","getSelectedTargets","findSelectableTargets","triggerDragStart","checkScroll","selectTargetsByPoints","setSelectedTargetsByPoints"],MD=function(t){b0(e,t);function e(n){n===void 0&&(n={});var a=t.call(this)||this;a.selectedTargets=[],a.dragScroll=new ig,a._onDragStart=function(l,c){var f=l.data,v=l.clientX,h=l.clientY,p=l.inputEvent,g=a.options,b=g.selectFromInside,y=g.selectByClick,_=g.rootContainer,x=g.boundContainer,E=g.preventDragFromInside,w=E===void 0?!0:E,C=g.clickBySelectEnd,I=g.dragCondition;if(I&&!I(l)){l.stop();return}f.data={},f.innerWidth=window.innerWidth,f.innerHeight=window.innerHeight,a.findSelectableTargets(f),f.startSelectedTargets=a.selectedTargets,f.scaleMatrix=Vf(),f.containerX=0,f.containerY=0;var R={left:-1/0,top:-1/0,right:1/0,bottom:1/0};if(_){var k=a.container.getBoundingClientRect();f.containerX=k.left,f.containerY=k.top,f.scaleMatrix=aE(a.container,_)}if(x){var O=tn(x)&&"element"in x?Ke({left:!0,top:!0,bottom:!0,right:!0},x):{element:x,left:!0,top:!0,bottom:!0,right:!0},B=O.element,A=void 0;if(B){sr(B)?A=document.querySelector(B):B===!0?A=a.container:A=B;var N=A.getBoundingClientRect();O.left&&(R.left=N.left),O.top&&(R.top=N.top),O.right&&(R.right=N.right),O.bottom&&(R.bottom=N.bottom)}}f.boundArea=R;var L={left:v,top:h,right:v,bottom:h,width:0,height:0},z=[];if(!b||y&&!C){var H=a._findElement(c||Kp(v,h),f.selectableTargets);z=H?[H]:[]}var V=z.length>0,tt=!b&&V;if(tt&&!y)return l.stop(),!1;var J=p.type,ot=J==="mousedown"||J==="touchstart",X=!l.isClick&&ot?a.emit("dragStart",Ke(Ke({},l),{data:f.data})):!0;if(!X)return l.stop(),!1;if(a.continueSelect?(z=Zp(a.selectedTargets,z,a.continueSelectWithoutDeselect),f.startPassedTargets=a.selectedTargets):f.startPassedTargets=[],a._select(z,L,l,!0),f.startX=v,f.startY=h,f.selectFlag=!1,f.preventDragFromInside=!1,p.target){var Q=Cs(f.scaleMatrix,[v-f.containerX,h-f.containerY]);a.target.style.cssText+="position: ".concat(_?"absolute":"fixed",";")+"left:0px;top:0px;"+"transform: translate(".concat(Q[0],"px, ").concat(Q[1],"px)")}if(tt&&y&&!C)p.preventDefault(),w&&(a._selectEnd(f.startSelectedTargets,f.startPassedTargets,L,l),f.preventDragFromInside=!0);else{f.selectFlag=!0,J==="touchstart"&&p.preventDefault();var lt=a.options.scrollOptions;lt&&lt.container&&a.dragScroll.dragStart(l,lt),C&&(f.selectFlag=!1,l.preventDrag())}return!0},a._onDrag=function(l){if(l.data.selectFlag){var c=a.scrollOptions;if((c==null?void 0:c.container)&&a.dragScroll.drag(l,c))return}a._checkSelected(l)},a._onDragEnd=function(l){var c=l.data,f=l.inputEvent,v=jp(l,a.options.ratio),h=c.selectFlag;if(f&&a.emit("dragEnd",Ke(Ke({isDouble:!!l.isDouble,isClick:!!l.isClick,isDrag:!1,isSelect:h},l),{data:c.data,rect:v})),a.target.style.cssText+="display: none;",h)c.selectFlag=!1,a.dragScroll.dragEnd();else if(a.selectByClick&&a.clickBySelectEnd){var p=a._findElement(Kp(l.clientX,l.clientY),c.selectableTargets);a._select(p?[p]:[],v,l)}c.preventDragFromInside||a._selectEnd(c.startSelectedTargets,c.startPassedTargets,v,l)},a._onKeyDown=function(l){var c=a.options,f=!1;if(!a._keydownContinueSelect){var v=a._sameCombiKey(l,c.toggleContinueSelect);a._keydownContinueSelect=v,f=v}if(!a._keydownContinueSelectWithoutDeselection){var v=a._sameCombiKey(l,c.toggleContinueSelectWithoutDeselect);a._keydownContinueSelectWithoutDeselection=v,f=f||v}!f||a.emit("keydown",{keydownContinueSelect:a._keydownContinueSelect,keydownContinueSelectWithoutDeselection:a._keydownContinueSelectWithoutDeselection})},a._onKeyUp=function(l){var c=a.options,f=!1;if(a._keydownContinueSelect){var v=a._sameCombiKey(l,c.toggleContinueSelect,!0);a._keydownContinueSelect=!v,f=v}if(a._keydownContinueSelectWithoutDeselection){var v=a._sameCombiKey(l,c.toggleContinueSelectWithoutDeselect,!0);a._keydownContinueSelectWithoutDeselection=!v,f=f||v}!f||a.emit("keyup",{keydownContinueSelect:a._keydownContinueSelect,keydownContinueSelectWithoutDeselection:a._keydownContinueSelectWithoutDeselection})},a._onBlur=function(){(a._keydownContinueSelect||a._keydownContinueSelectWithoutDeselection)&&(a._keydownContinueSelect=!1,a._keydownContinueSelectWithoutDeselection=!1,a.emit("keyup",{keydownContinueSelect:a._keydownContinueSelect,keydownContinueSelectWithoutDeselection:a._keydownContinueSelectWithoutDeselection}))},a._onDocumentSelectStart=function(l){if(!!a.gesto.isFlag()){var c=a.dragContainer;c===window&&(c=document.documentElement);var f=c instanceof Element?[c]:[].slice.call(c),v=l.target;f.some(function(h){if(h===v||h.contains(v))return l.preventDefault(),!0})}},a.target=n.portalContainer;var o=n.container;a.options=Ke({portalContainer:null,container:null,dragContainer:null,selectableTargets:[],selectByClick:!0,selectFromInside:!0,clickBySelectEnd:!1,hitRate:100,continueSelect:!1,continueSelectWithoutDeselect:!1,toggleContinueSelect:null,toggleContinueSelectWithoutDeselect:null,keyContainer:null,scrollOptions:void 0,checkInput:!1,preventDefault:!1,boundContainer:!1,preventDragFromInside:!0,dragCondition:null,rootContainer:null,getElementRect:$l,cspNonce:"",ratio:0},n);var u=a.options.portalContainer;return u&&(o=u.parentElement),a.container=o||document.body,a.initElement(),a.initDragScroll(),a.setKeyController(),a}var r=e.prototype;return r.setSelectedTargets=function(n){var a=this.selectedTargets,o=Gi(a,n),u=o.added,l=o.removed,c=o.prevList,f=o.list;return this.selectedTargets=n,{added:u.map(function(v){return f[v]}),removed:l.map(function(v){return c[v]}),beforeSelected:a,selected:n}},r.setSelectedTargetsByPoints=function(n,a){var o=Math.min(n[0],a[0]),u=Math.min(n[1],a[1]),l=Math.max(n[0],a[0]),c=Math.max(n[1],a[1]),f={left:o,top:u,right:l,bottom:c,width:l-o,height:c-u},v={ignoreClick:!0};this.findSelectableTargets(v);var h=this.hitTest(f,v),p=this.setSelectedTargets(h);return Ke(Ke({},p),{rect:f})},r.selectTargetsByPoints=function(n,a){var o=new MouseEvent("mousedown",{clientX:n[0],clientY:n[1],cancelable:!0,bubbles:!0}),u=new MouseEvent("mousemove",{clientX:a[0],clientY:a[1],cancelable:!0,bubbles:!0}),l=new MouseEvent("mousemove",{clientX:a[0],clientY:a[1],cancelable:!0,bubbles:!0}),c=this.gesto,f=c.onDragStart(o);f!==!1&&(c.onDrag(u),c.onDragEnd(l))},r.getSelectedTargets=function(){return this.selectedTargets},r.triggerDragStart=function(n){return this.gesto.triggerDragStart(n),this},r.destroy=function(){this.off(),this.keycon&&this.keycon.destroy(),this.gesto.unset(),this.injectResult.destroy(),We(document,"selectstart",this._onDocumentSelectStart),this.keycon=null,this.gesto=null,this.injectResult=null,this.target=null,this.container=null,this.options=null},r.getElementPoints=function(n){var a=this.getElementRect||$l,o=a(n),u=[o.pos1,o.pos2,o.pos4,o.pos3];if(a!==$l){var l=n.getBoundingClientRect();return of(u,l)}return u},r.getSelectableElements=function(){var n=[];return this.options.selectableTargets.forEach(function(a){if(tn(a))n.push(a);else{var o=[].slice.call(document.querySelectorAll(a));o.forEach(function(u){n.push(u)})}}),n},r.checkScroll=function(){if(!!this.gesto.isFlag()){var n=this.scrollOptions;n!=null&&n.container&&this.dragScroll.checkScroll(Ke({inputEvent:this.gesto.getCurrentEvent()},n))}},r.findSelectableTargets=function(n){var a=this;n===void 0&&(n=this.gesto.getEventData());var o=this.getSelectableElements(),u=o.map(function(l){return a.getElementPoints(l)});n.selectableTargets=o,n.selectablePoints=u,this._refreshGroups(n)},r.clickTarget=function(n,a){var o=_D(n),u=o.clientX,l=o.clientY,c={data:{selectFlag:!1},clientX:u,clientY:l,inputEvent:n,isClick:!0,stop:function(){return!1}};return this._onDragStart(c,a)&&this._onDragEnd(c),this},r.setKeyController=function(){var n=this.options,a=n.keyContainer,o=n.toggleContinueSelect,u=n.toggleContinueSelectWithoutDeselect;this.keycon&&(this.keycon.destroy(),this.keycon=null),(o||u)&&(this.keycon=new mD(a||window),this.keycon.keydown(this._onKeyDown).keyup(this._onKeyUp).on("blur",this._onBlur))},r.setKeyEvent=function(){var n=this.options,a=n.toggleContinueSelect,o=n.toggleContinueSelectWithoutDeselect;!a&&!o||this.keycon||this.setKeyController()},r.setKeyContainer=function(n){var a=this,o=this.options;Gl(o.keyContainer,n,function(){o.keyContainer=n,a.setKeyController()})},r.getContinueSelect=function(){var n=this.options,a=n.continueSelect,o=n.toggleContinueSelect;return!o||!this._keydownContinueSelect?a:!a},r.getContinueSelectWithoutDeselect=function(){var n=this.options,a=n.continueSelectWithoutDeselect,o=n.toggleContinueSelectWithoutDeselect;return!o||!this._keydownContinueSelectWithoutDeselection?a:!a},r.setToggleContinueSelect=function(n){var a=this,o=this.options;Gl(o.toggleContinueSelect,n,function(){o.toggleContinueSelect=n,a.setKeyEvent()})},r.setToggleContinueSelectWithoutDeselect=function(n){var a=this,o=this.options;Gl(o.toggleContinueSelectWithoutDeselect,n,function(){o.toggleContinueSelectWithoutDeselect=n,a.setKeyEvent()})},r.setPreventDefault=function(n){this.gesto.options.preventDefault=n},r.setCheckInput=function(n){this.gesto.options.checkInput=n},r.initElement=function(){this.target=y0(xD("div",{className:wD}),this.target,this.container);var n=this.target,a=this.options,o=a.dragContainer,u=a.checkInput,l=a.preventDefault,c=a.preventClickEventOnDragStart,f=a.preventClickEventOnDrag,v=a.preventClickEventByCondition,h=a.preventRightClick,p=h===void 0?!0:h;this.dragContainer=typeof o=="string"?[].slice.call(document.querySelectorAll(o)):o||this.target.parentNode,this.gesto=new sg(this.dragContainer,{checkWindowBlur:!0,container:window,checkInput:u,preventDefault:l,preventClickEventOnDragStart:c,preventClickEventOnDrag:f,preventClickEventByCondition:v,preventRightClick:p}).on({dragStart:this._onDragStart,drag:this._onDrag,dragEnd:this._onDragEnd}),je(document,"selectstart",this._onDocumentSelectStart),this.injectResult=_0.inject(n,{nonce:this.options.cspNonce})},r.hitTest=function(n,a){var o=this.options,u=o.hitRate,l=o.selectByClick,c=n.left,f=n.top,v=n.right,h=n.bottom,p=a.innerGroups,g=a.innerWidth,b=a.innerHeight,y=a.clientX,_=a.clientY,x=a.ignoreClick,E=[[c,f],[v,f],[v,h],[c,h]],w=function(V){var tt=x?!1:Fs([y,_],V);if(l&&tt)return!0;var J=ag(E,V);if(!J.length)return!1;var ot=Ls(J),X=Ls(V),Q=si("".concat(u));if(Q.unit==="px")return ot>=Q.value;var lt=zs(Math.round(ot/X*100),0,100);return lt>=Math.min(100,Q.value)};if(!p){var C=a.selectableTargets,I=a.selectablePoints;return C.filter(function(V,tt){return w(I[tt])})}for(var R=[],k=Math.floor(c/g),O=Math.floor(v/g),B=Math.floor(f/b),A=Math.floor(h/b),N=k;N<=O;++N){var L=p[N];if(!!L)for(var z=function(V){var tt=L[V];if(!tt)return"continue";var J=tt.points,ot=tt.targets;J.forEach(function(X,Q){w(X)&&R.push(ot[Q])})},H=B;H<=A;++H)z(H)}return SD(R)},r.initDragScroll=function(){var n=this;this.dragScroll.on("scroll",function(a){var o=a.container,u=a.direction;n.emit("scroll",{container:o,direction:u})}).on("move",function(a){var o=a.offsetX,u=a.offsetY,l=a.inputEvent,c=n.gesto;if(!(!c||!c.isFlag())){var f=n.gesto.getEventData(),v=f.boundArea;f.startX-=o,f.startY-=u,f.selectablePoints.forEach(function(h){h.forEach(function(p){p[0]-=o,p[1]-=u})}),n._refreshGroups(f),v.left-=o,v.right-=o,v.top-=u,v.bottom-=u,n.gesto.scrollBy(o,u,l.inputEvent,!1),n._checkSelected(n.gesto.getCurrentEvent())}})},r._select=function(n,a,o,u){var l=o.inputEvent,c=o.data,f=this.setSelectedTargets(n);u&&this.emit("selectStart",Ke(Ke({},f),{rect:a,inputEvent:l,data:c.data})),(f.added.length||f.removed.length)&&this.emit("select",Ke(Ke({},f),{rect:a,inputEvent:l,data:c.data}))},r._selectEnd=function(n,a,o,u){var l=u.inputEvent,c=u.isDouble,f=u.data,v=Gi(n,this.selectedTargets),h=v.added,p=v.removed,g=v.prevList,b=v.list,y=Gi(a,this.selectedTargets),_=y.added,x=y.removed,E=y.prevList,w=y.list,C=l&&l.type,I=C==="mousedown"||C==="touchstart";this.emit("selectEnd",{startSelected:n,beforeSelected:a,selected:this.selectedTargets,added:h.map(function(R){return b[R]}),removed:p.map(function(R){return g[R]}),afterAdded:_.map(function(R){return w[R]}),afterRemoved:x.map(function(R){return E[R]}),isDragStart:I,isClick:!!u.isClick,isDouble:!!c,rect:o,inputEvent:l,data:f.data})},r._checkSelected=function(n,a){a===void 0&&(a=jp(n,this.options.ratio));var o=n.data,u=a.top,l=a.left,c=a.width,f=a.height,v=o.selectFlag,h=o.containerX,p=o.containerY,g=o.scaleMatrix,b=Cs(g,[l-h,u-p]),y=Cs(g,[c,f]),_=[];if(v){this.target.style.cssText+="display: block;left:0px;top:0px;"+"transform: translate(".concat(b[0],"px, ").concat(b[1],"px);")+"width:".concat(y[0],"px;height:").concat(y[1],"px;");var x=this.hitTest(a,o);_=Zp(o.startPassedTargets,x,this.continueSelect&&this.continueSelectWithoutDeselect)}var E=this.emit("drag",Ke(Ke({},n),{data:o.data,isSelect:v,rect:a}));if(E===!1){this.target.style.cssText+="display: none;",n.stop();return}v&&this._select(_,a,n)},r._sameCombiKey=function(n,a,o){if(!a)return!1;var u=m0(n.inputEvent,n.key),l=[].concat(a),c=Le(l[0])?l:[l];if(o){var f=n.key;return c.some(function(v){return v.some(function(h){return h===f})})}return c.some(function(v){return v.every(function(h){return u.indexOf(h)>-1})})},r._findElement=function(n,a){for(var o=n;o&&!(a.indexOf(o)>-1);)o=o.parentElement;return o},r._refreshGroups=function(n){var a=n.innerWidth,o=n.innerHeight;if(!a||!o)n.innerGroups=null;else{var u=n.selectableTargets,l=n.selectablePoints,c={};l.forEach(function(f,v){var h=1/0,p=-1/0,g=1/0,b=-1/0;f.forEach(function(C){var I=Math.floor(C[0]/a),R=Math.floor(C[1]/o);h=Math.min(I,h),p=Math.max(I,p),g=Math.min(R,g),b=Math.max(R,b)});for(var y=h;y<=p;++y)for(var _=g;_<=b;++_){c[y]=c[y]||{},c[y][_]=c[y][_]||{points:[],targets:[]};var x=c[y][_],E=x.targets,w=x.points;E.push(u[v]),w.push(f)}}),n.innerGroups=c}},e=yD([Yl(mc,function(n,a){var o={enumerable:!0,configurable:!0,get:function(){return this.options[a]}},u=Ul("get ".concat(a));n[u]?o.get=function(){return this[u]()}:o.get=function(){return this.options[a]};var l=Ul("set ".concat(a));n[l]?o.set=function(f){this[l](f)}:o.set=function(f){this.options[a]=f},Object.defineProperty(n,a,o)})],e),e}(li),DD=function(t){b0(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e}(MD),TD=DD,Wi=function(){return Wi=Object.assign||function(e){for(var r,n=1,a=arguments.length;n<a;n++){r=arguments[n];for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(e[o]=r[o])}return e},Wi.apply(this,arguments)},S0={};ED.forEach(function(t){S0[t]=function(){for(var e,r=[],n=0;n<arguments.length;n++)r[n]=arguments[n];return(e=this.$_selecto)[t].apply(e,r)}});var x0={};mc.forEach(function(t){x0[t]=function(e){return this.$_selecto[t]=e}});var bc={name:"selecto",methods:S0,props:Qp,watch:x0,mounted:function(){var t=this,e=this.$props,r={};Qp.forEach(function(a){var o=e[a];oi(o)||(r[a]=o)});var n=new TD(Wi(Wi({},r),{portalContainer:this.$refs.selectoElement}));this.$_selecto=n,CD.forEach(function(a){n.on(a,function(o){t.$emit(a,Wi({},o))})})},beforeUnmount:function(){this.$_selecto.destroy()}};const RD={ref:"selectoElement"};function kD(t,e,r,n,a,o){return jt(),or("div",RD,null,512)}bc.render=kD;bc.__file="src/Selecto.vue";var Ii=typeof globalThis!="undefined"?globalThis:typeof window!="undefined"?window:typeof global!="undefined"?global:typeof self!="undefined"?self:{},ca={exports:{}};/**
 * @license
 * Lodash <https://lodash.com/>
 * Copyright OpenJS Foundation and other contributors <https://openjsf.org/>
 * Released under MIT license <https://lodash.com/license>
 * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
 * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
 */(function(t,e){(function(){var r,n="4.17.21",a=200,o="Unsupported core-js use. Try https://npms.io/search?q=ponyfill.",u="Expected a function",l="Invalid `variable` option passed into `_.template`",c="__lodash_hash_undefined__",f=500,v="__lodash_placeholder__",h=1,p=2,g=4,b=1,y=2,_=1,x=2,E=4,w=8,C=16,I=32,R=64,k=128,O=256,B=512,A=30,N="...",L=800,z=16,H=1,V=2,tt=3,J=1/0,ot=9007199254740991,X=17976931348623157e292,Q=0/0,lt=4294967295,_t=lt-1,Ct=lt>>>1,gt=[["ary",k],["bind",_],["bindKey",x],["curry",w],["curryRight",C],["flip",B],["partial",I],["partialRight",R],["rearg",O]],vt="[object Arguments]",yt="[object Array]",Dt="[object AsyncFunction]",Et="[object Boolean]",T="[object Date]",G="[object DOMException]",U="[object Error]",ut="[object Function]",pt="[object GeneratorFunction]",dt="[object Map]",Mt="[object Number]",kt="[object Null]",At="[object Object]",Jt="[object Promise]",Wt="[object Proxy]",fe="[object RegExp]",ge="[object Set]",Fe="[object String]",nt="[object Symbol]",mt="[object Undefined]",Tt="[object WeakMap]",oe="[object WeakSet]",ne="[object ArrayBuffer]",Vt="[object DataView]",Lt="[object Float32Array]",ce="[object Float64Array]",Ge="[object Int8Array]",fr="[object Int16Array]",at="[object Int32Array]",$t="[object Uint8Array]",te="[object Uint8ClampedArray]",Yt="[object Uint16Array]",me="[object Uint32Array]",Zt=/\b__p \+= '';/g,Ce=/\b(__p \+=) '' \+/g,qr=/(__e\(.*?\)|\b__t\)) \+\n'';/g,Un=/&(?:amp|lt|gt|quot|#39);/g,Kn=/[&<>"']/g,jn=RegExp(Un.source),uu=RegExp(Kn.source),lu=/<%-([\s\S]+?)%>/g,so=/<%([\s\S]+?)%>/g,di=/<%=([\s\S]+?)%>/g,Zn=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,uo=/^\w*$/,Ca=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Ea=/[\\^$.*+?()[\]{}|]/g,lo=RegExp(Ea.source),Ma=/^\s+/,fo=/\s/,co=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,vo=/\{\n\/\* \[wrapped with (.+)\] \*/,po=/,? & /,ho=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,Nr=/[()=,{}\[\]\/\s]/,Da=/\\(\\)?/g,fu=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,Dn=/\w*$/,Ta=/^[-+]0x[0-9a-f]+$/i,Ra=/^0b[01]+$/i,go=/^\[object .+?Constructor\]$/,mo=/^0o[0-7]+$/i,vi=/^(?:0|[1-9]\d*)$/,cu=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,Wr=/($^)/,Y=/['\n\r\u2028\u2029\\]/g,ft="\\ud800-\\udfff",ct="\\u0300-\\u036f",bt="\\ufe20-\\ufe2f",ae="\\u20d0-\\u20ff",de=ct+bt+ae,ve="\\u2700-\\u27bf",Be="a-z\\xdf-\\xf6\\xf8-\\xff",Tn="\\xac\\xb1\\xd7\\xf7",vn="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",bo="\\u2000-\\u206f",yo=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",Sc="A-Z\\xc0-\\xd6\\xd8-\\xde",xc="\\ufe0e\\ufe0f",wc=Tn+vn+bo+yo,du="['\u2019]",B0="["+ft+"]",Cc="["+wc+"]",_o="["+de+"]",Ec="\\d+",P0="["+ve+"]",Mc="["+Be+"]",Dc="[^"+ft+wc+Ec+ve+Be+Sc+"]",vu="\\ud83c[\\udffb-\\udfff]",A0="(?:"+_o+"|"+vu+")",Tc="[^"+ft+"]",pu="(?:\\ud83c[\\udde6-\\uddff]){2}",hu="[\\ud800-\\udbff][\\udc00-\\udfff]",ka="["+Sc+"]",Rc="\\u200d",kc="(?:"+Mc+"|"+Dc+")",z0="(?:"+ka+"|"+Dc+")",Ic="(?:"+du+"(?:d|ll|m|re|s|t|ve))?",Oc="(?:"+du+"(?:D|LL|M|RE|S|T|VE))?",Bc=A0+"?",Pc="["+xc+"]?",L0="(?:"+Rc+"(?:"+[Tc,pu,hu].join("|")+")"+Pc+Bc+")*",F0="\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",G0="\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])",Ac=Pc+Bc+L0,$0="(?:"+[P0,pu,hu].join("|")+")"+Ac,q0="(?:"+[Tc+_o+"?",_o,pu,hu,B0].join("|")+")",N0=RegExp(du,"g"),W0=RegExp(_o,"g"),gu=RegExp(vu+"(?="+vu+")|"+q0+Ac,"g"),V0=RegExp([ka+"?"+Mc+"+"+Ic+"(?="+[Cc,ka,"$"].join("|")+")",z0+"+"+Oc+"(?="+[Cc,ka+kc,"$"].join("|")+")",ka+"?"+kc+"+"+Ic,ka+"+"+Oc,G0,F0,Ec,$0].join("|"),"g"),H0=RegExp("["+Rc+ft+de+xc+"]"),Y0=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,X0=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],U0=-1,Se={};Se[Lt]=Se[ce]=Se[Ge]=Se[fr]=Se[at]=Se[$t]=Se[te]=Se[Yt]=Se[me]=!0,Se[vt]=Se[yt]=Se[ne]=Se[Et]=Se[Vt]=Se[T]=Se[U]=Se[ut]=Se[dt]=Se[Mt]=Se[At]=Se[fe]=Se[ge]=Se[Fe]=Se[Tt]=!1;var _e={};_e[vt]=_e[yt]=_e[ne]=_e[Vt]=_e[Et]=_e[T]=_e[Lt]=_e[ce]=_e[Ge]=_e[fr]=_e[at]=_e[dt]=_e[Mt]=_e[At]=_e[fe]=_e[ge]=_e[Fe]=_e[nt]=_e[$t]=_e[te]=_e[Yt]=_e[me]=!0,_e[U]=_e[ut]=_e[Tt]=!1;var K0={\u00C0:"A",\u00C1:"A",\u00C2:"A",\u00C3:"A",\u00C4:"A",\u00C5:"A",\u00E0:"a",\u00E1:"a",\u00E2:"a",\u00E3:"a",\u00E4:"a",\u00E5:"a",\u00C7:"C",\u00E7:"c",\u00D0:"D",\u00F0:"d",\u00C8:"E",\u00C9:"E",\u00CA:"E",\u00CB:"E",\u00E8:"e",\u00E9:"e",\u00EA:"e",\u00EB:"e",\u00CC:"I",\u00CD:"I",\u00CE:"I",\u00CF:"I",\u00EC:"i",\u00ED:"i",\u00EE:"i",\u00EF:"i",\u00D1:"N",\u00F1:"n",\u00D2:"O",\u00D3:"O",\u00D4:"O",\u00D5:"O",\u00D6:"O",\u00D8:"O",\u00F2:"o",\u00F3:"o",\u00F4:"o",\u00F5:"o",\u00F6:"o",\u00F8:"o",\u00D9:"U",\u00DA:"U",\u00DB:"U",\u00DC:"U",\u00F9:"u",\u00FA:"u",\u00FB:"u",\u00FC:"u",\u00DD:"Y",\u00FD:"y",\u00FF:"y",\u00C6:"Ae",\u00E6:"ae",\u00DE:"Th",\u00FE:"th",\u00DF:"ss",\u0100:"A",\u0102:"A",\u0104:"A",\u0101:"a",\u0103:"a",\u0105:"a",\u0106:"C",\u0108:"C",\u010A:"C",\u010C:"C",\u0107:"c",\u0109:"c",\u010B:"c",\u010D:"c",\u010E:"D",\u0110:"D",\u010F:"d",\u0111:"d",\u0112:"E",\u0114:"E",\u0116:"E",\u0118:"E",\u011A:"E",\u0113:"e",\u0115:"e",\u0117:"e",\u0119:"e",\u011B:"e",\u011C:"G",\u011E:"G",\u0120:"G",\u0122:"G",\u011D:"g",\u011F:"g",\u0121:"g",\u0123:"g",\u0124:"H",\u0126:"H",\u0125:"h",\u0127:"h",\u0128:"I",\u012A:"I",\u012C:"I",\u012E:"I",\u0130:"I",\u0129:"i",\u012B:"i",\u012D:"i",\u012F:"i",\u0131:"i",\u0134:"J",\u0135:"j",\u0136:"K",\u0137:"k",\u0138:"k",\u0139:"L",\u013B:"L",\u013D:"L",\u013F:"L",\u0141:"L",\u013A:"l",\u013C:"l",\u013E:"l",\u0140:"l",\u0142:"l",\u0143:"N",\u0145:"N",\u0147:"N",\u014A:"N",\u0144:"n",\u0146:"n",\u0148:"n",\u014B:"n",\u014C:"O",\u014E:"O",\u0150:"O",\u014D:"o",\u014F:"o",\u0151:"o",\u0154:"R",\u0156:"R",\u0158:"R",\u0155:"r",\u0157:"r",\u0159:"r",\u015A:"S",\u015C:"S",\u015E:"S",\u0160:"S",\u015B:"s",\u015D:"s",\u015F:"s",\u0161:"s",\u0162:"T",\u0164:"T",\u0166:"T",\u0163:"t",\u0165:"t",\u0167:"t",\u0168:"U",\u016A:"U",\u016C:"U",\u016E:"U",\u0170:"U",\u0172:"U",\u0169:"u",\u016B:"u",\u016D:"u",\u016F:"u",\u0171:"u",\u0173:"u",\u0174:"W",\u0175:"w",\u0176:"Y",\u0177:"y",\u0178:"Y",\u0179:"Z",\u017B:"Z",\u017D:"Z",\u017A:"z",\u017C:"z",\u017E:"z",\u0132:"IJ",\u0133:"ij",\u0152:"Oe",\u0153:"oe",\u0149:"'n",\u017F:"s"},j0={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},Z0={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"},Q0={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},J0=parseFloat,tm=parseInt,zc=typeof Ii=="object"&&Ii&&Ii.Object===Object&&Ii,em=typeof self=="object"&&self&&self.Object===Object&&self,Xe=zc||em||Function("return this")(),mu=e&&!e.nodeType&&e,Qn=mu&&!0&&t&&!t.nodeType&&t,Lc=Qn&&Qn.exports===mu,bu=Lc&&zc.process,Cr=function(){try{var $=Qn&&Qn.require&&Qn.require("util").types;return $||bu&&bu.binding&&bu.binding("util")}catch{}}(),Fc=Cr&&Cr.isArrayBuffer,Gc=Cr&&Cr.isDate,$c=Cr&&Cr.isMap,qc=Cr&&Cr.isRegExp,Nc=Cr&&Cr.isSet,Wc=Cr&&Cr.isTypedArray;function mr($,j,K){switch(K.length){case 0:return $.call(j);case 1:return $.call(j,K[0]);case 2:return $.call(j,K[0],K[1]);case 3:return $.call(j,K[0],K[1],K[2])}return $.apply(j,K)}function rm($,j,K,St){for(var qt=-1,le=$==null?0:$.length;++qt<le;){var $e=$[qt];j(St,$e,K($e),$)}return St}function Er($,j){for(var K=-1,St=$==null?0:$.length;++K<St&&j($[K],K,$)!==!1;);return $}function nm($,j){for(var K=$==null?0:$.length;K--&&j($[K],K,$)!==!1;);return $}function Vc($,j){for(var K=-1,St=$==null?0:$.length;++K<St;)if(!j($[K],K,$))return!1;return!0}function Rn($,j){for(var K=-1,St=$==null?0:$.length,qt=0,le=[];++K<St;){var $e=$[K];j($e,K,$)&&(le[qt++]=$e)}return le}function So($,j){var K=$==null?0:$.length;return!!K&&Ia($,j,0)>-1}function yu($,j,K){for(var St=-1,qt=$==null?0:$.length;++St<qt;)if(K(j,$[St]))return!0;return!1}function we($,j){for(var K=-1,St=$==null?0:$.length,qt=Array(St);++K<St;)qt[K]=j($[K],K,$);return qt}function kn($,j){for(var K=-1,St=j.length,qt=$.length;++K<St;)$[qt+K]=j[K];return $}function _u($,j,K,St){var qt=-1,le=$==null?0:$.length;for(St&&le&&(K=$[++qt]);++qt<le;)K=j(K,$[qt],qt,$);return K}function am($,j,K,St){var qt=$==null?0:$.length;for(St&&qt&&(K=$[--qt]);qt--;)K=j(K,$[qt],qt,$);return K}function Su($,j){for(var K=-1,St=$==null?0:$.length;++K<St;)if(j($[K],K,$))return!0;return!1}var im=xu("length");function om($){return $.split("")}function sm($){return $.match(ho)||[]}function Hc($,j,K){var St;return K($,function(qt,le,$e){if(j(qt,le,$e))return St=le,!1}),St}function xo($,j,K,St){for(var qt=$.length,le=K+(St?1:-1);St?le--:++le<qt;)if(j($[le],le,$))return le;return-1}function Ia($,j,K){return j===j?ym($,j,K):xo($,Yc,K)}function um($,j,K,St){for(var qt=K-1,le=$.length;++qt<le;)if(St($[qt],j))return qt;return-1}function Yc($){return $!==$}function Xc($,j){var K=$==null?0:$.length;return K?Cu($,j)/K:Q}function xu($){return function(j){return j==null?r:j[$]}}function wu($){return function(j){return $==null?r:$[j]}}function Uc($,j,K,St,qt){return qt($,function(le,$e,be){K=St?(St=!1,le):j(K,le,$e,be)}),K}function lm($,j){var K=$.length;for($.sort(j);K--;)$[K]=$[K].value;return $}function Cu($,j){for(var K,St=-1,qt=$.length;++St<qt;){var le=j($[St]);le!==r&&(K=K===r?le:K+le)}return K}function Eu($,j){for(var K=-1,St=Array($);++K<$;)St[K]=j(K);return St}function fm($,j){return we(j,function(K){return[K,$[K]]})}function Kc($){return $&&$.slice(0,Jc($)+1).replace(Ma,"")}function br($){return function(j){return $(j)}}function Mu($,j){return we(j,function(K){return $[K]})}function pi($,j){return $.has(j)}function jc($,j){for(var K=-1,St=$.length;++K<St&&Ia(j,$[K],0)>-1;);return K}function Zc($,j){for(var K=$.length;K--&&Ia(j,$[K],0)>-1;);return K}function cm($,j){for(var K=$.length,St=0;K--;)$[K]===j&&++St;return St}var dm=wu(K0),vm=wu(j0);function pm($){return"\\"+Q0[$]}function hm($,j){return $==null?r:$[j]}function Oa($){return H0.test($)}function gm($){return Y0.test($)}function mm($){for(var j,K=[];!(j=$.next()).done;)K.push(j.value);return K}function Du($){var j=-1,K=Array($.size);return $.forEach(function(St,qt){K[++j]=[qt,St]}),K}function Qc($,j){return function(K){return $(j(K))}}function In($,j){for(var K=-1,St=$.length,qt=0,le=[];++K<St;){var $e=$[K];($e===j||$e===v)&&($[K]=v,le[qt++]=K)}return le}function wo($){var j=-1,K=Array($.size);return $.forEach(function(St){K[++j]=St}),K}function bm($){var j=-1,K=Array($.size);return $.forEach(function(St){K[++j]=[St,St]}),K}function ym($,j,K){for(var St=K-1,qt=$.length;++St<qt;)if($[St]===j)return St;return-1}function _m($,j,K){for(var St=K+1;St--;)if($[St]===j)return St;return St}function Ba($){return Oa($)?xm($):im($)}function Vr($){return Oa($)?wm($):om($)}function Jc($){for(var j=$.length;j--&&fo.test($.charAt(j)););return j}var Sm=wu(Z0);function xm($){for(var j=gu.lastIndex=0;gu.test($);)++j;return j}function wm($){return $.match(gu)||[]}function Cm($){return $.match(V0)||[]}var Em=function $(j){j=j==null?Xe:Pa.defaults(Xe.Object(),j,Pa.pick(Xe,X0));var K=j.Array,St=j.Date,qt=j.Error,le=j.Function,$e=j.Math,be=j.Object,Tu=j.RegExp,Mm=j.String,Mr=j.TypeError,Co=K.prototype,Dm=le.prototype,Aa=be.prototype,Eo=j["__core-js_shared__"],Mo=Dm.toString,he=Aa.hasOwnProperty,Tm=0,td=function(){var i=/[^.]+$/.exec(Eo&&Eo.keys&&Eo.keys.IE_PROTO||"");return i?"Symbol(src)_1."+i:""}(),Do=Aa.toString,Rm=Mo.call(be),km=Xe._,Im=Tu("^"+Mo.call(he).replace(Ea,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),To=Lc?j.Buffer:r,On=j.Symbol,Ro=j.Uint8Array,ed=To?To.allocUnsafe:r,ko=Qc(be.getPrototypeOf,be),rd=be.create,nd=Aa.propertyIsEnumerable,Io=Co.splice,ad=On?On.isConcatSpreadable:r,hi=On?On.iterator:r,Jn=On?On.toStringTag:r,Oo=function(){try{var i=aa(be,"defineProperty");return i({},"",{}),i}catch{}}(),Om=j.clearTimeout!==Xe.clearTimeout&&j.clearTimeout,Bm=St&&St.now!==Xe.Date.now&&St.now,Pm=j.setTimeout!==Xe.setTimeout&&j.setTimeout,Bo=$e.ceil,Po=$e.floor,Ru=be.getOwnPropertySymbols,Am=To?To.isBuffer:r,id=j.isFinite,zm=Co.join,Lm=Qc(be.keys,be),qe=$e.max,Qe=$e.min,Fm=St.now,Gm=j.parseInt,od=$e.random,$m=Co.reverse,ku=aa(j,"DataView"),gi=aa(j,"Map"),Iu=aa(j,"Promise"),za=aa(j,"Set"),mi=aa(j,"WeakMap"),bi=aa(be,"create"),Ao=mi&&new mi,La={},qm=ia(ku),Nm=ia(gi),Wm=ia(Iu),Vm=ia(za),Hm=ia(mi),zo=On?On.prototype:r,yi=zo?zo.valueOf:r,sd=zo?zo.toString:r;function M(i){if(Te(i)&&!Nt(i)&&!(i instanceof ie)){if(i instanceof Dr)return i;if(he.call(i,"__wrapped__"))return uv(i)}return new Dr(i)}var Fa=function(){function i(){}return function(s){if(!Ee(s))return{};if(rd)return rd(s);i.prototype=s;var d=new i;return i.prototype=r,d}}();function Lo(){}function Dr(i,s){this.__wrapped__=i,this.__actions__=[],this.__chain__=!!s,this.__index__=0,this.__values__=r}M.templateSettings={escape:lu,evaluate:so,interpolate:di,variable:"",imports:{_:M}},M.prototype=Lo.prototype,M.prototype.constructor=M,Dr.prototype=Fa(Lo.prototype),Dr.prototype.constructor=Dr;function ie(i){this.__wrapped__=i,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=lt,this.__views__=[]}function Ym(){var i=new ie(this.__wrapped__);return i.__actions__=cr(this.__actions__),i.__dir__=this.__dir__,i.__filtered__=this.__filtered__,i.__iteratees__=cr(this.__iteratees__),i.__takeCount__=this.__takeCount__,i.__views__=cr(this.__views__),i}function Xm(){if(this.__filtered__){var i=new ie(this);i.__dir__=-1,i.__filtered__=!0}else i=this.clone(),i.__dir__*=-1;return i}function Um(){var i=this.__wrapped__.value(),s=this.__dir__,d=Nt(i),m=s<0,S=d?i.length:0,D=ob(0,S,this.__views__),P=D.start,F=D.end,q=F-P,et=m?F:P-1,rt=this.__iteratees__,st=rt.length,ht=0,wt=Qe(q,this.__takeCount__);if(!d||!m&&S==q&&wt==q)return Id(i,this.__actions__);var Bt=[];t:for(;q--&&ht<wt;){et+=s;for(var Ut=-1,Pt=i[et];++Ut<st;){var ee=rt[Ut],se=ee.iteratee,Sr=ee.type,nr=se(Pt);if(Sr==V)Pt=nr;else if(!nr){if(Sr==H)continue t;break t}}Bt[ht++]=Pt}return Bt}ie.prototype=Fa(Lo.prototype),ie.prototype.constructor=ie;function ta(i){var s=-1,d=i==null?0:i.length;for(this.clear();++s<d;){var m=i[s];this.set(m[0],m[1])}}function Km(){this.__data__=bi?bi(null):{},this.size=0}function jm(i){var s=this.has(i)&&delete this.__data__[i];return this.size-=s?1:0,s}function Zm(i){var s=this.__data__;if(bi){var d=s[i];return d===c?r:d}return he.call(s,i)?s[i]:r}function Qm(i){var s=this.__data__;return bi?s[i]!==r:he.call(s,i)}function Jm(i,s){var d=this.__data__;return this.size+=this.has(i)?0:1,d[i]=bi&&s===r?c:s,this}ta.prototype.clear=Km,ta.prototype.delete=jm,ta.prototype.get=Zm,ta.prototype.has=Qm,ta.prototype.set=Jm;function pn(i){var s=-1,d=i==null?0:i.length;for(this.clear();++s<d;){var m=i[s];this.set(m[0],m[1])}}function t1(){this.__data__=[],this.size=0}function e1(i){var s=this.__data__,d=Fo(s,i);if(d<0)return!1;var m=s.length-1;return d==m?s.pop():Io.call(s,d,1),--this.size,!0}function r1(i){var s=this.__data__,d=Fo(s,i);return d<0?r:s[d][1]}function n1(i){return Fo(this.__data__,i)>-1}function a1(i,s){var d=this.__data__,m=Fo(d,i);return m<0?(++this.size,d.push([i,s])):d[m][1]=s,this}pn.prototype.clear=t1,pn.prototype.delete=e1,pn.prototype.get=r1,pn.prototype.has=n1,pn.prototype.set=a1;function hn(i){var s=-1,d=i==null?0:i.length;for(this.clear();++s<d;){var m=i[s];this.set(m[0],m[1])}}function i1(){this.size=0,this.__data__={hash:new ta,map:new(gi||pn),string:new ta}}function o1(i){var s=jo(this,i).delete(i);return this.size-=s?1:0,s}function s1(i){return jo(this,i).get(i)}function u1(i){return jo(this,i).has(i)}function l1(i,s){var d=jo(this,i),m=d.size;return d.set(i,s),this.size+=d.size==m?0:1,this}hn.prototype.clear=i1,hn.prototype.delete=o1,hn.prototype.get=s1,hn.prototype.has=u1,hn.prototype.set=l1;function ea(i){var s=-1,d=i==null?0:i.length;for(this.__data__=new hn;++s<d;)this.add(i[s])}function f1(i){return this.__data__.set(i,c),this}function c1(i){return this.__data__.has(i)}ea.prototype.add=ea.prototype.push=f1,ea.prototype.has=c1;function Hr(i){var s=this.__data__=new pn(i);this.size=s.size}function d1(){this.__data__=new pn,this.size=0}function v1(i){var s=this.__data__,d=s.delete(i);return this.size=s.size,d}function p1(i){return this.__data__.get(i)}function h1(i){return this.__data__.has(i)}function g1(i,s){var d=this.__data__;if(d instanceof pn){var m=d.__data__;if(!gi||m.length<a-1)return m.push([i,s]),this.size=++d.size,this;d=this.__data__=new hn(m)}return d.set(i,s),this.size=d.size,this}Hr.prototype.clear=d1,Hr.prototype.delete=v1,Hr.prototype.get=p1,Hr.prototype.has=h1,Hr.prototype.set=g1;function ud(i,s){var d=Nt(i),m=!d&&oa(i),S=!d&&!m&&Ln(i),D=!d&&!m&&!S&&Na(i),P=d||m||S||D,F=P?Eu(i.length,Mm):[],q=F.length;for(var et in i)(s||he.call(i,et))&&!(P&&(et=="length"||S&&(et=="offset"||et=="parent")||D&&(et=="buffer"||et=="byteLength"||et=="byteOffset")||yn(et,q)))&&F.push(et);return F}function ld(i){var s=i.length;return s?i[Nu(0,s-1)]:r}function m1(i,s){return Zo(cr(i),ra(s,0,i.length))}function b1(i){return Zo(cr(i))}function Ou(i,s,d){(d!==r&&!Yr(i[s],d)||d===r&&!(s in i))&&gn(i,s,d)}function _i(i,s,d){var m=i[s];(!(he.call(i,s)&&Yr(m,d))||d===r&&!(s in i))&&gn(i,s,d)}function Fo(i,s){for(var d=i.length;d--;)if(Yr(i[d][0],s))return d;return-1}function y1(i,s,d,m){return Bn(i,function(S,D,P){s(m,S,d(S),P)}),m}function fd(i,s){return i&&an(s,Ne(s),i)}function _1(i,s){return i&&an(s,vr(s),i)}function gn(i,s,d){s=="__proto__"&&Oo?Oo(i,s,{configurable:!0,enumerable:!0,value:d,writable:!0}):i[s]=d}function Bu(i,s){for(var d=-1,m=s.length,S=K(m),D=i==null;++d<m;)S[d]=D?r:vl(i,s[d]);return S}function ra(i,s,d){return i===i&&(d!==r&&(i=i<=d?i:d),s!==r&&(i=i>=s?i:s)),i}function Tr(i,s,d,m,S,D){var P,F=s&h,q=s&p,et=s&g;if(d&&(P=S?d(i,m,S,D):d(i)),P!==r)return P;if(!Ee(i))return i;var rt=Nt(i);if(rt){if(P=ub(i),!F)return cr(i,P)}else{var st=Je(i),ht=st==ut||st==pt;if(Ln(i))return Pd(i,F);if(st==At||st==vt||ht&&!S){if(P=q||ht?{}:Jd(i),!F)return q?Z1(i,_1(P,i)):j1(i,fd(P,i))}else{if(!_e[st])return S?i:{};P=lb(i,st,F)}}D||(D=new Hr);var wt=D.get(i);if(wt)return wt;D.set(i,P),Tv(i)?i.forEach(function(Pt){P.add(Tr(Pt,s,d,Pt,i,D))}):Mv(i)&&i.forEach(function(Pt,ee){P.set(ee,Tr(Pt,s,d,ee,i,D))});var Bt=et?q?Ju:Qu:q?vr:Ne,Ut=rt?r:Bt(i);return Er(Ut||i,function(Pt,ee){Ut&&(ee=Pt,Pt=i[ee]),_i(P,ee,Tr(Pt,s,d,ee,i,D))}),P}function S1(i){var s=Ne(i);return function(d){return cd(d,i,s)}}function cd(i,s,d){var m=d.length;if(i==null)return!m;for(i=be(i);m--;){var S=d[m],D=s[S],P=i[S];if(P===r&&!(S in i)||!D(P))return!1}return!0}function dd(i,s,d){if(typeof i!="function")throw new Mr(u);return Di(function(){i.apply(r,d)},s)}function Si(i,s,d,m){var S=-1,D=So,P=!0,F=i.length,q=[],et=s.length;if(!F)return q;d&&(s=we(s,br(d))),m?(D=yu,P=!1):s.length>=a&&(D=pi,P=!1,s=new ea(s));t:for(;++S<F;){var rt=i[S],st=d==null?rt:d(rt);if(rt=m||rt!==0?rt:0,P&&st===st){for(var ht=et;ht--;)if(s[ht]===st)continue t;q.push(rt)}else D(s,st,m)||q.push(rt)}return q}var Bn=Gd(nn),vd=Gd(Au,!0);function x1(i,s){var d=!0;return Bn(i,function(m,S,D){return d=!!s(m,S,D),d}),d}function Go(i,s,d){for(var m=-1,S=i.length;++m<S;){var D=i[m],P=s(D);if(P!=null&&(F===r?P===P&&!_r(P):d(P,F)))var F=P,q=D}return q}function w1(i,s,d,m){var S=i.length;for(d=Xt(d),d<0&&(d=-d>S?0:S+d),m=m===r||m>S?S:Xt(m),m<0&&(m+=S),m=d>m?0:kv(m);d<m;)i[d++]=s;return i}function pd(i,s){var d=[];return Bn(i,function(m,S,D){s(m,S,D)&&d.push(m)}),d}function Ue(i,s,d,m,S){var D=-1,P=i.length;for(d||(d=cb),S||(S=[]);++D<P;){var F=i[D];s>0&&d(F)?s>1?Ue(F,s-1,d,m,S):kn(S,F):m||(S[S.length]=F)}return S}var Pu=$d(),hd=$d(!0);function nn(i,s){return i&&Pu(i,s,Ne)}function Au(i,s){return i&&hd(i,s,Ne)}function $o(i,s){return Rn(s,function(d){return _n(i[d])})}function na(i,s){s=An(s,i);for(var d=0,m=s.length;i!=null&&d<m;)i=i[on(s[d++])];return d&&d==m?i:r}function gd(i,s,d){var m=s(i);return Nt(i)?m:kn(m,d(i))}function er(i){return i==null?i===r?mt:kt:Jn&&Jn in be(i)?ib(i):bb(i)}function zu(i,s){return i>s}function C1(i,s){return i!=null&&he.call(i,s)}function E1(i,s){return i!=null&&s in be(i)}function M1(i,s,d){return i>=Qe(s,d)&&i<qe(s,d)}function Lu(i,s,d){for(var m=d?yu:So,S=i[0].length,D=i.length,P=D,F=K(D),q=1/0,et=[];P--;){var rt=i[P];P&&s&&(rt=we(rt,br(s))),q=Qe(rt.length,q),F[P]=!d&&(s||S>=120&&rt.length>=120)?new ea(P&&rt):r}rt=i[0];var st=-1,ht=F[0];t:for(;++st<S&&et.length<q;){var wt=rt[st],Bt=s?s(wt):wt;if(wt=d||wt!==0?wt:0,!(ht?pi(ht,Bt):m(et,Bt,d))){for(P=D;--P;){var Ut=F[P];if(!(Ut?pi(Ut,Bt):m(i[P],Bt,d)))continue t}ht&&ht.push(Bt),et.push(wt)}}return et}function D1(i,s,d,m){return nn(i,function(S,D,P){s(m,d(S),D,P)}),m}function xi(i,s,d){s=An(s,i),i=nv(i,s);var m=i==null?i:i[on(kr(s))];return m==null?r:mr(m,i,d)}function md(i){return Te(i)&&er(i)==vt}function T1(i){return Te(i)&&er(i)==ne}function R1(i){return Te(i)&&er(i)==T}function wi(i,s,d,m,S){return i===s?!0:i==null||s==null||!Te(i)&&!Te(s)?i!==i&&s!==s:k1(i,s,d,m,wi,S)}function k1(i,s,d,m,S,D){var P=Nt(i),F=Nt(s),q=P?yt:Je(i),et=F?yt:Je(s);q=q==vt?At:q,et=et==vt?At:et;var rt=q==At,st=et==At,ht=q==et;if(ht&&Ln(i)){if(!Ln(s))return!1;P=!0,rt=!1}if(ht&&!rt)return D||(D=new Hr),P||Na(i)?jd(i,s,d,m,S,D):nb(i,s,q,d,m,S,D);if(!(d&b)){var wt=rt&&he.call(i,"__wrapped__"),Bt=st&&he.call(s,"__wrapped__");if(wt||Bt){var Ut=wt?i.value():i,Pt=Bt?s.value():s;return D||(D=new Hr),S(Ut,Pt,d,m,D)}}return ht?(D||(D=new Hr),ab(i,s,d,m,S,D)):!1}function I1(i){return Te(i)&&Je(i)==dt}function Fu(i,s,d,m){var S=d.length,D=S,P=!m;if(i==null)return!D;for(i=be(i);S--;){var F=d[S];if(P&&F[2]?F[1]!==i[F[0]]:!(F[0]in i))return!1}for(;++S<D;){F=d[S];var q=F[0],et=i[q],rt=F[1];if(P&&F[2]){if(et===r&&!(q in i))return!1}else{var st=new Hr;if(m)var ht=m(et,rt,q,i,s,st);if(!(ht===r?wi(rt,et,b|y,m,st):ht))return!1}}return!0}function bd(i){if(!Ee(i)||vb(i))return!1;var s=_n(i)?Im:go;return s.test(ia(i))}function O1(i){return Te(i)&&er(i)==fe}function B1(i){return Te(i)&&Je(i)==ge}function P1(i){return Te(i)&&ns(i.length)&&!!Se[er(i)]}function yd(i){return typeof i=="function"?i:i==null?pr:typeof i=="object"?Nt(i)?xd(i[0],i[1]):Sd(i):qv(i)}function Gu(i){if(!Mi(i))return Lm(i);var s=[];for(var d in be(i))he.call(i,d)&&d!="constructor"&&s.push(d);return s}function A1(i){if(!Ee(i))return mb(i);var s=Mi(i),d=[];for(var m in i)m=="constructor"&&(s||!he.call(i,m))||d.push(m);return d}function $u(i,s){return i<s}function _d(i,s){var d=-1,m=dr(i)?K(i.length):[];return Bn(i,function(S,D,P){m[++d]=s(S,D,P)}),m}function Sd(i){var s=el(i);return s.length==1&&s[0][2]?ev(s[0][0],s[0][1]):function(d){return d===i||Fu(d,i,s)}}function xd(i,s){return nl(i)&&tv(s)?ev(on(i),s):function(d){var m=vl(d,i);return m===r&&m===s?pl(d,i):wi(s,m,b|y)}}function qo(i,s,d,m,S){i!==s&&Pu(s,function(D,P){if(S||(S=new Hr),Ee(D))z1(i,s,P,d,qo,m,S);else{var F=m?m(il(i,P),D,P+"",i,s,S):r;F===r&&(F=D),Ou(i,P,F)}},vr)}function z1(i,s,d,m,S,D,P){var F=il(i,d),q=il(s,d),et=P.get(q);if(et){Ou(i,d,et);return}var rt=D?D(F,q,d+"",i,s,P):r,st=rt===r;if(st){var ht=Nt(q),wt=!ht&&Ln(q),Bt=!ht&&!wt&&Na(q);rt=q,ht||wt||Bt?Nt(F)?rt=F:Ie(F)?rt=cr(F):wt?(st=!1,rt=Pd(q,!0)):Bt?(st=!1,rt=Ad(q,!0)):rt=[]:Ti(q)||oa(q)?(rt=F,oa(F)?rt=Iv(F):(!Ee(F)||_n(F))&&(rt=Jd(q))):st=!1}st&&(P.set(q,rt),S(rt,q,m,D,P),P.delete(q)),Ou(i,d,rt)}function wd(i,s){var d=i.length;if(!!d)return s+=s<0?d:0,yn(s,d)?i[s]:r}function Cd(i,s,d){s.length?s=we(s,function(D){return Nt(D)?function(P){return na(P,D.length===1?D[0]:D)}:D}):s=[pr];var m=-1;s=we(s,br(It()));var S=_d(i,function(D,P,F){var q=we(s,function(et){return et(D)});return{criteria:q,index:++m,value:D}});return lm(S,function(D,P){return K1(D,P,d)})}function L1(i,s){return Ed(i,s,function(d,m){return pl(i,m)})}function Ed(i,s,d){for(var m=-1,S=s.length,D={};++m<S;){var P=s[m],F=na(i,P);d(F,P)&&Ci(D,An(P,i),F)}return D}function F1(i){return function(s){return na(s,i)}}function qu(i,s,d,m){var S=m?um:Ia,D=-1,P=s.length,F=i;for(i===s&&(s=cr(s)),d&&(F=we(i,br(d)));++D<P;)for(var q=0,et=s[D],rt=d?d(et):et;(q=S(F,rt,q,m))>-1;)F!==i&&Io.call(F,q,1),Io.call(i,q,1);return i}function Md(i,s){for(var d=i?s.length:0,m=d-1;d--;){var S=s[d];if(d==m||S!==D){var D=S;yn(S)?Io.call(i,S,1):Hu(i,S)}}return i}function Nu(i,s){return i+Po(od()*(s-i+1))}function G1(i,s,d,m){for(var S=-1,D=qe(Bo((s-i)/(d||1)),0),P=K(D);D--;)P[m?D:++S]=i,i+=d;return P}function Wu(i,s){var d="";if(!i||s<1||s>ot)return d;do s%2&&(d+=i),s=Po(s/2),s&&(i+=i);while(s);return d}function Qt(i,s){return ol(rv(i,s,pr),i+"")}function $1(i){return ld(Wa(i))}function q1(i,s){var d=Wa(i);return Zo(d,ra(s,0,d.length))}function Ci(i,s,d,m){if(!Ee(i))return i;s=An(s,i);for(var S=-1,D=s.length,P=D-1,F=i;F!=null&&++S<D;){var q=on(s[S]),et=d;if(q==="__proto__"||q==="constructor"||q==="prototype")return i;if(S!=P){var rt=F[q];et=m?m(rt,q,F):r,et===r&&(et=Ee(rt)?rt:yn(s[S+1])?[]:{})}_i(F,q,et),F=F[q]}return i}var Dd=Ao?function(i,s){return Ao.set(i,s),i}:pr,N1=Oo?function(i,s){return Oo(i,"toString",{configurable:!0,enumerable:!1,value:gl(s),writable:!0})}:pr;function W1(i){return Zo(Wa(i))}function Rr(i,s,d){var m=-1,S=i.length;s<0&&(s=-s>S?0:S+s),d=d>S?S:d,d<0&&(d+=S),S=s>d?0:d-s>>>0,s>>>=0;for(var D=K(S);++m<S;)D[m]=i[m+s];return D}function V1(i,s){var d;return Bn(i,function(m,S,D){return d=s(m,S,D),!d}),!!d}function No(i,s,d){var m=0,S=i==null?m:i.length;if(typeof s=="number"&&s===s&&S<=Ct){for(;m<S;){var D=m+S>>>1,P=i[D];P!==null&&!_r(P)&&(d?P<=s:P<s)?m=D+1:S=D}return S}return Vu(i,s,pr,d)}function Vu(i,s,d,m){var S=0,D=i==null?0:i.length;if(D===0)return 0;s=d(s);for(var P=s!==s,F=s===null,q=_r(s),et=s===r;S<D;){var rt=Po((S+D)/2),st=d(i[rt]),ht=st!==r,wt=st===null,Bt=st===st,Ut=_r(st);if(P)var Pt=m||Bt;else et?Pt=Bt&&(m||ht):F?Pt=Bt&&ht&&(m||!wt):q?Pt=Bt&&ht&&!wt&&(m||!Ut):wt||Ut?Pt=!1:Pt=m?st<=s:st<s;Pt?S=rt+1:D=rt}return Qe(D,_t)}function Td(i,s){for(var d=-1,m=i.length,S=0,D=[];++d<m;){var P=i[d],F=s?s(P):P;if(!d||!Yr(F,q)){var q=F;D[S++]=P===0?0:P}}return D}function Rd(i){return typeof i=="number"?i:_r(i)?Q:+i}function yr(i){if(typeof i=="string")return i;if(Nt(i))return we(i,yr)+"";if(_r(i))return sd?sd.call(i):"";var s=i+"";return s=="0"&&1/i==-J?"-0":s}function Pn(i,s,d){var m=-1,S=So,D=i.length,P=!0,F=[],q=F;if(d)P=!1,S=yu;else if(D>=a){var et=s?null:eb(i);if(et)return wo(et);P=!1,S=pi,q=new ea}else q=s?[]:F;t:for(;++m<D;){var rt=i[m],st=s?s(rt):rt;if(rt=d||rt!==0?rt:0,P&&st===st){for(var ht=q.length;ht--;)if(q[ht]===st)continue t;s&&q.push(st),F.push(rt)}else S(q,st,d)||(q!==F&&q.push(st),F.push(rt))}return F}function Hu(i,s){return s=An(s,i),i=nv(i,s),i==null||delete i[on(kr(s))]}function kd(i,s,d,m){return Ci(i,s,d(na(i,s)),m)}function Wo(i,s,d,m){for(var S=i.length,D=m?S:-1;(m?D--:++D<S)&&s(i[D],D,i););return d?Rr(i,m?0:D,m?D+1:S):Rr(i,m?D+1:0,m?S:D)}function Id(i,s){var d=i;return d instanceof ie&&(d=d.value()),_u(s,function(m,S){return S.func.apply(S.thisArg,kn([m],S.args))},d)}function Yu(i,s,d){var m=i.length;if(m<2)return m?Pn(i[0]):[];for(var S=-1,D=K(m);++S<m;)for(var P=i[S],F=-1;++F<m;)F!=S&&(D[S]=Si(D[S]||P,i[F],s,d));return Pn(Ue(D,1),s,d)}function Od(i,s,d){for(var m=-1,S=i.length,D=s.length,P={};++m<S;){var F=m<D?s[m]:r;d(P,i[m],F)}return P}function Xu(i){return Ie(i)?i:[]}function Uu(i){return typeof i=="function"?i:pr}function An(i,s){return Nt(i)?i:nl(i,s)?[i]:sv(pe(i))}var H1=Qt;function zn(i,s,d){var m=i.length;return d=d===r?m:d,!s&&d>=m?i:Rr(i,s,d)}var Bd=Om||function(i){return Xe.clearTimeout(i)};function Pd(i,s){if(s)return i.slice();var d=i.length,m=ed?ed(d):new i.constructor(d);return i.copy(m),m}function Ku(i){var s=new i.constructor(i.byteLength);return new Ro(s).set(new Ro(i)),s}function Y1(i,s){var d=s?Ku(i.buffer):i.buffer;return new i.constructor(d,i.byteOffset,i.byteLength)}function X1(i){var s=new i.constructor(i.source,Dn.exec(i));return s.lastIndex=i.lastIndex,s}function U1(i){return yi?be(yi.call(i)):{}}function Ad(i,s){var d=s?Ku(i.buffer):i.buffer;return new i.constructor(d,i.byteOffset,i.length)}function zd(i,s){if(i!==s){var d=i!==r,m=i===null,S=i===i,D=_r(i),P=s!==r,F=s===null,q=s===s,et=_r(s);if(!F&&!et&&!D&&i>s||D&&P&&q&&!F&&!et||m&&P&&q||!d&&q||!S)return 1;if(!m&&!D&&!et&&i<s||et&&d&&S&&!m&&!D||F&&d&&S||!P&&S||!q)return-1}return 0}function K1(i,s,d){for(var m=-1,S=i.criteria,D=s.criteria,P=S.length,F=d.length;++m<P;){var q=zd(S[m],D[m]);if(q){if(m>=F)return q;var et=d[m];return q*(et=="desc"?-1:1)}}return i.index-s.index}function Ld(i,s,d,m){for(var S=-1,D=i.length,P=d.length,F=-1,q=s.length,et=qe(D-P,0),rt=K(q+et),st=!m;++F<q;)rt[F]=s[F];for(;++S<P;)(st||S<D)&&(rt[d[S]]=i[S]);for(;et--;)rt[F++]=i[S++];return rt}function Fd(i,s,d,m){for(var S=-1,D=i.length,P=-1,F=d.length,q=-1,et=s.length,rt=qe(D-F,0),st=K(rt+et),ht=!m;++S<rt;)st[S]=i[S];for(var wt=S;++q<et;)st[wt+q]=s[q];for(;++P<F;)(ht||S<D)&&(st[wt+d[P]]=i[S++]);return st}function cr(i,s){var d=-1,m=i.length;for(s||(s=K(m));++d<m;)s[d]=i[d];return s}function an(i,s,d,m){var S=!d;d||(d={});for(var D=-1,P=s.length;++D<P;){var F=s[D],q=m?m(d[F],i[F],F,d,i):r;q===r&&(q=i[F]),S?gn(d,F,q):_i(d,F,q)}return d}function j1(i,s){return an(i,rl(i),s)}function Z1(i,s){return an(i,Zd(i),s)}function Vo(i,s){return function(d,m){var S=Nt(d)?rm:y1,D=s?s():{};return S(d,i,It(m,2),D)}}function Ga(i){return Qt(function(s,d){var m=-1,S=d.length,D=S>1?d[S-1]:r,P=S>2?d[2]:r;for(D=i.length>3&&typeof D=="function"?(S--,D):r,P&&rr(d[0],d[1],P)&&(D=S<3?r:D,S=1),s=be(s);++m<S;){var F=d[m];F&&i(s,F,m,D)}return s})}function Gd(i,s){return function(d,m){if(d==null)return d;if(!dr(d))return i(d,m);for(var S=d.length,D=s?S:-1,P=be(d);(s?D--:++D<S)&&m(P[D],D,P)!==!1;);return d}}function $d(i){return function(s,d,m){for(var S=-1,D=be(s),P=m(s),F=P.length;F--;){var q=P[i?F:++S];if(d(D[q],q,D)===!1)break}return s}}function Q1(i,s,d){var m=s&_,S=Ei(i);function D(){var P=this&&this!==Xe&&this instanceof D?S:i;return P.apply(m?d:this,arguments)}return D}function qd(i){return function(s){s=pe(s);var d=Oa(s)?Vr(s):r,m=d?d[0]:s.charAt(0),S=d?zn(d,1).join(""):s.slice(1);return m[i]()+S}}function $a(i){return function(s){return _u(Gv(Fv(s).replace(N0,"")),i,"")}}function Ei(i){return function(){var s=arguments;switch(s.length){case 0:return new i;case 1:return new i(s[0]);case 2:return new i(s[0],s[1]);case 3:return new i(s[0],s[1],s[2]);case 4:return new i(s[0],s[1],s[2],s[3]);case 5:return new i(s[0],s[1],s[2],s[3],s[4]);case 6:return new i(s[0],s[1],s[2],s[3],s[4],s[5]);case 7:return new i(s[0],s[1],s[2],s[3],s[4],s[5],s[6])}var d=Fa(i.prototype),m=i.apply(d,s);return Ee(m)?m:d}}function J1(i,s,d){var m=Ei(i);function S(){for(var D=arguments.length,P=K(D),F=D,q=qa(S);F--;)P[F]=arguments[F];var et=D<3&&P[0]!==q&&P[D-1]!==q?[]:In(P,q);if(D-=et.length,D<d)return Yd(i,s,Ho,S.placeholder,r,P,et,r,r,d-D);var rt=this&&this!==Xe&&this instanceof S?m:i;return mr(rt,this,P)}return S}function Nd(i){return function(s,d,m){var S=be(s);if(!dr(s)){var D=It(d,3);s=Ne(s),d=function(F){return D(S[F],F,S)}}var P=i(s,d,m);return P>-1?S[D?s[P]:P]:r}}function Wd(i){return bn(function(s){var d=s.length,m=d,S=Dr.prototype.thru;for(i&&s.reverse();m--;){var D=s[m];if(typeof D!="function")throw new Mr(u);if(S&&!P&&Ko(D)=="wrapper")var P=new Dr([],!0)}for(m=P?m:d;++m<d;){D=s[m];var F=Ko(D),q=F=="wrapper"?tl(D):r;q&&al(q[0])&&q[1]==(k|w|I|O)&&!q[4].length&&q[9]==1?P=P[Ko(q[0])].apply(P,q[3]):P=D.length==1&&al(D)?P[F]():P.thru(D)}return function(){var et=arguments,rt=et[0];if(P&&et.length==1&&Nt(rt))return P.plant(rt).value();for(var st=0,ht=d?s[st].apply(this,et):rt;++st<d;)ht=s[st].call(this,ht);return ht}})}function Ho(i,s,d,m,S,D,P,F,q,et){var rt=s&k,st=s&_,ht=s&x,wt=s&(w|C),Bt=s&B,Ut=ht?r:Ei(i);function Pt(){for(var ee=arguments.length,se=K(ee),Sr=ee;Sr--;)se[Sr]=arguments[Sr];if(wt)var nr=qa(Pt),xr=cm(se,nr);if(m&&(se=Ld(se,m,S,wt)),D&&(se=Fd(se,D,P,wt)),ee-=xr,wt&&ee<et){var Oe=In(se,nr);return Yd(i,s,Ho,Pt.placeholder,d,se,Oe,F,q,et-ee)}var Xr=st?d:this,xn=ht?Xr[i]:i;return ee=se.length,F?se=yb(se,F):Bt&&ee>1&&se.reverse(),rt&&q<ee&&(se.length=q),this&&this!==Xe&&this instanceof Pt&&(xn=Ut||Ei(xn)),xn.apply(Xr,se)}return Pt}function Vd(i,s){return function(d,m){return D1(d,i,s(m),{})}}function Yo(i,s){return function(d,m){var S;if(d===r&&m===r)return s;if(d!==r&&(S=d),m!==r){if(S===r)return m;typeof d=="string"||typeof m=="string"?(d=yr(d),m=yr(m)):(d=Rd(d),m=Rd(m)),S=i(d,m)}return S}}function ju(i){return bn(function(s){return s=we(s,br(It())),Qt(function(d){var m=this;return i(s,function(S){return mr(S,m,d)})})})}function Xo(i,s){s=s===r?" ":yr(s);var d=s.length;if(d<2)return d?Wu(s,i):s;var m=Wu(s,Bo(i/Ba(s)));return Oa(s)?zn(Vr(m),0,i).join(""):m.slice(0,i)}function tb(i,s,d,m){var S=s&_,D=Ei(i);function P(){for(var F=-1,q=arguments.length,et=-1,rt=m.length,st=K(rt+q),ht=this&&this!==Xe&&this instanceof P?D:i;++et<rt;)st[et]=m[et];for(;q--;)st[et++]=arguments[++F];return mr(ht,S?d:this,st)}return P}function Hd(i){return function(s,d,m){return m&&typeof m!="number"&&rr(s,d,m)&&(d=m=r),s=Sn(s),d===r?(d=s,s=0):d=Sn(d),m=m===r?s<d?1:-1:Sn(m),G1(s,d,m,i)}}function Uo(i){return function(s,d){return typeof s=="string"&&typeof d=="string"||(s=Ir(s),d=Ir(d)),i(s,d)}}function Yd(i,s,d,m,S,D,P,F,q,et){var rt=s&w,st=rt?P:r,ht=rt?r:P,wt=rt?D:r,Bt=rt?r:D;s|=rt?I:R,s&=~(rt?R:I),s&E||(s&=~(_|x));var Ut=[i,s,S,wt,st,Bt,ht,F,q,et],Pt=d.apply(r,Ut);return al(i)&&av(Pt,Ut),Pt.placeholder=m,iv(Pt,i,s)}function Zu(i){var s=$e[i];return function(d,m){if(d=Ir(d),m=m==null?0:Qe(Xt(m),292),m&&id(d)){var S=(pe(d)+"e").split("e"),D=s(S[0]+"e"+(+S[1]+m));return S=(pe(D)+"e").split("e"),+(S[0]+"e"+(+S[1]-m))}return s(d)}}var eb=za&&1/wo(new za([,-0]))[1]==J?function(i){return new za(i)}:yl;function Xd(i){return function(s){var d=Je(s);return d==dt?Du(s):d==ge?bm(s):fm(s,i(s))}}function mn(i,s,d,m,S,D,P,F){var q=s&x;if(!q&&typeof i!="function")throw new Mr(u);var et=m?m.length:0;if(et||(s&=~(I|R),m=S=r),P=P===r?P:qe(Xt(P),0),F=F===r?F:Xt(F),et-=S?S.length:0,s&R){var rt=m,st=S;m=S=r}var ht=q?r:tl(i),wt=[i,s,d,m,S,rt,st,D,P,F];if(ht&&gb(wt,ht),i=wt[0],s=wt[1],d=wt[2],m=wt[3],S=wt[4],F=wt[9]=wt[9]===r?q?0:i.length:qe(wt[9]-et,0),!F&&s&(w|C)&&(s&=~(w|C)),!s||s==_)var Bt=Q1(i,s,d);else s==w||s==C?Bt=J1(i,s,F):(s==I||s==(_|I))&&!S.length?Bt=tb(i,s,d,m):Bt=Ho.apply(r,wt);var Ut=ht?Dd:av;return iv(Ut(Bt,wt),i,s)}function Ud(i,s,d,m){return i===r||Yr(i,Aa[d])&&!he.call(m,d)?s:i}function Kd(i,s,d,m,S,D){return Ee(i)&&Ee(s)&&(D.set(s,i),qo(i,s,r,Kd,D),D.delete(s)),i}function rb(i){return Ti(i)?r:i}function jd(i,s,d,m,S,D){var P=d&b,F=i.length,q=s.length;if(F!=q&&!(P&&q>F))return!1;var et=D.get(i),rt=D.get(s);if(et&&rt)return et==s&&rt==i;var st=-1,ht=!0,wt=d&y?new ea:r;for(D.set(i,s),D.set(s,i);++st<F;){var Bt=i[st],Ut=s[st];if(m)var Pt=P?m(Ut,Bt,st,s,i,D):m(Bt,Ut,st,i,s,D);if(Pt!==r){if(Pt)continue;ht=!1;break}if(wt){if(!Su(s,function(ee,se){if(!pi(wt,se)&&(Bt===ee||S(Bt,ee,d,m,D)))return wt.push(se)})){ht=!1;break}}else if(!(Bt===Ut||S(Bt,Ut,d,m,D))){ht=!1;break}}return D.delete(i),D.delete(s),ht}function nb(i,s,d,m,S,D,P){switch(d){case Vt:if(i.byteLength!=s.byteLength||i.byteOffset!=s.byteOffset)return!1;i=i.buffer,s=s.buffer;case ne:return!(i.byteLength!=s.byteLength||!D(new Ro(i),new Ro(s)));case Et:case T:case Mt:return Yr(+i,+s);case U:return i.name==s.name&&i.message==s.message;case fe:case Fe:return i==s+"";case dt:var F=Du;case ge:var q=m&b;if(F||(F=wo),i.size!=s.size&&!q)return!1;var et=P.get(i);if(et)return et==s;m|=y,P.set(i,s);var rt=jd(F(i),F(s),m,S,D,P);return P.delete(i),rt;case nt:if(yi)return yi.call(i)==yi.call(s)}return!1}function ab(i,s,d,m,S,D){var P=d&b,F=Qu(i),q=F.length,et=Qu(s),rt=et.length;if(q!=rt&&!P)return!1;for(var st=q;st--;){var ht=F[st];if(!(P?ht in s:he.call(s,ht)))return!1}var wt=D.get(i),Bt=D.get(s);if(wt&&Bt)return wt==s&&Bt==i;var Ut=!0;D.set(i,s),D.set(s,i);for(var Pt=P;++st<q;){ht=F[st];var ee=i[ht],se=s[ht];if(m)var Sr=P?m(se,ee,ht,s,i,D):m(ee,se,ht,i,s,D);if(!(Sr===r?ee===se||S(ee,se,d,m,D):Sr)){Ut=!1;break}Pt||(Pt=ht=="constructor")}if(Ut&&!Pt){var nr=i.constructor,xr=s.constructor;nr!=xr&&"constructor"in i&&"constructor"in s&&!(typeof nr=="function"&&nr instanceof nr&&typeof xr=="function"&&xr instanceof xr)&&(Ut=!1)}return D.delete(i),D.delete(s),Ut}function bn(i){return ol(rv(i,r,cv),i+"")}function Qu(i){return gd(i,Ne,rl)}function Ju(i){return gd(i,vr,Zd)}var tl=Ao?function(i){return Ao.get(i)}:yl;function Ko(i){for(var s=i.name+"",d=La[s],m=he.call(La,s)?d.length:0;m--;){var S=d[m],D=S.func;if(D==null||D==i)return S.name}return s}function qa(i){var s=he.call(M,"placeholder")?M:i;return s.placeholder}function It(){var i=M.iteratee||ml;return i=i===ml?yd:i,arguments.length?i(arguments[0],arguments[1]):i}function jo(i,s){var d=i.__data__;return db(s)?d[typeof s=="string"?"string":"hash"]:d.map}function el(i){for(var s=Ne(i),d=s.length;d--;){var m=s[d],S=i[m];s[d]=[m,S,tv(S)]}return s}function aa(i,s){var d=hm(i,s);return bd(d)?d:r}function ib(i){var s=he.call(i,Jn),d=i[Jn];try{i[Jn]=r;var m=!0}catch{}var S=Do.call(i);return m&&(s?i[Jn]=d:delete i[Jn]),S}var rl=Ru?function(i){return i==null?[]:(i=be(i),Rn(Ru(i),function(s){return nd.call(i,s)}))}:_l,Zd=Ru?function(i){for(var s=[];i;)kn(s,rl(i)),i=ko(i);return s}:_l,Je=er;(ku&&Je(new ku(new ArrayBuffer(1)))!=Vt||gi&&Je(new gi)!=dt||Iu&&Je(Iu.resolve())!=Jt||za&&Je(new za)!=ge||mi&&Je(new mi)!=Tt)&&(Je=function(i){var s=er(i),d=s==At?i.constructor:r,m=d?ia(d):"";if(m)switch(m){case qm:return Vt;case Nm:return dt;case Wm:return Jt;case Vm:return ge;case Hm:return Tt}return s});function ob(i,s,d){for(var m=-1,S=d.length;++m<S;){var D=d[m],P=D.size;switch(D.type){case"drop":i+=P;break;case"dropRight":s-=P;break;case"take":s=Qe(s,i+P);break;case"takeRight":i=qe(i,s-P);break}}return{start:i,end:s}}function sb(i){var s=i.match(vo);return s?s[1].split(po):[]}function Qd(i,s,d){s=An(s,i);for(var m=-1,S=s.length,D=!1;++m<S;){var P=on(s[m]);if(!(D=i!=null&&d(i,P)))break;i=i[P]}return D||++m!=S?D:(S=i==null?0:i.length,!!S&&ns(S)&&yn(P,S)&&(Nt(i)||oa(i)))}function ub(i){var s=i.length,d=new i.constructor(s);return s&&typeof i[0]=="string"&&he.call(i,"index")&&(d.index=i.index,d.input=i.input),d}function Jd(i){return typeof i.constructor=="function"&&!Mi(i)?Fa(ko(i)):{}}function lb(i,s,d){var m=i.constructor;switch(s){case ne:return Ku(i);case Et:case T:return new m(+i);case Vt:return Y1(i,d);case Lt:case ce:case Ge:case fr:case at:case $t:case te:case Yt:case me:return Ad(i,d);case dt:return new m;case Mt:case Fe:return new m(i);case fe:return X1(i);case ge:return new m;case nt:return U1(i)}}function fb(i,s){var d=s.length;if(!d)return i;var m=d-1;return s[m]=(d>1?"& ":"")+s[m],s=s.join(d>2?", ":" "),i.replace(co,`{
/* [wrapped with `+s+`] */
`)}function cb(i){return Nt(i)||oa(i)||!!(ad&&i&&i[ad])}function yn(i,s){var d=typeof i;return s=s==null?ot:s,!!s&&(d=="number"||d!="symbol"&&vi.test(i))&&i>-1&&i%1==0&&i<s}function rr(i,s,d){if(!Ee(d))return!1;var m=typeof s;return(m=="number"?dr(d)&&yn(s,d.length):m=="string"&&s in d)?Yr(d[s],i):!1}function nl(i,s){if(Nt(i))return!1;var d=typeof i;return d=="number"||d=="symbol"||d=="boolean"||i==null||_r(i)?!0:uo.test(i)||!Zn.test(i)||s!=null&&i in be(s)}function db(i){var s=typeof i;return s=="string"||s=="number"||s=="symbol"||s=="boolean"?i!=="__proto__":i===null}function al(i){var s=Ko(i),d=M[s];if(typeof d!="function"||!(s in ie.prototype))return!1;if(i===d)return!0;var m=tl(d);return!!m&&i===m[0]}function vb(i){return!!td&&td in i}var pb=Eo?_n:Sl;function Mi(i){var s=i&&i.constructor,d=typeof s=="function"&&s.prototype||Aa;return i===d}function tv(i){return i===i&&!Ee(i)}function ev(i,s){return function(d){return d==null?!1:d[i]===s&&(s!==r||i in be(d))}}function hb(i){var s=es(i,function(m){return d.size===f&&d.clear(),m}),d=s.cache;return s}function gb(i,s){var d=i[1],m=s[1],S=d|m,D=S<(_|x|k),P=m==k&&d==w||m==k&&d==O&&i[7].length<=s[8]||m==(k|O)&&s[7].length<=s[8]&&d==w;if(!(D||P))return i;m&_&&(i[2]=s[2],S|=d&_?0:E);var F=s[3];if(F){var q=i[3];i[3]=q?Ld(q,F,s[4]):F,i[4]=q?In(i[3],v):s[4]}return F=s[5],F&&(q=i[5],i[5]=q?Fd(q,F,s[6]):F,i[6]=q?In(i[5],v):s[6]),F=s[7],F&&(i[7]=F),m&k&&(i[8]=i[8]==null?s[8]:Qe(i[8],s[8])),i[9]==null&&(i[9]=s[9]),i[0]=s[0],i[1]=S,i}function mb(i){var s=[];if(i!=null)for(var d in be(i))s.push(d);return s}function bb(i){return Do.call(i)}function rv(i,s,d){return s=qe(s===r?i.length-1:s,0),function(){for(var m=arguments,S=-1,D=qe(m.length-s,0),P=K(D);++S<D;)P[S]=m[s+S];S=-1;for(var F=K(s+1);++S<s;)F[S]=m[S];return F[s]=d(P),mr(i,this,F)}}function nv(i,s){return s.length<2?i:na(i,Rr(s,0,-1))}function yb(i,s){for(var d=i.length,m=Qe(s.length,d),S=cr(i);m--;){var D=s[m];i[m]=yn(D,d)?S[D]:r}return i}function il(i,s){if(!(s==="constructor"&&typeof i[s]=="function")&&s!="__proto__")return i[s]}var av=ov(Dd),Di=Pm||function(i,s){return Xe.setTimeout(i,s)},ol=ov(N1);function iv(i,s,d){var m=s+"";return ol(i,fb(m,_b(sb(m),d)))}function ov(i){var s=0,d=0;return function(){var m=Fm(),S=z-(m-d);if(d=m,S>0){if(++s>=L)return arguments[0]}else s=0;return i.apply(r,arguments)}}function Zo(i,s){var d=-1,m=i.length,S=m-1;for(s=s===r?m:s;++d<s;){var D=Nu(d,S),P=i[D];i[D]=i[d],i[d]=P}return i.length=s,i}var sv=hb(function(i){var s=[];return i.charCodeAt(0)===46&&s.push(""),i.replace(Ca,function(d,m,S,D){s.push(S?D.replace(Da,"$1"):m||d)}),s});function on(i){if(typeof i=="string"||_r(i))return i;var s=i+"";return s=="0"&&1/i==-J?"-0":s}function ia(i){if(i!=null){try{return Mo.call(i)}catch{}try{return i+""}catch{}}return""}function _b(i,s){return Er(gt,function(d){var m="_."+d[0];s&d[1]&&!So(i,m)&&i.push(m)}),i.sort()}function uv(i){if(i instanceof ie)return i.clone();var s=new Dr(i.__wrapped__,i.__chain__);return s.__actions__=cr(i.__actions__),s.__index__=i.__index__,s.__values__=i.__values__,s}function Sb(i,s,d){(d?rr(i,s,d):s===r)?s=1:s=qe(Xt(s),0);var m=i==null?0:i.length;if(!m||s<1)return[];for(var S=0,D=0,P=K(Bo(m/s));S<m;)P[D++]=Rr(i,S,S+=s);return P}function xb(i){for(var s=-1,d=i==null?0:i.length,m=0,S=[];++s<d;){var D=i[s];D&&(S[m++]=D)}return S}function wb(){var i=arguments.length;if(!i)return[];for(var s=K(i-1),d=arguments[0],m=i;m--;)s[m-1]=arguments[m];return kn(Nt(d)?cr(d):[d],Ue(s,1))}var Cb=Qt(function(i,s){return Ie(i)?Si(i,Ue(s,1,Ie,!0)):[]}),Eb=Qt(function(i,s){var d=kr(s);return Ie(d)&&(d=r),Ie(i)?Si(i,Ue(s,1,Ie,!0),It(d,2)):[]}),Mb=Qt(function(i,s){var d=kr(s);return Ie(d)&&(d=r),Ie(i)?Si(i,Ue(s,1,Ie,!0),r,d):[]});function Db(i,s,d){var m=i==null?0:i.length;return m?(s=d||s===r?1:Xt(s),Rr(i,s<0?0:s,m)):[]}function Tb(i,s,d){var m=i==null?0:i.length;return m?(s=d||s===r?1:Xt(s),s=m-s,Rr(i,0,s<0?0:s)):[]}function Rb(i,s){return i&&i.length?Wo(i,It(s,3),!0,!0):[]}function kb(i,s){return i&&i.length?Wo(i,It(s,3),!0):[]}function Ib(i,s,d,m){var S=i==null?0:i.length;return S?(d&&typeof d!="number"&&rr(i,s,d)&&(d=0,m=S),w1(i,s,d,m)):[]}function lv(i,s,d){var m=i==null?0:i.length;if(!m)return-1;var S=d==null?0:Xt(d);return S<0&&(S=qe(m+S,0)),xo(i,It(s,3),S)}function fv(i,s,d){var m=i==null?0:i.length;if(!m)return-1;var S=m-1;return d!==r&&(S=Xt(d),S=d<0?qe(m+S,0):Qe(S,m-1)),xo(i,It(s,3),S,!0)}function cv(i){var s=i==null?0:i.length;return s?Ue(i,1):[]}function Ob(i){var s=i==null?0:i.length;return s?Ue(i,J):[]}function Bb(i,s){var d=i==null?0:i.length;return d?(s=s===r?1:Xt(s),Ue(i,s)):[]}function Pb(i){for(var s=-1,d=i==null?0:i.length,m={};++s<d;){var S=i[s];m[S[0]]=S[1]}return m}function dv(i){return i&&i.length?i[0]:r}function Ab(i,s,d){var m=i==null?0:i.length;if(!m)return-1;var S=d==null?0:Xt(d);return S<0&&(S=qe(m+S,0)),Ia(i,s,S)}function zb(i){var s=i==null?0:i.length;return s?Rr(i,0,-1):[]}var Lb=Qt(function(i){var s=we(i,Xu);return s.length&&s[0]===i[0]?Lu(s):[]}),Fb=Qt(function(i){var s=kr(i),d=we(i,Xu);return s===kr(d)?s=r:d.pop(),d.length&&d[0]===i[0]?Lu(d,It(s,2)):[]}),Gb=Qt(function(i){var s=kr(i),d=we(i,Xu);return s=typeof s=="function"?s:r,s&&d.pop(),d.length&&d[0]===i[0]?Lu(d,r,s):[]});function $b(i,s){return i==null?"":zm.call(i,s)}function kr(i){var s=i==null?0:i.length;return s?i[s-1]:r}function qb(i,s,d){var m=i==null?0:i.length;if(!m)return-1;var S=m;return d!==r&&(S=Xt(d),S=S<0?qe(m+S,0):Qe(S,m-1)),s===s?_m(i,s,S):xo(i,Yc,S,!0)}function Nb(i,s){return i&&i.length?wd(i,Xt(s)):r}var Wb=Qt(vv);function vv(i,s){return i&&i.length&&s&&s.length?qu(i,s):i}function Vb(i,s,d){return i&&i.length&&s&&s.length?qu(i,s,It(d,2)):i}function Hb(i,s,d){return i&&i.length&&s&&s.length?qu(i,s,r,d):i}var Yb=bn(function(i,s){var d=i==null?0:i.length,m=Bu(i,s);return Md(i,we(s,function(S){return yn(S,d)?+S:S}).sort(zd)),m});function Xb(i,s){var d=[];if(!(i&&i.length))return d;var m=-1,S=[],D=i.length;for(s=It(s,3);++m<D;){var P=i[m];s(P,m,i)&&(d.push(P),S.push(m))}return Md(i,S),d}function sl(i){return i==null?i:$m.call(i)}function Ub(i,s,d){var m=i==null?0:i.length;return m?(d&&typeof d!="number"&&rr(i,s,d)?(s=0,d=m):(s=s==null?0:Xt(s),d=d===r?m:Xt(d)),Rr(i,s,d)):[]}function Kb(i,s){return No(i,s)}function jb(i,s,d){return Vu(i,s,It(d,2))}function Zb(i,s){var d=i==null?0:i.length;if(d){var m=No(i,s);if(m<d&&Yr(i[m],s))return m}return-1}function Qb(i,s){return No(i,s,!0)}function Jb(i,s,d){return Vu(i,s,It(d,2),!0)}function ty(i,s){var d=i==null?0:i.length;if(d){var m=No(i,s,!0)-1;if(Yr(i[m],s))return m}return-1}function ey(i){return i&&i.length?Td(i):[]}function ry(i,s){return i&&i.length?Td(i,It(s,2)):[]}function ny(i){var s=i==null?0:i.length;return s?Rr(i,1,s):[]}function ay(i,s,d){return i&&i.length?(s=d||s===r?1:Xt(s),Rr(i,0,s<0?0:s)):[]}function iy(i,s,d){var m=i==null?0:i.length;return m?(s=d||s===r?1:Xt(s),s=m-s,Rr(i,s<0?0:s,m)):[]}function oy(i,s){return i&&i.length?Wo(i,It(s,3),!1,!0):[]}function sy(i,s){return i&&i.length?Wo(i,It(s,3)):[]}var uy=Qt(function(i){return Pn(Ue(i,1,Ie,!0))}),ly=Qt(function(i){var s=kr(i);return Ie(s)&&(s=r),Pn(Ue(i,1,Ie,!0),It(s,2))}),fy=Qt(function(i){var s=kr(i);return s=typeof s=="function"?s:r,Pn(Ue(i,1,Ie,!0),r,s)});function cy(i){return i&&i.length?Pn(i):[]}function dy(i,s){return i&&i.length?Pn(i,It(s,2)):[]}function vy(i,s){return s=typeof s=="function"?s:r,i&&i.length?Pn(i,r,s):[]}function ul(i){if(!(i&&i.length))return[];var s=0;return i=Rn(i,function(d){if(Ie(d))return s=qe(d.length,s),!0}),Eu(s,function(d){return we(i,xu(d))})}function pv(i,s){if(!(i&&i.length))return[];var d=ul(i);return s==null?d:we(d,function(m){return mr(s,r,m)})}var py=Qt(function(i,s){return Ie(i)?Si(i,s):[]}),hy=Qt(function(i){return Yu(Rn(i,Ie))}),gy=Qt(function(i){var s=kr(i);return Ie(s)&&(s=r),Yu(Rn(i,Ie),It(s,2))}),my=Qt(function(i){var s=kr(i);return s=typeof s=="function"?s:r,Yu(Rn(i,Ie),r,s)}),by=Qt(ul);function yy(i,s){return Od(i||[],s||[],_i)}function _y(i,s){return Od(i||[],s||[],Ci)}var Sy=Qt(function(i){var s=i.length,d=s>1?i[s-1]:r;return d=typeof d=="function"?(i.pop(),d):r,pv(i,d)});function hv(i){var s=M(i);return s.__chain__=!0,s}function xy(i,s){return s(i),i}function Qo(i,s){return s(i)}var wy=bn(function(i){var s=i.length,d=s?i[0]:0,m=this.__wrapped__,S=function(D){return Bu(D,i)};return s>1||this.__actions__.length||!(m instanceof ie)||!yn(d)?this.thru(S):(m=m.slice(d,+d+(s?1:0)),m.__actions__.push({func:Qo,args:[S],thisArg:r}),new Dr(m,this.__chain__).thru(function(D){return s&&!D.length&&D.push(r),D}))});function Cy(){return hv(this)}function Ey(){return new Dr(this.value(),this.__chain__)}function My(){this.__values__===r&&(this.__values__=Rv(this.value()));var i=this.__index__>=this.__values__.length,s=i?r:this.__values__[this.__index__++];return{done:i,value:s}}function Dy(){return this}function Ty(i){for(var s,d=this;d instanceof Lo;){var m=uv(d);m.__index__=0,m.__values__=r,s?S.__wrapped__=m:s=m;var S=m;d=d.__wrapped__}return S.__wrapped__=i,s}function Ry(){var i=this.__wrapped__;if(i instanceof ie){var s=i;return this.__actions__.length&&(s=new ie(this)),s=s.reverse(),s.__actions__.push({func:Qo,args:[sl],thisArg:r}),new Dr(s,this.__chain__)}return this.thru(sl)}function ky(){return Id(this.__wrapped__,this.__actions__)}var Iy=Vo(function(i,s,d){he.call(i,d)?++i[d]:gn(i,d,1)});function Oy(i,s,d){var m=Nt(i)?Vc:x1;return d&&rr(i,s,d)&&(s=r),m(i,It(s,3))}function By(i,s){var d=Nt(i)?Rn:pd;return d(i,It(s,3))}var Py=Nd(lv),Ay=Nd(fv);function zy(i,s){return Ue(Jo(i,s),1)}function Ly(i,s){return Ue(Jo(i,s),J)}function Fy(i,s,d){return d=d===r?1:Xt(d),Ue(Jo(i,s),d)}function gv(i,s){var d=Nt(i)?Er:Bn;return d(i,It(s,3))}function mv(i,s){var d=Nt(i)?nm:vd;return d(i,It(s,3))}var Gy=Vo(function(i,s,d){he.call(i,d)?i[d].push(s):gn(i,d,[s])});function $y(i,s,d,m){i=dr(i)?i:Wa(i),d=d&&!m?Xt(d):0;var S=i.length;return d<0&&(d=qe(S+d,0)),as(i)?d<=S&&i.indexOf(s,d)>-1:!!S&&Ia(i,s,d)>-1}var qy=Qt(function(i,s,d){var m=-1,S=typeof s=="function",D=dr(i)?K(i.length):[];return Bn(i,function(P){D[++m]=S?mr(s,P,d):xi(P,s,d)}),D}),Ny=Vo(function(i,s,d){gn(i,d,s)});function Jo(i,s){var d=Nt(i)?we:_d;return d(i,It(s,3))}function Wy(i,s,d,m){return i==null?[]:(Nt(s)||(s=s==null?[]:[s]),d=m?r:d,Nt(d)||(d=d==null?[]:[d]),Cd(i,s,d))}var Vy=Vo(function(i,s,d){i[d?0:1].push(s)},function(){return[[],[]]});function Hy(i,s,d){var m=Nt(i)?_u:Uc,S=arguments.length<3;return m(i,It(s,4),d,S,Bn)}function Yy(i,s,d){var m=Nt(i)?am:Uc,S=arguments.length<3;return m(i,It(s,4),d,S,vd)}function Xy(i,s){var d=Nt(i)?Rn:pd;return d(i,rs(It(s,3)))}function Uy(i){var s=Nt(i)?ld:$1;return s(i)}function Ky(i,s,d){(d?rr(i,s,d):s===r)?s=1:s=Xt(s);var m=Nt(i)?m1:q1;return m(i,s)}function jy(i){var s=Nt(i)?b1:W1;return s(i)}function Zy(i){if(i==null)return 0;if(dr(i))return as(i)?Ba(i):i.length;var s=Je(i);return s==dt||s==ge?i.size:Gu(i).length}function Qy(i,s,d){var m=Nt(i)?Su:V1;return d&&rr(i,s,d)&&(s=r),m(i,It(s,3))}var Jy=Qt(function(i,s){if(i==null)return[];var d=s.length;return d>1&&rr(i,s[0],s[1])?s=[]:d>2&&rr(s[0],s[1],s[2])&&(s=[s[0]]),Cd(i,Ue(s,1),[])}),ts=Bm||function(){return Xe.Date.now()};function t_(i,s){if(typeof s!="function")throw new Mr(u);return i=Xt(i),function(){if(--i<1)return s.apply(this,arguments)}}function bv(i,s,d){return s=d?r:s,s=i&&s==null?i.length:s,mn(i,k,r,r,r,r,s)}function yv(i,s){var d;if(typeof s!="function")throw new Mr(u);return i=Xt(i),function(){return--i>0&&(d=s.apply(this,arguments)),i<=1&&(s=r),d}}var ll=Qt(function(i,s,d){var m=_;if(d.length){var S=In(d,qa(ll));m|=I}return mn(i,m,s,d,S)}),_v=Qt(function(i,s,d){var m=_|x;if(d.length){var S=In(d,qa(_v));m|=I}return mn(s,m,i,d,S)});function Sv(i,s,d){s=d?r:s;var m=mn(i,w,r,r,r,r,r,s);return m.placeholder=Sv.placeholder,m}function xv(i,s,d){s=d?r:s;var m=mn(i,C,r,r,r,r,r,s);return m.placeholder=xv.placeholder,m}function wv(i,s,d){var m,S,D,P,F,q,et=0,rt=!1,st=!1,ht=!0;if(typeof i!="function")throw new Mr(u);s=Ir(s)||0,Ee(d)&&(rt=!!d.leading,st="maxWait"in d,D=st?qe(Ir(d.maxWait)||0,s):D,ht="trailing"in d?!!d.trailing:ht);function wt(Oe){var Xr=m,xn=S;return m=S=r,et=Oe,P=i.apply(xn,Xr),P}function Bt(Oe){return et=Oe,F=Di(ee,s),rt?wt(Oe):P}function Ut(Oe){var Xr=Oe-q,xn=Oe-et,Nv=s-Xr;return st?Qe(Nv,D-xn):Nv}function Pt(Oe){var Xr=Oe-q,xn=Oe-et;return q===r||Xr>=s||Xr<0||st&&xn>=D}function ee(){var Oe=ts();if(Pt(Oe))return se(Oe);F=Di(ee,Ut(Oe))}function se(Oe){return F=r,ht&&m?wt(Oe):(m=S=r,P)}function Sr(){F!==r&&Bd(F),et=0,m=q=S=F=r}function nr(){return F===r?P:se(ts())}function xr(){var Oe=ts(),Xr=Pt(Oe);if(m=arguments,S=this,q=Oe,Xr){if(F===r)return Bt(q);if(st)return Bd(F),F=Di(ee,s),wt(q)}return F===r&&(F=Di(ee,s)),P}return xr.cancel=Sr,xr.flush=nr,xr}var e_=Qt(function(i,s){return dd(i,1,s)}),r_=Qt(function(i,s,d){return dd(i,Ir(s)||0,d)});function n_(i){return mn(i,B)}function es(i,s){if(typeof i!="function"||s!=null&&typeof s!="function")throw new Mr(u);var d=function(){var m=arguments,S=s?s.apply(this,m):m[0],D=d.cache;if(D.has(S))return D.get(S);var P=i.apply(this,m);return d.cache=D.set(S,P)||D,P};return d.cache=new(es.Cache||hn),d}es.Cache=hn;function rs(i){if(typeof i!="function")throw new Mr(u);return function(){var s=arguments;switch(s.length){case 0:return!i.call(this);case 1:return!i.call(this,s[0]);case 2:return!i.call(this,s[0],s[1]);case 3:return!i.call(this,s[0],s[1],s[2])}return!i.apply(this,s)}}function a_(i){return yv(2,i)}var i_=H1(function(i,s){s=s.length==1&&Nt(s[0])?we(s[0],br(It())):we(Ue(s,1),br(It()));var d=s.length;return Qt(function(m){for(var S=-1,D=Qe(m.length,d);++S<D;)m[S]=s[S].call(this,m[S]);return mr(i,this,m)})}),fl=Qt(function(i,s){var d=In(s,qa(fl));return mn(i,I,r,s,d)}),Cv=Qt(function(i,s){var d=In(s,qa(Cv));return mn(i,R,r,s,d)}),o_=bn(function(i,s){return mn(i,O,r,r,r,s)});function s_(i,s){if(typeof i!="function")throw new Mr(u);return s=s===r?s:Xt(s),Qt(i,s)}function u_(i,s){if(typeof i!="function")throw new Mr(u);return s=s==null?0:qe(Xt(s),0),Qt(function(d){var m=d[s],S=zn(d,0,s);return m&&kn(S,m),mr(i,this,S)})}function l_(i,s,d){var m=!0,S=!0;if(typeof i!="function")throw new Mr(u);return Ee(d)&&(m="leading"in d?!!d.leading:m,S="trailing"in d?!!d.trailing:S),wv(i,s,{leading:m,maxWait:s,trailing:S})}function f_(i){return bv(i,1)}function c_(i,s){return fl(Uu(s),i)}function d_(){if(!arguments.length)return[];var i=arguments[0];return Nt(i)?i:[i]}function v_(i){return Tr(i,g)}function p_(i,s){return s=typeof s=="function"?s:r,Tr(i,g,s)}function h_(i){return Tr(i,h|g)}function g_(i,s){return s=typeof s=="function"?s:r,Tr(i,h|g,s)}function m_(i,s){return s==null||cd(i,s,Ne(s))}function Yr(i,s){return i===s||i!==i&&s!==s}var b_=Uo(zu),y_=Uo(function(i,s){return i>=s}),oa=md(function(){return arguments}())?md:function(i){return Te(i)&&he.call(i,"callee")&&!nd.call(i,"callee")},Nt=K.isArray,__=Fc?br(Fc):T1;function dr(i){return i!=null&&ns(i.length)&&!_n(i)}function Ie(i){return Te(i)&&dr(i)}function S_(i){return i===!0||i===!1||Te(i)&&er(i)==Et}var Ln=Am||Sl,x_=Gc?br(Gc):R1;function w_(i){return Te(i)&&i.nodeType===1&&!Ti(i)}function C_(i){if(i==null)return!0;if(dr(i)&&(Nt(i)||typeof i=="string"||typeof i.splice=="function"||Ln(i)||Na(i)||oa(i)))return!i.length;var s=Je(i);if(s==dt||s==ge)return!i.size;if(Mi(i))return!Gu(i).length;for(var d in i)if(he.call(i,d))return!1;return!0}function E_(i,s){return wi(i,s)}function M_(i,s,d){d=typeof d=="function"?d:r;var m=d?d(i,s):r;return m===r?wi(i,s,r,d):!!m}function cl(i){if(!Te(i))return!1;var s=er(i);return s==U||s==G||typeof i.message=="string"&&typeof i.name=="string"&&!Ti(i)}function D_(i){return typeof i=="number"&&id(i)}function _n(i){if(!Ee(i))return!1;var s=er(i);return s==ut||s==pt||s==Dt||s==Wt}function Ev(i){return typeof i=="number"&&i==Xt(i)}function ns(i){return typeof i=="number"&&i>-1&&i%1==0&&i<=ot}function Ee(i){var s=typeof i;return i!=null&&(s=="object"||s=="function")}function Te(i){return i!=null&&typeof i=="object"}var Mv=$c?br($c):I1;function T_(i,s){return i===s||Fu(i,s,el(s))}function R_(i,s,d){return d=typeof d=="function"?d:r,Fu(i,s,el(s),d)}function k_(i){return Dv(i)&&i!=+i}function I_(i){if(pb(i))throw new qt(o);return bd(i)}function O_(i){return i===null}function B_(i){return i==null}function Dv(i){return typeof i=="number"||Te(i)&&er(i)==Mt}function Ti(i){if(!Te(i)||er(i)!=At)return!1;var s=ko(i);if(s===null)return!0;var d=he.call(s,"constructor")&&s.constructor;return typeof d=="function"&&d instanceof d&&Mo.call(d)==Rm}var dl=qc?br(qc):O1;function P_(i){return Ev(i)&&i>=-ot&&i<=ot}var Tv=Nc?br(Nc):B1;function as(i){return typeof i=="string"||!Nt(i)&&Te(i)&&er(i)==Fe}function _r(i){return typeof i=="symbol"||Te(i)&&er(i)==nt}var Na=Wc?br(Wc):P1;function A_(i){return i===r}function z_(i){return Te(i)&&Je(i)==Tt}function L_(i){return Te(i)&&er(i)==oe}var F_=Uo($u),G_=Uo(function(i,s){return i<=s});function Rv(i){if(!i)return[];if(dr(i))return as(i)?Vr(i):cr(i);if(hi&&i[hi])return mm(i[hi]());var s=Je(i),d=s==dt?Du:s==ge?wo:Wa;return d(i)}function Sn(i){if(!i)return i===0?i:0;if(i=Ir(i),i===J||i===-J){var s=i<0?-1:1;return s*X}return i===i?i:0}function Xt(i){var s=Sn(i),d=s%1;return s===s?d?s-d:s:0}function kv(i){return i?ra(Xt(i),0,lt):0}function Ir(i){if(typeof i=="number")return i;if(_r(i))return Q;if(Ee(i)){var s=typeof i.valueOf=="function"?i.valueOf():i;i=Ee(s)?s+"":s}if(typeof i!="string")return i===0?i:+i;i=Kc(i);var d=Ra.test(i);return d||mo.test(i)?tm(i.slice(2),d?2:8):Ta.test(i)?Q:+i}function Iv(i){return an(i,vr(i))}function $_(i){return i?ra(Xt(i),-ot,ot):i===0?i:0}function pe(i){return i==null?"":yr(i)}var q_=Ga(function(i,s){if(Mi(s)||dr(s)){an(s,Ne(s),i);return}for(var d in s)he.call(s,d)&&_i(i,d,s[d])}),Ov=Ga(function(i,s){an(s,vr(s),i)}),is=Ga(function(i,s,d,m){an(s,vr(s),i,m)}),N_=Ga(function(i,s,d,m){an(s,Ne(s),i,m)}),W_=bn(Bu);function V_(i,s){var d=Fa(i);return s==null?d:fd(d,s)}var H_=Qt(function(i,s){i=be(i);var d=-1,m=s.length,S=m>2?s[2]:r;for(S&&rr(s[0],s[1],S)&&(m=1);++d<m;)for(var D=s[d],P=vr(D),F=-1,q=P.length;++F<q;){var et=P[F],rt=i[et];(rt===r||Yr(rt,Aa[et])&&!he.call(i,et))&&(i[et]=D[et])}return i}),Y_=Qt(function(i){return i.push(r,Kd),mr(Bv,r,i)});function X_(i,s){return Hc(i,It(s,3),nn)}function U_(i,s){return Hc(i,It(s,3),Au)}function K_(i,s){return i==null?i:Pu(i,It(s,3),vr)}function j_(i,s){return i==null?i:hd(i,It(s,3),vr)}function Z_(i,s){return i&&nn(i,It(s,3))}function Q_(i,s){return i&&Au(i,It(s,3))}function J_(i){return i==null?[]:$o(i,Ne(i))}function tS(i){return i==null?[]:$o(i,vr(i))}function vl(i,s,d){var m=i==null?r:na(i,s);return m===r?d:m}function eS(i,s){return i!=null&&Qd(i,s,C1)}function pl(i,s){return i!=null&&Qd(i,s,E1)}var rS=Vd(function(i,s,d){s!=null&&typeof s.toString!="function"&&(s=Do.call(s)),i[s]=d},gl(pr)),nS=Vd(function(i,s,d){s!=null&&typeof s.toString!="function"&&(s=Do.call(s)),he.call(i,s)?i[s].push(d):i[s]=[d]},It),aS=Qt(xi);function Ne(i){return dr(i)?ud(i):Gu(i)}function vr(i){return dr(i)?ud(i,!0):A1(i)}function iS(i,s){var d={};return s=It(s,3),nn(i,function(m,S,D){gn(d,s(m,S,D),m)}),d}function oS(i,s){var d={};return s=It(s,3),nn(i,function(m,S,D){gn(d,S,s(m,S,D))}),d}var sS=Ga(function(i,s,d){qo(i,s,d)}),Bv=Ga(function(i,s,d,m){qo(i,s,d,m)}),uS=bn(function(i,s){var d={};if(i==null)return d;var m=!1;s=we(s,function(D){return D=An(D,i),m||(m=D.length>1),D}),an(i,Ju(i),d),m&&(d=Tr(d,h|p|g,rb));for(var S=s.length;S--;)Hu(d,s[S]);return d});function lS(i,s){return Pv(i,rs(It(s)))}var fS=bn(function(i,s){return i==null?{}:L1(i,s)});function Pv(i,s){if(i==null)return{};var d=we(Ju(i),function(m){return[m]});return s=It(s),Ed(i,d,function(m,S){return s(m,S[0])})}function cS(i,s,d){s=An(s,i);var m=-1,S=s.length;for(S||(S=1,i=r);++m<S;){var D=i==null?r:i[on(s[m])];D===r&&(m=S,D=d),i=_n(D)?D.call(i):D}return i}function dS(i,s,d){return i==null?i:Ci(i,s,d)}function vS(i,s,d,m){return m=typeof m=="function"?m:r,i==null?i:Ci(i,s,d,m)}var Av=Xd(Ne),zv=Xd(vr);function pS(i,s,d){var m=Nt(i),S=m||Ln(i)||Na(i);if(s=It(s,4),d==null){var D=i&&i.constructor;S?d=m?new D:[]:Ee(i)?d=_n(D)?Fa(ko(i)):{}:d={}}return(S?Er:nn)(i,function(P,F,q){return s(d,P,F,q)}),d}function hS(i,s){return i==null?!0:Hu(i,s)}function gS(i,s,d){return i==null?i:kd(i,s,Uu(d))}function mS(i,s,d,m){return m=typeof m=="function"?m:r,i==null?i:kd(i,s,Uu(d),m)}function Wa(i){return i==null?[]:Mu(i,Ne(i))}function bS(i){return i==null?[]:Mu(i,vr(i))}function yS(i,s,d){return d===r&&(d=s,s=r),d!==r&&(d=Ir(d),d=d===d?d:0),s!==r&&(s=Ir(s),s=s===s?s:0),ra(Ir(i),s,d)}function _S(i,s,d){return s=Sn(s),d===r?(d=s,s=0):d=Sn(d),i=Ir(i),M1(i,s,d)}function SS(i,s,d){if(d&&typeof d!="boolean"&&rr(i,s,d)&&(s=d=r),d===r&&(typeof s=="boolean"?(d=s,s=r):typeof i=="boolean"&&(d=i,i=r)),i===r&&s===r?(i=0,s=1):(i=Sn(i),s===r?(s=i,i=0):s=Sn(s)),i>s){var m=i;i=s,s=m}if(d||i%1||s%1){var S=od();return Qe(i+S*(s-i+J0("1e-"+((S+"").length-1))),s)}return Nu(i,s)}var xS=$a(function(i,s,d){return s=s.toLowerCase(),i+(d?Lv(s):s)});function Lv(i){return hl(pe(i).toLowerCase())}function Fv(i){return i=pe(i),i&&i.replace(cu,dm).replace(W0,"")}function wS(i,s,d){i=pe(i),s=yr(s);var m=i.length;d=d===r?m:ra(Xt(d),0,m);var S=d;return d-=s.length,d>=0&&i.slice(d,S)==s}function CS(i){return i=pe(i),i&&uu.test(i)?i.replace(Kn,vm):i}function ES(i){return i=pe(i),i&&lo.test(i)?i.replace(Ea,"\\$&"):i}var MS=$a(function(i,s,d){return i+(d?"-":"")+s.toLowerCase()}),DS=$a(function(i,s,d){return i+(d?" ":"")+s.toLowerCase()}),TS=qd("toLowerCase");function RS(i,s,d){i=pe(i),s=Xt(s);var m=s?Ba(i):0;if(!s||m>=s)return i;var S=(s-m)/2;return Xo(Po(S),d)+i+Xo(Bo(S),d)}function kS(i,s,d){i=pe(i),s=Xt(s);var m=s?Ba(i):0;return s&&m<s?i+Xo(s-m,d):i}function IS(i,s,d){i=pe(i),s=Xt(s);var m=s?Ba(i):0;return s&&m<s?Xo(s-m,d)+i:i}function OS(i,s,d){return d||s==null?s=0:s&&(s=+s),Gm(pe(i).replace(Ma,""),s||0)}function BS(i,s,d){return(d?rr(i,s,d):s===r)?s=1:s=Xt(s),Wu(pe(i),s)}function PS(){var i=arguments,s=pe(i[0]);return i.length<3?s:s.replace(i[1],i[2])}var AS=$a(function(i,s,d){return i+(d?"_":"")+s.toLowerCase()});function zS(i,s,d){return d&&typeof d!="number"&&rr(i,s,d)&&(s=d=r),d=d===r?lt:d>>>0,d?(i=pe(i),i&&(typeof s=="string"||s!=null&&!dl(s))&&(s=yr(s),!s&&Oa(i))?zn(Vr(i),0,d):i.split(s,d)):[]}var LS=$a(function(i,s,d){return i+(d?" ":"")+hl(s)});function FS(i,s,d){return i=pe(i),d=d==null?0:ra(Xt(d),0,i.length),s=yr(s),i.slice(d,d+s.length)==s}function GS(i,s,d){var m=M.templateSettings;d&&rr(i,s,d)&&(s=r),i=pe(i),s=is({},s,m,Ud);var S=is({},s.imports,m.imports,Ud),D=Ne(S),P=Mu(S,D),F,q,et=0,rt=s.interpolate||Wr,st="__p += '",ht=Tu((s.escape||Wr).source+"|"+rt.source+"|"+(rt===di?fu:Wr).source+"|"+(s.evaluate||Wr).source+"|$","g"),wt="//# sourceURL="+(he.call(s,"sourceURL")?(s.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++U0+"]")+`
`;i.replace(ht,function(Pt,ee,se,Sr,nr,xr){return se||(se=Sr),st+=i.slice(et,xr).replace(Y,pm),ee&&(F=!0,st+=`' +
__e(`+ee+`) +
'`),nr&&(q=!0,st+=`';
`+nr+`;
__p += '`),se&&(st+=`' +
((__t = (`+se+`)) == null ? '' : __t) +
'`),et=xr+Pt.length,Pt}),st+=`';
`;var Bt=he.call(s,"variable")&&s.variable;if(!Bt)st=`with (obj) {
`+st+`
}
`;else if(Nr.test(Bt))throw new qt(l);st=(q?st.replace(Zt,""):st).replace(Ce,"$1").replace(qr,"$1;"),st="function("+(Bt||"obj")+`) {
`+(Bt?"":`obj || (obj = {});
`)+"var __t, __p = ''"+(F?", __e = _.escape":"")+(q?`, __j = Array.prototype.join;
function print() { __p += __j.call(arguments, '') }
`:`;
`)+st+`return __p
}`;var Ut=$v(function(){return le(D,wt+"return "+st).apply(r,P)});if(Ut.source=st,cl(Ut))throw Ut;return Ut}function $S(i){return pe(i).toLowerCase()}function qS(i){return pe(i).toUpperCase()}function NS(i,s,d){if(i=pe(i),i&&(d||s===r))return Kc(i);if(!i||!(s=yr(s)))return i;var m=Vr(i),S=Vr(s),D=jc(m,S),P=Zc(m,S)+1;return zn(m,D,P).join("")}function WS(i,s,d){if(i=pe(i),i&&(d||s===r))return i.slice(0,Jc(i)+1);if(!i||!(s=yr(s)))return i;var m=Vr(i),S=Zc(m,Vr(s))+1;return zn(m,0,S).join("")}function VS(i,s,d){if(i=pe(i),i&&(d||s===r))return i.replace(Ma,"");if(!i||!(s=yr(s)))return i;var m=Vr(i),S=jc(m,Vr(s));return zn(m,S).join("")}function HS(i,s){var d=A,m=N;if(Ee(s)){var S="separator"in s?s.separator:S;d="length"in s?Xt(s.length):d,m="omission"in s?yr(s.omission):m}i=pe(i);var D=i.length;if(Oa(i)){var P=Vr(i);D=P.length}if(d>=D)return i;var F=d-Ba(m);if(F<1)return m;var q=P?zn(P,0,F).join(""):i.slice(0,F);if(S===r)return q+m;if(P&&(F+=q.length-F),dl(S)){if(i.slice(F).search(S)){var et,rt=q;for(S.global||(S=Tu(S.source,pe(Dn.exec(S))+"g")),S.lastIndex=0;et=S.exec(rt);)var st=et.index;q=q.slice(0,st===r?F:st)}}else if(i.indexOf(yr(S),F)!=F){var ht=q.lastIndexOf(S);ht>-1&&(q=q.slice(0,ht))}return q+m}function YS(i){return i=pe(i),i&&jn.test(i)?i.replace(Un,Sm):i}var XS=$a(function(i,s,d){return i+(d?" ":"")+s.toUpperCase()}),hl=qd("toUpperCase");function Gv(i,s,d){return i=pe(i),s=d?r:s,s===r?gm(i)?Cm(i):sm(i):i.match(s)||[]}var $v=Qt(function(i,s){try{return mr(i,r,s)}catch(d){return cl(d)?d:new qt(d)}}),US=bn(function(i,s){return Er(s,function(d){d=on(d),gn(i,d,ll(i[d],i))}),i});function KS(i){var s=i==null?0:i.length,d=It();return i=s?we(i,function(m){if(typeof m[1]!="function")throw new Mr(u);return[d(m[0]),m[1]]}):[],Qt(function(m){for(var S=-1;++S<s;){var D=i[S];if(mr(D[0],this,m))return mr(D[1],this,m)}})}function jS(i){return S1(Tr(i,h))}function gl(i){return function(){return i}}function ZS(i,s){return i==null||i!==i?s:i}var QS=Wd(),JS=Wd(!0);function pr(i){return i}function ml(i){return yd(typeof i=="function"?i:Tr(i,h))}function tx(i){return Sd(Tr(i,h))}function ex(i,s){return xd(i,Tr(s,h))}var rx=Qt(function(i,s){return function(d){return xi(d,i,s)}}),nx=Qt(function(i,s){return function(d){return xi(i,d,s)}});function bl(i,s,d){var m=Ne(s),S=$o(s,m);d==null&&!(Ee(s)&&(S.length||!m.length))&&(d=s,s=i,i=this,S=$o(s,Ne(s)));var D=!(Ee(d)&&"chain"in d)||!!d.chain,P=_n(i);return Er(S,function(F){var q=s[F];i[F]=q,P&&(i.prototype[F]=function(){var et=this.__chain__;if(D||et){var rt=i(this.__wrapped__),st=rt.__actions__=cr(this.__actions__);return st.push({func:q,args:arguments,thisArg:i}),rt.__chain__=et,rt}return q.apply(i,kn([this.value()],arguments))})}),i}function ax(){return Xe._===this&&(Xe._=km),this}function yl(){}function ix(i){return i=Xt(i),Qt(function(s){return wd(s,i)})}var ox=ju(we),sx=ju(Vc),ux=ju(Su);function qv(i){return nl(i)?xu(on(i)):F1(i)}function lx(i){return function(s){return i==null?r:na(i,s)}}var fx=Hd(),cx=Hd(!0);function _l(){return[]}function Sl(){return!1}function dx(){return{}}function vx(){return""}function px(){return!0}function hx(i,s){if(i=Xt(i),i<1||i>ot)return[];var d=lt,m=Qe(i,lt);s=It(s),i-=lt;for(var S=Eu(m,s);++d<i;)s(d);return S}function gx(i){return Nt(i)?we(i,on):_r(i)?[i]:cr(sv(pe(i)))}function mx(i){var s=++Tm;return pe(i)+s}var bx=Yo(function(i,s){return i+s},0),yx=Zu("ceil"),_x=Yo(function(i,s){return i/s},1),Sx=Zu("floor");function xx(i){return i&&i.length?Go(i,pr,zu):r}function wx(i,s){return i&&i.length?Go(i,It(s,2),zu):r}function Cx(i){return Xc(i,pr)}function Ex(i,s){return Xc(i,It(s,2))}function Mx(i){return i&&i.length?Go(i,pr,$u):r}function Dx(i,s){return i&&i.length?Go(i,It(s,2),$u):r}var Tx=Yo(function(i,s){return i*s},1),Rx=Zu("round"),kx=Yo(function(i,s){return i-s},0);function Ix(i){return i&&i.length?Cu(i,pr):0}function Ox(i,s){return i&&i.length?Cu(i,It(s,2)):0}return M.after=t_,M.ary=bv,M.assign=q_,M.assignIn=Ov,M.assignInWith=is,M.assignWith=N_,M.at=W_,M.before=yv,M.bind=ll,M.bindAll=US,M.bindKey=_v,M.castArray=d_,M.chain=hv,M.chunk=Sb,M.compact=xb,M.concat=wb,M.cond=KS,M.conforms=jS,M.constant=gl,M.countBy=Iy,M.create=V_,M.curry=Sv,M.curryRight=xv,M.debounce=wv,M.defaults=H_,M.defaultsDeep=Y_,M.defer=e_,M.delay=r_,M.difference=Cb,M.differenceBy=Eb,M.differenceWith=Mb,M.drop=Db,M.dropRight=Tb,M.dropRightWhile=Rb,M.dropWhile=kb,M.fill=Ib,M.filter=By,M.flatMap=zy,M.flatMapDeep=Ly,M.flatMapDepth=Fy,M.flatten=cv,M.flattenDeep=Ob,M.flattenDepth=Bb,M.flip=n_,M.flow=QS,M.flowRight=JS,M.fromPairs=Pb,M.functions=J_,M.functionsIn=tS,M.groupBy=Gy,M.initial=zb,M.intersection=Lb,M.intersectionBy=Fb,M.intersectionWith=Gb,M.invert=rS,M.invertBy=nS,M.invokeMap=qy,M.iteratee=ml,M.keyBy=Ny,M.keys=Ne,M.keysIn=vr,M.map=Jo,M.mapKeys=iS,M.mapValues=oS,M.matches=tx,M.matchesProperty=ex,M.memoize=es,M.merge=sS,M.mergeWith=Bv,M.method=rx,M.methodOf=nx,M.mixin=bl,M.negate=rs,M.nthArg=ix,M.omit=uS,M.omitBy=lS,M.once=a_,M.orderBy=Wy,M.over=ox,M.overArgs=i_,M.overEvery=sx,M.overSome=ux,M.partial=fl,M.partialRight=Cv,M.partition=Vy,M.pick=fS,M.pickBy=Pv,M.property=qv,M.propertyOf=lx,M.pull=Wb,M.pullAll=vv,M.pullAllBy=Vb,M.pullAllWith=Hb,M.pullAt=Yb,M.range=fx,M.rangeRight=cx,M.rearg=o_,M.reject=Xy,M.remove=Xb,M.rest=s_,M.reverse=sl,M.sampleSize=Ky,M.set=dS,M.setWith=vS,M.shuffle=jy,M.slice=Ub,M.sortBy=Jy,M.sortedUniq=ey,M.sortedUniqBy=ry,M.split=zS,M.spread=u_,M.tail=ny,M.take=ay,M.takeRight=iy,M.takeRightWhile=oy,M.takeWhile=sy,M.tap=xy,M.throttle=l_,M.thru=Qo,M.toArray=Rv,M.toPairs=Av,M.toPairsIn=zv,M.toPath=gx,M.toPlainObject=Iv,M.transform=pS,M.unary=f_,M.union=uy,M.unionBy=ly,M.unionWith=fy,M.uniq=cy,M.uniqBy=dy,M.uniqWith=vy,M.unset=hS,M.unzip=ul,M.unzipWith=pv,M.update=gS,M.updateWith=mS,M.values=Wa,M.valuesIn=bS,M.without=py,M.words=Gv,M.wrap=c_,M.xor=hy,M.xorBy=gy,M.xorWith=my,M.zip=by,M.zipObject=yy,M.zipObjectDeep=_y,M.zipWith=Sy,M.entries=Av,M.entriesIn=zv,M.extend=Ov,M.extendWith=is,bl(M,M),M.add=bx,M.attempt=$v,M.camelCase=xS,M.capitalize=Lv,M.ceil=yx,M.clamp=yS,M.clone=v_,M.cloneDeep=h_,M.cloneDeepWith=g_,M.cloneWith=p_,M.conformsTo=m_,M.deburr=Fv,M.defaultTo=ZS,M.divide=_x,M.endsWith=wS,M.eq=Yr,M.escape=CS,M.escapeRegExp=ES,M.every=Oy,M.find=Py,M.findIndex=lv,M.findKey=X_,M.findLast=Ay,M.findLastIndex=fv,M.findLastKey=U_,M.floor=Sx,M.forEach=gv,M.forEachRight=mv,M.forIn=K_,M.forInRight=j_,M.forOwn=Z_,M.forOwnRight=Q_,M.get=vl,M.gt=b_,M.gte=y_,M.has=eS,M.hasIn=pl,M.head=dv,M.identity=pr,M.includes=$y,M.indexOf=Ab,M.inRange=_S,M.invoke=aS,M.isArguments=oa,M.isArray=Nt,M.isArrayBuffer=__,M.isArrayLike=dr,M.isArrayLikeObject=Ie,M.isBoolean=S_,M.isBuffer=Ln,M.isDate=x_,M.isElement=w_,M.isEmpty=C_,M.isEqual=E_,M.isEqualWith=M_,M.isError=cl,M.isFinite=D_,M.isFunction=_n,M.isInteger=Ev,M.isLength=ns,M.isMap=Mv,M.isMatch=T_,M.isMatchWith=R_,M.isNaN=k_,M.isNative=I_,M.isNil=B_,M.isNull=O_,M.isNumber=Dv,M.isObject=Ee,M.isObjectLike=Te,M.isPlainObject=Ti,M.isRegExp=dl,M.isSafeInteger=P_,M.isSet=Tv,M.isString=as,M.isSymbol=_r,M.isTypedArray=Na,M.isUndefined=A_,M.isWeakMap=z_,M.isWeakSet=L_,M.join=$b,M.kebabCase=MS,M.last=kr,M.lastIndexOf=qb,M.lowerCase=DS,M.lowerFirst=TS,M.lt=F_,M.lte=G_,M.max=xx,M.maxBy=wx,M.mean=Cx,M.meanBy=Ex,M.min=Mx,M.minBy=Dx,M.stubArray=_l,M.stubFalse=Sl,M.stubObject=dx,M.stubString=vx,M.stubTrue=px,M.multiply=Tx,M.nth=Nb,M.noConflict=ax,M.noop=yl,M.now=ts,M.pad=RS,M.padEnd=kS,M.padStart=IS,M.parseInt=OS,M.random=SS,M.reduce=Hy,M.reduceRight=Yy,M.repeat=BS,M.replace=PS,M.result=cS,M.round=Rx,M.runInContext=$,M.sample=Uy,M.size=Zy,M.snakeCase=AS,M.some=Qy,M.sortedIndex=Kb,M.sortedIndexBy=jb,M.sortedIndexOf=Zb,M.sortedLastIndex=Qb,M.sortedLastIndexBy=Jb,M.sortedLastIndexOf=ty,M.startCase=LS,M.startsWith=FS,M.subtract=kx,M.sum=Ix,M.sumBy=Ox,M.template=GS,M.times=hx,M.toFinite=Sn,M.toInteger=Xt,M.toLength=kv,M.toLower=$S,M.toNumber=Ir,M.toSafeInteger=$_,M.toString=pe,M.toUpper=qS,M.trim=NS,M.trimEnd=WS,M.trimStart=VS,M.truncate=HS,M.unescape=YS,M.uniqueId=mx,M.upperCase=XS,M.upperFirst=hl,M.each=gv,M.eachRight=mv,M.first=dv,bl(M,function(){var i={};return nn(M,function(s,d){he.call(M.prototype,d)||(i[d]=s)}),i}(),{chain:!1}),M.VERSION=n,Er(["bind","bindKey","curry","curryRight","partial","partialRight"],function(i){M[i].placeholder=M}),Er(["drop","take"],function(i,s){ie.prototype[i]=function(d){d=d===r?1:qe(Xt(d),0);var m=this.__filtered__&&!s?new ie(this):this.clone();return m.__filtered__?m.__takeCount__=Qe(d,m.__takeCount__):m.__views__.push({size:Qe(d,lt),type:i+(m.__dir__<0?"Right":"")}),m},ie.prototype[i+"Right"]=function(d){return this.reverse()[i](d).reverse()}}),Er(["filter","map","takeWhile"],function(i,s){var d=s+1,m=d==H||d==tt;ie.prototype[i]=function(S){var D=this.clone();return D.__iteratees__.push({iteratee:It(S,3),type:d}),D.__filtered__=D.__filtered__||m,D}}),Er(["head","last"],function(i,s){var d="take"+(s?"Right":"");ie.prototype[i]=function(){return this[d](1).value()[0]}}),Er(["initial","tail"],function(i,s){var d="drop"+(s?"":"Right");ie.prototype[i]=function(){return this.__filtered__?new ie(this):this[d](1)}}),ie.prototype.compact=function(){return this.filter(pr)},ie.prototype.find=function(i){return this.filter(i).head()},ie.prototype.findLast=function(i){return this.reverse().find(i)},ie.prototype.invokeMap=Qt(function(i,s){return typeof i=="function"?new ie(this):this.map(function(d){return xi(d,i,s)})}),ie.prototype.reject=function(i){return this.filter(rs(It(i)))},ie.prototype.slice=function(i,s){i=Xt(i);var d=this;return d.__filtered__&&(i>0||s<0)?new ie(d):(i<0?d=d.takeRight(-i):i&&(d=d.drop(i)),s!==r&&(s=Xt(s),d=s<0?d.dropRight(-s):d.take(s-i)),d)},ie.prototype.takeRightWhile=function(i){return this.reverse().takeWhile(i).reverse()},ie.prototype.toArray=function(){return this.take(lt)},nn(ie.prototype,function(i,s){var d=/^(?:filter|find|map|reject)|While$/.test(s),m=/^(?:head|last)$/.test(s),S=M[m?"take"+(s=="last"?"Right":""):s],D=m||/^find/.test(s);!S||(M.prototype[s]=function(){var P=this.__wrapped__,F=m?[1]:arguments,q=P instanceof ie,et=F[0],rt=q||Nt(P),st=function(ee){var se=S.apply(M,kn([ee],F));return m&&ht?se[0]:se};rt&&d&&typeof et=="function"&&et.length!=1&&(q=rt=!1);var ht=this.__chain__,wt=!!this.__actions__.length,Bt=D&&!ht,Ut=q&&!wt;if(!D&&rt){P=Ut?P:new ie(this);var Pt=i.apply(P,F);return Pt.__actions__.push({func:Qo,args:[st],thisArg:r}),new Dr(Pt,ht)}return Bt&&Ut?i.apply(this,F):(Pt=this.thru(st),Bt?m?Pt.value()[0]:Pt.value():Pt)})}),Er(["pop","push","shift","sort","splice","unshift"],function(i){var s=Co[i],d=/^(?:push|sort|unshift)$/.test(i)?"tap":"thru",m=/^(?:pop|shift)$/.test(i);M.prototype[i]=function(){var S=arguments;if(m&&!this.__chain__){var D=this.value();return s.apply(Nt(D)?D:[],S)}return this[d](function(P){return s.apply(Nt(P)?P:[],S)})}}),nn(ie.prototype,function(i,s){var d=M[s];if(d){var m=d.name+"";he.call(La,m)||(La[m]=[]),La[m].push({name:s,func:d})}}),La[Ho(r,x).name]=[{name:"wrapper",func:r}],ie.prototype.clone=Ym,ie.prototype.reverse=Xm,ie.prototype.value=Um,M.prototype.at=wy,M.prototype.chain=Cy,M.prototype.commit=Ey,M.prototype.next=My,M.prototype.plant=Ty,M.prototype.reverse=Ry,M.prototype.toJSON=M.prototype.valueOf=M.prototype.value=ky,M.prototype.first=M.prototype.head,hi&&(M.prototype[hi]=Dy),M},Pa=Em();Qn?((Qn.exports=Pa)._=Pa,mu._=Pa):Xe._=Pa}).call(Ii)})(ca,ca.exports);var ou={exports:{}};ou.exports=w0;ou.exports.addWheelListener=w0;ou.exports.removeWheelListener=ID;function w0(t,e,r){t.addEventListener("wheel",e,r)}function ID(t,e,r){t.removeEventListener("wheel",e,r)}var su={exports:{}},OD=4,BD=.001,PD=1e-7,AD=10,Li=11,_s=1/(Li-1),zD=typeof Float32Array=="function";function C0(t,e){return 1-3*e+3*t}function E0(t,e){return 3*e-6*t}function M0(t){return 3*t}function Xs(t,e,r){return((C0(e,r)*t+E0(e,r))*t+M0(e))*t}function D0(t,e,r){return 3*C0(e,r)*t*t+2*E0(e,r)*t+M0(e)}function LD(t,e,r,n,a){var o,u,l=0;do u=e+(r-e)/2,o=Xs(u,n,a)-t,o>0?r=u:e=u;while(Math.abs(o)>PD&&++l<AD);return u}function FD(t,e,r,n){for(var a=0;a<OD;++a){var o=D0(e,r,n);if(o===0)return e;var u=Xs(e,r,n)-t;e-=u/o}return e}function GD(t){return t}var $D=function(e,r,n,a){if(!(0<=e&&e<=1&&0<=n&&n<=1))throw new Error("bezier x values must be in [0, 1] range");if(e===r&&n===a)return GD;for(var o=zD?new Float32Array(Li):new Array(Li),u=0;u<Li;++u)o[u]=Xs(u*_s,e,n);function l(c){for(var f=0,v=1,h=Li-1;v!==h&&o[v]<=c;++v)f+=_s;--v;var p=(c-o[v])/(o[v+1]-o[v]),g=f+p*_s,b=D0(g,e,n);return b>=BD?FD(c,g,e,n):b===0?g:LD(c,f,f+_s,e,n)}return function(f){return f===0?0:f===1?1:Xs(l(f),r,a)}},Oi=$D,Jp={ease:Oi(.25,.1,.25,1),easeIn:Oi(.42,0,1,1),easeOut:Oi(0,0,.58,1),easeInOut:Oi(.42,0,.58,1),linear:Oi(0,0,1,1)};su.exports=qD;su.exports.makeAggregateRaf=T0;su.exports.sharedScheduler=T0();function qD(t,e,r){var n=Object.create(null),a=Object.create(null);r=r||{};var o=typeof r.easing=="function"?r.easing:Jp[r.easing];o||(r.easing&&console.warn("Unknown easing function in amator: "+r.easing),o=Jp.ease);var u=typeof r.step=="function"?r.step:th,l=typeof r.done=="function"?r.done:th,c=ND(r.scheduler),f=Object.keys(e);f.forEach(function(x){n[x]=t[x],a[x]=e[x]-t[x]});var v=typeof r.duration=="number"?r.duration:400,h=Math.max(1,v*.06),p,g=0;return p=c.next(y),{cancel:b};function b(){c.cancel(p),p=0}function y(){var x=o(g/h);g+=1,_(x),g<=h?(p=c.next(y),u(t)):(p=0,setTimeout(function(){l(t)},0))}function _(x){f.forEach(function(E){t[E]=a[E]*x+n[E]})}}function th(){}function ND(t){if(!t){var e=typeof window!="undefined"&&window.requestAnimationFrame;return e?WD():VD()}if(typeof t.next!="function")throw new Error("Scheduler is supposed to have next(cb) function");if(typeof t.cancel!="function")throw new Error("Scheduler is supposed to have cancel(handle) function");return t}function WD(){return{next:window.requestAnimationFrame.bind(window),cancel:window.cancelAnimationFrame.bind(window)}}function VD(){return{next:function(t){return setTimeout(t,1e3/60)},cancel:function(t){return clearTimeout(t)}}}function T0(){var t=new Set,e=new Set,r=0;return{next:a,cancel:a,clearAll:n};function n(){t.clear(),e.clear(),cancelAnimationFrame(r),r=0}function a(l){e.add(l),o()}function o(){r||(r=requestAnimationFrame(u))}function u(){r=0;var l=e;e=t,t=l,t.forEach(function(c){c()}),t.clear()}}var HD=function(e){XD(e);var r=YD(e);return e.on=r.on,e.off=r.off,e.fire=r.fire,e};function YD(t){var e=Object.create(null);return{on:function(r,n,a){if(typeof n!="function")throw new Error("callback is expected to be a function");var o=e[r];return o||(o=e[r]=[]),o.push({callback:n,ctx:a}),t},off:function(r,n){var a=typeof r=="undefined";if(a)return e=Object.create(null),t;if(e[r]){var o=typeof n!="function";if(o)delete e[r];else for(var u=e[r],l=0;l<u.length;++l)u[l].callback===n&&u.splice(l,1)}return t},fire:function(r){var n=e[r];if(!n)return t;var a;arguments.length>1&&(a=Array.prototype.splice.call(arguments,1));for(var o=0;o<n.length;++o){var u=n[o];u.callback.apply(u.ctx,a)}return t}}}function XD(t){if(!t)throw new Error("Eventify cannot use falsy object as events subject");for(var e=["on","fire","off"],r=0;r<e.length;++r)if(t.hasOwnProperty(e[r]))throw new Error("Subject cannot be eventified, since it already has property '"+e[r]+"'")}var UD=KD;function KD(t,e,r){typeof r!="object"&&(r={});var n=typeof r.minVelocity=="number"?r.minVelocity:5,a=typeof r.amplitude=="number"?r.amplitude:.25,o=typeof r.cancelAnimationFrame=="function"?r.cancelAnimationFrame:jD(),u=typeof r.requestAnimationFrame=="function"?r.requestAnimationFrame:ZD(),l,c,f=342,v,h,p,g,b,y,_,x;return{start:w,stop:I,cancel:E};function E(){o(v),o(x)}function w(){l=t(),g=_=h=b=0,c=new Date,o(v),o(x),v=u(C)}function C(){var k=Date.now(),O=k-c;c=k;var B=t(),A=B.x-l.x,N=B.y-l.y;l=B;var L=1e3/(1+O);h=.8*A*L+.2*h,b=.8*N*L+.2*b,v=u(C)}function I(){o(v),o(x);var k=t();p=k.x,y=k.y,c=Date.now(),(h<-n||h>n)&&(g=a*h,p+=g),(b<-n||b>n)&&(_=a*b,y+=_),x=u(R)}function R(){var k=Date.now()-c,O=!1,B=0,A=0;g&&(B=-g*Math.exp(-k/f),B>.5||B<-.5?O=!0:B=g=0),_&&(A=-_*Math.exp(-k/f),A>.5||A<-.5?O=!0:A=_=0),O&&(e(p+B,y+A),x=u(R))}}function jD(){return typeof cancelAnimationFrame=="function"?cancelAnimationFrame:clearTimeout}function ZD(){return typeof requestAnimationFrame=="function"?requestAnimationFrame:function(t){return setTimeout(t,16)}}var QD=JD;function JD(t){if(t)return{capture:rh,release:rh};var e,r,n,a=!1;return{capture:o,release:u};function o(l){a=!0,r=window.document.onselectstart,n=window.document.ondragstart,window.document.onselectstart=eh,e=l,e.ondragstart=eh}function u(){!a||(a=!1,window.document.onselectstart=r,e&&(e.ondragstart=n))}}function eh(t){return t.stopPropagation(),!1}function rh(){}var tT=eT;function eT(){this.x=0,this.y=0,this.scale=1}var yc={exports:{}};yc.exports=rT;yc.exports.canAttach=R0;function rT(t,e){if(!R0(t))throw new Error("svg element is required for svg.panzoom to work");var r=t.ownerSVGElement;if(!r)throw new Error("Do not apply panzoom to the root <svg> element. Use its child instead (e.g. <g></g>). As of March 2016 only FireFox supported transform on the root element");e.disableKeyboardInteraction||r.setAttribute("tabindex",0);var n={getBBox:o,getScreenCTM:u,getOwner:a,applyTransform:c,initTransform:l};return n;function a(){return r}function o(){var f=t.getBBox();return{left:f.x,top:f.y,width:f.width,height:f.height}}function u(){var f=r.getCTM();return f||r.getScreenCTM()}function l(f){var v=t.getCTM();v===null&&(v=document.createElementNS("http://www.w3.org/2000/svg","svg").createSVGMatrix()),f.x=v.e,f.y=v.f,f.scale=v.a,r.removeAttributeNS(null,"viewBox")}function c(f){t.setAttribute("transform","matrix("+f.scale+" 0 0 "+f.scale+" "+f.x+" "+f.y+")")}}function R0(t){return t&&t.ownerSVGElement&&t.getCTM}var _c={exports:{}};_c.exports=nT;_c.exports.canAttach=k0;function nT(t,e){var r=k0(t);if(!r)throw new Error("panzoom requires DOM element to be attached to the DOM tree");var n=t.parentElement;t.scrollTop=0,e.disableKeyboardInteraction||n.setAttribute("tabindex",0);var a={getBBox:u,getOwner:o,applyTransform:l};return a;function o(){return n}function u(){return{left:0,top:0,width:t.clientWidth,height:t.clientHeight}}function l(c){t.style.transformOrigin="0 0 0",t.style.transform="matrix("+c.scale+", 0, 0, "+c.scale+", "+c.x+", "+c.y+")"}}function k0(t){return t&&t.parentElement&&t.style}var nh=ou.exports,ql=su.exports,aT=HD,iT=UD,I0=QD,oT=I0(),sT=I0(!0),uT=tT,ah=yc.exports,ih=_c.exports,lT=1,fT=1.75,oh=300,sh=200,cT=O0;function O0(t,e){e=e||{};var r=e.controller;if(r||(ah.canAttach(t)?r=ah(t,e):ih.canAttach(t)&&(r=ih(t,e))),!r)throw new Error("Cannot create panzoom for the current type of dom element");var n=r.getOwner(),a={x:0,y:0},o=!1,u=new uT;r.initTransform&&r.initTransform(u);var l=typeof e.filterKey=="function"?e.filterKey:ti,c=typeof e.pinchSpeed=="number"?e.pinchSpeed:1,f=e.bounds,v=typeof e.maxZoom=="number"?e.maxZoom:Number.POSITIVE_INFINITY,h=typeof e.minZoom=="number"?e.minZoom:0,p=typeof e.boundsPadding=="number"?e.boundsPadding:.05,g=typeof e.zoomDoubleClickSpeed=="number"?e.zoomDoubleClickSpeed:fT,b=e.beforeWheel||ti,y=e.beforeMouseDown||ti,_=typeof e.zoomSpeed=="number"?e.zoomSpeed:lT,x=uh(e.transformOrigin),E=e.enableTextSelection?sT:oT;dT(f),e.autocenter&&U();var w,C=0,I=0,R=0,k=null,O=new Date,B,A=!1,N=!1,L,z,H,V,tt,J;"smoothScroll"in e&&!e.smoothScroll?J=vT():J=iT(ge,$t,e.smoothScroll);var ot,X,Q,lt=!1;Yt();var _t={dispose:te,moveBy:at,moveTo:Fe,smoothMoveTo:fr,centerOn:Ge,zoomTo:Ta,zoomAbs:ce,smoothZoom:Da,smoothZoomAbs:fu,showRectangle:T,pause:yt,resume:Dt,isPaused:Et,getTransform:ut,getMinZoom:pt,setMinZoom:dt,getMaxZoom:Mt,setMaxZoom:kt,getTransformOrigin:At,setTransformOrigin:Jt,getZoomSpeed:Wt,setZoomSpeed:fe};aT(_t);var Ct=typeof e.initialX=="number"?e.initialX:u.x,gt=typeof e.initialY=="number"?e.initialY:u.y,vt=typeof e.initialZoom=="number"?e.initialZoom:u.scale;return(Ct!=u.x||gt!=u.y||vt!=u.scale)&&ce(Ct,gt,vt),_t;function yt(){me(),lt=!0}function Dt(){lt&&(Yt(),lt=!1)}function Et(){return lt}function T(Y){var ft=n.getBoundingClientRect(),ct=G(ft.width,ft.height),bt=Y.right-Y.left,ae=Y.bottom-Y.top;if(!Number.isFinite(bt)||!Number.isFinite(ae))throw new Error("Invalid rectangle");var de=ct.x/bt,ve=ct.y/ae,Be=Math.min(de,ve);u.x=-(Y.left+bt/2)*Be+ct.x/2,u.y=-(Y.top+ae/2)*Be+ct.y/2,u.scale=Be}function G(Y,ft){if(r.getScreenCTM){var ct=r.getScreenCTM(),bt=ct.a,ae=ct.d,de=ct.e,ve=ct.f;a.x=Y*bt-de,a.y=ft*ae-ve}else a.x=Y,a.y=ft;return a}function U(){var Y,ft,ct=0,bt=0,ae=Tt();if(ae)ct=ae.left,bt=ae.top,Y=ae.right-ae.left,ft=ae.bottom-ae.top;else{var de=n.getBoundingClientRect();Y=de.width,ft=de.height}var ve=r.getBBox();if(!(ve.width===0||ve.height===0)){var Be=ft/ve.height,Tn=Y/ve.width,vn=Math.min(Tn,Be);u.x=-(ve.left+ve.width/2)*vn+Y/2+ct,u.y=-(ve.top+ve.height/2)*vn+ft/2+bt,u.scale=vn}}function ut(){return u}function pt(){return h}function dt(Y){h=Y}function Mt(){return v}function kt(Y){v=Y}function At(){return x}function Jt(Y){x=uh(Y)}function Wt(){return _}function fe(Y){if(!Number.isFinite(Y))throw new Error("Zoom speed should be a number");_=Y}function ge(){return{x:u.x,y:u.y}}function Fe(Y,ft){u.x=Y,u.y=ft,mt(),Wr("pan"),Vt()}function nt(Y,ft){Fe(u.x+Y,u.y+ft)}function mt(){var Y=Tt();if(!!Y){var ft=!1,ct=oe(),bt=Y.left-ct.right;return bt>0&&(u.x+=bt,ft=!0),bt=Y.right-ct.left,bt<0&&(u.x+=bt,ft=!0),bt=Y.top-ct.bottom,bt>0&&(u.y+=bt,ft=!0),bt=Y.bottom-ct.top,bt<0&&(u.y+=bt,ft=!0),ft}}function Tt(){if(!!f){if(typeof f=="boolean"){var Y=n.getBoundingClientRect(),ft=Y.width,ct=Y.height;return{left:ft*p,top:ct*p,right:ft*(1-p),bottom:ct*(1-p)}}return f}}function oe(){var Y=r.getBBox(),ft=ne(Y.left,Y.top);return{left:ft.x,top:ft.y,right:Y.width*u.scale+ft.x,bottom:Y.height*u.scale+ft.y}}function ne(Y,ft){return{x:Y*u.scale+u.x,y:ft*u.scale+u.y}}function Vt(){o=!0,w=window.requestAnimationFrame(Zt)}function Lt(Y,ft,ct){if(Nl(Y)||Nl(ft)||Nl(ct))throw new Error("zoom requires valid numbers");var bt=u.scale*ct;if(bt<h){if(u.scale===h)return;ct=h/u.scale}if(bt>v){if(u.scale===v)return;ct=v/u.scale}var ae=G(Y,ft);if(u.x=ae.x-ct*(ae.x-u.x),u.y=ae.y-ct*(ae.y-u.y),f&&p===1&&h===1)u.scale*=ct,mt();else{var de=mt();de||(u.scale*=ct)}Wr("zoom"),Vt()}function ce(Y,ft,ct){var bt=ct/u.scale;Lt(Y,ft,bt)}function Ge(Y){var ft=Y.ownerSVGElement;if(!ft)throw new Error("ui element is required to be within the scene");var ct=Y.getBoundingClientRect(),bt=ct.left+ct.width/2,ae=ct.top+ct.height/2,de=ft.getBoundingClientRect(),ve=de.width/2-bt,Be=de.height/2-ae;at(ve,Be,!0)}function fr(Y,ft){at(Y-u.x,ft-u.y,!0)}function at(Y,ft,ct){if(!ct)return nt(Y,ft);ot&&ot.cancel();var bt={x:0,y:0},ae={x:Y,y:ft},de=0,ve=0;ot=ql(bt,ae,{step:function(Be){nt(Be.x-de,Be.y-ve),de=Be.x,ve=Be.y}})}function $t(Y,ft){Ra(),Fe(Y,ft)}function te(){me()}function Yt(){n.addEventListener("mousedown",Ma,{passive:!1}),n.addEventListener("dblclick",lo,{passive:!1}),n.addEventListener("touchstart",Kn,{passive:!1}),n.addEventListener("keydown",qr,{passive:!1}),nh.addWheelListener(n,ho,{passive:!1}),Vt()}function me(){nh.removeWheelListener(n,ho),n.removeEventListener("mousedown",Ma),n.removeEventListener("keydown",qr),n.removeEventListener("dblclick",lo),n.removeEventListener("touchstart",Kn),w&&(window.cancelAnimationFrame(w),w=0),J.cancel(),vo(),po(),E.release(),vi()}function Zt(){o&&Ce()}function Ce(){o=!1,r.applyTransform(u),Wr("transform"),w=0}function qr(Y){var ft=0,ct=0,bt=0;if(Y.keyCode===38?ct=1:Y.keyCode===40?ct=-1:Y.keyCode===37?ft=1:Y.keyCode===39?ft=-1:Y.keyCode===189||Y.keyCode===109?bt=1:(Y.keyCode===187||Y.keyCode===107)&&(bt=-1),!l(Y,ft,ct,bt)){if(ft||ct){Y.preventDefault(),Y.stopPropagation();var ae=n.getBoundingClientRect(),de=Math.min(ae.width,ae.height),ve=.05,Be=de*ve*ft,Tn=de*ve*ct;at(Be,Tn)}if(bt){var vn=go(bt*100),de=x?Dn():Un();Ta(de.x,de.y,vn)}}}function Un(){var Y=n.getBoundingClientRect();return{x:Y.width/2,y:Y.height/2}}function Kn(Y){if(jn(Y),Zn(),Y.touches.length===1)return lu(Y,Y.touches[0]);Y.touches.length===2&&(tt=Ea(Y.touches[0],Y.touches[1]),Q=!0,so())}function jn(Y){e.onTouch&&!e.onTouch(Y)||(Y.stopPropagation(),Y.preventDefault())}function uu(Y){Zn(),!(e.onDoubleClick&&!e.onDoubleClick(Y))&&(Y.preventDefault(),Y.stopPropagation())}function lu(Y){I=new Date;var ft=Y.touches[0],ct=Nr(ft);B=ct;var bt=G(ct.x,ct.y);L=bt.x,z=bt.y,H=L,V=z,J.cancel(),so()}function so(){A||(A=!0,document.addEventListener("touchmove",di),document.addEventListener("touchend",Ca),document.addEventListener("touchcancel",Ca))}function di(Y){if(Y.touches.length===1){Y.stopPropagation();var ft=Y.touches[0],ct=Nr(ft),bt=G(ct.x,ct.y),ae=bt.x-L,de=bt.y-z;ae!==0&&de!==0&&mo(),L=bt.x,z=bt.y,at(ae,de)}else if(Y.touches.length===2){Q=!0;var ve=Y.touches[0],Be=Y.touches[1],Tn=Ea(ve,Be),vn=1+(Tn/tt-1)*c,bo=Nr(ve),yo=Nr(Be);if(L=(bo.x+yo.x)/2,z=(bo.y+yo.y)/2,x){var ct=Dn();L=ct.x,z=ct.y}Ta(L,z,vn),tt=Tn,Y.stopPropagation(),Y.preventDefault()}}function Zn(){R&&(clearTimeout(R),R=0)}function uo(Y){if(!!e.onClick){Zn();var ft=L-H,ct=z-V,bt=Math.sqrt(ft*ft+ct*ct);bt>5||(R=setTimeout(function(){R=0,e.onClick(Y)},oh))}}function Ca(Y){if(Zn(),Y.touches.length>0){var ft=Nr(Y.touches[0]),ct=G(ft.x,ft.y);L=ct.x,z=ct.y}else{var bt=new Date;if(bt-C<oh)if(x){var ft=Dn();Da(ft.x,ft.y,g)}else Da(B.x,B.y,g);else bt-I<sh&&uo(Y);C=bt,vi(),po()}}function Ea(Y,ft){var ct=Y.clientX-ft.clientX,bt=Y.clientY-ft.clientY;return Math.sqrt(ct*ct+bt*bt)}function lo(Y){uu(Y);var ft=Nr(Y);x&&(ft=Dn()),Da(ft.x,ft.y,g)}function Ma(Y){if(Zn(),!y(Y)){if(k=Y,O=new Date,A)return Y.stopPropagation(),!1;var ft=Y.button===1&&window.event!==null||Y.button===0;if(!!ft){J.cancel();var ct=Nr(Y),bt=G(ct.x,ct.y);return H=L=bt.x,V=z=bt.y,document.addEventListener("mousemove",fo),document.addEventListener("mouseup",co),E.capture(Y.target||Y.srcElement),!1}}}function fo(Y){if(!A){mo();var ft=Nr(Y),ct=G(ft.x,ft.y),bt=ct.x-L,ae=ct.y-z;L=ct.x,z=ct.y,at(bt,ae)}}function co(){var Y=new Date;Y-O<sh&&uo(k),E.release(),vi(),vo()}function vo(){document.removeEventListener("mousemove",fo),document.removeEventListener("mouseup",co),N=!1}function po(){document.removeEventListener("touchmove",di),document.removeEventListener("touchend",Ca),document.removeEventListener("touchcancel",Ca),N=!1,Q=!1,A=!1}function ho(Y){if(!b(Y)){J.cancel();var ft=Y.deltaY;Y.deltaMode>0&&(ft*=100);var ct=go(ft);if(ct!==1){var bt=x?Dn():Nr(Y);Ta(bt.x,bt.y,ct),Y.preventDefault()}}}function Nr(Y){var ft,ct,bt=n.getBoundingClientRect();return ft=Y.clientX-bt.left,ct=Y.clientY-bt.top,{x:ft,y:ct}}function Da(Y,ft,ct){var bt=u.scale,ae={scale:bt},de={scale:ct*bt};J.cancel(),Ra(),X=ql(ae,de,{step:function(ve){ce(Y,ft,ve.scale)},done:cu})}function fu(Y,ft,ct){var bt=u.scale,ae={scale:bt},de={scale:ct};J.cancel(),Ra(),X=ql(ae,de,{step:function(ve){ce(Y,ft,ve.scale)}})}function Dn(){var Y=n.getBoundingClientRect();return{x:Y.width*x.x,y:Y.height*x.y}}function Ta(Y,ft,ct){return J.cancel(),Ra(),Lt(Y,ft,ct)}function Ra(){X&&(X.cancel(),X=null)}function go(Y){var ft=Math.sign(Y),ct=Math.min(.25,Math.abs(_*Y/128));return 1-ft*ct}function mo(){N||(Wr("panstart"),N=!0,J.start())}function vi(){N&&(Q||J.stop(),Wr("panend"))}function cu(){Wr("zoomend")}function Wr(Y){_t.fire(Y,_t)}}function uh(t){if(!!t){if(typeof t=="object")return(!Za(t.x)||!Za(t.y))&&lh(t),t;lh()}}function lh(t){throw console.error(t),new Error(["Cannot parse transform origin.","Some good examples:",'  "center center" can be achieved with {x: 0.5, y: 0.5}','  "top center" can be achieved with {x: 0.5, y: 0}','  "bottom right" can be achieved with {x: 1, y: 1}'].join(`
`))}function ti(){}function dT(t){var e=typeof t;if(!(e==="undefined"||e==="boolean")){var r=Za(t.left)&&Za(t.top)&&Za(t.bottom)&&Za(t.right);if(!r)throw new Error("Bounds object is not valid. It can be: undefined, boolean (true|false) or an object {left, top, right, bottom}")}}function Za(t){return Number.isFinite(t)}function Nl(t){return Number.isNaN?Number.isNaN(t):t!==t}function vT(){return{start:ti,stop:ti,cancel:ti}}function pT(){if(typeof document=="undefined")return;var t=document.getElementsByTagName("script");if(!t)return;for(var e,r=0;r<t.length;++r){var n=t[r];if(n.src&&n.src.match(/\bpanzoom(\.min)?\.js/)){e=n;break}}if(!e)return;var a=e.getAttribute("query");if(!a)return;var o=e.getAttribute("name")||"pz",u=Date.now();l();function l(){var v=document.querySelector(a);if(!v){var h=Date.now(),p=h-u;if(p<2e3){setTimeout(l,100);return}console.error("Cannot find the panzoom element",o);return}var g=c(e);console.log(g),window[o]=O0(v,g)}function c(v){for(var h=v.attributes,p={},g=0;g<h.length;++g){var b=h[g],y=f(b);y&&(p[y.name]=y.value)}return p}function f(v){if(!!v.name){var h=v.name[0]==="p"&&v.name[1]==="z"&&v.name[2]==="-";if(!!h){var p=v.name.substr(3),g=JSON.parse(v.value);return{name:p,value:g}}}}}pT();const hT=$r({name:"DuctEl"}),gT={viewBox:"29.11 -4.312 470.89 47.466",version:"1.1",xmlns:"http://www.w3.org/2000/svg",preserveAspectRatio:"none",width:"100%",height:"100%"},mT=tr("g",{style:{},transform:"matrix(0.894879, 0, 0, 0.632443, -173.045822, -2.156334)"},[tr("path",{d:"M 225.903 35.245 L 250 71.643 L 752.108 71.643 L 735.361 35.245 L 752.108 -3.408 L 250 -1.153 L 225.903 35.245 Z",style:{fill:"rgb(166, 166, 166)"}})],-1),bT=[mT];function yT(t,e,r,n,a,o){return jt(),or("svg",gT,bT)}var _T=rn(hT,[["render",yT]]);const ST=$r({name:"FanEl",props:{active:{type:Boolean,required:!1,default:!1},inAlarm:{type:Boolean,required:!1,default:!1}}}),xT=Zi('<g fill="#659dc5" transform="matrix(1, 0, 0, 1, -0.231, -4.151388)" data-v-0b1532dd><g class="fan" data-v-0b1532dd><g id="g8" data-v-0b1532dd><path class="fan-background" d="m12.297 5.154c-6.117 0-11.066 4.9492-11.066 11.066 0 6.117 4.9492 11.066 11.066 11.066 5.7137 0 10.408-4.3091 11.003-9.8647h7.525v-12.268h-18.148c-0.12601-0.0043-0.25236 0-0.37941 0z" fill-rule="evenodd" stroke="#000" stroke-width="1px" fill="inherit" data-v-0b1532dd></path></g><g id="g4148" transform="translate(12.464 16.395)" data-v-0b1532dd><g id="g4162" stroke="#000" stroke-width="1.5" fill="none" class="rotating-middle" data-v-0b1532dd><path id="use3009" d="m-1.8112-3.9787 3.6227-4.4971" data-v-0b1532dd></path><path id="use3011" d="m0.87376-4.2835 5.5741-1.5089" data-v-0b1532dd></path><path id="use3013" d="m3.2243-2.9521 5.3965 2.0557" data-v-0b1532dd></path><path id="use3015" d="m4.3433-0.4935 3.1575 4.835" data-v-0b1532dd></path><path id="use3017" d="m3.8043 2.1547-0.28747 5.7676" data-v-0b1532dd></path><path id="use3019" d="m1.8113 3.9787-3.6227 4.4971" data-v-0b1532dd></path><path id="use3021" d="m-0.87324 4.2837-5.5741 1.5089" data-v-0b1532dd></path><path id="use3023" d="m-3.2242 2.9527-5.3965-2.0559" data-v-0b1532dd></path><path id="use3025" d="m-4.3432 0.4935-3.158-4.8353" data-v-0b1532dd></path><path id="use3027" d="m-3.8032-2.1541 0.2875-5.7676" data-v-0b1532dd></path></g></g></g></g>',1),wT=[xT];function CT(t,e,r,n,a,o){return jt(),or("svg",{height:"100%",width:"100%",viewBox:"0 0 32 24",version:"1.1",xmlns:"http://www.w3.org/2000/svg",class:ji({active:t.active,"in-alarm":t.inAlarm})},wT,2)}var ET=rn(ST,[["render",CT],["__scopeId","data-v-0b1532dd"]]);const MT=$r({name:"CoolingCoil",props:{active:{type:Boolean,required:!1,default:!1},inAlarm:{type:Boolean,required:!1,default:!1}}}),DT=Zi('<g stroke="#000" transform="matrix(1, 0, 0, 1, -6.058399, -1.3729)" data-v-7495a0c9><rect id="rect4367" height="27.246" width="17.868" x="7.066" y="2.3772" fill="#659dc5" data-v-7495a0c9></rect><g transform="translate(24.9334,29.6232) rotate(180)" data-v-7495a0c9><rect id="rect4367" class="cooling-coil" height="27.246" width="17.875" x="0" y="0" fill="#659dc5" stroke="none" data-v-7495a0c9></rect></g><rect id="rect4367" height="27.246" width="17.868" x="7.066" y="2.3772" fill="none" data-v-7495a0c9></rect><path id="path3001" d="m7.322 2.3729 17.424 27.254" stroke-width="1px" fill="none" data-v-7495a0c9></path><path id="path3003" d="m24.929 2.3734-17.642 27.182" stroke-width="1px" fill="none" data-v-7495a0c9></path></g>',1),TT=[DT];function RT(t,e,r,n,a,o){return jt(),or("svg",{viewBox:"0 0 20 29",height:"100%",width:"100%",version:"1.1",xmlns:"http://www.w3.org/2000/svg",class:ji({active:t.active,"in-alarm":t.inAlarm})},TT,2)}var kT=rn(MT,[["render",RT],["__scopeId","data-v-7495a0c9"]]);const IT=$r({name:"HeatingCoil",props:{active:{type:Boolean,required:!1,default:!1},inAlarm:{type:Boolean,required:!1,default:!1}}}),OT=Zi('<defs id="defs3" data-v-255f5864><rect id="heating-coil-rect" height="27.246" width="17.868" x="0" y="0" data-v-255f5864></rect></defs><g stroke="#000000" id="g15" transform="translate(-6.129206,-1.5327875)" data-v-255f5864><use xlink:href="#heating-coil-rect" fill="#659dc5" stroke="none" x="7.066" y="2.3771999" id="use6" data-v-255f5864></use><g transform="rotate(180,12.4667,14.8116)" id="g10" data-v-255f5864><use xlink:href="#heating-coil-rect" class="heating-coil" x="0" y="0" fill="#659dc5" stroke="none" id="use8" data-v-255f5864></use></g><use xlink:href="#heating-coil-rect" stroke-width="1" fill="none" x="7.066" y="2.3771999" id="use12" data-v-255f5864></use><path id="path3003" stroke-linejoin="miter" d="M 24.929,2.3734 7.2868,29.555" stroke="#000000" stroke-linecap="butt" stroke-width="1px" fill="none" data-v-255f5864></path></g>',2),BT=[OT];function PT(t,e,r,n,a,o){return jt(),or("svg",{viewBox:"0 0 19.526541 28.758413",height:"100%",width:"100%",version:"1.1",xmlns:"http://www.w3.org/2000/svg",class:ji({active:t.active,"in-alarm":t.inAlarm})},BT,2)}var AT=rn(IT,[["render",PT],["__scopeId","data-v-255f5864"]]);const zT=$r({name:"FilterEl"}),LT={viewBox:"0 0 13 29",height:"100%",width:"100%",version:"1.1",xmlns:"http://www.w3.org/2000/svg"},FT=tr("g",{stroke:"#000","stroke-width":"1",transform:"matrix(1, 0, 0, 1, -9.37, -1.3252)"},[tr("rect",{id:"rect4367",height:"27.35",width:"11.26",y:"2.3252",x:"10.37",fill:"#659dc5"}),tr("path",{id:"path3756","stroke-linejoin":"miter",d:"m11.892,2.6997,8.2165,4.4334-8.2165,4.4334,8.2165,4.4334-8.2165,4.4334,8.2165,4.4334-8.2165,4.4334","stroke-linecap":"round","stroke-miterlimit":"4","stroke-dasharray":"none","stroke-width":"1.2694304",fill:"none"})],-1),GT=[FT];function $T(t,e,r,n,a,o){return jt(),or("svg",LT,GT)}var qT=rn(zT,[["render",$T]]);const NT=$r({name:"HumidifierEl",props:{active:{type:Boolean,required:!1,default:!1},inAlarm:{type:Boolean,required:!1,default:!1}}}),WT=Zi('<g class="duct-humidifier" transform="matrix(1, 0, 0, 1, -3.324199, -7.877)" data-v-451def2c><g id="g11" transform="translate(0 5.1505)" data-v-451def2c><g id="g13" stroke="#000" stroke-width=".5" class="water-drops" fill="#00f0ff" data-v-451def2c><path id="path4150" d="m14.291 6.7851c0.46542-0.0958 0.69019-0.27099 0.99164-0.49615 0.10429-0.07789 0.23068-0.12587 0.37088-0.12587 0.34281 0 0.62078 0.27918 0.62078 0.62199s-0.27796 0.61956-0.62078 0.61956c-0.13834 0-0.26988-0.0428-0.37088-0.1222-0.29895-0.23498-0.52493-0.40696-0.99168-0.49732z" data-v-451def2c></path><g id="g4236" transform="translate(0 .17167)" data-v-451def2c><path id="path4150-7" d="m18.179 5.3612c0.46542-0.0958 0.69019-0.27099 0.99164-0.49615 0.10429-0.07789 0.23068-0.12587 0.37088-0.12587 0.34281 0 0.62078 0.27918 0.62078 0.62199s-0.27796 0.61956-0.62078 0.61956c-0.13834 0-0.26988-0.0428-0.37088-0.1222-0.29895-0.23498-0.52493-0.40696-0.99168-0.49732z" data-v-451def2c></path><path id="path4150-7-1" d="m18.234 7.8656c0.46542-0.0958 0.69019-0.27099 0.99164-0.49615 0.10429-0.07789 0.23068-0.12587 0.37088-0.12587 0.34281 0 0.62078 0.27918 0.62078 0.62199s-0.27796 0.61956-0.62078 0.61956c-0.13834 0-0.26988-0.0428-0.37088-0.1222-0.29895-0.23498-0.52493-0.40696-0.99168-0.49732z" data-v-451def2c></path></g></g><g id="g19" transform="translate(0,8)" data-v-451def2c><g id="g21" stroke="#000" stroke-width=".5" class="water-drops water-drops-2" fill="#00f0ff" data-v-451def2c><path id="path23" d="m14.291 6.7851c0.46542-0.0958 0.69019-0.27099 0.99164-0.49615 0.10429-0.07789 0.23068-0.12587 0.37088-0.12587 0.34281 0 0.62078 0.27918 0.62078 0.62199s-0.27796 0.61956-0.62078 0.61956c-0.13834 0-0.26988-0.0428-0.37088-0.1222-0.29895-0.23498-0.52493-0.40696-0.99168-0.49732z" data-v-451def2c></path><g id="g25" transform="translate(0 .17167)" data-v-451def2c><path id="path27" d="m18.179 5.3612c0.46542-0.0958 0.69019-0.27099 0.99164-0.49615 0.10429-0.07789 0.23068-0.12587 0.37088-0.12587 0.34281 0 0.62078 0.27918 0.62078 0.62199s-0.27796 0.61956-0.62078 0.61956c-0.13834 0-0.26988-0.0428-0.37088-0.1222-0.29895-0.23498-0.52493-0.40696-0.99168-0.49732z" data-v-451def2c></path><path id="path29" d="m18.234 7.8656c0.46542-0.0958 0.69019-0.27099 0.99164-0.49615 0.10429-0.07789 0.23068-0.12587 0.37088-0.12587 0.34281 0 0.62078 0.27918 0.62078 0.62199s-0.27796 0.61956-0.62078 0.61956c-0.13834 0-0.26988-0.0428-0.37088-0.1222-0.29895-0.23498-0.52493-0.40696-0.99168-0.49732z" data-v-451def2c></path></g></g></g></g><path id="rect4136-6" class="humidifier-body" d="m4.3242 8.877v22.586h4.0059v-9.883h4.3789v-2.617h-4.3789v-5.721h4.3789v-2.617h-4.3789v-1.748h-4.0059z" stroke="#000" fill="#659dc5" data-v-451def2c></path></g>',1),VT=[WT];function HT(t,e,r,n,a,o){return jt(),or("svg",{viewBox:"0 0 18 25",height:"100%",width:"100%",version:"1.1",xmlns:"http://www.w3.org/2000/svg","xmlns:bx":"https://boxy-svg.com",class:ji({inactive:!t.active,active:t.active,"in-alarm":t.inAlarm})},VT,2)}var YT=rn(NT,[["render",HT],["__scopeId","data-v-451def2c"]]);const XT=$r({name:"DamperEl",props:{inAlarm:{type:Boolean,required:!1,default:!1}}}),UT=Zi('<rect id="rect4367" class="damper" height="27.5" width="12" stroke="#000000" stroke-miterlimit="4" x="0.69481522" y="0.67645228" stroke-dasharray="none" stroke-width="1" fill="#659dc5" data-v-5ff604df></rect><g stroke="#000000" stroke-width="1.5px" id="g19" transform="translate(-9.3051848,-1.5735477)" data-v-5ff604df><g transform="translate(16,7)" id="g5" data-v-5ff604df><line x1="-5" x2="5" y1="0" y2="0" transform="rotate(-35)" class="damper-line" id="line3" data-v-5ff604df></line></g><g transform="translate(16,13)" id="g9" data-v-5ff604df><line x1="-5" x2="5" y1="0" y2="0" transform="rotate(-35)" class="damper-line" id="line7" data-v-5ff604df></line></g><g transform="translate(16,19)" id="g13" data-v-5ff604df><line x1="-5" x2="5" y1="0" y2="0" transform="rotate(-35)" class="damper-line" id="line11" data-v-5ff604df></line></g><g transform="translate(16,25)" id="g17" data-v-5ff604df><line x1="-5" x2="5" y1="0" y2="0" transform="rotate(-35)" class="damper-line" id="line15" data-v-5ff604df></line></g></g><g id="g4877" stroke-linejoin="miter" transform="matrix(1.2268237,0,0,0.94845469,-13.299764,-1.1862851)" stroke="#000000" stroke-linecap="butt" fill="none" data-v-5ff604df><path id="path4317" stroke-width="1.06273px" d="m 16.298,2.2402 v 28.442" data-v-5ff604df></path></g>',3),KT=[UT];function jT(t,e,r,n,a,o){return jt(),or("svg",{viewBox:"0 0 13.431694 28.950886",height:"100%",width:"100%",version:"1.1",xmlns:"http://www.w3.org/2000/svg",class:ji({"in-alarm":t.inAlarm})},KT,2)}var ZT=rn(XT,[["render",jT],["__scopeId","data-v-5ff604df"]]);const QT=$r({name:"TextEl",props:{content:{type:String,default:"Text element"},fontSize:{type:Number,default:16},color:{type:String,default:"black"}},setup(){const t=Ft(!1),e=Ft(null);return Ki(()=>{e.value.focus()}),{editable:t,editableElement:e}}});function JT(t,e,r,n,a,o){return jt(),or("div",{ref:"editableElement",contenteditable:!0,style:_h(`font-size: ${t.fontSize}px; color: ${t.color}`)},gw(t.content),5)}var tR=rn(QT,[["render",JT]]);const eR=$r({name:"TemperatureEl"}),rR={height:"100%",width:"100%",version:"1.1",viewBox:"0 0 10.423067 22.852614",xmlns:"http://www.w3.org/2000/svg"},nR=tr("g",{id:"layer1",stroke:"#000000","stroke-width":"1px",transform:"translate(-10.804626,-9.2243756)"},[tr("rect",{id:"rect3012",height:"14.505",width:"2.901",y:"9.9127998",x:"14.557",fill:"#ffff00"}),tr("path",{id:"path3010","stroke-width":"1.2px",transform:"matrix(0.74098,0,0,0.74098,7.3047,15.679)",fill:"#659dc5",d:"m 17.949,15.898 -3.1021,5.373 H 8.6427 L 5.5406,15.898 8.6427,10.525 h 6.2042 z"})],-1),aR=tr("g",{id:"g4141",transform:"translate(-1.2033861,-8.1217684)"},[tr("circle",{r:"0.77312505",cy:"28.129852",cx:"6.4061227",id:"path4137",style:{fill:"none","fill-opacity":"1",stroke:"#000000","stroke-width":"0.5","stroke-miterlimit":"4","stroke-dasharray":"none","stroke-opacity":"1"}}),tr("path",{"inkscape:connector-curvature":"0",id:"path4139",d:"M 6.4061205,27.157211 V 23.65349",style:{fill:"none","fill-rule":"evenodd",stroke:"#000000","stroke-width":"0.5","stroke-linecap":"butt","stroke-linejoin":"miter","stroke-miterlimit":"4","stroke-dasharray":"none","stroke-opacity":"1"}})],-1),iR=[nR,aR];function oR(t,e,r,n,a,o){return jt(),or("svg",rR,iR)}var sR=rn(eR,[["render",oR]]);const uR=$r({name:"ObjectType",components:{Duct:_T,Fan:ET,CoolingCoil:kT,HeatingCoil:AT,Filter:qT,Humidifier:YT,Damper:ZT,Text:tR,Temperature:sR},props:{item:{type:Object,required:!0}}});function lR(t,e,r,n,a,o){const u=Pr("fan"),l=Pr("duct"),c=Pr("cooling-coil"),f=Pr("heating-coil"),v=Pr("Filter"),h=Pr("humidifier"),p=Pr("damper"),g=Pr("Text"),b=Pr("temperature");return t.item.type==="Fan"?(jt(),xe(u,Fn({key:0,class:"movable-item fan"},t.item.props),null,16)):t.item.type==="Duct"?(jt(),xe(l,{key:1,class:"movable-item duct"})):t.item.type==="CoolingCoil"?(jt(),xe(c,Fn({key:2,class:"movable-item cooling-coil"},t.item.props),null,16)):t.item.type==="HeatingCoil"?(jt(),xe(f,Fn({key:3,class:"movable-item heating-coil"},t.item.props),null,16)):t.item.type==="Filter"?(jt(),xe(v,Fn({key:4,class:"movable-item filter"},t.item.props),null,16)):t.item.type==="Humidifier"?(jt(),xe(h,Fn({key:5,class:"movable-item humidifier"},t.item.props),null,16)):t.item.type==="Damper"?(jt(),xe(p,Fn({key:6,class:"movable-item damper"},t.item.props),null,16)):t.item.type==="Text"?(jt(),xe(g,Fn({key:7,class:"movable-item text"},t.item.props),null,16)):t.item.type==="Temperature"?(jt(),xe(b,Fn({key:8,class:"movable-item temperature"},t.item.props),null,16)):Ya("",!0)}var fR=rn(uR,[["render",lR]]);const cR=$r({name:"IndexPage",components:{VueMoveable:gc,VueSelecto:bc,ObjectType:fR},setup(){var Dt,Et;const t=uC(),e=Ft(null),r=Ft(null),n=Ft(null),a=Ft([]),o=Ft("Pointer"),u=[{name:"Pointer",icon:"img:/cursor.svg"},{name:"Text",icon:"title",props:{content:"Text",color:"black",fontSize:16}},{name:"Duct",icon:"img:/duct.svg"},{name:"Fan",icon:"img:/fan.svg",props:{active:!1,inAlarm:!1}},{name:"CoolingCoil",icon:"img:/cooling-coil.svg",props:{active:!1,inAlarm:!1}},{name:"HeatingCoil",icon:"img:/heating-coil.svg",props:{active:!1,inAlarm:!1}},{name:"Filter",icon:"img:/filter.svg"},{name:"Humidifier",icon:"img:/humidifier.svg",props:{active:!1,inAlarm:!1}},{name:"Damper",icon:"img:/damper.svg",props:{inAlarm:!1}},{name:"Temperature",icon:"img:/temperature.svg"}];let l=null;const c={items:[],selectedTargets:[],elementGuidelines:[],itemsCount:0,activeItemIndex:null,viewportTransform:{x:0,y:0,scale:1}},f=Ft(ca.exports.cloneDeep(c));Ki(()=>{var G,U;l=cT(n.value,{maxZoom:4,minZoom:.1,zoomDoubleClickSpeed:1,filterKey:function(){return!0},beforeMouseDown:function(ut){var pt=!ut.altKey;return pt}}),l.on("transform",function(ut){f.value.viewportTransform=ut.getTransform()});const T=document.querySelectorAll(".movable-item");Array.from(T).forEach(function(ut){f.value.elementGuidelines.push(ut)}),(U=(G=window.chrome)==null?void 0:G.webview)==null||U.postMessage({action:1})}),mw(()=>{!l||l.dispose()}),(Et=(Dt=window.chrome)==null?void 0:Dt.webview)==null||Et.addEventListener("message",T=>{var G;if(console.log("Recieved webview message",T.data),"action"in T.data)if(T.data.action="setInput"){const U=f.value.items.findIndex(ut=>ut.inputId===T.data.data.inputId&&ut.panelId===T.data.panelId);U&&((G=f.value.items[U])==null?void 0:G.props)&&(T.data.data.value==="On"?f.value.items[U].props.active:f.value.items[U].props.active)}else(T.data.action="setInitialData")&&(f.value=T.data.data)});function v(T){r.value.clickTarget(T.inputEvent,T.inputTarget)}function h(T){const G=f.value.items.find(U=>`movable-item-${U.id}`===T.target.id);G.translate=T.beforeTranslate}function p(T){T.events.forEach((G,U)=>{const ut=f.value.items.findIndex(pt=>`movable-item-${pt.id}`===G.target.id);G.set(f.value.items[ut].translate)})}function g(T){T.events.forEach((G,U)=>{const ut=f.value.items.findIndex(pt=>`movable-item-${pt.id}`===G.target.id);f.value.items[ut].translate=G.beforeTranslate})}function b(T){const G=T.inputEvent.target;(e.value.isMoveableElement(G)||f.value.selectedTargets.some(U=>U===G||U.contains(G)))&&T.stop()}function y(T){f.value.selectedTargets=T.selected,f.value.selectedTargets.length===1?f.value.activeItemIndex=f.value.items.findIndex(G=>`movable-item-${G.id}`===f.value.selectedTargets[0].id):f.value.activeItemIndex=null,T.isDragStart&&(T.inputEvent.preventDefault(),setTimeout(()=>{e.value.dragStart(T.inputEvent)}))}function _(T){const G=f.value.items.findIndex(U=>`movable-item-${U.id}`===T.target.id);T.setOrigin(["%","%"]),T.dragStart&&T.dragStart.set(f.value.items[G].translate)}function x(T){const G=f.value.items.find(U=>`movable-item-${U.id}`===T.target.id);T.target.style.width=`${T.width}px`,T.target.style.height=`${T.height}px`,T.target.style.transform=`translate(${T.drag.beforeTranslate[0]}px, ${T.drag.beforeTranslate[1]}px) rotate(${G.rotate}deg) scaleX(${G.scaleX}) scaleY(${G.scaleY})`}function E(T){const G=f.value.items.findIndex(U=>`movable-item-${U.id}`===T.lastEvent.target.id);f.value.items[G].width=T.lastEvent.width,f.value.items[G].height=T.lastEvent.height,f.value.items[G].translate=T.lastEvent.drag.beforeTranslate}function w(T){const G=f.value.items.find(U=>`movable-item-${U.id}`===T.target.id);G.rotate=T.rotate}function C(T){T.events.forEach((G,U)=>{G.dragStart&&G.dragStart.set(f.value.items[U].translate)})}function I(T){T.events.forEach((G,U)=>{const ut=f.value.items.find(pt=>`movable-item-${pt.id}`===G.target.id);G.target.style.width=`${G.width}px`,G.target.style.height=`${G.height}px`,G.target.style.transform=`translate(${G.drag.beforeTranslate[0]}px, ${G.drag.beforeTranslate[1]}px) rotate(${ut.rotate}deg) scaleX(${ut.scaleX}) scaleY(${ut.scaleY}) `})}function R(T){T.events.forEach(G=>{const U=f.value.items.findIndex(ut=>`movable-item-${ut.id}`===G.lastEvent.target.id);f.value.items[U].width=G.lastEvent.width,f.value.items[U].height=G.lastEvent.height,f.value.items[U].translate=G.lastEvent.drag.beforeTranslate})}function k(T){T.events.forEach(G=>{const U=f.value.items.findIndex(ut=>`movable-item-${ut.id}`===G.target.id);G.set(f.value.items[U].rotate),G.dragStart&&G.dragStart.set(f.value.items[U].translate)})}function O(T){T.events.forEach((G,U)=>{const ut=f.value.items.findIndex(pt=>`movable-item-${pt.id}`===G.target.id);f.value.items[ut].translate=G.drag.beforeTranslate,f.value.items[ut].rotate=G.rotate})}function B(T){f.value.itemsCount++,T.id=f.value.itemsCount,f.value.items.push(T);const G=document.querySelectorAll(".movable-item");return f.value.elementGuidelines=[],Array.from(G).forEach(function(U){f.value.elementGuidelines.push(U)}),T}const A={top:36,left:56};function N(T){var ut;if(o.value==="Pointer"||T.rect.width<20||T.rect.height<20)return;const G=1/f.value.viewportTransform.scale,U=B({active:!1,type:o.value,translate:[(T.rect.left-A.left-f.value.viewportTransform.x)*G,(T.rect.top-A.top-f.value.viewportTransform.y)*G],width:T.rect.width*G,height:T.rect.height*G,rotate:0,scaleX:1,scaleY:1,props:((ut=u.find(pt=>pt.name===o.value))==null?void 0:ut.props)||{},zindex:1,panelId:null,inputId:null});setTimeout(()=>{const pt=document.querySelector(`#movable-item-${U.id}`);f.value.selectedTargets=[pt],f.value.activeItemIndex=f.value.items.findIndex(dt=>dt.id===U.id)},10)}function L(T){o.value=T}function z(){const T=ca.exports.cloneDeep(f.value.selectedTargets);f.value.selectedTargets=[],setTimeout(()=>{f.value.selectedTargets=T},10)}function H(T,G=!1){G?T.rotate=T.rotate-90:T.rotate=T.rotate+90,z()}function V(T){T.scaleX===1?T.scaleX=-1:T.scaleX=1,z()}function tt(T){T.scaleY===1?T.scaleY=-1:T.scaleY=1,z()}function J(T){T.zindex=T.zindex+1}function ot(T){T.zindex=T.zindex-1}function X(T){const G=f.value.items.findIndex(U=>U.id===T.id);f.value.activeItemIndex=null,f.value.items.splice(G,1),f.value.selectedTargets=[]}function Q(T){f.value.activeItemIndex=null;const G=ca.exports.cloneDeep(T);G.translate[0]=G.translate[0]+10,G.translate[1]=G.translate[1]+10;const U=B(G);f.value.selectedTargets=[],setTimeout(()=>{const ut=document.querySelector(`#movable-item-${U.id}`);f.value.selectedTargets=[ut],f.value.activeItemIndex=f.value.items.findIndex(pt=>pt.id===U.id)},10)}function lt(T){r.value.clickTarget(T)}function _t(T=!1){T&&z()}function Ct(T){return!T.inputEvent.altKey}function gt(T){var G,U;T.panelId&&T.inputId&&((U=(G=window.chrome)==null?void 0:G.webview)==null||U.postMessage({action:0,panelId:T.panelId,inputId:T.inputId}))}function vt(){var T,G;(G=(T=window.chrome)==null?void 0:T.webview)==null||G.postMessage({action:2,data:bw(f.value)})}function yt(){var T;if(((T=f.value.items)==null?void 0:T.length)>0){t.dialog({dark:!0,title:"Do you want to clear the drawing?",message:"This will also erase your undo history",cancel:!0,persistent:!0}).onOk(()=>{f.value=ca.exports.cloneDeep(c),z()}).onCancel(()=>{});return}f.value=ca.exports.cloneDeep(c),z()}return{movable:e,selecto:r,appState:f,addObject:B,viewport:n,onClickGroup:v,onDrag:h,onDragGroup:g,onDragStart:b,onDragGroupStart:p,onSelectEnd:y,targets:a,onResize:x,onResizeEnd:E,onRotate:w,onResizeGroupStart:C,onResizeGroup:I,onRotateGroupStart:k,onResizeGroupEnd:R,onRotateGroup:O,onResizeStart:_,onSelectoDragEnd:N,selectTool:L,tools:u,selectedTool:o,rotete90:H,flipH:V,flipV:tt,bringToFront:J,sendToBack:ot,removeObject:X,selectByRightClick:lt,objectPropChanged:_t,selectoDragCondition:Ct,duplicateObject:Q,getInputFromWebViewHost:gt,newProject:yt,save:vt}}}),dR={class:"flex no-wrap items-start justify-between"},vR={class:"tools flex column"},pR={class:"viewport"},hR={ref:"viewport"},gR=["id"],mR={key:0,class:"item-config flex column"},bR={class:"grid gap-4 grid-cols-2 mb-4"};function yR(t,e,r,n,a,o){const u=Pr("vue-selecto"),l=Pr("vue-moveable"),c=Pr("object-type");return jt(),xe(sC,null,{default:Kt(()=>[tr("div",dR,[tr("div",vR,[zt(wl,{class:"rounded-borders text-primary"},{default:Kt(()=>[(jt(!0),or(Yv,null,Hv(t.tools,f=>Br((jt(),xe(Ur,{key:f.name,onClick:v=>t.selectTool(f.name),clickable:"",active:t.selectedTool===f.name,"active-class":"active-tool"},{default:Kt(()=>[zt(ar,null,{default:Kt(()=>[zt(Ar,{name:f.icon,size:"sm"},null,8,["name"])]),_:2},1024)]),_:2},1032,["onClick","active"])),[[Rf]])),128))]),_:1})]),tr("div",pR,[zt(Bw,{class:"toolbar text-white shadow-2"},{default:Kt(()=>[zt(Ow,{"no-caps":"",stretch:"",flat:"","content-class":"menu-dropdown",label:"File"},{default:Kt(()=>[zt(wl,null,{default:Kt(()=>[Br((jt(),xe(Ur,{dense:"",clickable:"",onClick:t.newProject,tabindex:"0"},{default:Kt(()=>[zt(ar,{avatar:""},{default:Kt(()=>[zt(Uv,{size:"md",icon:"assignment",color:"primary","text-color":"white"})]),_:1}),zt(ar,null,{default:Kt(()=>[zt(Kv,null,{default:Kt(()=>[Or("New Project")]),_:1})]),_:1}),zt(ar,{side:""},{default:Kt(()=>[zt(jv,null,{default:Kt(()=>[Or("Ctrl + N")]),_:1})]),_:1})]),_:1},8,["onClick"])),[[sn]]),zt(os,{inset:"",spaced:""}),Br((jt(),xe(Ur,{dense:"",clickable:"",onClick:t.save,tabindex:"0"},{default:Kt(()=>[zt(ar,{avatar:""},{default:Kt(()=>[zt(Uv,{size:"md",icon:"assignment",color:"primary","text-color":"white"})]),_:1}),zt(ar,null,{default:Kt(()=>[zt(Kv,null,{default:Kt(()=>[Or("Save")]),_:1})]),_:1}),zt(ar,{side:""},{default:Kt(()=>[zt(jv,null,{default:Kt(()=>[Or("Ctrl + S")]),_:1})]),_:1})]),_:1},8,["onClick"])),[[sn]])]),_:1})]),_:1}),zt(Fi,{"no-caps":"",stretch:"",flat:"",label:"Edit"}),zt(Fi,{"no-caps":"",stretch:"",flat:"",label:"Object"})]),_:1}),zt(u,{ref:"selecto",dragContainer:".viewport",selectableTargets:t.targets,hitRate:100,selectByClick:!0,selectFromInside:!0,toggleContinueSelect:["shift"],ratio:0,boundContainer:!0,onDragStart:t.onDragStart,onSelectEnd:t.onSelectEnd,onDragEnd:t.onSelectoDragEnd,dragCondition:t.selectoDragCondition},null,8,["selectableTargets","onDragStart","onSelectEnd","onDragEnd","dragCondition"]),tr("div",hR,[zt(l,{ref:"movable",draggable:!0,resizable:!0,rotatable:!0,target:t.appState.selectedTargets,snappable:!0,snapThreshold:10,isDisplaySnapDigit:!0,snapGap:!0,snapDirections:{top:!0,right:!0,bottom:!0,left:!0},elementSnapDirections:{top:!0,right:!0,bottom:!0,left:!0},snapDigit:0,elementGuidelines:t.appState.elementGuidelines,origin:!0,throttleResize:0,throttleRotate:0,rotationPosition:"top",originDraggable:!0,originRelative:!0,defaultGroupRotate:0,defaultGroupOrigin:"50% 50%",padding:{left:0,top:0,right:0,bottom:0},onClickGroup:t.onClickGroup,onDrag:t.onDrag,onDragGroupStart:t.onDragGroupStart,onDragGroup:t.onDragGroup,onResizeStart:t.onResizeStart,onResize:t.onResize,onResizeEnd:t.onResizeEnd,onRotate:t.onRotate,onResizeGroupStart:t.onResizeGroupStart,onResizeGroup:t.onResizeGroup,onResizeGroupEnd:t.onResizeGroupEnd,onRotateGroupStart:t.onRotateGroupStart,onRotateGroup:t.onRotateGroup},null,8,["target","elementGuidelines","onClickGroup","onDrag","onDragGroupStart","onDragGroup","onResizeStart","onResize","onResizeEnd","onRotate","onResizeGroupStart","onResizeGroup","onResizeGroupEnd","onRotateGroupStart","onRotateGroup"]),(jt(!0),or(Yv,null,Hv(t.appState.items,f=>(jt(),or("div",{key:f.id,ref_for:!0,ref:"targets",style:_h(`position: absolute; transform: translate(${f.translate[0]}px, ${f.translate[1]}px) rotate(${f.rotate}deg) scaleX(${f.scaleX}) scaleY(${f.scaleY}); width: ${f.width}px; height: ${f.height}px; z-index: ${f.zindex};`),id:`movable-item-${f.id}`,onMousedown:e[0]||(e[0]=yw((...v)=>t.selectByRightClick&&t.selectByRightClick(...v),["right"]))},[zt(c,{item:f},null,8,["item"]),zt(Of,{"touch-position":"","context-menu":""},{default:Kt(()=>[zt(wl,{dense:"",style:{"min-width":"100px"}},{default:Kt(()=>[Br((jt(),xe(Ur,{clickable:"",onClick:v=>t.duplicateObject(f)},{default:Kt(()=>[zt(ar,null,{default:Kt(()=>[Or("Duplicate")]),_:1})]),_:2},1032,["onClick"])),[[sn]]),Br((jt(),xe(Ur,{clickable:"",onClick:v=>t.rotete90(f)},{default:Kt(()=>[zt(ar,null,{default:Kt(()=>[Or("Rotate 90\xB0")]),_:1})]),_:2},1032,["onClick"])),[[sn]]),Br((jt(),xe(Ur,{clickable:"",onClick:v=>t.rotete90(f,!0)},{default:Kt(()=>[zt(ar,null,{default:Kt(()=>[Or("Rotate -90\xB0")]),_:1})]),_:2},1032,["onClick"])),[[sn]]),zt(os),Br((jt(),xe(Ur,{clickable:"",onClick:v=>t.flipH(f)},{default:Kt(()=>[zt(ar,null,{default:Kt(()=>[Or("Flip horizontal")]),_:1})]),_:2},1032,["onClick"])),[[sn]]),Br((jt(),xe(Ur,{clickable:"",onClick:v=>t.flipV(f)},{default:Kt(()=>[zt(ar,null,{default:Kt(()=>[Or("Flip vertical")]),_:1})]),_:2},1032,["onClick"])),[[sn]]),zt(os),Br((jt(),xe(Ur,{clickable:"",onClick:v=>t.bringToFront(f)},{default:Kt(()=>[zt(ar,null,{default:Kt(()=>[Or("Bring to front")]),_:1})]),_:2},1032,["onClick"])),[[sn]]),Br((jt(),xe(Ur,{clickable:"",onClick:v=>t.sendToBack(f)},{default:Kt(()=>[zt(ar,null,{default:Kt(()=>[Or("Send to Back")]),_:1})]),_:2},1032,["onClick"])),[[sn]]),zt(os),Br((jt(),xe(Ur,{clickable:"",onClick:v=>t.removeObject(f)},{default:Kt(()=>[zt(ar,null,{default:Kt(()=>[Or("Remove")]),_:1})]),_:2},1032,["onClick"])),[[sn]])]),_:2},1024)]),_:2},1024)],44,gR))),128))],512)]),t.appState.activeItemIndex||t.appState.activeItemIndex===0?(jt(),or("div",mR,[tr("div",bR,[zt(wn,{"input-style":"width: 60px","onUpdate:modelValue":[e[1]||(e[1]=f=>t.objectPropChanged(!0)),e[2]||(e[2]=f=>t.appState.items[t.appState.activeItemIndex].translate[0]=f)],label:"X",modelValue:t.appState.items[t.appState.activeItemIndex].translate[0],modelModifiers:{number:!0},dark:"",filled:"",type:"number"},null,8,["modelValue"]),zt(wn,{"input-style":"width: 60px","onUpdate:modelValue":[e[3]||(e[3]=f=>t.objectPropChanged(!0)),e[4]||(e[4]=f=>t.appState.items[t.appState.activeItemIndex].translate[1]=f)],label:"Y",modelValue:t.appState.items[t.appState.activeItemIndex].translate[1],modelModifiers:{number:!0},dark:"",filled:"",type:"number"},null,8,["modelValue"]),zt(wn,{"input-style":"width: 60px","onUpdate:modelValue":[e[5]||(e[5]=f=>t.objectPropChanged(!0)),e[6]||(e[6]=f=>t.appState.items[t.appState.activeItemIndex].width=f)],label:"Width",modelValue:t.appState.items[t.appState.activeItemIndex].width,modelModifiers:{number:!0},dark:"",filled:"",type:"number"},null,8,["modelValue"]),zt(wn,{"input-style":"width: 60px","onUpdate:modelValue":[e[7]||(e[7]=f=>t.objectPropChanged(!0)),e[8]||(e[8]=f=>t.appState.items[t.appState.activeItemIndex].height=f)],label:"Height",modelValue:t.appState.items[t.appState.activeItemIndex].height,modelModifiers:{number:!0},dark:"",filled:"",type:"number"},null,8,["modelValue"]),zt(wn,{"input-style":"width: 60px","onUpdate:modelValue":[e[9]||(e[9]=f=>t.objectPropChanged(!0)),e[10]||(e[10]=f=>t.appState.items[t.appState.activeItemIndex].rotate=f)],label:"Rotate",modelValue:t.appState.items[t.appState.activeItemIndex].rotate,modelModifiers:{number:!0},dark:"",filled:"",type:"number"},null,8,["modelValue"]),t.appState.items[t.appState.activeItemIndex].props.fontSize!==void 0?(jt(),xe(wn,{key:0,"input-style":"width: 60px",label:"Font size",modelValue:t.appState.items[t.appState.activeItemIndex].props.fontSize,"onUpdate:modelValue":e[11]||(e[11]=f=>t.appState.items[t.appState.activeItemIndex].props.fontSize=f),modelModifiers:{number:!0},dark:"",filled:"",type:"number"},null,8,["modelValue"])):Ya("",!0),t.appState.items[t.appState.activeItemIndex].props.color!==void 0?(jt(),xe(wn,{key:1,dark:"",filled:"",modelValue:t.appState.items[t.appState.activeItemIndex].props.color,"onUpdate:modelValue":e[13]||(e[13]=f=>t.appState.items[t.appState.activeItemIndex].props.color=f),label:"Color"},{append:Kt(()=>[zt(Ar,{name:"colorize",class:"cursor-pointer"},{default:Kt(()=>[zt(oC,{cover:"","transition-show":"scale","transition-hide":"scale"},{default:Kt(()=>[zt(iC,{modelValue:t.appState.items[t.appState.activeItemIndex].props.color,"onUpdate:modelValue":e[12]||(e[12]=f=>t.appState.items[t.appState.activeItemIndex].props.color=f)},null,8,["modelValue"])]),_:1})]),_:1})]),_:1},8,["modelValue"])):Ya("",!0)]),t.appState.items[t.appState.activeItemIndex].props.active!==void 0?(jt(),xe(Xv,{key:0,dark:"",filled:"",modelValue:t.appState.items[t.appState.activeItemIndex].props.active,"onUpdate:modelValue":e[14]||(e[14]=f=>t.appState.items[t.appState.activeItemIndex].props.active=f),class:"text-white",label:"Active"},null,8,["modelValue"])):Ya("",!0),t.appState.items[t.appState.activeItemIndex].props.inAlarm!==void 0?(jt(),xe(Xv,{key:1,dark:"",filled:"",modelValue:t.appState.items[t.appState.activeItemIndex].props.inAlarm,"onUpdate:modelValue":e[15]||(e[15]=f=>t.appState.items[t.appState.activeItemIndex].props.inAlarm=f),class:"text-white",label:"In alarm"},null,8,["modelValue"])):Ya("",!0),zt(wn,{"input-style":"width: 60px",label:"Panel ID",modelValue:t.appState.items[t.appState.activeItemIndex].panelId,"onUpdate:modelValue":[e[16]||(e[16]=f=>t.appState.items[t.appState.activeItemIndex].panelId=f),e[17]||(e[17]=f=>t.getInputFromWebViewHost(t.appState.items[t.appState.activeItemIndex]))],modelModifiers:{number:!0},dark:"",filled:"",class:"pt-2"},null,8,["modelValue"]),zt(wn,{"input-style":"width: 60px",label:"Input ID",modelValue:t.appState.items[t.appState.activeItemIndex].inputId,"onUpdate:modelValue":[e[18]||(e[18]=f=>t.appState.items[t.appState.activeItemIndex].inputId=f),e[19]||(e[19]=f=>t.getInputFromWebViewHost(t.appState.items[t.appState.activeItemIndex]))],modelModifiers:{number:!0},dark:"",filled:"",class:"pt-2"},null,8,["modelValue"])])):Ya("",!0)])]),_:1})}var xR=rn(cR,[["render",yR]]);export{xR as default};
