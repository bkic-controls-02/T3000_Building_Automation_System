import{P as vx,r as At,F as _o,G as za,E as Ur,H as Kr,w as De,o as wo,f as xn,g as tr,I as Wn,k as oc,J as fp,K as cn,t as px,c as qe,L as Ah,M as Hc,N as Bh,a as j,O as oo,Q as Vs,R as Ph,S as zh,T as Lh,j as Fh,h as rt,U as Yc,b as zr,V as or,W as Na,X as hx,Y as Va,Z as gx,$ as mx,a0 as bx,a1 as yx,a2 as vu,a3 as Er,a4 as Sx,a5 as Xc,a6 as _x,a7 as Fa,a8 as wx,a9 as dp,aa as xx,ab as Cx,ac as Ex,ad as Mx,ae as qh,af as Dx,ag as sn,ah as Tx,ai as ir,aj as Uc,n as vo,ak as $h,al as _i,am as Rx,an as Ll,ao as Kc,ap as Gh,aq as kx,p as Ix,ar as Nh,as as Vh,at as Wh,i as Ws,e as Vn,au as cr,av as Hh,x as Yh,aw as hi,ax as Ox,ay as Ax,az as Bx,aA as Px,aB as Hs,l as zx,d as Lx,aC as jc,aD as Xh,aE as Uh,aF as Kh,aG as Fx,aH as qx,aI as $x,aJ as vp,aK as Gx,aL as Nx,aM as Vx,aN as Wx,aO as Hx,aP as Yx,y as Jr,A as jt,aQ as xe,_ as hn,aR as Ke,aS as xo,aT as Co,aU as Zc,aV as jh,z as Xr,aW as fr,B as Ue,C as $t,D as Et,aX as Gn,aY as sa,aZ as Ls,v as Xx,a_ as Ux,a$ as pp,b0 as hp,b1 as ua,b2 as ka,b3 as gp,b4 as mp,b5 as ws,b6 as bp,b7 as Kx}from"./index.da0fa8ed.js";import{Q as jx}from"./QResizeObserver.4e0f9883.js";function po(){if(window.getSelection!==void 0){const t=window.getSelection();t.empty!==void 0?t.empty():t.removeAllRanges!==void 0&&(t.removeAllRanges(),vx.is.mobile!==!0&&t.addRange(document.createRange()))}else document.selection!==void 0&&document.selection.empty()}const Qc={target:{default:!0},noParentEvent:Boolean,contextMenu:Boolean};function Jc({showing:t,avoidEmit:e,configureAnchorEl:r}){const{props:n,proxy:a,emit:o}=tr(),u=At(null);let l;function c(g){return u.value===null?!1:g===void 0||g.touches===void 0||g.touches.length<=1}const f={};r===void 0&&(Object.assign(f,{hide(g){a.hide(g)},toggle(g){a.toggle(g),g.qAnchorHandled=!0},toggleKey(g){_o(g,13)===!0&&f.toggle(g)},contextClick(g){a.hide(g),za(g),Ur(()=>{a.show(g),g.qAnchorHandled=!0})},prevent:za,mobileTouch(g){if(f.mobileCleanup(g),c(g)!==!0)return;a.hide(g),u.value.classList.add("non-selectable");const m=g.target;Kr(f,"anchor",[[m,"touchmove","mobileCleanup","passive"],[m,"touchend","mobileCleanup","passive"],[m,"touchcancel","mobileCleanup","passive"],[u.value,"contextmenu","prevent","notPassive"]]),l=setTimeout(()=>{a.show(g),g.qAnchorHandled=!0},300)},mobileCleanup(g){u.value.classList.remove("non-selectable"),clearTimeout(l),t.value===!0&&g!==void 0&&po()}}),r=function(g=n.contextMenu){if(n.noParentEvent===!0||u.value===null)return;let m;g===!0?a.$q.platform.is.mobile===!0?m=[[u.value,"touchstart","mobileTouch","passive"]]:m=[[u.value,"mousedown","hide","passive"],[u.value,"contextmenu","contextClick","notPassive"]]:m=[[u.value,"click","toggle","passive"],[u.value,"keyup","toggleKey","passive"]],Kr(f,"anchor",m)});function v(){Wn(f,"anchor")}function h(g){for(u.value=g;u.value.classList.contains("q-anchor--skip");)u.value=u.value.parentNode;r()}function p(){if(n.target===!1||n.target===""||a.$el.parentNode===null)u.value=null;else if(n.target===!0)h(a.$el.parentNode);else{let g=n.target;if(typeof n.target=="string")try{g=document.querySelector(n.target)}catch{g=void 0}g!=null?(u.value=g.$el||g,r()):(u.value=null,console.error(`Anchor: target "${n.target}" not found`))}}return De(()=>n.contextMenu,g=>{u.value!==null&&(v(),r(g))}),De(()=>n.target,()=>{u.value!==null&&v(),p()}),De(()=>n.noParentEvent,g=>{u.value!==null&&(g===!0?v():r())}),wo(()=>{p(),e!==!0&&n.modelValue===!0&&u.value===null&&o("update:modelValue",!1)}),xn(()=>{clearTimeout(l),v()}),{anchorEl:u,canShow:c,anchorEvents:f}}function Zh(t,e){const r=At(null);let n;function a(l,c){const f=`${c!==void 0?"add":"remove"}EventListener`,v=c!==void 0?c:n;l!==window&&l[f]("scroll",v,oc.passive),window[f]("scroll",v,oc.passive),n=c}function o(){r.value!==null&&(a(r.value),r.value=null)}const u=De(()=>t.noParentEvent,()=>{r.value!==null&&(o(),e())});return xn(u),{localScrollTarget:r,unconfigureScrollTarget:o,changeScrollEvent:a}}let Qh;const{notPassiveCapture:Ys}=oc,La=[];function Xs(t){clearTimeout(Qh);const e=t.target;if(e===void 0||e.nodeType===8||e.classList.contains("no-pointer-events")===!0)return;let r=fp.length-1;for(;r>=0;){const n=fp[r].$;if(n.type.name!=="QDialog")break;if(n.props.seamless!==!0)return;r--}for(let n=La.length-1;n>=0;n--){const a=La[n];if((a.anchorEl.value===null||a.anchorEl.value.contains(e)===!1)&&(e===document.body||a.innerRef.value!==null&&a.innerRef.value.contains(e)===!1))t.qClickOutside=!0,a.onClickOutside(t);else return}}function Jh(t){La.push(t),La.length===1&&(document.addEventListener("mousedown",Xs,Ys),document.addEventListener("touchstart",Xs,Ys))}function Us(t){const e=La.findIndex(r=>r===t);e>-1&&(La.splice(e,1),La.length===0&&(clearTimeout(Qh),document.removeEventListener("mousedown",Xs,Ys),document.removeEventListener("touchstart",Xs,Ys)))}let yp,Sp;function Ks(t){const e=t.split(" ");return e.length!==2?!1:["top","center","bottom"].includes(e[0])!==!0?(console.error("Anchor/Self position must start with one of top/center/bottom"),!1):["left","middle","right","start","end"].includes(e[1])!==!0?(console.error("Anchor/Self position must end with one of left/middle/right/start/end"),!1):!0}function tg(t){return t?!(t.length!==2||typeof t[0]!="number"||typeof t[1]!="number"):!0}const sc={"start#ltr":"left","start#rtl":"right","end#ltr":"right","end#rtl":"left"};["left","middle","right"].forEach(t=>{sc[`${t}#ltr`]=t,sc[`${t}#rtl`]=t});function js(t,e){const r=t.split(" ");return{vertical:r[0],horizontal:sc[`${r[1]}#${e===!0?"rtl":"ltr"}`]}}function Zx(t,e){let{top:r,left:n,right:a,bottom:o,width:u,height:l}=t.getBoundingClientRect();return e!==void 0&&(r-=e[1],n-=e[0],o+=e[1],a+=e[0],u+=e[0],l+=e[1]),{top:r,left:n,right:a,bottom:o,width:u,height:l,middle:n+(a-n)/2,center:r+(o-r)/2}}function Qx(t){return{top:0,center:t.offsetHeight/2,bottom:t.offsetHeight,left:0,middle:t.offsetWidth/2,right:t.offsetWidth}}function eg(t){if(cn.is.ios===!0&&window.visualViewport!==void 0){const l=document.body.style,{offsetLeft:c,offsetTop:f}=window.visualViewport;c!==yp&&(l.setProperty("--q-pe-left",c+"px"),yp=c),f!==Sp&&(l.setProperty("--q-pe-top",f+"px"),Sp=f)}let e;const{scrollLeft:r,scrollTop:n}=t.el;if(t.absoluteOffset===void 0)e=Zx(t.anchorEl,t.cover===!0?[0,0]:t.offset);else{const{top:l,left:c}=t.anchorEl.getBoundingClientRect(),f=l+t.absoluteOffset.top,v=c+t.absoluteOffset.left;e={top:f,left:v,width:1,height:1,right:v+1,center:f,middle:v,bottom:f+1}}let a={maxHeight:t.maxHeight,maxWidth:t.maxWidth,visibility:"visible"};(t.fit===!0||t.cover===!0)&&(a.minWidth=e.width+"px",t.cover===!0&&(a.minHeight=e.height+"px")),Object.assign(t.el.style,a);const o=Qx(t.el),u={top:e[t.anchorOrigin.vertical]-o[t.selfOrigin.vertical],left:e[t.anchorOrigin.horizontal]-o[t.selfOrigin.horizontal]};Jx(u,e,o,t.anchorOrigin,t.selfOrigin),a={top:u.top+"px",left:u.left+"px"},u.maxHeight!==void 0&&(a.maxHeight=u.maxHeight+"px",e.height>u.maxHeight&&(a.minHeight=a.maxHeight)),u.maxWidth!==void 0&&(a.maxWidth=u.maxWidth+"px",e.width>u.maxWidth&&(a.minWidth=a.maxWidth)),Object.assign(t.el.style,a),t.el.scrollTop!==n&&(t.el.scrollTop=n),t.el.scrollLeft!==r&&(t.el.scrollLeft=r)}function Jx(t,e,r,n,a){const o=r.bottom,u=r.right,l=px(),c=window.innerHeight-l,f=document.body.clientWidth;if(t.top<0||t.top+o>c)if(a.vertical==="center")t.top=e[n.vertical]>c/2?Math.max(0,c-o):0,t.maxHeight=Math.min(o,c);else if(e[n.vertical]>c/2){const v=Math.min(c,n.vertical==="center"?e.center:n.vertical===a.vertical?e.bottom:e.top);t.maxHeight=Math.min(o,v),t.top=Math.max(0,v-o)}else t.top=Math.max(0,n.vertical==="center"?e.center:n.vertical===a.vertical?e.top:e.bottom),t.maxHeight=Math.min(o,c-t.top);if(t.left<0||t.left+u>f)if(t.maxWidth=Math.min(u,f),a.horizontal==="middle")t.left=e[n.horizontal]>f/2?Math.max(0,f-u):0;else if(e[n.horizontal]>f/2){const v=Math.min(f,n.horizontal==="middle"?e.middle:n.horizontal===a.horizontal?e.right:e.left);t.maxWidth=Math.min(u,v),t.left=Math.max(0,v-t.maxWidth)}else t.left=Math.max(0,n.horizontal==="middle"?e.middle:n.horizontal===a.horizontal?e.left:e.right),t.maxWidth=Math.min(u,f-t.left)}var Zs=qe({name:"QTooltip",inheritAttrs:!1,props:{...Qc,...Ah,...Hc,maxHeight:{type:String,default:null},maxWidth:{type:String,default:null},transitionShow:{default:"jump-down"},transitionHide:{default:"jump-up"},anchor:{type:String,default:"bottom middle",validator:Ks},self:{type:String,default:"top middle",validator:Ks},offset:{type:Array,default:()=>[14,14],validator:tg},scrollTarget:{default:void 0},delay:{type:Number,default:0},hideDelay:{type:Number,default:0}},emits:[...Bh],setup(t,{slots:e,emit:r,attrs:n}){let a,o;const u=tr(),{proxy:{$q:l}}=u,c=At(null),f=At(!1),v=j(()=>js(t.anchor,l.lang.rtl)),h=j(()=>js(t.self,l.lang.rtl)),p=j(()=>t.persistent!==!0),{registerTick:g,removeTick:m}=oo(),{registerTimeout:y}=Vs(),{transition:S,transitionStyle:_}=Ph(t,f),{localScrollTarget:E,changeScrollEvent:x,unconfigureScrollTarget:C}=Zh(t,N),{anchorEl:R,canShow:D,anchorEvents:k}=Jc({showing:f,configureAnchorEl:Z}),{show:I,hide:O}=zh({showing:f,canShow:D,handleShow:L,handleHide:U,hideOnRouteChange:p,processOnMount:!0});Object.assign(k,{delayShow:nt,delayHide:ot});const{showPortal:A,hidePortal:V,renderPortal:z}=Lh(u,c,ut);if(l.platform.is.mobile===!0){const lt={anchorEl:R,innerRef:c,onClickOutside(yt){return O(yt),yt.target.classList.contains("q-dialog__backdrop")&&or(yt),!0}},mt=j(()=>t.modelValue===null&&t.persistent!==!0&&f.value===!0);De(mt,yt=>{(yt===!0?Jh:Us)(lt)}),xn(()=>{Us(lt)})}function L(lt){A(),g(()=>{o=new MutationObserver(()=>et()),o.observe(c.value,{attributes:!1,childList:!0,characterData:!0,subtree:!0}),et(),N()}),a===void 0&&(a=De(()=>l.screen.width+"|"+l.screen.height+"|"+t.self+"|"+t.anchor+"|"+l.lang.rtl,et)),y(()=>{A(!0),r("show",lt)},t.transitionDuration)}function U(lt){m(),V(),H(),y(()=>{V(!0),r("hide",lt)},t.transitionDuration)}function H(){o!==void 0&&(o.disconnect(),o=void 0),a!==void 0&&(a(),a=void 0),C(),Wn(k,"tooltipTemp")}function et(){const lt=c.value;R.value===null||!lt||eg({el:lt,offset:t.offset,anchorEl:R.value,anchorOrigin:v.value,selfOrigin:h.value,maxHeight:t.maxHeight,maxWidth:t.maxWidth})}function nt(lt){if(l.platform.is.mobile===!0){po(),document.body.classList.add("non-selectable");const mt=R.value,yt=["touchmove","touchcancel","touchend","click"].map(gt=>[mt,gt,"delayHide","passiveCapture"]);Kr(k,"tooltipTemp",yt)}y(()=>{I(lt)},t.delay)}function ot(lt){l.platform.is.mobile===!0&&(Wn(k,"tooltipTemp"),po(),setTimeout(()=>{document.body.classList.remove("non-selectable")},10)),y(()=>{O(lt)},t.hideDelay)}function Z(){if(t.noParentEvent===!0||R.value===null)return;const lt=l.platform.is.mobile===!0?[[R.value,"touchstart","delayShow","passive"]]:[[R.value,"mouseenter","delayShow","passive"],[R.value,"mouseleave","delayHide","passive"]];Kr(k,"anchor",lt)}function N(){if(R.value!==null||t.scrollTarget!==void 0){E.value=Fh(R.value,t.scrollTarget);const lt=t.noParentEvent===!0?et:O;x(E.value,lt)}}function K(){return f.value===!0?rt("div",{...n,ref:c,class:["q-tooltip q-tooltip--style q-position-engine no-pointer-events",n.class],style:[n.style,_.value],role:"tooltip"},zr(e.default)):null}function ut(){return rt(Yc,{name:S.value,appear:!0},K)}return xn(H),Object.assign(u.proxy,{updatePosition:et}),z}}),hr=qe({name:"QItemSection",props:{avatar:Boolean,thumbnail:Boolean,side:Boolean,top:Boolean,noWrap:Boolean},setup(t,{slots:e}){const r=j(()=>`q-item__section column q-item__section--${t.avatar===!0||t.side===!0||t.thumbnail===!0?"side":"main"}`+(t.top===!0?" q-item__section--top justify-start":" justify-center")+(t.avatar===!0?" q-item__section--avatar":"")+(t.thumbnail===!0?" q-item__section--thumbnail":"")+(t.noWrap===!0?" q-item__section--nowrap":""));return()=>rt("div",{class:r.value},zr(e.default))}}),Yr=qe({name:"QItem",props:{...Na,...hx,tag:{type:String,default:"div"},active:{type:Boolean,default:null},clickable:Boolean,dense:Boolean,insetLevel:Number,tabindex:[String,Number],focused:Boolean,manualFocus:Boolean},emits:["click","keyup"],setup(t,{slots:e,emit:r}){const{proxy:{$q:n}}=tr(),a=Va(t,n),{hasLink:o,linkAttrs:u,linkClass:l,linkTag:c,navigateOnClick:f}=gx(),v=At(null),h=At(null),p=j(()=>t.clickable===!0||o.value===!0||t.tag==="label"),g=j(()=>t.disable!==!0&&p.value===!0),m=j(()=>"q-item q-item-type row no-wrap"+(t.dense===!0?" q-item--dense":"")+(a.value===!0?" q-item--dark":"")+(o.value===!0&&t.active===null?l.value:t.active===!0?` q-item--active${t.activeClass!==void 0?` ${t.activeClass}`:""}`:"")+(t.disable===!0?" disabled":"")+(g.value===!0?" q-item--clickable q-link cursor-pointer "+(t.manualFocus===!0?"q-manual-focusable":"q-focusable q-hoverable")+(t.focused===!0?" q-manual-focusable--focused":""):"")),y=j(()=>{if(t.insetLevel===void 0)return null;const x=n.lang.rtl===!0?"Right":"Left";return{["padding"+x]:16+t.insetLevel*56+"px"}});function S(x){g.value===!0&&(h.value!==null&&(x.qKeyEvent!==!0&&document.activeElement===v.value?h.value.focus():document.activeElement===h.value&&v.value.focus()),f(x))}function _(x){if(g.value===!0&&_o(x,13)===!0){or(x),x.qKeyEvent=!0;const C=new MouseEvent("click",x);C.qKeyEvent=!0,v.value.dispatchEvent(C)}r("keyup",x)}function E(){const x=mx(e.default,[]);return g.value===!0&&x.unshift(rt("div",{class:"q-focus-helper",tabindex:-1,ref:h})),x}return()=>{const x={ref:v,class:m.value,style:y.value,role:"listitem",onClick:S,onKeyup:_};return g.value===!0?(x.tabindex=t.tabindex||"0",Object.assign(x,u.value)):p.value===!0&&(x["aria-disabled"]="true"),rt(c.value,x,E())}}}),Fl=qe({name:"QList",props:{...Na,bordered:Boolean,dense:Boolean,separator:Boolean,padding:Boolean},setup(t,{slots:e}){const r=tr(),n=Va(t,r.proxy.$q),a=j(()=>"q-list"+(t.bordered===!0?" q-list--bordered":"")+(t.dense===!0?" q-list--dense":"")+(t.separator===!0?" q-list--separator":"")+(n.value===!0?" q-list--dark":"")+(t.padding===!0?" q-list--padding":""));return()=>rt("div",{class:a.value,role:"list"},zr(e.default))}}),uc=qe({name:"QItemLabel",props:{overline:Boolean,caption:Boolean,header:Boolean,lines:[Number,String]},setup(t,{slots:e}){const r=j(()=>parseInt(t.lines,10)),n=j(()=>"q-item__label"+(t.overline===!0?" q-item__label--overline text-overline":"")+(t.caption===!0?" q-item__label--caption text-caption":"")+(t.header===!0?" q-item__label--header":"")+(r.value===1?" ellipsis":"")),a=j(()=>t.lines!==void 0&&r.value>1?{overflow:"hidden",display:"-webkit-box","-webkit-box-orient":"vertical","-webkit-line-clamp":r.value}:null);return()=>rt("div",{style:a.value,class:n.value},zr(e.default))}});const tC={xs:8,sm:10,md:14,lg:20,xl:24};var rg=qe({name:"QChip",props:{...Na,...bx,dense:Boolean,icon:String,iconRight:String,iconRemove:String,iconSelected:String,label:[String,Number],color:String,textColor:String,modelValue:{type:Boolean,default:!0},selected:{type:Boolean,default:null},square:Boolean,outline:Boolean,clickable:Boolean,removable:Boolean,removeAriaLabel:String,tabindex:[String,Number],disable:Boolean,ripple:{type:[Boolean,Object],default:!0}},emits:["update:modelValue","update:selected","remove","click"],setup(t,{slots:e,emit:r}){const{proxy:{$q:n}}=tr(),a=Va(t,n),o=yx(t,tC),u=j(()=>t.selected===!0||t.icon!==void 0),l=j(()=>t.selected===!0?t.iconSelected||n.iconSet.chip.selected:t.icon),c=j(()=>t.iconRemove||n.iconSet.chip.remove),f=j(()=>t.disable===!1&&(t.clickable===!0||t.selected!==null)),v=j(()=>{const S=t.outline===!0&&t.color||t.textColor;return"q-chip row inline no-wrap items-center"+(t.outline===!1&&t.color!==void 0?` bg-${t.color}`:"")+(S?` text-${S} q-chip--colored`:"")+(t.disable===!0?" disabled":"")+(t.dense===!0?" q-chip--dense":"")+(t.outline===!0?" q-chip--outline":"")+(t.selected===!0?" q-chip--selected":"")+(f.value===!0?" q-chip--clickable cursor-pointer non-selectable q-hoverable":"")+(t.square===!0?" q-chip--square":"")+(a.value===!0?" q-chip--dark q-dark":"")}),h=j(()=>{const S=t.disable===!0?{tabindex:-1,"aria-disabled":"true"}:{tabindex:t.tabindex||0},_={...S,role:"button","aria-hidden":"false","aria-label":t.removeAriaLabel||n.lang.label.remove};return{chip:S,remove:_}});function p(S){S.keyCode===13&&g(S)}function g(S){t.disable||(r("update:selected",!t.selected),r("click",S))}function m(S){(S.keyCode===void 0||S.keyCode===13)&&(or(S),t.disable===!1&&(r("update:modelValue",!1),r("remove")))}function y(){const S=[];f.value===!0&&S.push(rt("div",{class:"q-focus-helper"})),u.value===!0&&S.push(rt(Er,{class:"q-chip__icon q-chip__icon--left",name:l.value}));const _=t.label!==void 0?[rt("div",{class:"ellipsis"},[t.label])]:void 0;return S.push(rt("div",{class:"q-chip__content col row no-wrap items-center q-anchor--skip"},Sx(e.default,_))),t.iconRight&&S.push(rt(Er,{class:"q-chip__icon q-chip__icon--right",name:t.iconRight})),t.removable===!0&&S.push(rt(Er,{class:"q-chip__icon q-chip__icon--remove cursor-pointer",name:c.value,...h.value.remove,onClick:m,onKeyup:m})),S}return()=>{if(t.modelValue===!1)return;const S={class:v.value,style:o.value};return f.value===!0&&Object.assign(S,h.value.chip,{onClick:g,onKeyup:p}),vu("div",S,y(),"ripple",t.ripple!==!1&&t.disable!==!0,()=>[[Xc,t.ripple]])}}}),eC=qe({name:"QBtnGroup",props:{unelevated:Boolean,outline:Boolean,flat:Boolean,rounded:Boolean,square:Boolean,push:Boolean,stretch:Boolean,glossy:Boolean,spread:Boolean},setup(t,{slots:e}){const r=j(()=>{const n=["unelevated","outline","flat","rounded","square","push","stretch","glossy"].filter(a=>t[a]===!0).map(a=>`q-btn-group--${a}`).join(" ");return`q-btn-group row no-wrap${n.length>0?" "+n:""}`+(t.spread===!0?" q-btn-group--spread":" inline")});return()=>rt("div",{class:r.value},zr(e.default))}}),pu=qe({name:"QMenu",inheritAttrs:!1,props:{...Qc,...Ah,...Na,...Hc,persistent:Boolean,autoClose:Boolean,separateClosePopup:Boolean,noRouteDismiss:Boolean,noRefocus:Boolean,noFocus:Boolean,fit:Boolean,cover:Boolean,square:Boolean,anchor:{type:String,validator:Ks},self:{type:String,validator:Ks},offset:{type:Array,validator:tg},scrollTarget:{default:void 0},touchPosition:Boolean,maxHeight:{type:String,default:null},maxWidth:{type:String,default:null}},emits:[...Bh,"click","escape-key"],setup(t,{slots:e,emit:r,attrs:n}){let a=null,o,u,l;const c=tr(),{proxy:f}=c,{$q:v}=f,h=At(null),p=At(!1),g=j(()=>t.persistent!==!0&&t.noRouteDismiss!==!0),m=Va(t,v),{registerTick:y,removeTick:S}=oo(),{registerTimeout:_}=Vs(),{transition:E,transitionStyle:x}=Ph(t,p),{localScrollTarget:C,changeScrollEvent:R,unconfigureScrollTarget:D}=Zh(t,lt),{anchorEl:k,canShow:I}=Jc({showing:p}),{hide:O}=zh({showing:p,canShow:I,handleShow:N,handleHide:K,hideOnRouteChange:g,processOnMount:!0}),{showPortal:A,hidePortal:V,renderPortal:z}=Lh(c,h,Rt),L={anchorEl:k,innerRef:h,onClickOutside(P){if(t.persistent!==!0&&p.value===!0)return O(P),(P.type==="touchstart"||P.target.classList.contains("q-dialog__backdrop"))&&or(P),!0}},U=j(()=>js(t.anchor||(t.cover===!0?"center middle":"bottom start"),v.lang.rtl)),H=j(()=>t.cover===!0?U.value:js(t.self||"top start",v.lang.rtl)),et=j(()=>(t.square===!0?" q-menu--square":"")+(m.value===!0?" q-menu--dark q-dark":"")),nt=j(()=>t.autoClose===!0?{onClick:mt}:{}),ot=j(()=>p.value===!0&&t.persistent!==!0);De(ot,P=>{P===!0?(Cx(gt),Jh(L)):(dp(gt),Us(L))});function Z(){Ex(()=>{let P=h.value;P&&P.contains(document.activeElement)!==!0&&(P=P.querySelector("[autofocus], [data-autofocus]")||P,P.focus({preventScroll:!0}))})}function N(P){if(a=t.noRefocus===!1?document.activeElement:null,_x(yt),A(),lt(),o=void 0,P!==void 0&&(t.touchPosition||t.contextMenu)){const tt=Fa(P);if(tt.left!==void 0){const{top:ht,left:Dt}=k.value.getBoundingClientRect();o={left:tt.left-Dt,top:tt.top-ht}}}u===void 0&&(u=De(()=>v.screen.width+"|"+v.screen.height+"|"+t.self+"|"+t.anchor+"|"+v.lang.rtl,St)),t.noFocus!==!0&&document.activeElement.blur(),y(()=>{St(),t.noFocus!==!0&&Z()}),_(()=>{v.platform.is.ios===!0&&(l=t.autoClose,h.value.click()),St(),A(!0),r("show",P)},t.transitionDuration)}function K(P){S(),V(),ut(!0),a!==null&&(P===void 0||P.qClickOutside!==!0)&&(a.focus(),a=null),_(()=>{V(!0),r("hide",P)},t.transitionDuration)}function ut(P){o=void 0,u!==void 0&&(u(),u=void 0),(P===!0||p.value===!0)&&(wx(yt),D(),Us(L),dp(gt)),P!==!0&&(a=null)}function lt(){(k.value!==null||t.scrollTarget!==void 0)&&(C.value=Fh(k.value,t.scrollTarget),R(C.value,St))}function mt(P){l!==!0?(xx(f,P),r("click",P)):l=!1}function yt(P){ot.value===!0&&t.noFocus!==!0&&Mx(h.value,P.target)!==!0&&Z()}function gt(P){r("escape-key"),O(P)}function St(){const P=h.value;P===null||k.value===null||eg({el:P,offset:t.offset,anchorEl:k.value,anchorOrigin:U.value,selfOrigin:H.value,absoluteOffset:o,fit:t.fit,cover:t.cover,maxHeight:t.maxHeight,maxWidth:t.maxWidth})}function Rt(){return rt(Yc,{name:E.value,appear:!0},()=>p.value===!0?rt("div",{role:"menu",...n,ref:h,tabindex:-1,class:["q-menu q-position-engine scroll"+et.value,n.class],style:[n.style,x.value],...nt.value},zr(e.default)):null)}return xn(ut),Object.assign(f,{focus:Z,updatePosition:St}),z}});const ng=Object.keys(Tx),rC=ng.reduce((t,e)=>(t[e]={})&&t,{}),nC=t=>ng.reduce((e,r)=>{const n=t[r];return n!==void 0&&(e[r]=n),e},{});var aC=qe({name:"QBtnDropdown",props:{...rC,...Hc,modelValue:Boolean,split:Boolean,dropdownIcon:String,contentClass:[Array,String,Object],contentStyle:[Array,String,Object],cover:Boolean,persistent:Boolean,noRouteDismiss:Boolean,autoClose:Boolean,menuAnchor:{type:String,default:"bottom end"},menuSelf:{type:String,default:"top end"},menuOffset:Array,disableMainBtn:Boolean,disableDropdown:Boolean,noIconAnimation:Boolean,toggleAriaLabel:String},emits:["update:modelValue","click","before-show","show","before-hide","hide"],setup(t,{slots:e,emit:r}){const{proxy:n}=tr(),a=At(t.modelValue),o=At(null),u=qh(),l=j(()=>{const C={"aria-expanded":a.value===!0?"true":"false","aria-haspopup":"true","aria-controls":u,"aria-owns":u,"aria-label":t.toggleAriaLabel||n.$q.lang.label[a.value===!0?"collapse":"expand"](t.label)};return(t.disable===!0||t.split===!1&&t.disableMainBtn===!0||t.disableDropdown===!0)&&(C["aria-disabled"]="true"),C}),c=j(()=>"q-btn-dropdown__arrow"+(a.value===!0&&t.noIconAnimation===!1?" rotate-180":"")+(t.split===!1?" q-btn-dropdown__arrow-container":"")),f=j(()=>Dx(t)),v=j(()=>nC(t));De(()=>t.modelValue,C=>{o.value!==null&&o.value[C?"show":"hide"]()}),De(()=>t.split,x);function h(C){a.value=!0,r("before-show",C)}function p(C){r("show",C),r("update:modelValue",!0)}function g(C){a.value=!1,r("before-hide",C)}function m(C){r("hide",C),r("update:modelValue",!1)}function y(C){r("click",C)}function S(C){ir(C),x(),r("click",C)}function _(C){o.value!==null&&o.value.toggle(C)}function E(C){o.value!==null&&o.value.show(C)}function x(C){o.value!==null&&o.value.hide(C)}return Object.assign(n,{show:E,hide:x,toggle:_}),wo(()=>{t.modelValue===!0&&E()}),()=>{const C=[rt(Er,{class:c.value,name:t.dropdownIcon||n.$q.iconSet.arrow.dropdown})];return t.disableDropdown!==!0&&C.push(rt(pu,{ref:o,id:u,class:t.contentClass,style:t.contentStyle,cover:t.cover,fit:!0,persistent:t.persistent,noRouteDismiss:t.noRouteDismiss,autoClose:t.autoClose,anchor:t.menuAnchor,self:t.menuSelf,offset:t.menuOffset,separateClosePopup:!0,transitionShow:t.transitionShow,transitionHide:t.transitionHide,transitionDuration:t.transitionDuration,onBeforeShow:h,onShow:p,onBeforeHide:g,onHide:m},e.default)),t.split===!1?rt(sn,{class:"q-btn-dropdown q-btn-dropdown--simple",...v.value,...l.value,disable:t.disable===!0||t.disableMainBtn===!0,noWrap:!0,round:!1,onClick:y},{default:()=>zr(e.label,[]).concat(C),loading:e.loading}):rt(eC,{class:"q-btn-dropdown q-btn-dropdown--split no-wrap q-btn-item",rounded:t.rounded,square:t.square,...f.value,glossy:t.glossy,stretch:t.stretch},()=>[rt(sn,{class:"q-btn-dropdown--current",...v.value,disable:t.disable===!0||t.disableMainBtn===!0,noWrap:!0,round:!1,onClick:S},{default:e.label,loading:e.loading}),rt(sn,{class:"q-btn-dropdown__arrow-container q-anchor--skip",...l.value,...f.value,disable:t.disable===!0||t.disableDropdown===!0,rounded:t.rounded,color:t.color,textColor:t.textColor,dense:t.dense,size:t.size,padding:t.padding,ripple:t.ripple},()=>C)])}}}),iC=qe({name:"QToolbar",props:{inset:Boolean},setup(t,{slots:e}){const r=j(()=>"q-toolbar row no-wrap items-center"+(t.inset===!0?" q-toolbar--inset":""));return()=>rt("div",{class:r.value,role:"toolbar"},zr(e.default))}});const tf={left:!0,right:!0,up:!0,down:!0,horizontal:!0,vertical:!0},oC=Object.keys(tf);tf.all=!0;function Qs(t){const e={};for(const r of oC)t[r]===!0&&(e[r]=!0);return Object.keys(e).length===0?tf:(e.horizontal===!0?e.left=e.right=!0:e.left===!0&&e.right===!0&&(e.horizontal=!0),e.vertical===!0?e.up=e.down=!0:e.up===!0&&e.down===!0&&(e.vertical=!0),e.horizontal===!0&&e.vertical===!0&&(e.all=!0),e)}function Js(t,e){return e.event===void 0&&t.target!==void 0&&t.target.draggable!==!0&&typeof e.handler=="function"&&t.target.nodeName.toUpperCase()!=="INPUT"&&(t.qClonedBy===void 0||t.qClonedBy.indexOf(e.uid)===-1)}function ql(t,e,r){const n=Fa(t);let a,o=n.left-e.event.x,u=n.top-e.event.y,l=Math.abs(o),c=Math.abs(u);const f=e.direction;f.horizontal===!0&&f.vertical!==!0?a=o<0?"left":"right":f.horizontal!==!0&&f.vertical===!0?a=u<0?"up":"down":f.up===!0&&u<0?(a="up",l>c&&(f.left===!0&&o<0?a="left":f.right===!0&&o>0&&(a="right"))):f.down===!0&&u>0?(a="down",l>c&&(f.left===!0&&o<0?a="left":f.right===!0&&o>0&&(a="right"))):f.left===!0&&o<0?(a="left",l<c&&(f.up===!0&&u<0?a="up":f.down===!0&&u>0&&(a="down"))):f.right===!0&&o>0&&(a="right",l<c&&(f.up===!0&&u<0?a="up":f.down===!0&&u>0&&(a="down")));let v=!1;if(a===void 0&&r===!1){if(e.event.isFirst===!0||e.event.lastDir===void 0)return{};a=e.event.lastDir,v=!0,a==="left"||a==="right"?(n.left-=o,l=0,o=0):(n.top-=u,c=0,u=0)}return{synthetic:v,payload:{evt:t,touch:e.event.mouse!==!0,mouse:e.event.mouse===!0,position:n,direction:a,isFirst:e.event.isFirst,isFinal:r===!0,duration:Date.now()-e.event.time,distance:{x:l,y:c},offset:{x:o,y:u},delta:{x:n.left-e.event.lastX,y:n.top-e.event.lastY}}}}let sC=0;var ag=Uc({name:"touch-pan",beforeMount(t,{value:e,modifiers:r}){if(r.mouse!==!0&&cn.has.touch!==!0)return;function n(o,u){r.mouse===!0&&u===!0?or(o):(r.stop===!0&&ir(o),r.prevent===!0&&za(o))}const a={uid:"qvtp_"+sC++,handler:e,modifiers:r,direction:Qs(r),noop:vo,mouseStart(o){Js(o,a)&&$h(o)&&(Kr(a,"temp",[[document,"mousemove","move","notPassiveCapture"],[document,"mouseup","end","passiveCapture"]]),a.start(o,!0))},touchStart(o){if(Js(o,a)){const u=o.target;Kr(a,"temp",[[u,"touchmove","move","notPassiveCapture"],[u,"touchcancel","end","passiveCapture"],[u,"touchend","end","passiveCapture"]]),a.start(o)}},start(o,u){if(cn.is.firefox===!0&&_i(t,!0),a.lastEvt=o,u===!0||r.stop===!0){if(a.direction.all!==!0&&(u!==!0||a.modifiers.mouseAllDir!==!0&&a.modifiers.mousealldir!==!0)){const f=o.type.indexOf("mouse")>-1?new MouseEvent(o.type,o):new TouchEvent(o.type,o);o.defaultPrevented===!0&&za(f),o.cancelBubble===!0&&ir(f),Object.assign(f,{qKeyEvent:o.qKeyEvent,qClickOutside:o.qClickOutside,qAnchorHandled:o.qAnchorHandled,qClonedBy:o.qClonedBy===void 0?[a.uid]:o.qClonedBy.concat(a.uid)}),a.initialEvent={target:o.target,event:f}}ir(o)}const{left:l,top:c}=Fa(o);a.event={x:l,y:c,time:Date.now(),mouse:u===!0,detected:!1,isFirst:!0,isFinal:!1,lastX:l,lastY:c}},move(o){if(a.event===void 0)return;const u=Fa(o),l=u.left-a.event.x,c=u.top-a.event.y;if(l===0&&c===0)return;a.lastEvt=o;const f=a.event.mouse===!0,v=()=>{n(o,f);let g;r.preserveCursor!==!0&&r.preservecursor!==!0&&(g=document.documentElement.style.cursor||"",document.documentElement.style.cursor="grabbing"),f===!0&&document.body.classList.add("no-pointer-events--children"),document.body.classList.add("non-selectable"),po(),a.styleCleanup=m=>{if(a.styleCleanup=void 0,g!==void 0&&(document.documentElement.style.cursor=g),document.body.classList.remove("non-selectable"),f===!0){const y=()=>{document.body.classList.remove("no-pointer-events--children")};m!==void 0?setTimeout(()=>{y(),m()},50):y()}else m!==void 0&&m()}};if(a.event.detected===!0){a.event.isFirst!==!0&&n(o,a.event.mouse);const{payload:g,synthetic:m}=ql(o,a,!1);g!==void 0&&(a.handler(g)===!1?a.end(o):(a.styleCleanup===void 0&&a.event.isFirst===!0&&v(),a.event.lastX=g.position.left,a.event.lastY=g.position.top,a.event.lastDir=m===!0?void 0:g.direction,a.event.isFirst=!1));return}if(a.direction.all===!0||f===!0&&(a.modifiers.mouseAllDir===!0||a.modifiers.mousealldir===!0)){v(),a.event.detected=!0,a.move(o);return}const h=Math.abs(l),p=Math.abs(c);h!==p&&(a.direction.horizontal===!0&&h>p||a.direction.vertical===!0&&h<p||a.direction.up===!0&&h<p&&c<0||a.direction.down===!0&&h<p&&c>0||a.direction.left===!0&&h>p&&l<0||a.direction.right===!0&&h>p&&l>0?(a.event.detected=!0,a.move(o)):a.end(o,!0))},end(o,u){if(a.event!==void 0){if(Wn(a,"temp"),cn.is.firefox===!0&&_i(t,!1),u===!0)a.styleCleanup!==void 0&&a.styleCleanup(),a.event.detected!==!0&&a.initialEvent!==void 0&&a.initialEvent.target.dispatchEvent(a.initialEvent.event);else if(a.event.detected===!0){a.event.isFirst===!0&&a.handler(ql(o===void 0?a.lastEvt:o,a).payload);const{payload:l}=ql(o===void 0?a.lastEvt:o,a,!0),c=()=>{a.handler(l)};a.styleCleanup!==void 0?a.styleCleanup(c):c()}a.event=void 0,a.initialEvent=void 0,a.lastEvt=void 0}}};if(t.__qtouchpan=a,r.mouse===!0){const o=r.mouseCapture===!0||r.mousecapture===!0?"Capture":"";Kr(a,"main",[[t,"mousedown","mouseStart",`passive${o}`]])}cn.has.touch===!0&&Kr(a,"main",[[t,"touchstart","touchStart",`passive${r.capture===!0?"Capture":""}`],[t,"touchmove","noop","notPassiveCapture"]])},updated(t,e){const r=t.__qtouchpan;r!==void 0&&(e.oldValue!==e.value&&(typeof value!="function"&&r.end(),r.handler=e.value),r.direction=Qs(e.modifiers))},beforeUnmount(t){const e=t.__qtouchpan;e!==void 0&&(e.event!==void 0&&e.end(),Wn(e,"main"),Wn(e,"temp"),cn.is.firefox===!0&&_i(t,!1),e.styleCleanup!==void 0&&e.styleCleanup(),delete t.__qtouchpan)}});function mi(t,e,r){return r<=e?e:Math.min(r,Math.max(e,t))}function _p(t,e,r){if(r<=e)return e;const n=r-e+1;let a=e+(t-e)%n;return a<e&&(a=n+a),a===0?0:a}const wp="q-slider__marker-labels",uC=t=>({value:t}),lC=({marker:t})=>rt("div",{key:t.value,style:t.style,class:t.classes},t.label),ig=[34,37,40,33,39,38],cC={...Na,...Kc,min:{type:Number,default:0},max:{type:Number,default:100},innerMin:Number,innerMax:Number,step:{type:Number,default:1,validator:t=>t>=0},snap:Boolean,vertical:Boolean,reverse:Boolean,hideSelection:Boolean,color:String,markerLabelsClass:String,label:Boolean,labelColor:String,labelTextColor:String,labelAlways:Boolean,switchLabelSide:Boolean,markers:[Boolean,Number],markerLabels:[Boolean,Array,Object,Function],switchMarkerLabelsSide:Boolean,trackImg:String,trackColor:String,innerTrackImg:String,innerTrackColor:String,selectionColor:String,selectionImg:String,thumbSize:{type:String,default:"20px"},trackSize:{type:String,default:"4px"},disable:Boolean,readonly:Boolean,dense:Boolean,tabindex:[String,Number],thumbColor:String,thumbPath:{type:String,default:"M 4, 10 a 6,6 0 1,0 12,0 a 6,6 0 1,0 -12,0"}},fC=["pan","update:modelValue","change"];function dC({updateValue:t,updatePosition:e,getDragging:r,formAttrs:n}){const{props:a,emit:o,slots:u,proxy:{$q:l}}=tr(),c=Va(a,l),f=Gh(n),v=At(!1),h=At(!1),p=At(!1),g=At(!1),m=j(()=>a.vertical===!0?"--v":"--h"),y=j(()=>"-"+(a.switchLabelSide===!0?"switched":"standard")),S=j(()=>a.vertical===!0?a.reverse===!0:a.reverse!==(l.lang.rtl===!0)),_=j(()=>isNaN(a.innerMin)===!0||a.innerMin<a.min?a.min:a.innerMin),E=j(()=>isNaN(a.innerMax)===!0||a.innerMax>a.max?a.max:a.innerMax),x=j(()=>a.disable!==!0&&a.readonly!==!0&&_.value<E.value),C=j(()=>(String(a.step).trim().split(".")[1]||"").length),R=j(()=>a.step===0?1:a.step),D=j(()=>x.value===!0?a.tabindex||0:-1),k=j(()=>a.max-a.min),I=j(()=>E.value-_.value),O=j(()=>ht(_.value)),A=j(()=>ht(E.value)),V=j(()=>a.vertical===!0?S.value===!0?"bottom":"top":S.value===!0?"right":"left"),z=j(()=>a.vertical===!0?"height":"width"),L=j(()=>a.vertical===!0?"width":"height"),U=j(()=>a.vertical===!0?"vertical":"horizontal"),H=j(()=>{const vt={role:"slider","aria-valuemin":_.value,"aria-valuemax":E.value,"aria-orientation":U.value,"data-step":a.step};return a.disable===!0?vt["aria-disabled"]="true":a.readonly===!0&&(vt["aria-readonly"]="true"),vt}),et=j(()=>`q-slider q-slider${m.value} q-slider--${v.value===!0?"":"in"}active inline no-wrap `+(a.vertical===!0?"row":"column")+(a.disable===!0?" disabled":" q-slider--enabled"+(x.value===!0?" q-slider--editable":""))+(p.value==="both"?" q-slider--focus":"")+(a.label||a.labelAlways===!0?" q-slider--label":"")+(a.labelAlways===!0?" q-slider--label-always":"")+(c.value===!0?" q-slider--dark":"")+(a.dense===!0?" q-slider--dense q-slider--dense"+m.value:""));function nt(vt){const Kt="q-slider__"+vt;return`${Kt} ${Kt}${m.value} ${Kt}${m.value}${y.value}`}function ot(vt){const Kt="q-slider__"+vt;return`${Kt} ${Kt}${m.value}`}const Z=j(()=>{const vt=a.selectionColor||a.color;return"q-slider__selection absolute"+(vt!==void 0?` text-${vt}`:"")}),N=j(()=>ot("markers")+" absolute overflow-hidden"),K=j(()=>ot("track-container")),ut=j(()=>nt("pin")),lt=j(()=>nt("label")),mt=j(()=>nt("text-container")),yt=j(()=>nt("marker-labels-container")+(a.markerLabelsClass!==void 0?` ${a.markerLabelsClass}`:"")),gt=j(()=>"q-slider__track relative-position no-outline"+(a.trackColor!==void 0?` bg-${a.trackColor}`:"")),St=j(()=>{const vt={[L.value]:a.trackSize};return a.trackImg!==void 0&&(vt.backgroundImage=`url(${a.trackImg}) !important`),vt}),Rt=j(()=>"q-slider__inner absolute"+(a.innerTrackColor!==void 0?` bg-${a.innerTrackColor}`:"")),P=j(()=>{const vt={[V.value]:`${100*O.value}%`,[z.value]:`${100*(A.value-O.value)}%`};return a.innerTrackImg!==void 0&&(vt.backgroundImage=`url(${a.innerTrackImg}) !important`),vt});function tt(vt){const{min:Kt,max:ae,step:Qt}=a;let be=Kt+vt*(ae-Kt);if(Qt>0){const ee=(be-Kt)%Qt;be+=(Math.abs(ee)>=Qt/2?(ee<0?-1:1)*Qt:0)-ee}return C.value>0&&(be=parseFloat(be.toFixed(C.value))),mi(be,_.value,E.value)}function ht(vt){return k.value===0?0:(vt-a.min)/k.value}function Dt(vt,Kt){const ae=Fa(vt),Qt=a.vertical===!0?mi((ae.top-Kt.top)/Kt.height,0,1):mi((ae.left-Kt.left)/Kt.width,0,1);return mi(S.value===!0?1-Qt:Qt,O.value,A.value)}const kt=j(()=>Rx(a.markers)===!0?a.markers:R.value),wt=j(()=>{const vt=[],Kt=kt.value,ae=a.max;let Qt=a.min;do vt.push(Qt),Qt+=Kt;while(Qt<ae);return vt.push(ae),vt}),Ot=j(()=>{const vt=` ${wp}${m.value}-`;return wp+`${vt}${a.switchMarkerLabelsSide===!0?"switched":"standard"}${vt}${S.value===!0?"rtl":"ltr"}`}),zt=j(()=>a.markerLabels===!1?null:pt(a.markerLabels).map((vt,Kt)=>({index:Kt,value:vt.value,label:vt.label||vt.value,classes:Ot.value+(vt.classes!==void 0?" "+vt.classes:""),style:{...Ct(vt.value),...vt.style||{}}}))),G=j(()=>({markerList:zt.value,markerMap:qt.value,classes:Ot.value,getStyle:Ct})),J=j(()=>{if(I.value!==0){const vt=100*kt.value/I.value;return{...P.value,backgroundSize:a.vertical===!0?`2px ${vt}%`:`${vt}% 2px`}}return null});function pt(vt){if(vt===!1)return null;if(vt===!0)return wt.value.map(uC);if(typeof vt=="function")return wt.value.map(ae=>{const Qt=vt(ae);return Ll(Qt)===!0?{...Qt,value:ae}:{value:ae,label:Qt}});const Kt=({value:ae})=>ae>=a.min&&ae<=a.max;return Array.isArray(vt)===!0?vt.map(ae=>Ll(ae)===!0?ae:{value:ae}).filter(Kt):Object.keys(vt).map(ae=>{const Qt=vt[ae],be=Number(ae);return Ll(Qt)===!0?{...Qt,value:be}:{value:be,label:Qt}}).filter(Kt)}function Ct(vt){return{[V.value]:`${100*(vt-a.min)/k.value}%`}}const qt=j(()=>{if(a.markerLabels===!1)return null;const vt={};return zt.value.forEach(Kt=>{vt[Kt.value]=Kt}),vt});function ue(){if(u["marker-label-group"]!==void 0)return u["marker-label-group"](G.value);const vt=u["marker-label"]||lC;return zt.value.map(Kt=>vt({marker:Kt,...G.value}))}const st=j(()=>[[ag,Mt,void 0,{[U.value]:!0,prevent:!0,stop:!0,mouse:!0,mouseAllDir:!0}]]);function Mt(vt){vt.isFinal===!0?(g.value!==void 0&&(e(vt.evt),vt.touch===!0&&t(!0),g.value=void 0,o("pan","end")),v.value=!1,p.value=!1):vt.isFirst===!0?(g.value=r(vt.evt),e(vt.evt),t(),v.value=!0,o("pan","start")):(e(vt.evt),t())}function Lt(){p.value=!1}function le(vt){e(vt,r(vt)),t(),h.value=!0,v.value=!0,document.addEventListener("mouseup",oe,!0)}function oe(){h.value=!1,v.value=!1,t(!0),Lt(),document.removeEventListener("mouseup",oe,!0)}function Yt(vt){e(vt,r(vt)),t(!0)}function Nt(vt){ig.includes(vt.keyCode)&&t(!0)}function ve(vt){if(a.vertical===!0)return null;const Kt=l.lang.rtl!==a.reverse?1-vt:vt;return{transform:`translateX(calc(${2*Kt-1} * ${a.thumbSize} / 2 + ${50-100*Kt}%))`}}function ze(vt){const Kt=j(()=>h.value===!1&&(p.value===vt.focusValue||p.value==="both")?" q-slider--focus":""),ae=j(()=>`q-slider__thumb q-slider__thumb${m.value} q-slider__thumb${m.value}-${S.value===!0?"rtl":"ltr"} absolute non-selectable`+Kt.value+(vt.thumbColor.value!==void 0?` text-${vt.thumbColor.value}`:"")),Qt=j(()=>({width:a.thumbSize,height:a.thumbSize,[V.value]:`${100*vt.ratio.value}%`,zIndex:p.value===vt.focusValue?2:void 0})),be=j(()=>vt.labelColor.value!==void 0?` text-${vt.labelColor.value}`:""),ee=j(()=>ve(vt.ratio.value)),Ee=j(()=>"q-slider__text"+(vt.labelTextColor.value!==void 0?` text-${vt.labelTextColor.value}`:""));return()=>{const Dr=[rt("svg",{class:"q-slider__thumb-shape absolute-full",viewBox:"0 0 20 20","aria-hidden":"true"},[rt("path",{d:a.thumbPath})]),rt("div",{class:"q-slider__focus-ring fit"})];return(a.label===!0||a.labelAlways===!0)&&(Dr.push(rt("div",{class:ut.value+" absolute fit no-pointer-events"+be.value},[rt("div",{class:lt.value,style:{minWidth:a.thumbSize}},[rt("div",{class:mt.value,style:ee.value},[rt("span",{class:Ee.value},vt.label.value)])])])),a.name!==void 0&&a.disable!==!0&&f(Dr,"push")),rt("div",{class:ae.value,style:Qt.value,...vt.getNodeData()},Dr)}}function je(vt,Kt,ae,Qt){const be=[];a.innerTrackColor!=="transparent"&&be.push(rt("div",{key:"inner",class:Rt.value,style:P.value})),a.selectionColor!=="transparent"&&be.push(rt("div",{key:"selection",class:Z.value,style:vt.value})),a.markers!==!1&&be.push(rt("div",{key:"marker",class:N.value,style:J.value})),Qt(be);const ee=[vu("div",{key:"trackC",class:K.value,tabindex:Kt.value,...ae.value},[rt("div",{class:gt.value,style:St.value},be)],"slide",x.value,()=>st.value)];if(a.markerLabels!==!1){const Ee=a.switchMarkerLabelsSide===!0?"unshift":"push";ee[Ee](rt("div",{key:"markerL",class:yt.value},ue()))}return ee}return xn(()=>{document.removeEventListener("mouseup",oe,!0)}),{state:{active:v,focus:p,preventFocus:h,dragging:g,editable:x,classes:et,tabindex:D,attributes:H,step:R,decimals:C,trackLen:k,innerMin:_,innerMinRatio:O,innerMax:E,innerMaxRatio:A,positionProp:V,sizeProp:z,isReversed:S},methods:{onActivate:le,onMobileClick:Yt,onBlur:Lt,onKeyup:Nt,getContent:je,getThumbRenderFn:ze,convertRatioToModel:tt,convertModelToRatio:ht,getDraggingRatio:Dt}}}const vC=()=>({});var vi=qe({name:"QSlider",props:{...cC,modelValue:{required:!0,default:null,validator:t=>typeof t=="number"||t===null},labelValue:[String,Number]},emits:fC,setup(t,{emit:e}){const{proxy:{$q:r}}=tr(),{state:n,methods:a}=dC({updateValue:m,updatePosition:S,getDragging:y,formAttrs:kx(t)}),o=At(null),u=At(0),l=At(0);function c(){l.value=t.modelValue===null?n.innerMin.value:mi(t.modelValue,n.innerMin.value,n.innerMax.value)}De(()=>`${t.modelValue}|${n.innerMin.value}|${n.innerMax.value}`,c),c();const f=j(()=>a.convertModelToRatio(l.value)),v=j(()=>n.active.value===!0?u.value:f.value),h=j(()=>{const x={[n.positionProp.value]:`${100*n.innerMinRatio.value}%`,[n.sizeProp.value]:`${100*(v.value-n.innerMinRatio.value)}%`};return t.selectionImg!==void 0&&(x.backgroundImage=`url(${t.selectionImg}) !important`),x}),p=a.getThumbRenderFn({focusValue:!0,getNodeData:vC,ratio:v,label:j(()=>t.labelValue!==void 0?t.labelValue:l.value),thumbColor:j(()=>t.thumbColor||t.color),labelColor:j(()=>t.labelColor),labelTextColor:j(()=>t.labelTextColor)}),g=j(()=>n.editable.value!==!0?{}:r.platform.is.mobile===!0?{onClick:a.onMobileClick}:{onMousedown:a.onActivate,onFocus:_,onBlur:a.onBlur,onKeydown:E,onKeyup:a.onKeyup});function m(x){l.value!==t.modelValue&&e("update:modelValue",l.value),x===!0&&e("change",l.value)}function y(){return o.value.getBoundingClientRect()}function S(x,C=n.dragging.value){const R=a.getDraggingRatio(x,C);l.value=a.convertRatioToModel(R),u.value=t.snap!==!0||t.step===0?R:a.convertModelToRatio(l.value)}function _(){n.focus.value=!0}function E(x){if(!ig.includes(x.keyCode))return;or(x);const C=([34,33].includes(x.keyCode)?10:1)*n.step.value,R=([34,37,40].includes(x.keyCode)?-1:1)*(n.isReversed.value===!0?-1:1)*(t.vertical===!0?-1:1)*C;l.value=mi(parseFloat((l.value+R).toFixed(n.decimals.value)),n.innerMin.value,n.innerMax.value),m()}return()=>{const x=a.getContent(h,n.tabindex,g,C=>{C.push(p())});return rt("div",{ref:o,class:n.classes.value+(t.modelValue===null?" q-slider--no-value":""),...n.attributes.value,"aria-valuenow":t.modelValue},x)}}});let ho=!1;{const t=document.createElement("div");t.setAttribute("dir","rtl"),Object.assign(t.style,{width:"1px",height:"1px",overflow:"auto"});const e=document.createElement("div");Object.assign(e.style,{width:"1000px",height:"1px"}),document.body.appendChild(t),t.appendChild(e),t.scrollLeft=-1e3,ho=t.scrollLeft>=0,t.remove()}function pC(t,e,r){const n=r===!0?["left","right"]:["top","bottom"];return`absolute-${e===!0?n[0]:n[1]}${t?` text-${t}`:""}`}const hC=["left","center","right","justify"];var xp=qe({name:"QTabs",props:{modelValue:[Number,String],align:{type:String,default:"center",validator:t=>hC.includes(t)},breakpoint:{type:[String,Number],default:600},vertical:Boolean,shrink:Boolean,stretch:Boolean,activeClass:String,activeColor:String,activeBgColor:String,indicatorColor:String,leftIcon:String,rightIcon:String,outsideArrows:Boolean,mobileArrows:Boolean,switchIndicator:Boolean,narrowIndicator:Boolean,inlineLabel:Boolean,noCaps:Boolean,dense:Boolean,contentClass:String,"onUpdate:modelValue":[Function,Array]},setup(t,{slots:e,emit:r}){const{proxy:n}=tr(),{$q:a}=n,{registerTick:o}=oo(),{registerTick:u}=oo(),{registerTick:l}=oo(),{registerTimeout:c,removeTimeout:f}=Vs(),{registerTimeout:v,removeTimeout:h}=Vs(),p=At(null),g=At(null),m=At(t.modelValue),y=At(!1),S=At(!0),_=At(!1),E=At(!1),x=j(()=>a.platform.is.desktop===!0||t.mobileArrows===!0),C=[],R=At(0),D=At(!1);let k,I,O,A=x.value===!0?mt:vo;const V=j(()=>({activeClass:t.activeClass,activeColor:t.activeColor,activeBgColor:t.activeBgColor,indicatorClass:pC(t.indicatorColor,t.switchIndicator,t.vertical),narrowIndicator:t.narrowIndicator,inlineLabel:t.inlineLabel,noCaps:t.noCaps})),z=j(()=>{const st=R.value,Mt=m.value;for(let Lt=0;Lt<st;Lt++)if(C[Lt].name.value===Mt)return!0;return!1}),L=j(()=>`q-tabs__content--align-${y.value===!0?"left":E.value===!0?"justify":t.align}`),U=j(()=>`q-tabs row no-wrap items-center q-tabs--${y.value===!0?"":"not-"}scrollable q-tabs--${t.vertical===!0?"vertical":"horizontal"} q-tabs__arrows--${x.value===!0&&t.outsideArrows===!0?"outside":"inside"}`+(t.dense===!0?" q-tabs--dense":"")+(t.shrink===!0?" col-shrink":"")+(t.stretch===!0?" self-stretch":"")),H=j(()=>"q-tabs__content row no-wrap items-center self-stretch hide-scrollbar relative-position "+L.value+(t.contentClass!==void 0?` ${t.contentClass}`:"")+(a.platform.is.mobile===!0?" scroll":"")),et=j(()=>t.vertical===!0?{container:"height",content:"offsetHeight",scroll:"scrollHeight"}:{container:"width",content:"offsetWidth",scroll:"scrollWidth"}),nt=j(()=>t.vertical!==!0&&a.lang.rtl===!0),ot=j(()=>ho===!1&&nt.value===!0);De(nt,A),De(()=>t.modelValue,st=>{Z({name:st,setCurrent:!0,skipEmit:!0})}),De(()=>t.outsideArrows,()=>{N()}),De(x,st=>{A=st===!0?mt:vo,N()});function Z({name:st,setCurrent:Mt,skipEmit:Lt,fromRoute:le}){m.value!==st&&(Lt!==!0&&t["onUpdate:modelValue"]!==void 0&&r("update:modelValue",st),(Mt===!0||t["onUpdate:modelValue"]===void 0)&&(ut(m.value,st),m.value=st))}function N(){o(()=>{K({width:p.value.offsetWidth,height:p.value.offsetHeight})})}function K(st){if(et.value===void 0||g.value===null)return;const Mt=st[et.value.container],Lt=Math.min(g.value[et.value.scroll],Array.prototype.reduce.call(g.value.children,(oe,Yt)=>oe+(Yt[et.value.content]||0),0)),le=Mt>0&&Lt>Mt;y.value=le,le===!0&&u(A),E.value=Mt<parseInt(t.breakpoint,10)}function ut(st,Mt){const Lt=st!=null&&st!==""?C.find(oe=>oe.name.value===st):null,le=Mt!=null&&Mt!==""?C.find(oe=>oe.name.value===Mt):null;if(Lt&&le){const oe=Lt.tabIndicatorRef.value,Yt=le.tabIndicatorRef.value;clearTimeout(k),oe.style.transition="none",oe.style.transform="none",Yt.style.transition="none",Yt.style.transform="none";const Nt=oe.getBoundingClientRect(),ve=Yt.getBoundingClientRect();Yt.style.transform=t.vertical===!0?`translate3d(0,${Nt.top-ve.top}px,0) scale3d(1,${ve.height?Nt.height/ve.height:1},1)`:`translate3d(${Nt.left-ve.left}px,0,0) scale3d(${ve.width?Nt.width/ve.width:1},1,1)`,l(()=>{k=setTimeout(()=>{Yt.style.transition="transform .25s cubic-bezier(.4, 0, .2, 1)",Yt.style.transform="none"},70)})}le&&y.value===!0&&lt(le.rootRef.value)}function lt(st){const{left:Mt,width:Lt,top:le,height:oe}=g.value.getBoundingClientRect(),Yt=st.getBoundingClientRect();let Nt=t.vertical===!0?Yt.top-le:Yt.left-Mt;if(Nt<0){g.value[t.vertical===!0?"scrollTop":"scrollLeft"]+=Math.floor(Nt),A();return}Nt+=t.vertical===!0?Yt.height-oe:Yt.width-Lt,Nt>0&&(g.value[t.vertical===!0?"scrollTop":"scrollLeft"]+=Math.ceil(Nt),A())}function mt(){const st=g.value;if(st!==null){const Mt=st.getBoundingClientRect(),Lt=t.vertical===!0?st.scrollTop:Math.abs(st.scrollLeft);nt.value===!0?(S.value=Math.ceil(Lt+Mt.width)<st.scrollWidth-1,_.value=Lt>0):(S.value=Lt>0,_.value=t.vertical===!0?Math.ceil(Lt+Mt.height)<st.scrollHeight:Math.ceil(Lt+Mt.width)<st.scrollWidth)}}function yt(st){Rt(),I=setInterval(()=>{ht(st)===!0&&Rt()},5)}function gt(){yt(ot.value===!0?Number.MAX_SAFE_INTEGER:0)}function St(){yt(ot.value===!0?0:Number.MAX_SAFE_INTEGER)}function Rt(){clearInterval(I)}function P(st,Mt){const Lt=Array.prototype.filter.call(g.value.children,ve=>ve===Mt||ve.matches&&ve.matches(".q-tab.q-focusable")===!0),le=Lt.length;if(le===0)return;if(st===36)return lt(Lt[0]),Lt[0].focus(),!0;if(st===35)return lt(Lt[le-1]),Lt[le-1].focus(),!0;const oe=st===(t.vertical===!0?38:37),Yt=st===(t.vertical===!0?40:39),Nt=oe===!0?-1:Yt===!0?1:void 0;if(Nt!==void 0){const ve=nt.value===!0?-1:1,ze=Lt.indexOf(Mt)+Nt*ve;return ze>=0&&ze<le&&(lt(Lt[ze]),Lt[ze].focus({preventScroll:!0})),!0}}const tt=j(()=>ot.value===!0?{get:st=>Math.abs(st.scrollLeft),set:(st,Mt)=>{st.scrollLeft=-Mt}}:t.vertical===!0?{get:st=>st.scrollTop,set:(st,Mt)=>{st.scrollTop=Mt}}:{get:st=>st.scrollLeft,set:(st,Mt)=>{st.scrollLeft=Mt}});function ht(st){const Mt=g.value,{get:Lt,set:le}=tt.value;let oe=!1,Yt=Lt(Mt);const Nt=st<Yt?-1:1;return Yt+=Nt*5,Yt<0?(oe=!0,Yt=0):(Nt===-1&&Yt<=st||Nt===1&&Yt>=st)&&(oe=!0,Yt=st),le(Mt,Yt),A(),oe}function Dt(st,Mt){for(const Lt in st)if(st[Lt]!==Mt[Lt])return!1;return!0}function kt(){let st=null,Mt={matchedLen:0,queryDiff:9999,hrefLen:0};const Lt=C.filter(Nt=>Nt.routeData!==void 0&&Nt.routeData.hasRouterLink.value===!0),{hash:le,query:oe}=n.$route,Yt=Object.keys(oe).length;for(const Nt of Lt){const ve=Nt.routeData.exact.value===!0;if(Nt.routeData[ve===!0?"linkIsExactActive":"linkIsActive"].value!==!0)continue;const{hash:ze,query:je,matched:vt,href:Kt}=Nt.routeData.resolvedLink.value,ae=Object.keys(je).length;if(ve===!0){if(ze!==le||ae!==Yt||Dt(oe,je)===!1)continue;st=Nt.name.value;break}if(ze!==""&&ze!==le||ae!==0&&Dt(je,oe)===!1)continue;const Qt={matchedLen:vt.length,queryDiff:Yt-ae,hrefLen:Kt.length-ze.length};if(Qt.matchedLen>Mt.matchedLen){st=Nt.name.value,Mt=Qt;continue}else if(Qt.matchedLen!==Mt.matchedLen)continue;if(Qt.queryDiff<Mt.queryDiff)st=Nt.name.value,Mt=Qt;else if(Qt.queryDiff!==Mt.queryDiff)continue;Qt.hrefLen>Mt.hrefLen&&(st=Nt.name.value,Mt=Qt)}st===null&&C.some(Nt=>Nt.routeData===void 0&&Nt.name.value===m.value)===!0||Z({name:st,setCurrent:!0})}function wt(st){if(f(),D.value!==!0&&p.value!==null&&st.target&&typeof st.target.closest=="function"){const Mt=st.target.closest(".q-tab");Mt&&p.value.contains(Mt)===!0&&(D.value=!0,y.value===!0&&lt(Mt))}}function Ot(){c(()=>{D.value=!1},30)}function zt(){Ct.avoidRouteWatcher===!1?v(kt):h()}function G(){if(O===void 0){const st=De(()=>n.$route.fullPath,zt);O=()=>{st(),O=void 0}}}function J(st){C.push(st),R.value++,N(),st.routeData===void 0||n.$route===void 0?v(()=>{if(y.value===!0){const Mt=m.value,Lt=Mt!=null&&Mt!==""?C.find(le=>le.name.value===Mt):null;Lt&&lt(Lt.rootRef.value)}}):(G(),st.routeData.hasRouterLink.value===!0&&zt())}function pt(st){C.splice(C.indexOf(st),1),R.value--,N(),O!==void 0&&st.routeData!==void 0&&(C.every(Mt=>Mt.routeData===void 0)===!0&&O(),zt())}const Ct={currentModel:m,tabProps:V,hasFocus:D,hasActiveTab:z,registerTab:J,unregisterTab:pt,verifyRouteModel:zt,updateModel:Z,onKbdNavigate:P,avoidRouteWatcher:!1};Ix(Wh,Ct);function qt(){clearTimeout(k),Rt(),O!==void 0&&O()}let ue;return xn(qt),Nh(()=>{ue=O!==void 0,qt()}),Vh(()=>{ue===!0&&G(),N()}),()=>{const st=[rt(jx,{onResize:K}),rt("div",{ref:g,class:H.value,onScroll:A},zr(e.default))];return x.value===!0&&st.push(rt(Er,{class:"q-tabs__arrow q-tabs__arrow--left absolute q-tab__icon"+(S.value===!0?"":" q-tabs__arrow--faded"),name:t.leftIcon||a.iconSet.tabs[t.vertical===!0?"up":"left"],onMousedownPassive:gt,onTouchstartPassive:gt,onMouseupPassive:Rt,onMouseleavePassive:Rt,onTouchendPassive:Rt}),rt(Er,{class:"q-tabs__arrow q-tabs__arrow--right absolute q-tab__icon"+(_.value===!0?"":" q-tabs__arrow--faded"),name:t.rightIcon||a.iconSet.tabs[t.vertical===!0?"down":"right"],onMousedownPassive:St,onTouchstartPassive:St,onMouseupPassive:Rt,onMouseleavePassive:Rt,onTouchendPassive:Rt})),rt("div",{ref:p,class:U.value,role:"tablist",onFocusin:wt,onFocusout:Ot},st)}}});let gC=0;const mC=["click","keydown"],bC={icon:String,label:[Number,String],alert:[Boolean,String],alertIcon:String,name:{type:[Number,String],default:()=>`t_${gC++}`},noCaps:Boolean,tabindex:[String,Number],disable:Boolean,contentClass:String,ripple:{type:[Boolean,Object],default:!0}};function yC(t,e,r,n){const a=Ws(Wh,Vn);if(a===Vn)return console.error("QTab/QRouteTab component needs to be child of QTabs"),Vn;const{proxy:o}=tr(),u=At(null),l=At(null),c=At(null),f=j(()=>t.disable===!0||t.ripple===!1?!1:Object.assign({keyCodes:[13,32],early:!0},t.ripple===!0?{}:t.ripple)),v=j(()=>a.currentModel.value===t.name),h=j(()=>"q-tab relative-position self-stretch flex flex-center text-center"+(v.value===!0?" q-tab--active"+(a.tabProps.value.activeClass?" "+a.tabProps.value.activeClass:"")+(a.tabProps.value.activeColor?` text-${a.tabProps.value.activeColor}`:"")+(a.tabProps.value.activeBgColor?` bg-${a.tabProps.value.activeBgColor}`:""):" q-tab--inactive")+(t.icon&&t.label&&a.tabProps.value.inlineLabel===!1?" q-tab--full":"")+(t.noCaps===!0||a.tabProps.value.noCaps===!0?" q-tab--no-caps":"")+(t.disable===!0?" disabled":" q-focusable q-hoverable cursor-pointer")+(n!==void 0?n.linkClass.value:"")),p=j(()=>"q-tab__content self-stretch flex-center relative-position q-anchor--skip non-selectable "+(a.tabProps.value.inlineLabel===!0?"row no-wrap q-tab__content--inline":"column")+(t.contentClass!==void 0?` ${t.contentClass}`:"")),g=j(()=>t.disable===!0||a.hasFocus.value===!0||v.value===!1&&a.hasActiveTab.value===!0?-1:t.tabindex||0);function m(x,C){if(C!==!0&&u.value!==null&&u.value.focus(),t.disable===!0){n!==void 0&&n.hasRouterLink.value===!0&&or(x);return}if(n===void 0){a.updateModel({name:t.name}),r("click",x);return}if(n.hasRouterLink.value===!0){const R=(D={})=>{let k;const I=D.to===void 0||hi(D.to,t.to)===!0?a.avoidRouteWatcher=qh():null;return n.navigateToRouterLink(x,{...D,returnRouterError:!0}).catch(O=>{k=O}).then(O=>{if(I===a.avoidRouteWatcher&&(a.avoidRouteWatcher=!1,k===void 0&&(O===void 0||O.message.startsWith("Avoided redundant navigation")===!0)&&a.updateModel({name:t.name})),D.returnRouterError===!0)return k!==void 0?Promise.reject(k):O})};r("click",x,R),x.defaultPrevented!==!0&&R();return}r("click",x)}function y(x){_o(x,[13,32])?m(x,!0):Hh(x)!==!0&&x.keyCode>=35&&x.keyCode<=40&&x.altKey!==!0&&x.metaKey!==!0&&a.onKbdNavigate(x.keyCode,o.$el)===!0&&or(x),r("keydown",x)}function S(){const x=a.tabProps.value.narrowIndicator,C=[],R=rt("div",{ref:c,class:["q-tab__indicator",a.tabProps.value.indicatorClass]});t.icon!==void 0&&C.push(rt(Er,{class:"q-tab__icon",name:t.icon})),t.label!==void 0&&C.push(rt("div",{class:"q-tab__label"},t.label)),t.alert!==!1&&C.push(t.alertIcon!==void 0?rt(Er,{class:"q-tab__alert-icon",color:t.alert!==!0?t.alert:void 0,name:t.alertIcon}):rt("div",{class:"q-tab__alert"+(t.alert!==!0?` text-${t.alert}`:"")})),x===!0&&C.push(R);const D=[rt("div",{class:"q-focus-helper",tabindex:-1,ref:u}),rt("div",{class:p.value},Yh(e.default,C))];return x===!1&&D.push(R),D}const _={name:j(()=>t.name),rootRef:l,tabIndicatorRef:c,routeData:n};xn(()=>{a.unregisterTab(_)}),wo(()=>{a.registerTab(_)});function E(x,C){const R={ref:l,class:h.value,tabindex:g.value,role:"tab","aria-selected":v.value===!0?"true":"false","aria-disabled":t.disable===!0?"true":void 0,onClick:m,onKeydown:y,...C};return cr(rt(x,R,S()),[[Xc,f.value]])}return{renderTab:E,$tabs:a}}var ji=qe({name:"QTab",props:bC,emits:mC,setup(t,{slots:e,emit:r}){const{renderTab:n}=yC(t,e,r);return()=>n("div")}});function SC(t){const e=[.06,6,50];return typeof t=="string"&&t.length&&t.split(":").forEach((r,n)=>{const a=parseFloat(r);a&&(e[n]=a)}),e}var _C=Uc({name:"touch-swipe",beforeMount(t,{value:e,arg:r,modifiers:n}){if(n.mouse!==!0&&cn.has.touch!==!0)return;const a=n.mouseCapture===!0?"Capture":"",o={handler:e,sensitivity:SC(r),direction:Qs(n),noop:vo,mouseStart(u){Js(u,o)&&$h(u)&&(Kr(o,"temp",[[document,"mousemove","move",`notPassive${a}`],[document,"mouseup","end","notPassiveCapture"]]),o.start(u,!0))},touchStart(u){if(Js(u,o)){const l=u.target;Kr(o,"temp",[[l,"touchmove","move","notPassiveCapture"],[l,"touchcancel","end","notPassiveCapture"],[l,"touchend","end","notPassiveCapture"]]),o.start(u)}},start(u,l){cn.is.firefox===!0&&_i(t,!0);const c=Fa(u);o.event={x:c.left,y:c.top,time:Date.now(),mouse:l===!0,dir:!1}},move(u){if(o.event===void 0)return;if(o.event.dir!==!1){or(u);return}const l=Date.now()-o.event.time;if(l===0)return;const c=Fa(u),f=c.left-o.event.x,v=Math.abs(f),h=c.top-o.event.y,p=Math.abs(h);if(o.event.mouse!==!0){if(v<o.sensitivity[1]&&p<o.sensitivity[1]){o.end(u);return}}else if(v<o.sensitivity[2]&&p<o.sensitivity[2])return;const g=v/l,m=p/l;o.direction.vertical===!0&&v<p&&v<100&&m>o.sensitivity[0]&&(o.event.dir=h<0?"up":"down"),o.direction.horizontal===!0&&v>p&&p<100&&g>o.sensitivity[0]&&(o.event.dir=f<0?"left":"right"),o.direction.up===!0&&v<p&&h<0&&v<100&&m>o.sensitivity[0]&&(o.event.dir="up"),o.direction.down===!0&&v<p&&h>0&&v<100&&m>o.sensitivity[0]&&(o.event.dir="down"),o.direction.left===!0&&v>p&&f<0&&p<100&&g>o.sensitivity[0]&&(o.event.dir="left"),o.direction.right===!0&&v>p&&f>0&&p<100&&g>o.sensitivity[0]&&(o.event.dir="right"),o.event.dir!==!1?(or(u),o.event.mouse===!0&&(document.body.classList.add("no-pointer-events--children"),document.body.classList.add("non-selectable"),po(),o.styleCleanup=y=>{o.styleCleanup=void 0,document.body.classList.remove("non-selectable");const S=()=>{document.body.classList.remove("no-pointer-events--children")};y===!0?setTimeout(S,50):S()}),o.handler({evt:u,touch:o.event.mouse!==!0,mouse:o.event.mouse,direction:o.event.dir,duration:l,distance:{x:v,y:p}})):o.end(u)},end(u){o.event!==void 0&&(Wn(o,"temp"),cn.is.firefox===!0&&_i(t,!1),o.styleCleanup!==void 0&&o.styleCleanup(!0),u!==void 0&&o.event.dir!==!1&&or(u),o.event=void 0)}};if(t.__qtouchswipe=o,n.mouse===!0){const u=n.mouseCapture===!0||n.mousecapture===!0?"Capture":"";Kr(o,"main",[[t,"mousedown","mouseStart",`passive${u}`]])}cn.has.touch===!0&&Kr(o,"main",[[t,"touchstart","touchStart",`passive${n.capture===!0?"Capture":""}`],[t,"touchmove","noop","notPassiveCapture"]])},updated(t,e){const r=t.__qtouchswipe;r!==void 0&&(e.oldValue!==e.value&&(typeof e.value!="function"&&r.end(),r.handler=e.value),r.direction=Qs(e.modifiers))},beforeUnmount(t){const e=t.__qtouchswipe;e!==void 0&&(Wn(e,"main"),Wn(e,"temp"),cn.is.firefox===!0&&_i(t,!1),e.styleCleanup!==void 0&&e.styleCleanup(),delete t.__qtouchswipe)}});function og(){const t=new Map;return{getCache:function(e,r){return t[e]===void 0?t[e]=r:t[e]},getCacheWithFn:function(e,r){return t[e]===void 0?t[e]=r():t[e]}}}const wC={name:{required:!0},disable:Boolean},Cp={setup(t,{slots:e}){return()=>rt("div",{class:"q-panel scroll",role:"tabpanel"},zr(e.default))}},xC={modelValue:{required:!0},animated:Boolean,infinite:Boolean,swipeable:Boolean,vertical:Boolean,transitionPrev:String,transitionNext:String,transitionDuration:{type:[String,Number],default:300},keepAlive:Boolean,keepAliveInclude:[String,Array,RegExp],keepAliveExclude:[String,Array,RegExp],keepAliveMax:Number},CC=["update:modelValue","before-transition","transition"];function EC(){const{props:t,emit:e,proxy:r}=tr(),{getCacheWithFn:n}=og();let a,o;const u=At(null),l=At(null);function c(L){const U=t.vertical===!0?"up":"left";k((r.$q.lang.rtl===!0?-1:1)*(L.direction===U?1:-1))}const f=j(()=>[[_C,c,void 0,{horizontal:t.vertical!==!0,vertical:t.vertical,mouse:!0}]]),v=j(()=>t.transitionPrev||`slide-${t.vertical===!0?"down":"right"}`),h=j(()=>t.transitionNext||`slide-${t.vertical===!0?"up":"left"}`),p=j(()=>`--q-transition-duration: ${t.transitionDuration}ms`),g=j(()=>typeof t.modelValue=="string"||typeof t.modelValue=="number"?t.modelValue:String(t.modelValue)),m=j(()=>({include:t.keepAliveInclude,exclude:t.keepAliveExclude,max:t.keepAliveMax})),y=j(()=>t.keepAliveInclude!==void 0||t.keepAliveExclude!==void 0);De(()=>t.modelValue,(L,U)=>{const H=x(L)===!0?C(L):-1;o!==!0&&D(H===-1?0:H<C(U)?-1:1),u.value!==H&&(u.value=H,e("before-transition",L,U),Ur(()=>{e("transition",L,U)}))});function S(){k(1)}function _(){k(-1)}function E(L){e("update:modelValue",L)}function x(L){return L!=null&&L!==""}function C(L){return a.findIndex(U=>U.props.name===L&&U.props.disable!==""&&U.props.disable!==!0)}function R(){return a.filter(L=>L.props.disable!==""&&L.props.disable!==!0)}function D(L){const U=L!==0&&t.animated===!0&&u.value!==-1?"q-transition--"+(L===-1?v.value:h.value):null;l.value!==U&&(l.value=U)}function k(L,U=u.value){let H=U+L;for(;H>-1&&H<a.length;){const et=a[H];if(et!==void 0&&et.props.disable!==""&&et.props.disable!==!0){D(L),o=!0,e("update:modelValue",et.props.name),setTimeout(()=>{o=!1});return}H+=L}t.infinite===!0&&a.length>0&&U!==-1&&U!==a.length&&k(L,L===-1?a.length:-1)}function I(){const L=C(t.modelValue);return u.value!==L&&(u.value=L),!0}function O(){const L=x(t.modelValue)===!0&&I()&&a[u.value];return t.keepAlive===!0?[rt(Ax,m.value,[rt(y.value===!0?n(g.value,()=>({...Cp,name:g.value})):Cp,{key:g.value,style:p.value},()=>L)])]:[rt("div",{class:"q-panel scroll",style:p.value,key:g.value,role:"tabpanel"},[L])]}function A(){if(a.length!==0)return t.animated===!0?[rt(Yc,{name:l.value},O)]:O()}function V(L){return a=Ox(zr(L.default,[])).filter(U=>U.props!==null&&U.props.slot===void 0&&x(U.props.name)===!0),a.length}function z(){return a}return Object.assign(r,{next:S,previous:_,goTo:E}),{panelIndex:u,panelDirectives:f,updatePanelsList:V,updatePanelIndex:I,getPanelContent:A,getEnabledPanels:R,getPanels:z,isValidPanelName:x,keepAliveProps:m,needsUniqueKeepAliveWrapper:y,goToPanelByOffset:k,goToPanel:E,nextPanel:S,previousPanel:_}}var MC=qe({name:"QTabPanels",props:{...xC,...Na},emits:CC,setup(t,{slots:e}){const r=tr(),n=Va(t,r.proxy.$q),{updatePanelsList:a,getPanelContent:o,panelDirectives:u}=EC(),l=j(()=>"q-tab-panels q-panel-parent"+(n.value===!0?" q-tab-panels--dark q-dark":""));return()=>(a(e),vu("div",{class:l.value},o(),"pan",t.swipeable,()=>u.value))}}),$l=qe({name:"QTabPanel",props:wC,setup(t,{slots:e}){return()=>rt("div",{class:"q-tab-panel",role:"tabpanel"},zr(e.default))}});const DC=/^rgb(a)?\((\d{1,3}),(\d{1,3}),(\d{1,3}),?([01]?\.?\d*?)?\)$/;function Ep({r:t,g:e,b:r,a:n}){const a=n!==void 0;if(t=Math.round(t),e=Math.round(e),r=Math.round(r),t>255||e>255||r>255||a&&n>100)throw new TypeError("Expected 3 numbers below 256 (and optionally one below 100)");return n=a?(Math.round(255*n/100)|1<<8).toString(16).slice(1):"","#"+(r|e<<8|t<<16|1<<24).toString(16).slice(1)+n}function Mp({r:t,g:e,b:r,a:n}){return`rgb${n!==void 0?"a":""}(${t},${e},${r}${n!==void 0?","+n/100:""})`}function sg(t){if(typeof t!="string")throw new TypeError("Expected a string");t=t.replace(/^#/,""),t.length===3?t=t[0]+t[0]+t[1]+t[1]+t[2]+t[2]:t.length===4&&(t=t[0]+t[0]+t[1]+t[1]+t[2]+t[2]+t[3]+t[3]);const e=parseInt(t,16);return t.length>6?{r:e>>24&255,g:e>>16&255,b:e>>8&255,a:Math.round((e&255)/2.55)}:{r:e>>16,g:e>>8&255,b:e&255}}function Dp({h:t,s:e,v:r,a:n}){let a,o,u;e=e/100,r=r/100,t=t/360;const l=Math.floor(t*6),c=t*6-l,f=r*(1-e),v=r*(1-c*e),h=r*(1-(1-c)*e);switch(l%6){case 0:a=r,o=h,u=f;break;case 1:a=v,o=r,u=f;break;case 2:a=f,o=r,u=h;break;case 3:a=f,o=v,u=r;break;case 4:a=h,o=f,u=r;break;case 5:a=r,o=f,u=v;break}return{r:Math.round(a*255),g:Math.round(o*255),b:Math.round(u*255),a:n}}function Gl({r:t,g:e,b:r,a:n}){const a=Math.max(t,e,r),o=Math.min(t,e,r),u=a-o,l=a===0?0:u/a,c=a/255;let f;switch(a){case o:f=0;break;case t:f=e-r+u*(e<r?6:0),f/=6*u;break;case e:f=r-t+u*2,f/=6*u;break;case r:f=t-e+u*4,f/=6*u;break}return{h:Math.round(f*360),s:Math.round(l*100),v:Math.round(c*100),a:n}}function ug(t){if(typeof t!="string")throw new TypeError("Expected a string");const e=t.replace(/ /g,""),r=DC.exec(e);if(r===null)return sg(e);const n={r:Math.min(255,parseInt(r[2],10)),g:Math.min(255,parseInt(r[3],10)),b:Math.min(255,parseInt(r[4],10))};if(r[1]){const a=parseFloat(r[5]);n.a=Math.min(1,isNaN(a)===!0?1:a)*100}return n}function TC(t){if(typeof t!="string"&&(!t||t.r===void 0))throw new TypeError("Expected a string or a {r, g, b} object as color");const e=typeof t=="string"?ug(t):t,r=e.r/255,n=e.g/255,a=e.b/255,o=r<=.03928?r/12.92:Math.pow((r+.055)/1.055,2.4),u=n<=.03928?n/12.92:Math.pow((n+.055)/1.055,2.4),l=a<=.03928?a/12.92:Math.pow((a+.055)/1.055,2.4);return .2126*o+.7152*u+.0722*l}const RC=["rgb(255,204,204)","rgb(255,230,204)","rgb(255,255,204)","rgb(204,255,204)","rgb(204,255,230)","rgb(204,255,255)","rgb(204,230,255)","rgb(204,204,255)","rgb(230,204,255)","rgb(255,204,255)","rgb(255,153,153)","rgb(255,204,153)","rgb(255,255,153)","rgb(153,255,153)","rgb(153,255,204)","rgb(153,255,255)","rgb(153,204,255)","rgb(153,153,255)","rgb(204,153,255)","rgb(255,153,255)","rgb(255,102,102)","rgb(255,179,102)","rgb(255,255,102)","rgb(102,255,102)","rgb(102,255,179)","rgb(102,255,255)","rgb(102,179,255)","rgb(102,102,255)","rgb(179,102,255)","rgb(255,102,255)","rgb(255,51,51)","rgb(255,153,51)","rgb(255,255,51)","rgb(51,255,51)","rgb(51,255,153)","rgb(51,255,255)","rgb(51,153,255)","rgb(51,51,255)","rgb(153,51,255)","rgb(255,51,255)","rgb(255,0,0)","rgb(255,128,0)","rgb(255,255,0)","rgb(0,255,0)","rgb(0,255,128)","rgb(0,255,255)","rgb(0,128,255)","rgb(0,0,255)","rgb(128,0,255)","rgb(255,0,255)","rgb(245,0,0)","rgb(245,123,0)","rgb(245,245,0)","rgb(0,245,0)","rgb(0,245,123)","rgb(0,245,245)","rgb(0,123,245)","rgb(0,0,245)","rgb(123,0,245)","rgb(245,0,245)","rgb(214,0,0)","rgb(214,108,0)","rgb(214,214,0)","rgb(0,214,0)","rgb(0,214,108)","rgb(0,214,214)","rgb(0,108,214)","rgb(0,0,214)","rgb(108,0,214)","rgb(214,0,214)","rgb(163,0,0)","rgb(163,82,0)","rgb(163,163,0)","rgb(0,163,0)","rgb(0,163,82)","rgb(0,163,163)","rgb(0,82,163)","rgb(0,0,163)","rgb(82,0,163)","rgb(163,0,163)","rgb(92,0,0)","rgb(92,46,0)","rgb(92,92,0)","rgb(0,92,0)","rgb(0,92,46)","rgb(0,92,92)","rgb(0,46,92)","rgb(0,0,92)","rgb(46,0,92)","rgb(92,0,92)","rgb(255,255,255)","rgb(205,205,205)","rgb(178,178,178)","rgb(153,153,153)","rgb(127,127,127)","rgb(102,102,102)","rgb(76,76,76)","rgb(51,51,51)","rgb(25,25,25)","rgb(0,0,0)"],Tp="M5 5 h10 v10 h-10 v-10 z",kC="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAAICAYAAADED76LAAAAH0lEQVQoU2NkYGAwZkAFZ5G5jPRRgOYEVDeB3EBjBQBOZwTVugIGyAAAAABJRU5ErkJggg==";var IC=qe({name:"QColor",props:{...Na,...Kc,modelValue:String,defaultValue:String,defaultView:{type:String,default:"spectrum",validator:t=>["spectrum","tune","palette"].includes(t)},formatModel:{type:String,default:"auto",validator:t=>["auto","hex","rgb","hexa","rgba"].includes(t)},palette:Array,noHeader:Boolean,noHeaderTabs:Boolean,noFooter:Boolean,square:Boolean,flat:Boolean,bordered:Boolean,disable:Boolean,readonly:Boolean},emits:["update:modelValue","change"],setup(t,{emit:e}){const{proxy:r}=tr(),{$q:n}=r,a=Va(t,n),{getCache:o}=og(),u=At(null),l=At(null),c=j(()=>t.formatModel==="auto"?null:t.formatModel.indexOf("hex")>-1),f=j(()=>t.formatModel==="auto"?null:t.formatModel.indexOf("a")>-1),v=At(t.formatModel==="auto"?t.modelValue===void 0||t.modelValue===null||t.modelValue===""||t.modelValue.startsWith("#")?"hex":"rgb":t.formatModel.startsWith("hex")?"hex":"rgb"),h=At(t.defaultView),p=At(z(t.modelValue||t.defaultValue)),g=j(()=>t.disable!==!0&&t.readonly!==!0),m=j(()=>t.modelValue===void 0||t.modelValue===null||t.modelValue===""||t.modelValue.startsWith("#")),y=j(()=>c.value!==null?c.value:m.value),S=j(()=>({type:"hidden",name:t.name,value:p.value[y.value===!0?"hex":"rgb"]})),_=Gh(S),E=j(()=>f.value!==null?f.value:p.value.a!==void 0),x=j(()=>({backgroundColor:p.value.rgb||"#000"})),C=j(()=>`q-color-picker__header-content q-color-picker__header-content--${(p.value.a!==void 0&&p.value.a<65?!0:TC(p.value)>.4)?"light":"dark"}`),R=j(()=>({background:`hsl(${p.value.h},100%,50%)`})),D=j(()=>({top:`${100-p.value.v}%`,[n.lang.rtl===!0?"right":"left"]:`${p.value.s}%`})),k=j(()=>t.palette!==void 0&&t.palette.length>0?t.palette:RC),I=j(()=>"q-color-picker"+(t.bordered===!0?" q-color-picker--bordered":"")+(t.square===!0?" q-color-picker--square no-border-radius":"")+(t.flat===!0?" q-color-picker--flat no-shadow":"")+(t.disable===!0?" disabled":"")+(a.value===!0?" q-color-picker--dark q-dark":"")),O=j(()=>t.disable===!0?{"aria-disabled":"true"}:t.readonly===!0?{"aria-readonly":"true"}:{}),A=j(()=>[[ag,ot,void 0,{prevent:!0,stop:!0,mouse:!0}]]);De(()=>t.modelValue,P=>{const tt=z(P||t.defaultValue);tt.hex!==p.value.hex&&(p.value=tt)}),De(()=>t.defaultValue,P=>{if(!t.modelValue&&P){const tt=z(P);tt.hex!==p.value.hex&&(p.value=tt)}});function V(P,tt){p.value.hex=Ep(P),p.value.rgb=Mp(P),p.value.r=P.r,p.value.g=P.g,p.value.b=P.b,p.value.a=P.a;const ht=p.value[y.value===!0?"hex":"rgb"];e("update:modelValue",ht),tt===!0&&e("change",ht)}function z(P){const tt=f.value!==void 0?f.value:t.formatModel==="auto"?null:t.formatModel.indexOf("a")>-1;if(typeof P!="string"||P.length===0||Bx.anyColor(P.replace(/ /g,""))!==!0)return{h:0,s:0,v:0,r:0,g:0,b:0,a:tt===!0?100:void 0,hex:void 0,rgb:void 0};const ht=ug(P);return tt===!0&&ht.a===void 0&&(ht.a=100),ht.hex=Ep(ht),ht.rgb=Mp(ht),Object.assign(ht,Gl(ht))}function L(P,tt,ht){const Dt=u.value;if(Dt===null)return;const kt=Dt.clientWidth,wt=Dt.clientHeight,Ot=Dt.getBoundingClientRect();let zt=Math.min(kt,Math.max(0,P-Ot.left));n.lang.rtl===!0&&(zt=kt-zt);const G=Math.min(wt,Math.max(0,tt-Ot.top)),J=Math.round(100*zt/kt),pt=Math.round(100*Math.max(0,Math.min(1,-(G/wt)+1))),Ct=Dp({h:p.value.h,s:J,v:pt,a:E.value===!0?p.value.a:void 0});p.value.s=J,p.value.v=pt,V(Ct,ht)}function U(P,tt){const ht=Math.round(P),Dt=Dp({h:ht,s:p.value.s,v:p.value.v,a:E.value===!0?p.value.a:void 0});p.value.h=ht,V(Dt,tt)}function H(P,tt,ht,Dt,kt){if(Dt!==void 0&&ir(Dt),!/^[0-9]+$/.test(P)){kt===!0&&r.$forceUpdate();return}const wt=Math.floor(Number(P));if(wt<0||wt>ht){kt===!0&&r.$forceUpdate();return}const Ot={r:tt==="r"?wt:p.value.r,g:tt==="g"?wt:p.value.g,b:tt==="b"?wt:p.value.b,a:E.value===!0?tt==="a"?wt:p.value.a:void 0};if(tt!=="a"){const zt=Gl(Ot);p.value.h=zt.h,p.value.s=zt.s,p.value.v=zt.v}if(V(Ot,kt),Dt!==void 0&&kt!==!0&&Dt.target.selectionEnd!==void 0){const zt=Dt.target.selectionEnd;Ur(()=>{Dt.target.setSelectionRange(zt,zt)})}}function et(P,tt){let ht;const Dt=P.target.value;if(ir(P),v.value==="hex"){if(Dt.length!==(E.value===!0?9:7)||!/^#[0-9A-Fa-f]+$/.test(Dt))return!0;ht=sg(Dt)}else{let wt;if(Dt.endsWith(")"))if(E.value!==!0&&Dt.startsWith("rgb(")){if(wt=Dt.substring(4,Dt.length-1).split(",").map(Ot=>parseInt(Ot,10)),wt.length!==3||!/^rgb\([0-9]{1,3},[0-9]{1,3},[0-9]{1,3}\)$/.test(Dt))return!0}else if(E.value===!0&&Dt.startsWith("rgba(")){if(wt=Dt.substring(5,Dt.length-1).split(","),wt.length!==4||!/^rgba\([0-9]{1,3},[0-9]{1,3},[0-9]{1,3},(0|0\.[0-9]+[1-9]|0\.[1-9]+|1)\)$/.test(Dt))return!0;for(let zt=0;zt<3;zt++){const G=parseInt(wt[zt],10);if(G<0||G>255)return!0;wt[zt]=G}const Ot=parseFloat(wt[3]);if(Ot<0||Ot>1)return!0;wt[3]=Ot}else return!0;else return!0;if(wt[0]<0||wt[0]>255||wt[1]<0||wt[1]>255||wt[2]<0||wt[2]>255||E.value===!0&&(wt[3]<0||wt[3]>1))return!0;ht={r:wt[0],g:wt[1],b:wt[2],a:E.value===!0?wt[3]*100:void 0}}const kt=Gl(ht);if(p.value.h=kt.h,p.value.s=kt.s,p.value.v=kt.v,V(ht,tt),tt!==!0){const wt=P.target.selectionEnd;Ur(()=>{P.target.setSelectionRange(wt,wt)})}}function nt(P){const tt=z(P),ht={r:tt.r,g:tt.g,b:tt.b,a:tt.a};ht.a===void 0&&(ht.a=p.value.a),p.value.h=tt.h,p.value.s=tt.s,p.value.v=tt.v,V(ht,!0)}function ot(P){P.isFinal?L(P.position.left,P.position.top,!0):Z(P)}const Z=Px(P=>{L(P.position.left,P.position.top)},20);function N(P){L(P.pageX-window.pageXOffset,P.pageY-window.pageYOffset,!0)}function K(P){L(P.pageX-window.pageXOffset,P.pageY-window.pageYOffset)}function ut(P){l.value!==null&&(l.value.$el.style.opacity=P?1:0)}function lt(){const P=[];return t.noHeaderTabs!==!0&&P.push(rt(xp,{class:"q-color-picker__header-tabs",modelValue:v.value,dense:!0,align:"justify",...o("topVTab",{"onUpdate:modelValue":tt=>{v.value=tt}})},()=>[rt(ji,{label:"HEX"+(E.value===!0?"A":""),name:"hex",ripple:!1}),rt(ji,{label:"RGB"+(E.value===!0?"A":""),name:"rgb",ripple:!1})])),P.push(rt("div",{class:"q-color-picker__header-banner row flex-center no-wrap"},[rt("input",{class:"fit",value:p.value[v.value],...g.value!==!0?{readonly:!0}:{},...o("topIn",{onInput:tt=>{ut(et(tt)===!0)},onChange:ir,onBlur:tt=>{et(tt,!0)===!0&&r.$forceUpdate(),ut(!1)}})}),rt(Er,{ref:l,class:"q-color-picker__error-icon absolute no-pointer-events",name:n.iconSet.type.negative})])),rt("div",{class:"q-color-picker__header relative-position overflow-hidden"},[rt("div",{class:"q-color-picker__header-bg absolute-full"}),rt("div",{class:C.value,style:x.value},P)])}function mt(){return rt(MC,{modelValue:h.value,animated:!0},()=>[rt($l,{class:"q-color-picker__spectrum-tab overflow-hidden",name:"spectrum"},gt),rt($l,{class:"q-pa-md q-color-picker__tune-tab",name:"tune"},St),rt($l,{class:"q-color-picker__palette-tab",name:"palette"},Rt)])}function yt(){return rt("div",{class:"q-color-picker__footer relative-position overflow-hidden"},[rt(xp,{class:"absolute-full",modelValue:h.value,dense:!0,align:"justify",...o("ftIn",{"onUpdate:modelValue":P=>{h.value=P}})},()=>[rt(ji,{icon:n.iconSet.colorPicker.spectrum,name:"spectrum",ripple:!1}),rt(ji,{icon:n.iconSet.colorPicker.tune,name:"tune",ripple:!1}),rt(ji,{icon:n.iconSet.colorPicker.palette,name:"palette",ripple:!1})])])}function gt(){const P={ref:u,class:"q-color-picker__spectrum non-selectable relative-position cursor-pointer"+(g.value!==!0?" readonly":""),style:R.value,...g.value===!0?{onClick:N,onMousedown:K}:{}},tt=[rt("div",{style:{paddingBottom:"100%"}}),rt("div",{class:"q-color-picker__spectrum-white absolute-full"}),rt("div",{class:"q-color-picker__spectrum-black absolute-full"}),rt("div",{class:"absolute",style:D.value},[p.value.hex!==void 0?rt("div",{class:"q-color-picker__spectrum-circle"}):null])],ht=[rt(vi,{class:"q-color-picker__hue non-selectable",modelValue:p.value.h,min:0,max:360,trackSize:"8px",innerTrackColor:"transparent",selectionColor:"transparent",readonly:g.value!==!0,thumbPath:Tp,"onUpdate:modelValue":U,...o("lazyhue",{onChange:Dt=>U(Dt,!0)})})];return E.value===!0&&ht.push(rt(vi,{class:"q-color-picker__alpha non-selectable",modelValue:p.value.a,min:0,max:100,trackSize:"8px",trackColor:"white",innerTrackColor:"transparent",selectionColor:"transparent",trackImg:kC,readonly:g.value!==!0,hideSelection:!0,thumbPath:Tp,...o("alphaSlide",{"onUpdate:modelValue":Dt=>H(Dt,"a",100),onChange:Dt=>H(Dt,"a",100,void 0,!0)})})),[vu("div",P,tt,"spec",g.value,()=>A.value),rt("div",{class:"q-color-picker__sliders"},ht)]}function St(){return[rt("div",{class:"row items-center no-wrap"},[rt("div","R"),rt(vi,{modelValue:p.value.r,min:0,max:255,color:"red",dark:a.value,readonly:g.value!==!0,...o("rSlide",{"onUpdate:modelValue":P=>H(P,"r",255),onChange:P=>H(P,"r",255,void 0,!0)})}),rt("input",{value:p.value.r,maxlength:3,readonly:g.value!==!0,onChange:ir,...o("rIn",{onInput:P=>H(P.target.value,"r",255,P),onBlur:P=>H(P.target.value,"r",255,P,!0)})})]),rt("div",{class:"row items-center no-wrap"},[rt("div","G"),rt(vi,{modelValue:p.value.g,min:0,max:255,color:"green",dark:a.value,readonly:g.value!==!0,...o("gSlide",{"onUpdate:modelValue":P=>H(P,"g",255),onChange:P=>H(P,"g",255,void 0,!0)})}),rt("input",{value:p.value.g,maxlength:3,readonly:g.value!==!0,onChange:ir,...o("gIn",{onInput:P=>H(P.target.value,"g",255,P),onBlur:P=>H(P.target.value,"g",255,P,!0)})})]),rt("div",{class:"row items-center no-wrap"},[rt("div","B"),rt(vi,{modelValue:p.value.b,min:0,max:255,color:"blue",readonly:g.value!==!0,dark:a.value,...o("bSlide",{"onUpdate:modelValue":P=>H(P,"b",255),onChange:P=>H(P,"b",255,void 0,!0)})}),rt("input",{value:p.value.b,maxlength:3,readonly:g.value!==!0,onChange:ir,...o("bIn",{onInput:P=>H(P.target.value,"b",255,P),onBlur:P=>H(P.target.value,"b",255,P,!0)})})]),E.value===!0?rt("div",{class:"row items-center no-wrap"},[rt("div","A"),rt(vi,{modelValue:p.value.a,color:"grey",readonly:g.value!==!0,dark:a.value,...o("aSlide",{"onUpdate:modelValue":P=>H(P,"a",100),onChange:P=>H(P,"a",100,void 0,!0)})}),rt("input",{value:p.value.a,maxlength:3,readonly:g.value!==!0,onChange:ir,...o("aIn",{onInput:P=>H(P.target.value,"a",100,P),onBlur:P=>H(P.target.value,"a",100,P,!0)})})]):null]}function Rt(){const P=tt=>rt("div",{class:"q-color-picker__cube col-auto",style:{backgroundColor:tt},...g.value===!0?o("palette#"+tt,{onClick:()=>{nt(tt)}}):{}});return[rt("div",{class:"row items-center q-color-picker__palette-rows"+(g.value===!0?" q-color-picker__palette-rows--editable":"")},k.value.map(P))]}return()=>{const P=[mt()];return t.name!==void 0&&t.disable!==!0&&_(P,"push"),t.noHeader!==!0&&P.unshift(lt()),t.noFooter!==!0&&P.push(yt()),rt("div",{class:I.value,...O.value},P)}}}),OC=qe({name:"QPopupProxy",props:{...Qc,breakpoint:{type:[String,Number],default:450}},emits:["show","hide"],setup(t,{slots:e,emit:r,attrs:n}){const{proxy:a}=tr(),{$q:o}=a,u=At(!1),l=At(null),c=j(()=>parseInt(t.breakpoint,10)),{canShow:f}=Jc({showing:u});function v(){return o.screen.width<c.value||o.screen.height<c.value?"dialog":"menu"}const h=At(v()),p=j(()=>h.value==="menu"?{maxHeight:"99vh"}:{});De(()=>v(),y=>{u.value!==!0&&(h.value=y)});function g(y){u.value=!0,r("show",y)}function m(y){u.value=!1,h.value=v(),r("hide",y)}return Object.assign(a,{show(y){f(y)===!0&&l.value.show(y)},hide(y){l.value.hide(y)},toggle(y){l.value.toggle(y)}}),()=>{const y={ref:l,...p.value,...n,onShow:g,onHide:m};let S;return h.value==="dialog"?S=Hs:(S=pu,Object.assign(y,{target:t.target,contextMenu:t.contextMenu,noParentEvent:!0,separateClosePopup:!0})),rt(S,y,e.default)}}}),AC=qe({name:"QPage",props:{padding:Boolean,styleFn:Function},setup(t,{slots:e}){const{proxy:{$q:r}}=tr(),n=Ws(zx,Vn);if(n===Vn)return console.error("QPage needs to be a deep child of QLayout"),Vn;if(Ws(Lx,Vn)===Vn)return console.error("QPage needs to be child of QPageContainer"),Vn;const o=j(()=>{const l=(n.header.space===!0?n.header.size:0)+(n.footer.space===!0?n.footer.size:0);if(typeof t.styleFn=="function"){const c=n.isContainer.value===!0?n.containerHeight.value:r.screen.height;return t.styleFn(l,c)}return{minHeight:n.isContainer.value===!0?n.containerHeight.value-l+"px":r.screen.height===0?l!==0?`calc(100vh - ${l}px)`:"100vh":r.screen.height-l+"px"}}),u=j(()=>`q-page${t.padding===!0?" q-layout-padding":""}`);return()=>rt("main",{class:u.value,style:o.value},zr(e.default))}});const BC=rt("div",{class:"q-space"});var Rp=qe({name:"QSpace",setup(){return()=>BC}}),PC=qe({name:"QField",inheritAttrs:!1,props:jc,emits:Xh,setup(){return Uh(Kh())}});const ln=1e3,zC=["start","center","end","start-force","center-force","end-force"],lg=Array.prototype.filter,LC=window.getComputedStyle(document.body).overflowAnchor===void 0?vo:function(t,e){t!==null&&(cancelAnimationFrame(t._qOverflowAnimationFrame),t._qOverflowAnimationFrame=requestAnimationFrame(()=>{if(t===null)return;const r=t.children||[];lg.call(r,a=>a.dataset&&a.dataset.qVsAnchor!==void 0).forEach(a=>{delete a.dataset.qVsAnchor});const n=r[e];n&&n.dataset&&(n.dataset.qVsAnchor="")}))};function wi(t,e){return t+e}function Nl(t,e,r,n,a,o,u,l){const c=t===window?document.scrollingElement||document.documentElement:t,f=a===!0?"offsetWidth":"offsetHeight",v={scrollStart:0,scrollViewSize:-u-l,scrollMaxSize:0,offsetStart:-u,offsetEnd:-l};if(a===!0?(t===window?(v.scrollStart=window.pageXOffset||window.scrollX||document.body.scrollLeft||0,v.scrollViewSize+=document.documentElement.clientWidth):(v.scrollStart=c.scrollLeft,v.scrollViewSize+=c.clientWidth),v.scrollMaxSize=c.scrollWidth,o===!0&&(v.scrollStart=(ho===!0?v.scrollMaxSize-v.scrollViewSize:0)-v.scrollStart)):(t===window?(v.scrollStart=window.pageYOffset||window.scrollY||document.body.scrollTop||0,v.scrollViewSize+=document.documentElement.clientHeight):(v.scrollStart=c.scrollTop,v.scrollViewSize+=c.clientHeight),v.scrollMaxSize=c.scrollHeight),r!==null)for(let h=r.previousElementSibling;h!==null;h=h.previousElementSibling)h.classList.contains("q-virtual-scroll--skip")===!1&&(v.offsetStart+=h[f]);if(n!==null)for(let h=n.nextElementSibling;h!==null;h=h.nextElementSibling)h.classList.contains("q-virtual-scroll--skip")===!1&&(v.offsetEnd+=h[f]);if(e!==t){const h=c.getBoundingClientRect(),p=e.getBoundingClientRect();a===!0?(v.offsetStart+=p.left-h.left,v.offsetEnd-=p.width):(v.offsetStart+=p.top-h.top,v.offsetEnd-=p.height),t!==window&&(v.offsetStart+=v.scrollStart),v.offsetEnd+=v.scrollMaxSize-v.offsetStart}return v}function kp(t,e,r,n){e==="end"&&(e=(t===window?document.body:t)[r===!0?"scrollWidth":"scrollHeight"]),t===window?r===!0?(n===!0&&(e=(ho===!0?document.body.scrollWidth-document.documentElement.clientWidth:0)-e),window.scrollTo(e,window.pageYOffset||window.scrollY||document.body.scrollTop||0)):window.scrollTo(window.pageXOffset||window.scrollX||document.body.scrollLeft||0,e):r===!0?(n===!0&&(e=(ho===!0?t.scrollWidth-t.offsetWidth:0)-e),t.scrollLeft=e):t.scrollTop=e}function Zi(t,e,r,n){if(r>=n)return 0;const a=e.length,o=Math.floor(r/ln),u=Math.floor((n-1)/ln)+1;let l=t.slice(o,u).reduce(wi,0);return r%ln!==0&&(l-=e.slice(o*ln,r).reduce(wi,0)),n%ln!==0&&n!==a&&(l-=e.slice(n,u*ln).reduce(wi,0)),l}const FC={virtualScrollSliceSize:{type:[Number,String],default:null},virtualScrollSliceRatioBefore:{type:[Number,String],default:1},virtualScrollSliceRatioAfter:{type:[Number,String],default:1},virtualScrollItemSize:{type:[Number,String],default:24},virtualScrollStickySizeStart:{type:[Number,String],default:0},virtualScrollStickySizeEnd:{type:[Number,String],default:0},tableColspan:[Number,String]},qC={virtualScrollHorizontal:Boolean,onVirtualScroll:Function,...FC};function $C({virtualScrollLength:t,getVirtualScrollTarget:e,getVirtualScrollEl:r,virtualScrollItemSizeComputed:n}){const a=tr(),{props:o,emit:u,proxy:l}=a,{$q:c}=l;let f,v,h,p=[],g;const m=At(0),y=At(0),S=At({}),_=At(null),E=At(null),x=At(null),C=At({from:0,to:0}),R=j(()=>o.tableColspan!==void 0?o.tableColspan:100);n===void 0&&(n=j(()=>o.virtualScrollItemSize));const D=j(()=>n.value+";"+o.virtualScrollHorizontal),k=j(()=>D.value+";"+o.virtualScrollSliceRatioBefore+";"+o.virtualScrollSliceRatioAfter);De(k,()=>{et()}),De(D,I);function I(){H(v,!0)}function O(K){H(K===void 0?v:K)}function A(K,ut){const lt=e();if(lt==null||lt.nodeType===8)return;const mt=Nl(lt,r(),_.value,E.value,o.virtualScrollHorizontal,c.lang.rtl,o.virtualScrollStickySizeStart,o.virtualScrollStickySizeEnd);h!==mt.scrollViewSize&&et(mt.scrollViewSize),z(lt,mt,Math.min(t.value-1,Math.max(0,parseInt(K,10)||0)),0,zC.indexOf(ut)>-1?ut:v>-1&&K>v?"end":"start")}function V(){const K=e();if(K==null||K.nodeType===8)return;const ut=Nl(K,r(),_.value,E.value,o.virtualScrollHorizontal,c.lang.rtl,o.virtualScrollStickySizeStart,o.virtualScrollStickySizeEnd),lt=t.value-1,mt=ut.scrollMaxSize-ut.offsetStart-ut.offsetEnd-y.value;if(f===ut.scrollStart)return;if(ut.scrollMaxSize<=0){z(K,ut,0,0);return}h!==ut.scrollViewSize&&et(ut.scrollViewSize),L(C.value.from);const yt=Math.floor(ut.scrollMaxSize-Math.max(ut.scrollViewSize,ut.offsetEnd)-Math.min(g[lt],ut.scrollViewSize/2));if(yt>0&&Math.ceil(ut.scrollStart)>=yt){z(K,ut,lt,ut.scrollMaxSize-ut.offsetEnd-p.reduce(wi,0));return}let gt=0,St=ut.scrollStart-ut.offsetStart,Rt=St;if(St<=mt&&St+ut.scrollViewSize>=m.value)St-=m.value,gt=C.value.from,Rt=St;else for(let P=0;St>=p[P]&&gt<lt;P++)St-=p[P],gt+=ln;for(;St>0&&gt<lt;)St-=g[gt],St>-ut.scrollViewSize?(gt++,Rt=St):Rt=g[gt]+St;z(K,ut,gt,Rt)}function z(K,ut,lt,mt,yt){const gt=typeof yt=="string"&&yt.indexOf("-force")>-1,St=gt===!0?yt.replace("-force",""):yt,Rt=St!==void 0?St:"start";let P=Math.max(0,lt-S.value[Rt]),tt=P+S.value.total;tt>t.value&&(tt=t.value,P=Math.max(0,tt-S.value.total)),f=ut.scrollStart;const ht=P!==C.value.from||tt!==C.value.to;if(ht===!1&&St===void 0){ot(lt);return}const{activeElement:Dt}=document,kt=x.value;ht===!0&&kt!==null&&kt!==Dt&&kt.contains(Dt)===!0&&(kt.addEventListener("focusout",U),setTimeout(()=>{kt!==null&&kt.removeEventListener("focusout",U)})),LC(kt,lt-P);const wt=St!==void 0?g.slice(P,lt).reduce(wi,0):0;if(ht===!0){const Ot=tt>=C.value.from&&P<=C.value.to?C.value.to:tt;C.value={from:P,to:Ot},m.value=Zi(p,g,0,P),y.value=Zi(p,g,tt,t.value),requestAnimationFrame(()=>{C.value.to!==tt&&f===ut.scrollStart&&(C.value={from:C.value.from,to:tt},y.value=Zi(p,g,tt,t.value))})}requestAnimationFrame(()=>{if(f!==ut.scrollStart)return;ht===!0&&L(P);const Ot=g.slice(P,lt).reduce(wi,0),zt=Ot+ut.offsetStart+m.value,G=zt+g[lt];let J=zt+mt;if(St!==void 0){const pt=Ot-wt,Ct=ut.scrollStart+pt;J=gt!==!0&&Ct<zt&&G<Ct+ut.scrollViewSize?Ct:St==="end"?G-ut.scrollViewSize:zt-(St==="start"?0:Math.round((ut.scrollViewSize-g[lt])/2))}f=J,kp(K,J,o.virtualScrollHorizontal,c.lang.rtl),ot(lt)})}function L(K){const ut=x.value;if(ut){const lt=lg.call(ut.children,P=>P.classList&&P.classList.contains("q-virtual-scroll--skip")===!1),mt=lt.length,yt=o.virtualScrollHorizontal===!0?P=>P.getBoundingClientRect().width:P=>P.offsetHeight;let gt=K,St,Rt;for(let P=0;P<mt;){for(St=yt(lt[P]),P++;P<mt&&lt[P].classList.contains("q-virtual-scroll--with-prev")===!0;)St+=yt(lt[P]),P++;Rt=St-g[gt],Rt!==0&&(g[gt]+=Rt,p[Math.floor(gt/ln)]+=Rt),gt++}}}function U(){x.value!==null&&x.value!==void 0&&x.value.focus()}function H(K,ut){const lt=1*n.value;(ut===!0||Array.isArray(g)===!1)&&(g=[]);const mt=g.length;g.length=t.value;for(let gt=t.value-1;gt>=mt;gt--)g[gt]=lt;const yt=Math.floor((t.value-1)/ln);p=[];for(let gt=0;gt<=yt;gt++){let St=0;const Rt=Math.min((gt+1)*ln,t.value);for(let P=gt*ln;P<Rt;P++)St+=g[P];p.push(St)}v=-1,f=void 0,m.value=Zi(p,g,0,C.value.from),y.value=Zi(p,g,C.value.to,t.value),K>=0?(L(C.value.from),Ur(()=>{A(K)})):Z()}function et(K){if(K===void 0&&typeof window!="undefined"){const St=e();St!=null&&St.nodeType!==8&&(K=Nl(St,r(),_.value,E.value,o.virtualScrollHorizontal,c.lang.rtl,o.virtualScrollStickySizeStart,o.virtualScrollStickySizeEnd).scrollViewSize)}h=K;const ut=parseFloat(o.virtualScrollSliceRatioBefore)||0,lt=parseFloat(o.virtualScrollSliceRatioAfter)||0,mt=1+ut+lt,yt=K===void 0||K<=0?1:Math.ceil(K/n.value),gt=Math.max(1,yt,Math.ceil((o.virtualScrollSliceSize>0?o.virtualScrollSliceSize:10)/mt));S.value={total:Math.ceil(gt*mt),start:Math.ceil(gt*ut),center:Math.ceil(gt*(.5+ut)),end:Math.ceil(gt*(1+ut)),view:yt}}function nt(K,ut){const lt=o.virtualScrollHorizontal===!0?"width":"height",mt={["--q-virtual-scroll-item-"+lt]:n.value+"px"};return[K==="tbody"?rt(K,{class:"q-virtual-scroll__padding",key:"before",ref:_},[rt("tr",[rt("td",{style:{[lt]:`${m.value}px`,...mt},colspan:R.value})])]):rt(K,{class:"q-virtual-scroll__padding",key:"before",ref:_,style:{[lt]:`${m.value}px`,...mt}}),rt(K,{class:"q-virtual-scroll__content",key:"content",ref:x,tabindex:-1},ut.flat()),K==="tbody"?rt(K,{class:"q-virtual-scroll__padding",key:"after",ref:E},[rt("tr",[rt("td",{style:{[lt]:`${y.value}px`,...mt},colspan:R.value})])]):rt(K,{class:"q-virtual-scroll__padding",key:"after",ref:E,style:{[lt]:`${y.value}px`,...mt}})]}function ot(K){v!==K&&(o.onVirtualScroll!==void 0&&u("virtual-scroll",{index:K,from:C.value.from,to:C.value.to-1,direction:K<v?"decrease":"increase",ref:l}),v=K)}et();const Z=Fx(V,c.platform.is.ios===!0?120:35);qx(()=>{et()});let N=!1;return Nh(()=>{N=!0}),Vh(()=>{if(N!==!0)return;const K=e();f!==void 0&&K!==void 0&&K!==null&&K.nodeType!==8?kp(K,f,o.virtualScrollHorizontal,c.lang.rtl):A(v)}),xn(()=>{Z.cancel()}),Object.assign(l,{scrollTo:A,reset:I,refresh:O}),{virtualScrollSliceRange:C,virtualScrollSliceSizeComputed:S,setVirtualScrollSize:et,onVirtualScrollEvt:Z,localResetVirtualScroll:H,padVirtualScroll:nt,scrollTo:A,reset:I,refresh:O}}const Ip=t=>["add","add-unique","toggle"].includes(t),GC=".*+?^${}()|[]\\",NC=Object.keys(jc);var Vl=qe({name:"QSelect",inheritAttrs:!1,props:{...qC,...Kc,...jc,modelValue:{required:!0},multiple:Boolean,displayValue:[String,Number],displayValueHtml:Boolean,dropdownIcon:String,options:{type:Array,default:()=>[]},optionValue:[Function,String],optionLabel:[Function,String],optionDisable:[Function,String],hideSelected:Boolean,hideDropdownIcon:Boolean,fillInput:Boolean,maxValues:[Number,String],optionsDense:Boolean,optionsDark:{type:Boolean,default:null},optionsSelectedClass:String,optionsHtml:Boolean,optionsCover:Boolean,menuShrink:Boolean,menuAnchor:String,menuSelf:String,menuOffset:Array,popupContentClass:String,popupContentStyle:[String,Array,Object],useInput:Boolean,useChips:Boolean,newValueMode:{type:String,validator:Ip},mapOptions:Boolean,emitValue:Boolean,inputDebounce:{type:[Number,String],default:500},inputClass:[Array,String,Object],inputStyle:[Array,String,Object],tabindex:{type:[String,Number],default:0},autocomplete:String,transitionShow:String,transitionHide:String,transitionDuration:[String,Number],behavior:{type:String,validator:t=>["default","menu","dialog"].includes(t),default:"default"},virtualScrollItemSize:{type:[Number,String],default:void 0},onNewValue:Function,onFilter:Function},emits:[...Xh,"add","remove","input-value","new-value","keyup","keypress","keydown","filter-abort"],setup(t,{slots:e,emit:r}){const{proxy:n}=tr(),{$q:a}=n,o=At(!1),u=At(!1),l=At(-1),c=At(""),f=At(!1),v=At(!1);let h,p,g,m,y,S,_,E,x;const C=At(null),R=At(null),D=At(null),k=At(null),I=At(null),O=$x(t),A=Vx(Xa),V=j(()=>Array.isArray(t.options)?t.options.length:0),z=j(()=>t.virtualScrollItemSize===void 0?t.optionsDense===!0?24:48:t.virtualScrollItemSize),{virtualScrollSliceRange:L,virtualScrollSliceSizeComputed:U,localResetVirtualScroll:H,padVirtualScroll:et,onVirtualScrollEvt:nt,scrollTo:ot,setVirtualScrollSize:Z}=$C({virtualScrollLength:V,getVirtualScrollTarget:Dr,getVirtualScrollEl:Ee,virtualScrollItemSizeComputed:z}),N=Kh(),K=j(()=>{const F=t.mapOptions===!0&&t.multiple!==!0,It=t.modelValue!==void 0&&(t.modelValue!==null||F===!0)?t.multiple===!0&&Array.isArray(t.modelValue)?t.modelValue:[t.modelValue]:[];if(t.mapOptions===!0&&Array.isArray(t.options)===!0){const xt=t.mapOptions===!0&&p!==void 0?p:[],$=It.map(it=>ze(it,xt));return t.modelValue===null&&F===!0?$.filter(it=>it!==null):$}return It}),ut=j(()=>{const F={};return NC.forEach(It=>{const xt=t[It];xt!==void 0&&(F[It]=xt)}),F}),lt=j(()=>t.optionsDark===null?N.isDark.value:t.optionsDark),mt=j(()=>vp(K.value)),yt=j(()=>{let F="q-field__input q-placeholder col";return t.hideSelected===!0||K.value.length===0?[F,t.inputClass]:(F+=" q-field__input--padding",t.inputClass===void 0?F:[F,t.inputClass])}),gt=j(()=>(t.virtualScrollHorizontal===!0?"q-virtual-scroll--horizontal":"")+(t.popupContentClass?" "+t.popupContentClass:"")),St=j(()=>V.value===0),Rt=j(()=>K.value.map(F=>Ct.value(F)).join(", ")),P=j(()=>t.optionsHtml===!0?()=>!0:F=>F!=null&&F.html===!0),tt=j(()=>t.displayValueHtml===!0||t.displayValue===void 0&&(t.optionsHtml===!0||K.value.some(P.value))),ht=j(()=>N.focused.value===!0?t.tabindex:-1),Dt=j(()=>({tabindex:t.tabindex,role:"combobox","aria-label":t.label,"aria-readonly":t.readonly===!0?"true":"false","aria-autocomplete":t.useInput===!0?"list":"none","aria-expanded":o.value===!0?"true":"false","aria-owns":`${N.targetUid.value}_lb`,"aria-controls":`${N.targetUid.value}_lb`})),kt=j(()=>{const F={id:`${N.targetUid.value}_lb`,role:"listbox","aria-multiselectable":t.multiple===!0?"true":"false"};return l.value>=0&&(F["aria-activedescendant"]=`${N.targetUid.value}_${l.value}`),F}),wt=j(()=>K.value.map((F,It)=>({index:It,opt:F,html:P.value(F),selected:!0,removeAtIndex:le,toggleOption:Yt,tabindex:ht.value}))),Ot=j(()=>{if(V.value===0)return[];const{from:F,to:It}=L.value;return t.options.slice(F,It).map((xt,$)=>{const it=qt.value(xt)===!0,ct=F+$,_t={clickable:!0,active:!1,activeClass:J.value,manualFocus:!0,focused:!1,disable:it,tabindex:-1,dense:t.optionsDense,dark:lt.value,role:"option",id:`${N.targetUid.value}_${ct}`,onClick:()=>{Yt(xt)}};return it!==!0&&(vt(xt)===!0&&(_t.active=!0),l.value===ct&&(_t.focused=!0),_t["aria-selected"]=_t.active===!0?"true":"false",a.platform.is.desktop===!0&&(_t.onMousemove=()=>{o.value===!0&&Nt(ct)})),{index:ct,opt:xt,html:P.value(xt),label:Ct.value(xt),selected:_t.active,focused:_t.focused,toggleOption:Yt,setOptionIndex:Nt,itemProps:_t}})}),zt=j(()=>t.dropdownIcon!==void 0?t.dropdownIcon:a.iconSet.arrow.dropdown),G=j(()=>t.optionsCover===!1&&t.outlined!==!0&&t.standout!==!0&&t.borderless!==!0&&t.rounded!==!0),J=j(()=>t.optionsSelectedClass!==void 0?t.optionsSelectedClass:t.color!==void 0?`text-${t.color}`:""),pt=j(()=>je(t.optionValue,"value")),Ct=j(()=>je(t.optionLabel,"label")),qt=j(()=>je(t.optionDisable,"disable")),ue=j(()=>K.value.map(F=>pt.value(F))),st=j(()=>{const F={onInput:Xa,onChange:A,onKeydown:ee,onKeyup:Qt,onKeypress:be,onFocus:Kt,onClick(It){g===!0&&ir(It)}};return F.onCompositionstart=F.onCompositionupdate=F.onCompositionend=A,F});De(K,F=>{p=F,t.useInput===!0&&t.fillInput===!0&&t.multiple!==!0&&N.innerLoading.value!==!0&&(u.value!==!0&&o.value!==!0||mt.value!==!0)&&(m!==!0&&Tr(),(u.value===!0||o.value===!0)&&Lr(""))},{immediate:!0}),De(()=>t.fillInput,Tr),De(o,ba),De(V,bn);function Mt(F){return t.emitValue===!0?pt.value(F):F}function Lt(F){if(F>-1&&F<K.value.length)if(t.multiple===!0){const It=t.modelValue.slice();r("remove",{index:F,value:It.splice(F,1)[0]}),r("update:modelValue",It)}else r("update:modelValue",null)}function le(F){Lt(F),N.focus()}function oe(F,It){const xt=Mt(F);if(t.multiple!==!0){t.fillInput===!0&&mn(Ct.value(F),!0,!0),r("update:modelValue",xt);return}if(K.value.length===0){r("add",{index:0,value:xt}),r("update:modelValue",t.multiple===!0?[xt]:xt);return}if(It===!0&&vt(F)===!0||t.maxValues!==void 0&&t.modelValue.length>=t.maxValues)return;const $=t.modelValue.slice();r("add",{index:$.length,value:xt}),$.push(xt),r("update:modelValue",$)}function Yt(F,It){if(N.editable.value!==!0||F===void 0||qt.value(F)===!0)return;const xt=pt.value(F);if(t.multiple!==!0){It!==!0&&(mn(t.fillInput===!0?Ct.value(F):"",!0,!0),He()),R.value!==null&&R.value.focus(),(K.value.length===0||hi(pt.value(K.value[0]),xt)!==!0)&&r("update:modelValue",t.emitValue===!0?xt:F);return}if((g!==!0||f.value===!0)&&N.focus(),Kt(),K.value.length===0){const ct=t.emitValue===!0?xt:F;r("add",{index:0,value:ct}),r("update:modelValue",t.multiple===!0?[ct]:ct);return}const $=t.modelValue.slice(),it=ue.value.findIndex(ct=>hi(ct,xt));if(it>-1)r("remove",{index:it,value:$.splice(it,1)[0]});else{if(t.maxValues!==void 0&&$.length>=t.maxValues)return;const ct=t.emitValue===!0?xt:F;r("add",{index:$.length,value:ct}),$.push(ct)}r("update:modelValue",$)}function Nt(F){if(a.platform.is.desktop!==!0)return;const It=F>-1&&F<V.value?F:-1;l.value!==It&&(l.value=It)}function ve(F=1,It){if(o.value===!0){let xt=l.value;do xt=_p(xt+F,-1,V.value-1);while(xt!==-1&&xt!==l.value&&qt.value(t.options[xt])===!0);l.value!==xt&&(Nt(xt),ot(xt),It!==!0&&t.useInput===!0&&t.fillInput===!0&&Xn(xt>=0?Ct.value(t.options[xt]):S))}}function ze(F,It){const xt=$=>hi(pt.value($),F);return t.options.find(xt)||It.find(xt)||F}function je(F,It){const xt=F!==void 0?F:It;return typeof xt=="function"?xt:$=>$!==null&&typeof $=="object"&&xt in $?$[xt]:$}function vt(F){const It=pt.value(F);return ue.value.find(xt=>hi(xt,It))!==void 0}function Kt(F){t.useInput===!0&&R.value!==null&&(F===void 0||R.value===F.target&&F.target.value===Rt.value)&&R.value.select()}function ae(F){_o(F,27)===!0&&o.value===!0&&(ir(F),He(),Tr()),r("keyup",F)}function Qt(F){const{value:It}=F.target;if(F.keyCode!==void 0){ae(F);return}if(F.target.value="",clearTimeout(h),Tr(),typeof It=="string"&&It.length>0){const xt=It.toLocaleLowerCase(),$=ct=>{const _t=t.options.find(Vt=>ct.value(Vt).toLocaleLowerCase()===xt);return _t===void 0?!1:(K.value.indexOf(_t)===-1?Yt(_t):He(),!0)},it=ct=>{$(pt)!==!0&&($(Ct)===!0||ct===!0||Lr(It,!0,()=>it(!0)))};it()}else N.clearValue(F)}function be(F){r("keypress",F)}function ee(F){if(r("keydown",F),Hh(F)===!0)return;const It=c.value.length>0&&(t.newValueMode!==void 0||t.onNewValue!==void 0),xt=F.shiftKey!==!0&&t.multiple!==!0&&(l.value>-1||It===!0);if(F.keyCode===27){za(F);return}if(F.keyCode===9&&xt===!1){tn();return}if(F.target===void 0||F.target.id!==N.targetUid.value)return;if(F.keyCode===40&&N.innerLoading.value!==!0&&o.value===!1){or(F),en();return}if(F.keyCode===8&&t.hideSelected!==!0&&c.value.length===0){t.multiple===!0&&Array.isArray(t.modelValue)===!0?Lt(t.modelValue.length-1):t.multiple!==!0&&t.modelValue!==null&&r("update:modelValue",null);return}(F.keyCode===35||F.keyCode===36)&&(typeof c.value!="string"||c.value.length===0)&&(or(F),l.value=-1,ve(F.keyCode===36?1:-1,t.multiple)),(F.keyCode===33||F.keyCode===34)&&U.value!==void 0&&(or(F),l.value=Math.max(-1,Math.min(V.value,l.value+(F.keyCode===33?-1:1)*U.value.view)),ve(F.keyCode===33?1:-1,t.multiple)),(F.keyCode===38||F.keyCode===40)&&(or(F),ve(F.keyCode===38?-1:1,t.multiple));const $=V.value;if((E===void 0||x<Date.now())&&(E=""),$>0&&t.useInput!==!0&&F.key!==void 0&&F.key.length===1&&F.altKey===F.ctrlKey&&(F.keyCode!==32||E.length>0)){o.value!==!0&&en(F);const it=F.key.toLocaleLowerCase(),ct=E.length===1&&E[0]===it;x=Date.now()+1500,ct===!1&&(or(F),E+=it);const _t=new RegExp("^"+E.split("").map(ge=>GC.indexOf(ge)>-1?"\\"+ge:ge).join(".*"),"i");let Vt=l.value;if(ct===!0||Vt<0||_t.test(Ct.value(t.options[Vt]))!==!0)do Vt=_p(Vt+1,-1,$-1);while(Vt!==l.value&&(qt.value(t.options[Vt])===!0||_t.test(Ct.value(t.options[Vt]))!==!0));l.value!==Vt&&Ur(()=>{Nt(Vt),ot(Vt),Vt>=0&&t.useInput===!0&&t.fillInput===!0&&Xn(Ct.value(t.options[Vt]))});return}if(!(F.keyCode!==13&&(F.keyCode!==32||t.useInput===!0||E!=="")&&(F.keyCode!==9||xt===!1))){if(F.keyCode!==9&&or(F),l.value>-1&&l.value<$){Yt(t.options[l.value]);return}if(It===!0){const it=(ct,_t)=>{if(_t){if(Ip(_t)!==!0)return}else _t=t.newValueMode;if(ct==null)return;mn("",t.multiple!==!0,!0),(_t==="toggle"?Yt:oe)(ct,_t==="add-unique"),t.multiple!==!0&&(R.value!==null&&R.value.focus(),He())};if(t.onNewValue!==void 0?r("new-value",c.value,it):it(c.value),t.multiple!==!0)return}o.value===!0?tn():N.innerLoading.value!==!0&&en()}}function Ee(){return g===!0?I.value:D.value!==null&&D.value.__qPortalInnerRef.value!==null?D.value.__qPortalInnerRef.value:void 0}function Dr(){return Ee()}function Mn(){return t.hideSelected===!0?[]:e["selected-item"]!==void 0?wt.value.map(F=>e["selected-item"](F)).slice():e.selected!==void 0?[].concat(e.selected()):t.useChips===!0?wt.value.map((F,It)=>rt(rg,{key:"option-"+It,removable:N.editable.value===!0&&qt.value(F.opt)!==!0,dense:!0,textColor:t.color,tabindex:ht.value,onRemove(){F.removeAtIndex(It)}},()=>rt("span",{class:"ellipsis",[F.html===!0?"innerHTML":"textContent"]:Ct.value(F.opt)}))):[rt("span",{[tt.value===!0?"innerHTML":"textContent"]:t.displayValue!==void 0?t.displayValue:Rt.value})]}function gn(){if(St.value===!0)return e["no-option"]!==void 0?e["no-option"]({inputValue:c.value}):void 0;const F=e.option!==void 0?e.option:xt=>rt(Yr,{key:xt.index,...xt.itemProps},()=>rt(hr,()=>rt(uc,()=>rt("span",{[xt.html===!0?"innerHTML":"textContent"]:xt.label}))));let It=et("div",Ot.value.map(F));return e["before-options"]!==void 0&&(It=e["before-options"]().concat(It)),Yh(e["after-options"],It)}function Dn(F,It){const xt=It===!0?{...Dt.value,...N.splitAttrs.attributes.value}:void 0,$={ref:It===!0?R:void 0,key:"i_t",class:yt.value,style:t.inputStyle,value:c.value!==void 0?c.value:"",type:"search",...xt,id:It===!0?N.targetUid.value:void 0,maxlength:t.maxlength,autocomplete:t.autocomplete,"data-autofocus":F!==!0&&t.autofocus===!0||void 0,disabled:t.disable===!0,readonly:t.readonly===!0,...st.value};return F!==!0&&g===!0&&(Array.isArray($.class)===!0?$.class=[...$.class,"no-pointer-events"]:$.class+=" no-pointer-events"),rt("input",$)}function Xa(F){clearTimeout(h),!(F&&F.target&&F.target.qComposing===!0)&&(Xn(F.target.value||""),m=!0,S=c.value,N.focused.value!==!0&&(g!==!0||f.value===!0)&&N.focus(),t.onFilter!==void 0&&(h=setTimeout(()=>{Lr(c.value)},t.inputDebounce)))}function Xn(F){c.value!==F&&(c.value=F,r("input-value",F))}function mn(F,It,xt){m=xt!==!0,t.useInput===!0&&(Xn(F),(It===!0||xt!==!0)&&(S=F),It!==!0&&Lr(F))}function Lr(F,It,xt){if(t.onFilter===void 0||It!==!0&&N.focused.value!==!0)return;N.innerLoading.value===!0?r("filter-abort"):(N.innerLoading.value=!0,v.value=!0),F!==""&&t.multiple!==!0&&K.value.length>0&&m!==!0&&F===Ct.value(K.value[0])&&(F="");const $=setTimeout(()=>{o.value===!0&&(o.value=!1)},10);clearTimeout(y),y=$,r("filter",F,(it,ct)=>{(It===!0||N.focused.value===!0)&&y===$&&(clearTimeout(y),typeof it=="function"&&it(),v.value=!1,Ur(()=>{N.innerLoading.value=!1,N.editable.value===!0&&(It===!0?o.value===!0&&He():o.value===!0?ba(!0):o.value=!0),typeof ct=="function"&&Ur(()=>{ct(n)}),typeof xt=="function"&&Ur(()=>{xt(n)})}))},()=>{N.focused.value===!0&&y===$&&(clearTimeout(y),N.innerLoading.value=!1,v.value=!1),o.value===!0&&(o.value=!1)})}function Tn(){return rt(pu,{ref:D,class:gt.value,style:t.popupContentStyle,modelValue:o.value,fit:t.menuShrink!==!0,cover:t.optionsCover===!0&&St.value!==!0&&t.useInput!==!0,anchor:t.menuAnchor,self:t.menuSelf,offset:t.menuOffset,dark:lt.value,noParentEvent:!0,noRefocus:!0,noFocus:!0,square:G.value,transitionShow:t.transitionShow,transitionHide:t.transitionHide,transitionDuration:t.transitionDuration,separateClosePopup:!0,...kt.value,onScrollPassive:nt,onBeforeShow:kn,onBeforeHide:Ua,onShow:Un},gn)}function Ua(F){ya(F),tn()}function Un(){Z()}function Kn(F){ir(F),R.value!==null&&R.value.focus(),f.value=!0,window.scrollTo(window.pageXOffset||window.scrollX||document.body.scrollLeft||0,0)}function Ka(F){ir(F),Ur(()=>{f.value=!1})}function jn(){const F=[rt(PC,{class:`col-auto ${N.fieldClass.value}`,...ut.value,for:N.targetUid.value,dark:lt.value,square:!0,loading:v.value,itemAligned:!1,filled:!0,stackLabel:c.value.length>0,...N.splitAttrs.listeners.value,onFocus:Kn,onBlur:Ka},{...e,rawControl:()=>N.getControl(!0),before:void 0,after:void 0})];return o.value===!0&&F.push(rt("div",{ref:I,class:gt.value+" scroll",style:t.popupContentStyle,...kt.value,onClick:za,onScrollPassive:nt},gn())),rt(Hs,{ref:k,modelValue:u.value,position:t.useInput===!0?"top":void 0,transitionShow:_,transitionHide:t.transitionHide,transitionDuration:t.transitionDuration,onBeforeShow:kn,onBeforeHide:ja,onHide:Za,onShow:Qa},()=>rt("div",{class:"q-select__dialog"+(lt.value===!0?" q-select__dialog--dark q-dark":"")+(f.value===!0?" q-select__dialog--focused":"")},F))}function ja(F){ya(F),k.value!==null&&k.value.__updateRefocusTarget(N.rootRef.value.querySelector(".q-field__native > [tabindex]:last-child")),N.focused.value=!1}function Za(F){He(),N.focused.value===!1&&r("blur",F),Tr()}function Qa(){const F=document.activeElement;(F===null||F.id!==N.targetUid.value)&&R.value!==null&&R.value!==F&&R.value.focus(),Z()}function tn(){u.value!==!0&&(l.value=-1,o.value===!0&&(o.value=!1),N.focused.value===!1&&(clearTimeout(y),y=void 0,N.innerLoading.value===!0&&(r("filter-abort"),N.innerLoading.value=!1,v.value=!1)))}function en(F){N.editable.value===!0&&(g===!0?(N.onControlFocusin(F),u.value=!0,Ur(()=>{N.focus()})):N.focus(),t.onFilter!==void 0?Lr(c.value):(St.value!==!0||e["no-option"]!==void 0)&&(o.value=!0))}function He(){u.value=!1,tn()}function Tr(){t.useInput===!0&&mn(t.multiple!==!0&&t.fillInput===!0&&K.value.length>0&&Ct.value(K.value[0])||"",!0,!0)}function ba(F){let It=-1;if(F===!0){if(K.value.length>0){const xt=pt.value(K.value[0]);It=t.options.findIndex($=>hi(pt.value($),xt))}H(It)}Nt(It)}function bn(F,It){o.value===!0&&N.innerLoading.value===!1&&(H(-1,!0),Ur(()=>{o.value===!0&&N.innerLoading.value===!1&&(F>It?H():ba(!0))}))}function Rn(){u.value===!1&&D.value!==null&&D.value.updatePosition()}function kn(F){F!==void 0&&ir(F),r("popup-show",F),N.hasPopupOpen=!0,N.onControlFocusin(F)}function ya(F){F!==void 0&&ir(F),r("popup-hide",F),N.hasPopupOpen=!1,N.onControlFocusout(F)}function Sa(){g=a.platform.is.mobile!==!0&&t.behavior!=="dialog"?!1:t.behavior!=="menu"&&(t.useInput===!0?e["no-option"]!==void 0||t.onFilter!==void 0||St.value===!1:!0),_=a.platform.is.ios===!0&&g===!0&&t.useInput===!0?"fade":t.transitionShow}return Gx(Sa),Nx(Rn),Sa(),xn(()=>{clearTimeout(h)}),Object.assign(n,{showPopup:en,hidePopup:He,removeAtIndex:Lt,add:oe,toggleOption:Yt,getOptionIndex:()=>l.value,setOptionIndex:Nt,moveOptionSelection:ve,filter:Lr,updateMenuPosition:Rn,updateInputValue:mn,isOptionSelected:vt,getEmittingOptionValue:Mt,isOptionDisabled:(...F)=>qt.value.apply(null,F)===!0,getOptionValue:(...F)=>pt.value.apply(null,F),getOptionLabel:(...F)=>Ct.value.apply(null,F)}),Object.assign(N,{innerValue:K,fieldClass:j(()=>`q-select q-field--auto-height q-select--with${t.useInput!==!0?"out":""}-input q-select--with${t.useChips!==!0?"out":""}-chips q-select--${t.multiple===!0?"multiple":"single"}`),inputRef:C,targetRef:R,hasValue:mt,showPopup:en,floatingLabel:j(()=>t.hideSelected!==!0&&mt.value===!0||typeof c.value=="number"||c.value.length>0||vp(t.displayValue)),getControlChild:()=>{if(N.editable.value!==!1&&(u.value===!0||St.value!==!0||e["no-option"]!==void 0))return g===!0?jn():Tn();N.hasPopupOpen===!0&&(N.hasPopupOpen=!1)},controlEvents:{onFocusin(F){N.onControlFocusin(F)},onFocusout(F){N.onControlFocusout(F,()=>{Tr(),tn()})},onClick(F){if(za(F),g!==!0&&o.value===!0){tn(),R.value!==null&&R.value.focus();return}en(F)}},getControl:F=>{const It=Mn(),xt=F===!0||u.value!==!0||g!==!0;if(t.useInput===!0)It.push(Dn(F,xt));else if(N.editable.value===!0){const it=xt===!0?Dt.value:void 0;It.push(rt("input",{ref:xt===!0?R:void 0,key:"d_t",class:"q-select__focus-target",id:xt===!0?N.targetUid.value:void 0,readonly:!0,"data-autofocus":F!==!0&&t.autofocus===!0||void 0,...it,onKeydown:ee,onKeyup:ae,onKeypress:be})),xt===!0&&typeof t.autocomplete=="string"&&t.autocomplete.length>0&&It.push(rt("input",{class:"q-select__autocomplete-input",autocomplete:t.autocomplete,tabindex:-1,onKeyup:Qt}))}if(O.value!==void 0&&t.disable!==!0&&ue.value.length>0){const it=ue.value.map(ct=>rt("option",{value:ct,selected:!0}));It.push(rt("select",{class:"hidden",name:O.value,multiple:t.multiple},it))}const $=t.useInput===!0||xt!==!0?void 0:N.splitAttrs.attributes.value;return rt("div",{class:"q-field__native row items-center",...$},It)},getInnerAppend:()=>t.loading!==!0&&v.value!==!0&&t.hideDropdownIcon!==!0?[rt(Er,{class:"q-select__dropdown-icon"+(o.value===!0?" rotate-180":""),name:zt.value})]:null}),Uh(N)}});function Op(t){if(t===!1)return 0;if(t===!0||t===void 0)return 1;const e=parseInt(t,10);return isNaN(e)?0:e}var xr=Uc({name:"close-popup",beforeMount(t,{value:e}){const r={depth:Op(e),handler(n){r.depth!==0&&setTimeout(()=>{const a=Wx(t);a!==void 0&&Hx(a,n,r.depth)})},handlerKey(n){_o(n,13)===!0&&r.handler(n)}};t.__qclosepopup=r,t.addEventListener("click",r.handler),t.addEventListener("keyup",r.handlerKey)},updated(t,{value:e,oldValue:r}){e!==r&&(t.__qclosepopup.depth=Op(e))},beforeUnmount(t){const e=t.__qclosepopup;t.removeEventListener("click",e.handler),t.removeEventListener("keyup",e.handlerKey),delete t.__qclosepopup}});function VC(){return Ws(Yx)}function WC(t){for(var e=[],r=1;r<arguments.length;r++)e[r-1]=arguments[r];return e.map(function(n){return n.split(" ").map(function(a){return a?""+t+a:""}).join(" ")}).join(" ")}function HC(t,e){return e.replace(/([^}{]*){/gm,function(r,n){return n.replace(/\.([^{,\s\d.]+)/g,"."+t+"$1")+"{"})}function wn(t,e){return function(r){r&&(t[e]=r)}}function cg(t,e,r){return function(n){n&&(t[e][r]=n)}}function lc(t,e){return function(r){var n=r.prototype;t.forEach(function(a){e(n,a)})}}function YC(t,e){return e===void 0&&(e={}),function(r,n){t.forEach(function(a){var o=e[a]||a;o in r||(r[o]=function(){for(var u,l=[],c=0;c<arguments.length;c++)l[c]=arguments[c];var f=(u=this[n])[a].apply(u,l);return f===this[n]?this:f})})}}var XC=function(){function t(){this.keys=[],this.values=[]}var e=t.prototype;return e.get=function(r){return this.values[this.keys.indexOf(r)]},e.set=function(r,n){var a=this.keys,o=this.values,u=a.indexOf(r),l=u===-1?a.length:u;a[l]=r,o[l]=n},t}(),UC=function(){function t(){this.object={}}var e=t.prototype;return e.get=function(r){return this.object[r]},e.set=function(r,n){this.object[r]=n},t}(),KC=typeof Map=="function",jC=function(){function t(){}var e=t.prototype;return e.connect=function(r,n){this.prev=r,this.next=n,r&&(r.next=this),n&&(n.prev=this)},e.disconnect=function(){var r=this.prev,n=this.next;r&&(r.next=n),n&&(n.prev=r)},e.getIndex=function(){for(var r=this,n=-1;r;)r=r.prev,++n;return n},t}();function ZC(t,e){var r=[],n=[];return t.forEach(function(a){var o=a[0],u=a[1],l=new jC;r[o]=l,n[u]=l}),r.forEach(function(a,o){a.connect(r[o-1])}),t.filter(function(a,o){return!e[o]}).map(function(a,o){var u=a[0],l=a[1];if(u===l)return[0,0];var c=r[u],f=n[l-1],v=c.getIndex();c.disconnect(),f?c.connect(f,f.next):c.connect(void 0,r[0]);var h=c.getIndex();return[v,h]})}var QC=function(){function t(r,n,a,o,u,l,c,f){this.prevList=r,this.list=n,this.added=a,this.removed=o,this.changed=u,this.maintained=l,this.changedBeforeAdded=c,this.fixed=f}var e=t.prototype;return Object.defineProperty(e,"ordered",{get:function(){return this.cacheOrdered||this.caculateOrdered(),this.cacheOrdered},enumerable:!0,configurable:!0}),Object.defineProperty(e,"pureChanged",{get:function(){return this.cachePureChanged||this.caculateOrdered(),this.cachePureChanged},enumerable:!0,configurable:!0}),e.caculateOrdered=function(){var r=ZC(this.changedBeforeAdded,this.fixed),n=this.changed,a=[];this.cacheOrdered=r.filter(function(o,u){var l=o[0],c=o[1],f=n[u],v=f[0],h=f[1];if(l!==c)return a.push([v,h]),!0}),this.cachePureChanged=a},t}();function Eo(t,e,r){var n=KC?Map:r?UC:XC,a=r||function(E){return E},o=[],u=[],l=[],c=t.map(a),f=e.map(a),v=new n,h=new n,p=[],g=[],m={},y=[],S=0,_=0;return c.forEach(function(E,x){v.set(E,x)}),f.forEach(function(E,x){h.set(E,x)}),c.forEach(function(E,x){var C=h.get(E);typeof C=="undefined"?(++_,u.push(x)):m[C]=_}),f.forEach(function(E,x){var C=v.get(E);typeof C=="undefined"?(o.push(x),++S):(l.push([C,x]),_=m[x]||0,p.push([C-_,x-S]),g.push(x===C),C!==x&&y.push([C,x]))}),u.reverse(),new QC(t,e,o,u,y,l,p,g)}var JC=function(){function t(r,n){r===void 0&&(r=[]),this.findKeyCallback=n,this.list=[].slice.call(r)}var e=t.prototype;return e.update=function(r){var n=[].slice.call(r),a=Eo(this.list,n,this.findKeyCallback);return this.list=n,a},t}(),tE="function",eE="object",rE="string",nE="number",fg="undefined",dg=typeof window!==fg,aE=[{open:"(",close:")"},{open:'"',close:'"'},{open:"'",close:"'"},{open:'\\"',close:'\\"'},{open:"\\'",close:"\\'"}],Ne=1e-7,xs={cm:function(t){return t*96/2.54},mm:function(t){return t*96/254},in:function(t){return t*96},pt:function(t){return t*96/72},pc:function(t){return t*96/6},"%":function(t,e){return t*e/100},vw:function(t,e){return e===void 0&&(e=window.innerWidth),t/100*e},vh:function(t,e){return e===void 0&&(e=window.innerHeight),t/100*e},vmax:function(t,e){return e===void 0&&(e=Math.max(window.innerWidth,window.innerHeight)),t/100*e},vmin:function(t,e){return e===void 0&&(e=Math.min(window.innerWidth,window.innerHeight)),t/100*e}};/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */function iE(){for(var t=0,e=0,r=arguments.length;e<r;e++)t+=arguments[e].length;for(var n=Array(t),a=0,e=0;e<r;e++)for(var o=arguments[e],u=0,l=o.length;u<l;u++,a++)n[a]=o[u];return n}function Ia(t,e,r,n){return(t*n+e*r)/(r+n)}function Ri(t){return typeof t===fg}function vn(t){return t&&typeof t===eE}function We(t){return Array.isArray(t)}function mr(t){return typeof t===rE}function cc(t){return typeof t===nE}function vg(t){return typeof t===tE}function oE(t,e){var r=t===""||t==" ",n=e===""||e==" ";return n&&r||t===e}function pg(t,e,r,n,a){var o=ef(t,e,r);return o?r:sE(t,e,r+1,n,a)}function ef(t,e,r){if(!t.ignore)return null;var n=e.slice(Math.max(r-3,0),r+3).join("");return new RegExp(t.ignore).exec(n)}function sE(t,e,r,n,a){for(var o=function(f){var v=e[f].trim();if(v===t.close&&!ef(t,e,f))return{value:f};var h=f,p=Yn(a,function(g){var m=g.open;return m===v});if(p&&(h=pg(p,e,f,n,a)),h===-1)return u=f,"break";f=h,u=f},u,l=r;l<n;++l){var c=o(l);if(l=u,typeof c=="object")return c.value;if(c==="break")break}return-1}function rf(t,e){var r=mr(e)?{separator:e}:e,n=r.separator,a=n===void 0?",":n,o=r.isSeparateFirst,u=r.isSeparateOnlyOpenClose,l=r.isSeparateOpenClose,c=l===void 0?u:l,f=r.openCloseCharacters,v=f===void 0?aE:f,h=v.map(function(k){var I=k.open,O=k.close;return I===O?I:I+"|"+O}).join("|"),p="(\\s*"+a+"\\s*|"+h+"|\\s+)",g=new RegExp(p,"g"),m=t.split(g).filter(Boolean),y=m.length,S=[],_=[];function E(){return _.length?(S.push(_.join("")),_=[],!0):!1}for(var x=function(k){var I=m[k].trim(),O=k,A=Yn(v,function(L){var U=L.open;return U===I}),V=Yn(v,function(L){var U=L.close;return U===I});if(A){if(O=pg(A,m,k,y,v),O!==-1&&c)return E()&&o||(S.push(m.slice(k,O+1).join("")),k=O,o)?(C=k,"break"):(C=k,"continue")}else if(V&&!ef(V,m,k)){var z=iE(v);return z.splice(v.indexOf(V),1),{value:rf(t,{separator:a,isSeparateFirst:o,isSeparateOnlyOpenClose:u,isSeparateOpenClose:c,openCloseCharacters:z})}}else if(oE(I,a)&&!u)return E(),o?(C=k,"break"):(C=k,"continue");O===-1&&(O=y-1),_.push(m.slice(k,O+1).join("")),k=O,C=k},C,R=0;R<y;++R){var D=x(R);if(R=C,typeof D=="object")return D.value;if(D==="break")break}return _.length&&S.push(_.join("")),S}function va(t){return rf(t,"")}function Pa(t){return rf(t,",")}function hg(t){var e=/([^(]*)\(([\s\S]*)\)([\s\S]*)/g.exec(t);return!e||e.length<4?{}:{prefix:e[1],value:e[2],suffix:e[3]}}function ki(t){var e=/^([^\d|e|\-|\+]*)((?:\d|\.|-|e-|e\+)+)(\S*)$/g.exec(t);if(!e)return{prefix:"",unit:"",value:NaN};var r=e[1],n=e[2],a=e[3];return{prefix:r,unit:a,value:parseFloat(n)}}function fc(t){return t.replace(/[\s-_]([a-z])/g,function(e,r){return r.toUpperCase()})}function Fs(t,e){return e===void 0&&(e="-"),t.replace(/([a-z])([A-Z])/g,function(r,n,a){return""+n+e+a.toLowerCase()})}function tu(){return Date.now?Date.now():new Date().getTime()}function pa(t,e,r){r===void 0&&(r=-1);for(var n=t.length,a=0;a<n;++a)if(e(t[a],a,t))return a;return r}function Yn(t,e,r){var n=pa(t,e);return n>-1?t[n]:r}var gg=function(){var t=tu(),e=dg&&(window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.msRequestAnimationFrame);return e?e.bind(window):function(r){var n=tu(),a=window.setTimeout(function(){r(n-t)},1e3/60);return a}}(),uE=function(){var t=dg&&(window.cancelAnimationFrame||window.webkitCancelAnimationFrame||window.mozCancelAnimationFrame||window.msCancelAnimationFrame);return t?t.bind(window):function(e){clearTimeout(e)}}();function Ii(t){return Object.keys(t)}function Ie(t,e){var r=ki(t),n=r.value,a=r.unit;if(vn(e)){var o=e[a];if(o){if(vg(o))return o(n);if(xs[a])return xs[a](n,o)}}else if(a==="%")return n*e/100;return xs[a]?xs[a](n):n}function eu(t,e,r){return Math.max(e,Math.min(t,r))}function Ap(t,e,r,n){return n===void 0&&(n=t[0]/t[1]),[[fe(e[0],Ne),fe(e[0]/n,Ne)],[fe(e[1]*n,Ne),fe(e[1],Ne)]].filter(function(a){return a.every(function(o,u){var l=e[u],c=fe(l,Ne);return r?o<=l||o<=c:o>=l||o>=c})})[0]||t}function mg(t,e,r,n){if(!n)return t.map(function(g,m){return eu(g,e[m],r[m])});var a=t[0],o=t[1],u=n===!0?a/o:n,l=Ap(t,e,!1,u),c=l[0],f=l[1],v=Ap(t,r,!0,u),h=v[0],p=v[1];return a<c||o<f?(a=c,o=f):(a>h||o>p)&&(a=h,o=p),[a,o]}function lE(t){for(var e=t.length,r=0,n=e-1;n>=0;--n)r+=t[n];return r}function dc(t){for(var e=t.length,r=0,n=e-1;n>=0;--n)r+=t[n];return e?r/e:0}function Pe(t,e){var r=e[0]-t[0],n=e[1]-t[1],a=Math.atan2(n,r);return a>=0?a:a+Math.PI*2}function cE(t){return[0,1].map(function(e){return dc(t.map(function(r){return r[e]}))})}function vc(t){var e=cE(t),r=Pe(e,t[0]),n=Pe(e,t[1]);return r<n&&n-r<Math.PI||r>n&&n-r<-Math.PI?1:-1}function fn(t,e){return Math.sqrt(Math.pow((e?e[0]:0)-t[0],2)+Math.pow((e?e[1]:0)-t[1],2))}function fe(t,e){if(!e)return t;var r=1/e;return Math.round(t/e)/r}function Cs(t,e){return t.forEach(function(r,n){t[n]=fe(t[n],e)}),t}function Ve(t,e){return t.classList?t.classList.contains(e):!!t.className.match(new RegExp("(\\s|^)"+e+"(\\s|$)"))}function nf(t,e){t.classList?t.classList.add(e):t.className+=" "+e}function bg(t,e){if(t.classList)t.classList.remove(e);else{var r=new RegExp("(\\s|^)"+e+"(\\s|$)");t.className=t.className.replace(r," ")}}function ar(t,e,r,n){t.addEventListener(e,r,n)}function Qe(t,e,r,n){t.removeEventListener(e,r,n)}/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */var pc=function(t,e){return pc=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var a in n)n.hasOwnProperty(a)&&(r[a]=n[a])},pc(t,e)};function Wa(t,e){pc(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var ca=function(){return ca=Object.assign||function(e){for(var r,n=1,a=arguments.length;n<a;n++){r=arguments[n];for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(e[o]=r[o])}return e},ca.apply(this,arguments)};function yg(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,n=Object.getOwnPropertySymbols(t);a<n.length;a++)e.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(t,n[a])&&(r[n[a]]=t[n[a]]);return r}function fE(){for(var t=0,e=0,r=arguments.length;e<r;e++)t+=arguments[e].length;for(var n=Array(t),a=0,e=0;e<r;e++)for(var o=arguments[e],u=0,l=o.length;u<l;u++,a++)n[a]=o[u];return n}function hc(t,e){if(t===e)return!1;for(var r in t)if(!(r in e))return!0;for(var r in e)if(t[r]!==e[r])return!0;return!1}function af(t,e){var r=Object.keys(t),n=Object.keys(e),a=Eo(r,n,function(c){return c}),o={},u={},l={};return a.added.forEach(function(c){var f=n[c];o[f]=e[f]}),a.removed.forEach(function(c){var f=r[c];u[f]=t[f]}),a.maintained.forEach(function(c){var f=c[0],v=r[f],h=[t[v],e[v]];t[v]!==e[v]&&(l[v]=h)}),{added:o,removed:u,changed:l}}function Sg(t){t.forEach(function(e){e()})}function Bp(t){var e=0;return t.map(function(r){return r==null?"$compat"+ ++e:""+r})}function Pp(t,e,r,n){if(mr(t)||cc(t))return new hE("text_"+t,e,r,n,null,{});var a=typeof t.type=="string"?gE:t.type.prototype.render?bE:mE;return new a(t.type,e,r,n,t.ref,t.props)}function _g(t){var e=[];return t.forEach(function(r){e=e.concat(We(r)?_g(r):r)}),e}function zp(t){var e=t.className,r=yg(t,["className"]);return e!=null&&(r.class=e),delete r.style,delete r.children,r}function Wl(t,e){if(!e)return t;for(var r in e)Ri(t[r])&&(t[r]=e[r]);return t}function jr(t,e){for(var r=[],n=2;n<arguments.length;n++)r[n-2]=arguments[n];var a=e||{},o=a.key,u=a.ref,l=yg(a,["key","ref"]);return{type:t,key:o,ref:u,props:ca(ca({},l),{children:_g(r).filter(function(c){return c!=null&&c!==!1})})}}var Mo=function(){function t(r,n,a,o,u,l){l===void 0&&(l={}),this.type=r,this.key=n,this.index=a,this.container=o,this.ref=u,this.props=l,this._providers=[]}var e=t.prototype;return e._should=function(r,n){return!0},e._update=function(r,n,a,o){if(this.base&&!mr(n)&&!o&&!this._should(n.props,a))return!1;this.original=n,this._setState(a);var u=this.props;return mr(n)||(this.props=n.props,this.ref=n.ref),this._render(r,this.base?u:{},a),!0},e._mounted=function(){var r=this.ref;r&&r(this.base)},e._setState=function(r){},e._updated=function(){var r=this.ref;r&&r(this.base)},e._destroy=function(){var r=this.ref;r&&r(null)},t}();function dE(t,e,r){var n=af(t,e),a=n.added,o=n.removed,u=n.changed;for(var l in a)r.setAttribute(l,a[l]);for(var l in u)r.setAttribute(l,u[l][1]);for(var l in o)r.removeAttribute(l)}function vE(t,e,r){var n=af(t,e),a=n.added,o=n.removed,u=n.changed;for(var l in o)r.removeEventListener(l);for(var l in a)r.addEventListener(l,a[l]);for(var l in u)r.removeEventListener(l),r.addEventListener(l,u[l][1]);for(var l in o)r.removeEventListener(l)}function pE(t,e,r){var n=r.style,a=af(t,e),o=a.added,u=a.removed,l=a.changed;for(var c in o){var f=Fs(c,"-");n.setProperty?n.setProperty(f,o[c]):n[f]=o[c]}for(var c in l){var f=Fs(c,"-");n.setProperty?n.setProperty(f,l[c][1]):n[f]=l[c][1]}for(var c in u){var f=Fs(c,"-");n.removeProperty?n.removeProperty(f):n[f]=""}}function Lp(t){var e={},r={};for(var n in t)n.indexOf("on")===0?r[n.replace("on","").toLowerCase()]=t[n]:e[n]=t[n];return{attributes:e,events:r}}var hE=function(t){Wa(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}var r=e.prototype;return r._render=function(n){var a=this,o=!this.base;return o&&(this.base=document.createTextNode(this.type.replace("text_",""))),n.push(function(){o?a._mounted():a._updated()}),!0},r._unmount=function(){this.base.parentNode.removeChild(this.base)},e}(Mo),gE=function(t){Wa(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.events={},n._isSVG=!1,n}var r=e.prototype;return r.addEventListener=function(n,a){var o=this.events;o[n]=function(u){u.nativeEvent=u,a(u)},this.base.addEventListener(n,o[n])},r.removeEventListener=function(n){var a=this.events;this.base.removeEventListener(n,a[n]),delete a[n]},r._should=function(n){return hc(this.props,n)},r._render=function(n,a){var o=this,u=!this.base;if(u){var l=this._hasSVG();this._isSVG=l;var c=this.props.portalContainer;if(!c){var f=this.type;l?c=document.createElementNS("http://www.w3.org/2000/svg",f):c=document.createElement(f)}this.base=c}Do(this,this._providers,this.props.children,n,null);var v=this.base,h=Lp(a),p=h.attributes,g=h.events,m=Lp(this.props),y=m.attributes,S=m.events;return dE(zp(p),zp(y),v),vE(g,S,this),pE(a.style||{},this.props.style||{},v),n.push(function(){u?o._mounted():o._updated()}),!0},r._unmount=function(){var n=this.events,a=this.base;for(var o in n)a.removeEventListener(o,n[o]);this._providers.forEach(function(u){u._unmount()}),this.events={},this.props.portalContainer||a.parentNode.removeChild(a)},r._hasSVG=function(){if(this._isSVG||this.type==="svg")return!0;var n=of(this.container);return n&&"ownerSVGElement"in n},e}(Mo);function of(t){if(!t)return null;var e=t.base;return e instanceof Node?e:of(t.container)}function go(t){if(!t)return null;if(t instanceof Node)return t;var e=t.$_provider._providers;return e.length?go(e[0].base):null}var mE=function(t){Wa(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}var r=e.prototype;return r._render=function(n){var a=this.type(this.props);return Do(this,this._providers,a?[a]:[],n),!0},r._unmount=function(){this._providers.forEach(function(n){n._unmount()})},e}(Mo),wg=function(t){Wa(e,t);function e(n){var a=t.call(this,"container","container",0,null)||this;return a.base=n,a}var r=e.prototype;return r._render=function(){return!0},r._unmount=function(){},e}(Mo),bE=function(t){Wa(e,t);function e(n,a,o,u,l,c){return c===void 0&&(c={}),t.call(this,n,a,o,u,l,Wl(c,n.defaultProps))||this}var r=e.prototype;return r._should=function(n,a){return this.base.shouldComponentUpdate(Wl(n,this.type.defaultProps),a||this.base.state)},r._render=function(n,a){var o=this;this.props=Wl(this.props,this.type.defaultProps);var u=!this.base;u?(this.base=new this.type(this.props),this.base.$_provider=this):this.base.props=this.props;var l=this.base,c=l.state,f=l.render();f&&f.props&&!f.props.children.length&&(f.props.children=this.props.children),Do(this,this._providers,f?[f]:[],n),n.push(function(){u?(o._mounted(),l.componentDidMount()):(o._updated(),l.componentDidUpdate(a,c))})},r._setState=function(n){var a=this.base;!a||!n||(a.state=n)},r._unmount=function(){this._providers.forEach(function(n){n._unmount()}),clearTimeout(this.base.$_timer),this.base.componentWillUnmount()},e}(Mo),sf=function(){function t(r){r===void 0&&(r={}),this.props=r,this.state={},this.$_timer=0,this.$_state={}}var e=t.prototype;return e.shouldComponentUpdate=function(r,n){return!0},e.render=function(){return null},e.setState=function(r,n,a){var o=this;this.$_timer||(this.$_state={}),clearTimeout(this.$_timer),this.$_timer=0,this.$_state=ca(ca({},this.$_state),r),a?this.$_setState(n,a):this.$_timer=setTimeout(function(){o.$_timer=0,o.$_setState(n,a)})},e.forceUpdate=function(r){this.setState({},r,!0)},e.componentDidMount=function(){},e.componentDidUpdate=function(r,n){},e.componentWillUnmount=function(){},e.$_setState=function(r,n){var a=[],o=this.$_provider,u=Do(o.container,[o],[o.original],a,ca(ca({},this.state),this.$_state),n);u&&(r&&a.push(r),Sg(a))},t}(),uf=function(t){Wa(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}var r=e.prototype;return r.shouldComponentUpdate=function(n,a){return hc(this.props,n)||hc(this.state,a)},e}(sf),yE=function(t){Wa(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}var r=e.prototype;return r.componentDidMount=function(){var n=this.props,a=n.element,o=n.container;this._portalProvider=new wg(o),qs(a,o,this._portalProvider)},r.componentDidUpdate=function(){var n=this.props,a=n.element,o=n.container;qs(a,o,this._portalProvider)},r.componentWillUnmount=function(){var n=this.props.container;qs(null,n,this._portalProvider),this._portalProvider=null},e}(uf);function SE(t,e,r){var n=[];Do(t,t._providers,e,n,r),Sg(n)}function _E(t,e){for(var r=t._providers,n=r.length,a=e.index+1;a<n;++a){var o=go(r[a].base);if(o)return o}return null}function wE(t,e,r){var n=r.map(function(c){return mr(c)?null:c.key}),a=Bp(e.map(function(c){return c.key})),o=Bp(n),u=Eo(a,o,function(c){return c});u.removed.forEach(function(c){e.splice(c,1)[0]._unmount()}),u.ordered.forEach(function(c){var f=c[0],v=c[1],h=e.splice(f,1)[0];e.splice(v,0,h);var p=go(h.base),g=go(e[v+1]&&e[v+1].base);p&&p.parentNode.insertBefore(p,g)}),u.added.forEach(function(c){e.splice(c,0,Pp(r[c],n[c],c,t))});var l=u.maintained.filter(function(c){c[0];var f=c[1],v=r[f],h=e[f],p=mr(v)?"text_"+v:v.type;return p!==h.type?(h._unmount(),e.splice(f,1,Pp(v,n[f],f,t)),!0):(h.index=f,!1)});return fE(u.added,l.map(function(c){c[0];var f=c[1];return f}))}function Do(t,e,r,n,a,o){var u=wE(t,e,r),l=e.filter(function(f,v){return f._update(n,r[v],a,o)}),c=of(t);return c&&u.reverse().forEach(function(f){var v=e[f],h=go(v.base);if(!!h&&c!==h&&!h.parentNode){var p=_E(t,v);c.insertBefore(h,p)}}),l.length>0}function qs(t,e,r){r===void 0&&(r=e.__REACT_COMPAT__);var n=!!r;return r||(r=new wg(e)),SE(r,t?[t]:[]),n||(e.__REACT_COMPAT__=r),r}function Fp(t,e,r){var n=e.__REACT_COMPAT__;t&&!n&&(e.innerHTML=""),qs(t,e,n),r&&r()}function xE(t,e){return jr(yE,{element:t,container:e})}var CE="simple-1.1.0";function lf(t,e){for(var r=t.length,n=0;n<r;++n)if(e(t[n],n))return!0;return!1}function xg(t,e){for(var r=t.length,n=0;n<r;++n)if(e(t[n],n))return t[n];return null}function Cg(t){var e=t;if(typeof e=="undefined"){if(typeof navigator=="undefined"||!navigator)return"";e=navigator.userAgent||""}return e.toLowerCase()}function cf(t,e){try{return new RegExp(t,"g").exec(e)}catch{return null}}function EE(){if(typeof navigator=="undefined"||!navigator||!navigator.userAgentData)return!1;var t=navigator.userAgentData,e=t.brands||t.uaList;return!!(e&&e.length)}function ME(t,e){var r=cf("("+t+")((?:\\/|\\s|:)([0-9|\\.|_]+))",e);return r?r[3]:""}function gc(t){return t.replace(/_/g,".")}function eo(t,e){var r=null,n="-1";return lf(t,function(a){var o=cf("("+a.test+")((?:\\/|\\s|:)([0-9|\\.|_]+))?",e);return!o||a.brand?!1:(r=a,n=o[3]||"-1",a.versionAlias?n=a.versionAlias:a.versionTest&&(n=ME(a.versionTest.toLowerCase(),e)||n),n=gc(n),!0)}),{preset:r,version:n}}function Qi(t,e){var r={brand:"",version:"-1"};return lf(t,function(n){var a=Eg(e,n);return a?(r.brand=n.id,r.version=n.versionAlias||a.version,r.version!=="-1"):!1}),r}function Eg(t,e){return xg(t,function(r){var n=r.brand;return cf(""+e.test,n.toLowerCase())})}var mc=[{test:"phantomjs",id:"phantomjs"},{test:"whale",id:"whale"},{test:"edgios|edge|edg",id:"edge"},{test:"msie|trident|windows phone",id:"ie",versionTest:"iemobile|msie|rv"},{test:"miuibrowser",id:"miui browser"},{test:"samsungbrowser",id:"samsung internet"},{test:"samsung",id:"samsung internet",versionTest:"version"},{test:"chrome|crios",id:"chrome"},{test:"firefox|fxios",id:"firefox"},{test:"android",id:"android browser",versionTest:"version"},{test:"safari|iphone|ipad|ipod",id:"safari",versionTest:"version"}],Mg=[{test:"(?=.*applewebkit/(53[0-7]|5[0-2]|[0-4]))(?=.*\\schrome)",id:"chrome",versionTest:"chrome"},{test:"chromium",id:"chrome"},{test:"whale",id:"chrome",versionAlias:"-1",brand:!0}],bc=[{test:"applewebkit",id:"webkit",versionTest:"applewebkit|safari"}],Dg=[{test:"(?=(iphone|ipad))(?!(.*version))",id:"webview"},{test:"(?=(android|iphone|ipad))(?=.*(naver|daum|; wv))",id:"webview"},{test:"webview",id:"webview"}],Tg=[{test:"windows phone",id:"windows phone"},{test:"windows 2000",id:"window",versionAlias:"5.0"},{test:"windows nt",id:"window"},{test:"win32|windows",id:"window"},{test:"iphone|ipad|ipod",id:"ios",versionTest:"iphone os|cpu os"},{test:"macos|macintel|mac os x",id:"mac"},{test:"android|linux armv81",id:"android"},{test:"tizen",id:"tizen"},{test:"webos|web0s",id:"webos"}];function Rg(t){return!!eo(Dg,t).preset}function DE(t){var e=Cg(t),r=!!/mobi/g.exec(e),n={name:"unknown",version:"-1",majorVersion:-1,webview:Rg(e),chromium:!1,chromiumVersion:"-1",webkit:!1,webkitVersion:"-1"},a={name:"unknown",version:"-1",majorVersion:-1},o=eo(mc,e),u=o.preset,l=o.version,c=eo(Tg,e),f=c.preset,v=c.version,h=eo(Mg,e);if(n.chromium=!!h.preset,n.chromiumVersion=h.version,!n.chromium){var p=eo(bc,e);n.webkit=!!p.preset,n.webkitVersion=p.version}return f&&(a.name=f.id,a.version=v,a.majorVersion=parseInt(v,10)),u&&(n.name=u.id,n.version=l,n.webview&&a.name==="ios"&&n.name!=="safari"&&(n.webview=!1)),n.majorVersion=parseInt(n.version,10),{browser:n,os:a,isMobile:r,isHints:!1}}function TE(t){var e=navigator.userAgentData,r=(e.uaList||e.brands).slice(),n=t&&t.fullVersionList,a=e.mobile||!1,o=r[0],u=(t&&t.platform||e.platform||navigator.platform).toLowerCase(),l={name:o.brand,version:o.version,majorVersion:-1,webkit:!1,webkitVersion:"-1",chromium:!1,chromiumVersion:"-1",webview:!!Qi(Dg,r).brand||Rg(Cg())},c={name:"unknown",version:"-1",majorVersion:-1};l.webkit=!l.chromium&&lf(bc,function(m){return Eg(r,m)});var f=Qi(Mg,r);if(l.chromium=!!f.brand,l.chromiumVersion=f.version,!l.chromium){var v=Qi(bc,r);l.webkit=!!v.brand,l.webkitVersion=v.version}var h=xg(Tg,function(m){return new RegExp(""+m.test,"g").exec(u)});if(c.name=h?h.id:"",t&&(c.version=t.platformVersion),n&&n.length){var p=Qi(mc,n);l.name=p.brand||l.name,l.version=p.version||l.version}else{var g=Qi(mc,r);l.name=g.brand||l.name,l.version=g.brand&&t?t.uaFullVersion:g.version}return l.webkit&&(c.name=a?"ios":"mac"),c.name==="ios"&&l.webview&&(l.version="-1"),c.version=gc(c.version),l.version=gc(l.version),c.majorVersion=parseInt(c.version,10),l.majorVersion=parseInt(l.version,10),{browser:l,os:c,isMobile:a,isHints:!0}}function RE(t){return typeof t=="undefined"&&EE()?TE():DE(t)}function kE(t,e,r,n,a,o){for(var u=0;u<a;++u){var l=r+u*a,c=n+u*a;t[l]+=t[c]*o,e[l]+=e[c]*o}}function IE(t,e,r,n,a){for(var o=0;o<a;++o){var u=r+o*a,l=n+o*a,c=t[u],f=e[u];t[u]=t[l],t[l]=c,e[u]=e[l],e[l]=f}}function OE(t,e,r,n,a){for(var o=0;o<n;++o){var u=r+o*n;t[u]/=a,e[u]/=a}}function kg(t,e,r){r===void 0&&(r=Math.sqrt(t.length));for(var n=t.slice(),a=0;a<r;++a)n[a*r+e-1]=0,n[(e-1)*r+a]=0;return n[(e-1)*(r+1)]=1,n}function pn(t,e){e===void 0&&(e=Math.sqrt(t.length));for(var r=t.slice(),n=Oe(e),a=0;a<e;++a){var o=e*a+a;if(!fe(r[o],Ne)){for(var u=a+1;u<e;++u)if(r[e*a+u]){IE(r,n,a,u,e);break}}if(!fe(r[o],Ne))return[];OE(r,n,a,e,r[o]);for(var u=0;u<e;++u){var l=u,c=u+a*e,f=r[c];!fe(f,Ne)||a===u||kE(r,n,l,a,e,-f)}}return n}function AE(t,e){e===void 0&&(e=Math.sqrt(t.length));for(var r=[],n=0;n<e;++n)for(var a=0;a<e;++a)r[a*e+n]=t[e*n+a];return r}function Ig(t,e){e===void 0&&(e=Math.sqrt(t.length));for(var r=[],n=t[e*e-1],a=0;a<e-1;++a)r[a]=t[e*(e-1)+a]/n;return r[e-1]=0,r}function BE(t,e){for(var r=Oe(e),n=0;n<e-1;++n)r[e*(e-1)+n]=t[n]||0;return r}function qa(t,e){for(var r=t.slice(),n=t.length;n<e-1;++n)r[n]=0;return r[e-1]=1,r}function Cn(t,e,r){if(e===void 0&&(e=Math.sqrt(t.length)),e===r)return t;for(var n=Oe(r),a=Math.min(e,r),o=0;o<a-1;++o){for(var u=0;u<a-1;++u)n[o*r+u]=t[o*e+u];n[(o+1)*r-1]=t[(o+1)*e-1],n[(r-1)*r+o]=t[(e-1)*e+o]}return n[r*r-1]=t[e*e-1],n}function yc(t){for(var e=[],r=1;r<arguments.length;r++)e[r-1]=arguments[r];var n=Oe(t);return e.forEach(function(a){n=Ce(n,a,t)}),n}function Ce(t,e,r){r===void 0&&(r=Math.sqrt(t.length));var n=[],a=t.length/r,o=e.length/a;if(a){if(!o)return t}else return e;for(var u=0;u<r;++u)for(var l=0;l<o;++l){n[l*r+u]=0;for(var c=0;c<a;++c)n[l*r+u]+=t[c*r+u]*e[l*a+c]}return n}function he(t,e){for(var r=Math.min(t.length,e.length),n=t.slice(),a=0;a<r;++a)n[a]=n[a]+e[a];return n}function Zt(t,e){for(var r=Math.min(t.length,e.length),n=t.slice(),a=0;a<r;++a)n[a]=n[a]-e[a];return n}function PE(t,e){return e===void 0&&(e=t.length===6),e?[t[0],t[1],0,t[2],t[3],0,t[4],t[5],1]:t}function Og(t,e){return e===void 0&&(e=t.length===9),e?[t[0],t[1],t[3],t[4],t[6],t[7]]:t}function sr(t,e,r){r===void 0&&(r=e.length);var n=Ce(t,e,r),a=n[r-1];return n.map(function(o){return o/a})}function zE(t,e){return Ce(t,[1,0,0,0,0,Math.cos(e),Math.sin(e),0,0,-Math.sin(e),Math.cos(e),0,0,0,0,1],4)}function LE(t,e){return Ce(t,[Math.cos(e),0,-Math.sin(e),0,0,1,0,0,Math.sin(e),0,Math.cos(e),0,0,0,0,1],4)}function FE(t,e){return Ce(t,Ei(e,4))}function Es(t,e){var r=e[0],n=r===void 0?1:r,a=e[1],o=a===void 0?1:a,u=e[2],l=u===void 0?1:u;return Ce(t,[n,0,0,0,0,o,0,0,0,0,l,0,0,0,0,1],4)}function hu(t,e){return sr(Ei(e,3),qa(t,3))}function Hl(t,e){var r=e[0],n=r===void 0?0:r,a=e[1],o=a===void 0?0:a,u=e[2],l=u===void 0?0:u;return Ce(t,[1,0,0,0,0,1,0,0,0,0,1,0,n,o,l,1],4)}function Sc(t,e){return Ce(t,e,4)}function Ei(t,e){var r=Math.cos(t),n=Math.sin(t),a=Oe(e);return a[0]=r,a[1]=n,a[e]=-n,a[e+1]=r,a}function Oe(t){for(var e=t*t,r=[],n=0;n<e;++n)r[n]=n%(t+1)?0:1;return r}function Ag(t,e){for(var r=Oe(e),n=Math.min(t.length,e-1),a=0;a<n;++a)r[(e+1)*a]=t[a];return r}function mo(t,e){for(var r=Oe(e),n=Math.min(t.length,e-1),a=0;a<n;++a)r[e*(e-1)+a]=t[a];return r}function ff(t,e,r,n,a,o,u,l){var c=t[0],f=t[1],v=e[0],h=e[1],p=r[0],g=r[1],m=n[0],y=n[1],S=a[0],_=a[1],E=o[0],x=o[1],C=u[0],R=u[1],D=l[0],k=l[1],I=[c,0,v,0,p,0,m,0,f,0,h,0,g,0,y,0,1,0,1,0,1,0,1,0,0,c,0,v,0,p,0,m,0,f,0,h,0,g,0,y,0,1,0,1,0,1,0,1,-S*c,-_*c,-E*v,-x*v,-C*p,-R*p,-D*m,-k*m,-S*f,-_*f,-E*h,-x*h,-C*g,-R*g,-D*y,-k*y],O=pn(I,8);if(!O.length)return[];var A=Ce(O,[S,_,E,x,C,R,D,k],8);return A[8]=1,Cn(AE(A),3,4)}function df(){return[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]}function gu(t){return gi(Oa(t))}function $s(t,e){var r=sr(t,[e[0],e[1]||0,e[2]||0,1],4),n=r[3]||1;return[r[0]/n,r[1]/n,r[2]/n]}function qE(t,e){e===void 0&&(e=document.body);for(var r=t,n=df();r;){var a=getComputedStyle(r).transform;if(n=Sc(gu(a),n),r===e)break;r=r.parentElement}return n=pn(n,4),n[12]=0,n[13]=0,n[14]=0,n}function gi(t){var e=df();return t.forEach(function(r){var n=r.matrixFunction,a=r.functionValue;!n||(e=n(e,a))}),e}function Oa(t){var e=We(t)?t:va(t);return e.map(function(r){var n=hg(r),a=n.prefix,o=n.value,u=null,l=a,c="";if(a==="translate"||a==="translateX"||a==="translate3d"){var f=Pa(o).map(function(A){return parseFloat(A)}),v=f[0],h=f[1],p=h===void 0?0:h,g=f[2],m=g===void 0?0:g;u=Hl,c=[v,p,m]}else if(a==="translateY"){var p=parseFloat(o);u=Hl,c=[0,p,0]}else if(a==="translateZ"){var m=parseFloat(o);u=Hl,c=[0,0,m]}else if(a==="scale"||a==="scale3d"){var y=Pa(o).map(function(A){return parseFloat(A)}),S=y[0],_=y[1],E=_===void 0?S:_,x=y[2],C=x===void 0?1:x;u=Es,c=[S,E,C]}else if(a==="scaleX"){var S=parseFloat(o);u=Es,c=[S,1,1]}else if(a==="scaleY"){var E=parseFloat(o);u=Es,c=[1,E,1]}else if(a==="scaleZ"){var C=parseFloat(o);u=Es,c=[1,1,C]}else if(a==="rotate"||a==="rotateZ"||a==="rotateX"||a==="rotateY"){var R=ki(o),D=R.unit,k=R.value,I=D==="rad"?k:k*Math.PI/180;a==="rotate"||a==="rotateZ"?(l="rotateZ",u=FE):a==="rotateX"?u=zE:a==="rotateY"&&(u=LE),c=I}else if(a==="matrix3d")u=Sc,c=Pa(o).map(function(A){return parseFloat(A)});else if(a==="matrix"){var O=Pa(o).map(function(A){return parseFloat(A)});u=Sc,c=[O[0],O[1],0,0,O[2],O[3],0,0,0,0,1,0,O[4],O[5],0,1]}else l="";return{name:a,functionName:l,value:o,matrixFunction:u,functionValue:c}})}/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */var _c=function(t,e){return _c=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var a in n)n.hasOwnProperty(a)&&(r[a]=n[a])},_c(t,e)};function $E(t,e){_c(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var Bg=typeof Map=="function"?void 0:function(){var t=0;return function(e){return e.__DIFF_KEY__||(e.__DIFF_KEY__=++t)}}(),Pg=function(t){$E(e,t);function e(r){return r===void 0&&(r=[]),t.call(this,r,Bg)||this}return e}(JC);function so(t,e){return Eo(t,e,Bg)}/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */function GE(){for(var t=0,e=0,r=arguments.length;e<r;e++)t+=arguments[e].length;for(var n=Array(t),a=0,e=0;e<r;e++)for(var o=arguments[e],u=0,l=o.length;u<l;u++,a++)n[a]=o[u];return n}function Cr(t){return fe(t,Ne)}function NE(t,e){return t.every(function(r,n){return Cr(r-e[n])===0})}function VE(t,e){return!Cr(t[0]-e[0])&&!Cr(t[1]-e[1])}function ru(t){return t.length<3?0:Math.abs(lE(t.map(function(e,r){var n=t[r+1]||t[0];return e[0]*n[1]-n[0]*e[1]})))/2}function wc(t,e){var r=e.width,n=e.height,a=e.left,o=e.top,u=To(t),l=u.minX,c=u.minY,f=u.maxX,v=u.maxY,h=r/(f-l),p=n/(v-c);return t.map(function(g){return[a+(g[0]-l)*h,o+(g[1]-c)*p]})}function To(t){var e=t.map(function(n){return n[0]}),r=t.map(function(n){return n[1]});return{minX:Math.min.apply(Math,e),minY:Math.min.apply(Math,r),maxX:Math.max.apply(Math,e),maxY:Math.max.apply(Math,r)}}function nu(t,e,r){var n=t[0],a=t[1],o=To(e),u=o.minX,l=o.maxX,c=[[u,a],[l,a]],f=au(c[0],c[1]),v=xc(e),h=[];if(v.forEach(function(m){var y=au(m[0],m[1]),S=m[0];if(NE(f,y))h.push({pos:t,line:m,type:"line"});else{var _=zg(vf(f,y),[c,m]);_.forEach(function(E){m.some(function(x){return VE(x,E)})?h.push({pos:E,line:m,type:"point"}):Cr(S[1]-a)!==0&&h.push({pos:E,line:m,type:"intersection"})})}}),!r&&Yn(h,function(m){return m[0]===n}))return!0;var p=0,g={};return h.forEach(function(m){var y=m.pos,S=m.type,_=m.line;if(!(y[0]>n))if(S==="intersection")++p;else{if(S==="line")return;if(S==="point"){var E=Yn(_,function(R){return R[1]!==a}),x=g[y[0]],C=E[1]>a?1:-1;x?x!==C&&++p:g[y[0]]=C}}}),p%2===1}function au(t,e){var r=t[0],n=t[1],a=e[0],o=e[1],u=a-r,l=o-n;Math.abs(u)<Ne&&(u=0),Math.abs(l)<Ne&&(l=0);var c=0,f=0,v=0;return u?l?(c=-l/u,f=1,v=-c*r-n):(f=1,v=-n):l&&(c=-1,v=r),[c,f,v]}function vf(t,e){var r=t[0],n=t[1],a=t[2],o=e[0],u=e[1],l=e[2],c=r===0&&o===0,f=n===0&&u===0,v=[];if(c&&f)return[];if(c){var h=-a/n,p=-l/u;return h!==p?[]:[[-1/0,h],[1/0,h]]}else if(f){var g=-a/r,m=-l/o;return g!==m?[]:[[g,-1/0],[g,1/0]]}else if(r===0){var y=-a/n,S=-(u*y+l)/o;v=[[S,y]]}else if(o===0){var y=-l/u,S=-(n*y+a)/r;v=[[S,y]]}else if(n===0){var S=-a/r,y=-(o*S+l)/u;v=[[S,y]]}else if(u===0){var S=-l/o,y=-(r*S+a)/n;v=[[S,y]]}else{var S=(n*l-u*a)/(u*r-n*o),y=-(r*S+a)/n;v=[[S,y]]}return v.map(function(_){return[_[0],_[1]]})}function zg(t,e){var r=e.map(function(h){return[0,1].map(function(p){return[Math.min(h[0][p],h[1][p]),Math.max(h[0][p],h[1][p])]})}),n=[];if(t.length===2){var a=t[0],o=a[0],u=a[1];if(Cr(o-t[1][0])){if(!Cr(u-t[1][1])){var f=Math.max.apply(Math,r.map(function(h){return h[0][0]})),v=Math.min.apply(Math,r.map(function(h){return h[0][1]}));if(Cr(f-v)>0)return[];n=[[f,u],[v,u]]}}else{var l=Math.max.apply(Math,r.map(function(h){return h[1][0]})),c=Math.min.apply(Math,r.map(function(h){return h[1][1]}));if(Cr(l-c)>0)return[];n=[[o,l],[o,c]]}}return n.length||(n=t.filter(function(h){var p=h[0],g=h[1];return r.every(function(m){return 0<=Cr(p-m[0][0])&&0<=Cr(m[0][1]-p)&&0<=Cr(g-m[1][0])&&0<=Cr(m[1][1]-g)})})),n.map(function(h){return[Cr(h[0]),Cr(h[1])]})}function xc(t){return GE(t.slice(1),[t[0]]).map(function(e,r){return[t[r],e]})}function WE(t,e){var r=t.slice(),n=e.slice();vc(r)===-1&&r.reverse(),vc(n)===-1&&n.reverse();var a=xc(r),o=xc(n),u=a.map(function(v){return au(v[0],v[1])}),l=o.map(function(v){return au(v[0],v[1])}),c=[];u.forEach(function(v,h){var p=a[h],g=[];l.forEach(function(m,y){var S=vf(v,m),_=zg(S,[p,o[y]]);g.push.apply(g,_.map(function(E){return{index1:h,index2:y,pos:E,type:"intersection"}}))}),g.sort(function(m,y){return fn(p[0],m.pos)-fn(p[0],y.pos)}),c.push.apply(c,g),nu(p[1],n)&&c.push({index1:h,index2:-1,pos:p[1],type:"inside"})}),o.forEach(function(v,h){if(!!nu(v[1],r)){var p=!1,g=pa(c,function(m){var y=m.index2;return y===h?(p=!0,!1):!!p});g===-1&&(p=!1,g=pa(c,function(m){var y=m.index1,S=m.index2;return y===-1&&S+1===h?(p=!0,!1):!!p})),g===-1?c.push({index1:-1,index2:h,pos:v[1],type:"inside"}):c.splice(g,0,{index1:-1,index2:h,pos:v[1],type:"inside"})}});var f={};return c.filter(function(v){var h=v.pos,p=h[0]+"x"+h[1];return f[p]?!1:(f[p]=!0,!0)})}function Lg(t,e){var r=WE(t,e);return r.map(function(n){var a=n.pos;return a})}function HE(t,e){var r=Lg(t,e);return ru(r)}/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var Cc=function(){return Cc=Object.assign||function(e){for(var r,n=1,a=arguments.length;n<a;n++){r=arguments[n];for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(e[o]=r[o])}return e},Cc.apply(this,arguments)};function YE(){for(var t=0,e=0,r=arguments.length;e<r;e++)t+=arguments[e].length;for(var n=Array(t),a=0,e=0;e<r;e++)for(var o=arguments[e],u=0,l=o.length;u<l;u++,a++)n[a]=o[u];return n}var XE=function(){function t(){this._events={}}var e=t.prototype;return e.on=function(r,n){if(vn(r))for(var a in r)this.on(a,r[a]);else this._addEvent(r,n,{});return this},e.off=function(r,n){if(!r)this._events={};else if(vn(r))for(var a in r)this.off(a);else if(!n)this._events[r]=[];else{var o=this._events[r];if(o){var u=pa(o,function(l){return l.listener===n});u>-1&&o.splice(u,1)}}return this},e.once=function(r,n){var a=this;return n&&this._addEvent(r,n,{once:!0}),new Promise(function(o){a._addEvent(r,o,{once:!0})})},e.emit=function(r,n){var a=this;n===void 0&&(n={});var o=this._events[r];if(!r||!o)return!0;var u=!1;return n.eventType=r,n.stop=function(){u=!0},n.currentTarget=this,YE(o).forEach(function(l){l.listener(n),l.once&&a.off(r,l.listener)}),!u},e.trigger=function(r,n){return n===void 0&&(n={}),this.emit(r,n)},e._addEvent=function(r,n,a){var o=this._events;o[r]=o[r]||[];var u=o[r];u.push(Cc({listener:n},a))},t}(),Oi=XE,UE="function",KE="string";function jE(t){return typeof t===KE}function ZE(t){return typeof t===UE}function QE(){return Date.now?Date.now():new Date().getTime()}/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */var Ec=function(t,e){return Ec=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var a in n)n.hasOwnProperty(a)&&(r[a]=n[a])},Ec(t,e)};function JE(t,e){Ec(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var bi=function(){return bi=Object.assign||function(e){for(var r,n=1,a=arguments.length;n<a;n++){r=arguments[n];for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(e[o]=r[o])}return e},bi.apply(this,arguments)};function t2(t){var e=t.container;return e===document.body?[e.scrollLeft||document.documentElement.scrollLeft,e.scrollTop||document.documentElement.scrollTop]:[e.scrollLeft,e.scrollTop]}function Yl(t){if(t){if(jE(t))return document.querySelector(t)}else return null;if(ZE(t))return t();if(t instanceof Element)return t;if("current"in t)return t.current;if("value"in t)return t.value}var e2=function(t){JE(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n._startRect=null,n._startPos=[],n._prevTime=0,n._timer=0,n._prevScrollPos=[0,0],n._isWait=!1,n._flag=!1,n}var r=e.prototype;return r.dragStart=function(n,a){var o=Yl(a.container);if(!o){this._flag=!1;return}var u=0,l=0,c=0,f=0;if(o===document.body)c=window.innerWidth,f=window.innerHeight;else{var v=o.getBoundingClientRect();u=v.top,l=v.left,c=v.width,f=v.height}this._flag=!0,this._startPos=[n.clientX,n.clientY],this._startRect={top:u,left:l,width:c,height:f},this._prevScrollPos=this._getScrollPosition([0,0],a)},r.drag=function(n,a){if(!!this._flag){var o=n.clientX,u=n.clientY,l=a.threshold,c=l===void 0?0:l,f=this,v=f._startRect,h=f._startPos,p=[0,0];return v.top>u-c?(h[1]>v.top||u<h[1])&&(p[1]=-1):v.top+v.height<u+c&&(h[1]<v.top+v.height||u>h[1])&&(p[1]=1),v.left>o-c?(h[0]>v.left||o<h[0])&&(p[0]=-1):v.left+v.width<o+c&&(h[0]<v.left+v.width||o>h[0])&&(p[0]=1),clearTimeout(this._timer),!p[0]&&!p[1]?!1:this._continueDrag(bi(bi({},a),{direction:p,inputEvent:n,isDrag:!0}))}},r.checkScroll=function(n){var a=this;if(this._isWait)return!1;var o=n.prevScrollPos,u=o===void 0?this._prevScrollPos:o,l=n.direction,c=n.throttleTime,f=c===void 0?0:c,v=n.inputEvent,h=n.isDrag,p=this._getScrollPosition(l||[0,0],n),g=p[0]-u[0],m=p[1]-u[1],y=l||[g?Math.abs(g)/g:0,m?Math.abs(m)/m:0];return this._prevScrollPos=p,!g&&!m?!1:(this.trigger("move",{offsetX:y[0]?g:0,offsetY:y[1]?m:0,inputEvent:v}),f&&h&&(this._timer=window.setTimeout(function(){a._continueDrag(n)},f)),!0)},r.dragEnd=function(){clearTimeout(this._timer)},r._getScrollPosition=function(n,a){var o=a.container,u=a.getScrollPosition,l=u===void 0?t2:u;return l({container:Yl(o),direction:n})},r._continueDrag=function(n){var a=this,o=n.container,u=n.direction,l=n.throttleTime,c=n.useScroll,f=n.isDrag,v=n.inputEvent;if(!(f&&this._isWait)){var h=QE(),p=Math.max(l+this._prevTime-h,0);if(p>0)return this._timer=window.setTimeout(function(){a._continueDrag(n)},p),!1;this._prevTime=h;var g=this._getScrollPosition(u,n);return this._prevScrollPos=g,f&&(this._isWait=!0),this.trigger("scroll",{container:Yl(o),direction:u,inputEvent:v}),this._isWait=!1,c||this.checkScroll(bi(bi({},n),{prevScrollPos:g,direction:u,inputEvent:v}))}},e}(Oi),Fg=e2;/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */var Mc=function(t,e){return Mc=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var a in n)n.hasOwnProperty(a)&&(r[a]=n[a])},Mc(t,e)};function r2(t,e){Mc(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var Ge=function(){return Ge=Object.assign||function(e){for(var r,n=1,a=arguments.length;n<a;n++){r=arguments[n];for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(e[o]=r[o])}return e},Ge.apply(this,arguments)};function n2(t,e){var r=e[0]-t[0],n=e[1]-t[1],a=Math.atan2(n,r);return a>=0?a:a+Math.PI*2}function Xl(t){return n2([t[0].clientX,t[0].clientY],[t[1].clientX,t[1].clientY])/Math.PI*180}function a2(t){return t.touches&&t.touches.length>=2}function Ms(t){return t?t.touches?o2(t.touches):[qg(t)]:[]}function i2(t){return t&&(t.type.indexOf("mouse")>-1||"button"in t)}function qp(t,e,r){var n=r.length,a=uo(t,n),o=a.clientX,u=a.clientY,l=a.originalClientX,c=a.originalClientY,f=uo(e,n),v=f.clientX,h=f.clientY,p=uo(r,n),g=p.clientX,m=p.clientY,y=o-v,S=u-h,_=o-g,E=u-m;return{clientX:l,clientY:c,deltaX:y,deltaY:S,distX:_,distY:E}}function Ul(t){return Math.sqrt(Math.pow(t[0].clientX-t[1].clientX,2)+Math.pow(t[0].clientY-t[1].clientY,2))}function o2(t){for(var e=Math.min(t.length,2),r=[],n=0;n<e;++n)r.push(qg(t[n]));return r}function qg(t){return{clientX:t.clientX,clientY:t.clientY}}function uo(t,e){e===void 0&&(e=t.length);for(var r={clientX:0,clientY:0,originalClientX:0,originalClientY:0},n=0;n<e;++n){var a=t[n];r.originalClientX+="originalClientX"in a?a.originalClientX:a.clientX,r.originalClientY+="originalClientY"in a?a.originalClientY:a.clientY,r.clientX+=a.clientX,r.clientY+=a.clientY}return e?{clientX:r.clientX/e,clientY:r.clientY/e,originalClientX:r.originalClientX/e,originalClientY:r.originalClientY/e}:r}var Kl=function(){function t(r){this.prevClients=[],this.startClients=[],this.movement=0,this.length=0,this.startClients=r,this.prevClients=r,this.length=r.length}var e=t.prototype;return e.getAngle=function(r){return r===void 0&&(r=this.prevClients),Xl(r)},e.getRotation=function(r){return r===void 0&&(r=this.prevClients),Xl(r)-Xl(this.startClients)},e.getPosition=function(r,n){r===void 0&&(r=this.prevClients);var a=qp(r||this.prevClients,this.prevClients,this.startClients),o=a.deltaX,u=a.deltaY;return this.movement+=Math.sqrt(o*o+u*u),this.prevClients=r,a},e.getPositions=function(r){r===void 0&&(r=this.prevClients);var n=this.prevClients;return this.startClients.map(function(a,o){return qp([r[o]],[n[o]],[a])})},e.getMovement=function(r){var n=this.movement;if(!r)return n;var a=uo(r,this.length),o=uo(this.prevClients,this.length),u=a.clientX-o.clientX,l=a.clientY-o.clientY;return Math.sqrt(u*u+l*l)+n},e.getDistance=function(r){return r===void 0&&(r=this.prevClients),Ul(r)},e.getScale=function(r){return r===void 0&&(r=this.prevClients),Ul(r)/Ul(this.startClients)},e.move=function(r,n){this.startClients.forEach(function(a){a.clientX-=r,a.clientY-=n})},t}(),$p=["textarea","input"],s2=function(t){r2(e,t);function e(n,a){a===void 0&&(a={});var o=t.call(this)||this;o.options={},o.flag=!1,o.pinchFlag=!1,o.data={},o.isDrag=!1,o.isPinch=!1,o.isMouse=!1,o.isTouch=!1,o.clientStores=[],o.targets=[],o.prevTime=0,o.doubleFlag=!1,o._dragFlag=!1,o._isMouseEvent=!1,o._isSecondaryButton=!1,o._preventMouseEvent=!1,o.onDragStart=function(p,g){if(g===void 0&&(g=!0),!(!o.flag&&p.cancelable===!1)){var m=o.options,y=m.container,S=m.pinchOutside,_=m.preventWheelClick,E=m.preventRightClick,x=m.preventDefault,C=m.checkInput,R=m.preventClickEventOnDragStart,D=m.preventClickEventOnDrag,k=m.preventClickEventByCondition,I=o.isTouch,O=!o.flag;if(o._isSecondaryButton=p.which===3||p.button===2,_&&(p.which===2||p.button===1)||E&&(p.which===3||p.button===2))return o.stop(),!1;if(O){var A=document.activeElement,V=p.target;if(V){var z=V.tagName.toLowerCase(),L=$p.indexOf(z)>-1,U=V.isContentEditable;if(L||U){if(C||A===V||A&&U&&A.isContentEditable&&A.contains(V))return!1}else if((x||p.type==="touchstart")&&A){var H=A.tagName.toLowerCase();(A.isContentEditable||$p.indexOf(H)>-1)&&A.blur()}(R||D||k)&&ar(window,"click",o._onClick,!0)}o.clientStores=[new Kl(Ms(p))],o.flag=!0,o.isDrag=!1,o._dragFlag=!0,o.data={},o.doubleFlag=tu()-o.prevTime<200,o._isMouseEvent=i2(p),!o._isMouseEvent&&o._preventMouseEvent&&(o._preventMouseEvent=!1);var et=o._preventMouseEvent||o.emit("dragStart",Ge(Ge({data:o.data,datas:o.data,inputEvent:p,isMouseEvent:o._isMouseEvent,isSecondaryButton:o._isSecondaryButton,isTrusted:g,isDouble:o.doubleFlag},o.getCurrentStore().getPosition()),{preventDefault:function(){p.preventDefault()},preventDrag:function(){o._dragFlag=!1}}));et===!1&&o.stop(),o._isMouseEvent&&o.flag&&x&&p.preventDefault()}if(!o.flag)return!1;var nt=0;if(O?(o._attchDragEvent(),I&&S&&(nt=setTimeout(function(){ar(y,"touchstart",o.onDragStart,{passive:!1})}))):I&&S&&Qe(y,"touchstart",o.onDragStart),o.flag&&a2(p)){if(clearTimeout(nt),O&&p.touches.length!==p.changedTouches.length)return;o.pinchFlag||o.onPinchStart(p)}}},o.onDrag=function(p,g){if(!!o.flag){var m=o.options.preventDefault;!o._isMouseEvent&&m&&p.preventDefault();var y=Ms(p),S=o.moveClients(y,p,!1);if(o._dragFlag){if(o.pinchFlag||S.deltaX||S.deltaY){var _=o._preventMouseEvent||o.emit("drag",Ge(Ge({},S),{isScroll:!!g,inputEvent:p}));if(_===!1){o.stop();return}}o.pinchFlag&&o.onPinch(p,y)}o.getCurrentStore().getPosition(y,!0)}},o.onDragEnd=function(p){if(!!o.flag){var g=o.options,m=g.pinchOutside,y=g.container,S=g.preventClickEventOnDrag,_=g.preventClickEventOnDragStart,E=g.preventClickEventByCondition,x=o.isDrag;(S||_||E)&&requestAnimationFrame(function(){o._allowClickEvent()}),!E&&!_&&S&&!x&&o._allowClickEvent(),o.isTouch&&m&&Qe(y,"touchstart",o.onDragStart),o.pinchFlag&&o.onPinchEnd(p);var C=p!=null&&p.touches?Ms(p):[],R=C.length;R===0||!o.options.keepDragging?o.flag=!1:o._addStore(new Kl(C));var D=o._getPosition(),k=tu(),I=!x&&o.doubleFlag;o.prevTime=x||I?0:k,o.flag||(o._dettachDragEvent(),o._preventMouseEvent||o.emit("dragEnd",Ge({data:o.data,datas:o.data,isDouble:I,isDrag:x,isClick:!x,isMouseEvent:o._isMouseEvent,isSecondaryButton:o._isSecondaryButton,inputEvent:p},D)),o.clientStores=[],o._isMouseEvent||(o._preventMouseEvent=!0,requestAnimationFrame(function(){requestAnimationFrame(function(){o._preventMouseEvent=!1})})))}},o.onBlur=function(){o.onDragEnd()},o._allowClickEvent=function(){Qe(window,"click",o._onClick,!0)},o._onClick=function(p){o._allowClickEvent(),o._preventMouseEvent=!1;var g=o.options.preventClickEventByCondition;g!=null&&g(p)||(p.stopPropagation(),p.preventDefault())},o._onContextMenu=function(p){var g=o.options;g.preventRightClick?o.onDragEnd(p):p.preventDefault()},o._passCallback=function(){};var u=[].concat(n);o.options=Ge({checkInput:!1,container:u.length>1?window:u[0],preventRightClick:!0,preventWheelClick:!0,preventClickEventOnDragStart:!1,preventClickEventOnDrag:!1,preventClickEventByCondition:null,preventDefault:!0,checkWindowBlur:!1,keepDragging:!1,pinchThreshold:0,events:["touch","mouse"]},a);var l=o.options,c=l.container,f=l.events,v=l.checkWindowBlur;if(o.isTouch=f.indexOf("touch")>-1,o.isMouse=f.indexOf("mouse")>-1,o.targets=u,o.isMouse&&(u.forEach(function(p){ar(p,"mousedown",o.onDragStart),ar(p,"mousemove",o._passCallback)}),ar(c,"contextmenu",o._onContextMenu)),v&&ar(window,"blur",o.onBlur),o.isTouch){var h={passive:!1};u.forEach(function(p){ar(p,"touchstart",o.onDragStart,h),ar(p,"touchmove",o._passCallback,h)})}return o}var r=e.prototype;return r.stop=function(){this.isDrag=!1,this.data={},this.clientStores=[],this.pinchFlag=!1,this.doubleFlag=!1,this.prevTime=0,this.flag=!1,this._allowClickEvent(),this._dettachDragEvent()},r.getMovement=function(n){return this.getCurrentStore().getMovement(n)+this.clientStores.slice(1).reduce(function(a,o){return a+o.movement},0)},r.isDragging=function(){return this.isDrag},r.isFlag=function(){return this.flag},r.isPinchFlag=function(){return this.pinchFlag},r.isDoubleFlag=function(){return this.doubleFlag},r.isPinching=function(){return this.isPinch},r.scrollBy=function(n,a,o,u){u===void 0&&(u=!0),this.flag&&(this.clientStores[0].move(n,a),u&&this.onDrag(o,!0))},r.move=function(n,a){var o=n[0],u=n[1],l=this.getCurrentStore(),c=l.prevClients;return this.moveClients(c.map(function(f){var v=f.clientX,h=f.clientY;return{clientX:v+o,clientY:h+u,originalClientX:v,originalClientY:h}}),a,!0)},r.triggerDragStart=function(n){this.onDragStart(n,!1)},r.setEventData=function(n){var a=this.data;for(var o in n)a[o]=n[o];return this},r.setEventDatas=function(n){return this.setEventData(n)},r.getCurrentEvent=function(n){return Ge(Ge({data:this.data,datas:this.data},this._getPosition()),{movement:this.getMovement(),isDrag:this.isDrag,isPinch:this.isPinch,isScroll:!1,inputEvent:n})},r.getEventData=function(){return this.data},r.getEventDatas=function(){return this.data},r.unset=function(){var n=this,a=this.targets,o=this.options.container;this.off(),Qe(window,"blur",this.onBlur),this.isMouse&&(a.forEach(function(u){Qe(u,"mousedown",n.onDragStart)}),Qe(o,"contextmenu",this._onContextMenu)),this.isTouch&&(a.forEach(function(u){Qe(u,"touchstart",n.onDragStart)}),Qe(o,"touchstart",this.onDragStart)),this._allowClickEvent(),this._dettachDragEvent()},r.onPinchStart=function(n){var a=this.options.pinchThreshold;if(!(this.isDrag&&this.getMovement()>a)){var o=new Kl(Ms(n));this.pinchFlag=!0,this._addStore(o);var u=this.emit("pinchStart",Ge(Ge({data:this.data,datas:this.data,angle:o.getAngle(),touches:this.getCurrentStore().getPositions()},o.getPosition()),{inputEvent:n}));u===!1&&(this.pinchFlag=!1)}},r.onPinch=function(n,a){if(!(!this.flag||!this.pinchFlag||a.length<2)){var o=this.getCurrentStore();this.isPinch=!0,this.emit("pinch",Ge(Ge({data:this.data,datas:this.data,movement:this.getMovement(a),angle:o.getAngle(a),rotation:o.getRotation(a),touches:o.getPositions(a),scale:o.getScale(a),distance:o.getDistance(a)},o.getPosition(a)),{inputEvent:n}))}},r.onPinchEnd=function(n){if(!!this.pinchFlag){var a=this.isPinch;this.isPinch=!1,this.pinchFlag=!1;var o=this.getCurrentStore();this.emit("pinchEnd",Ge(Ge({data:this.data,datas:this.data,isPinch:a,touches:o.getPositions()},o.getPosition()),{inputEvent:n}))}},r.getCurrentStore=function(){return this.clientStores[0]},r.moveClients=function(n,a,o){var u=this._getPosition(n,o);return(u.deltaX||u.deltaY)&&(this.isDrag=!0),Ge(Ge({data:this.data,datas:this.data},u),{movement:this.getMovement(n),isDrag:this.isDrag,isPinch:this.isPinch,isScroll:!1,isMouseEvent:this._isMouseEvent,isSecondaryButton:this._isSecondaryButton,inputEvent:a})},r._addStore=function(n){this.clientStores.splice(0,0,n)},r._getPosition=function(n,a){var o=this.getCurrentStore(),u=o.getPosition(n,a),l=this.clientStores.slice(1).reduce(function(v,h){var p=h.getPosition();return v.distX+=p.distX,v.distY+=p.distY,v},u),c=l.distX,f=l.distY;return Ge(Ge({},u),{distX:c,distY:f})},r._attchDragEvent=function(){var n=this.options.container,a={passive:!1};this.isMouse&&(ar(n,"mousemove",this.onDrag),ar(n,"mouseup",this.onDragEnd)),this.isTouch&&(ar(n,"touchmove",this.onDrag,a),ar(n,"touchend",this.onDragEnd,a),ar(n,"touchcancel",this.onDragEnd,a))},r._dettachDragEvent=function(){var n=this.options.container;this.isMouse&&(Qe(n,"mousemove",this.onDrag),Qe(n,"mouseup",this.onDragEnd)),this.isTouch&&(Qe(n,"touchstart",this.onDragStart),Qe(n,"touchmove",this.onDrag),Qe(n,"touchend",this.onDragEnd),Qe(n,"touchcancel",this.onDragEnd))},e}(Oi),$g=s2;function u2(t){for(var e=5381,r=t.length;r;)e=e*33^t.charCodeAt(--r);return e>>>0}var l2=u2;function c2(t){return l2(t).toString(36)}function f2(t){if(t&&t.getRootNode){var e=t.getRootNode();if(e.nodeType===11)return e}}function d2(t,e,r){return r.original?e:e.replace(/([^};{\s}][^};{]*|^\s*){/mg,function(n,a){var o=a.trim();return(o?Pa(o):[""]).map(function(u){var l=u.trim();return l.indexOf("@")===0?l:l.indexOf(":global")>-1?l.replace(/\:global/g,""):l.indexOf(":host")>-1?""+l.replace(/\:host/g,"."+t):l?"."+t+" "+l:"."+t}).join(", ")+" {"})}function v2(t,e,r,n){var a=document.createElement("style");return a.setAttribute("type","text/css"),a.setAttribute("data-styled-id",t),r.nonce&&a.setAttribute("nonce",r.nonce),a.innerHTML=d2(t,e,r),(n||document.head||document.body).appendChild(a),a}function Gg(t){var e="rCS"+c2(t),r=0,n;return{className:e,inject:function(a,o){o===void 0&&(o={});var u=f2(a),l=r===0,c;return(u||l)&&(c=v2(e,t,o,u)),l&&(n=c),u||++r,{destroy:function(){u?(u.removeChild(c),c=null):(r>0&&--r,r===0&&n&&(n.parentNode.removeChild(n),n=null))}}}}}/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */var Dc=function(t,e){return Dc=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var a in n)n.hasOwnProperty(a)&&(r[a]=n[a])},Dc(t,e)};function Ng(t,e){Dc(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var Tc=function(){return Tc=Object.assign||function(e){for(var r,n=1,a=arguments.length;n<a;n++){r=arguments[n];for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(e[o]=r[o])}return e},Tc.apply(this,arguments)};function p2(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,n=Object.getOwnPropertySymbols(t);a<n.length;a++)e.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(t,n[a])&&(r[n[a]]=t[n[a]]);return r}var h2=function(t){Ng(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.injectResult=null,n.tag="div",n}var r=e.prototype;return r.render=function(){var n=this.props,a=n.className,o=a===void 0?"":a;n.cspNonce;var u=n.portalContainer,l=p2(n,["className","cspNonce","portalContainer"]),c=this.injector.className,f=this.tag,v={};return CE.indexOf("simple")>-1&&u&&(v={portalContainer:u}),jr(f,Tc({ref:wn(this,"element"),"data-styled-id":c,className:o+" "+c},v,l))},r.componentDidMount=function(){this.injectResult=this.injector.inject(this.element,{nonce:this.props.cspNonce})},r.componentWillUnmount=function(){this.injectResult.destroy(),this.injectResult=null},r.getElement=function(){return this.element},e}(sf);function Vg(t,e){var r=Gg(e);return function(n){Ng(a,n);function a(){var o=n!==null&&n.apply(this,arguments)||this;return o.injector=r,o.tag=t,o}return a}(h2)}var Rc=function(t,e){return Rc=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(r[a]=n[a])},Rc(t,e)};function Ro(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");Rc(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var X=function(){return X=Object.assign||function(e){for(var r,n=1,a=arguments.length;n<a;n++){r=arguments[n];for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(e[o]=r[o])}return e},X.apply(this,arguments)};function g2(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,n=Object.getOwnPropertySymbols(t);a<n.length;a++)e.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(t,n[a])&&(r[n[a]]=t[n[a]]);return r}function m2(t,e,r,n){var a=arguments.length,o=a<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,r):n,u;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(t,e,r,n);else for(var l=t.length-1;l>=0;l--)(u=t[l])&&(o=(a<3?u(o):a>3?u(e,r,o):u(e,r))||o);return a>3&&o&&Object.defineProperty(e,r,o),o}function Ht(t,e,r){if(r||arguments.length===2)for(var n=0,a=e.length,o;n<a;n++)(o||!(n in e))&&(o||(o=Array.prototype.slice.call(e,0,n)),o[n]=e[n]);return t.concat(o||Array.prototype.slice.call(e))}function ko(t,e){var r;return X({events:{},props:(r={},r[t]=Boolean,r),name:t},e)}function b2(t,e){return'data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" width="'.concat(32*t,'px" height="').concat(32*t,'px" viewBox="0 0 32 32" ><path d="M 16,5 L 12,10 L 14.5,10 L 14.5,22 L 12,22 L 16,27 L 20,22 L 17.5,22 L 17.5,10 L 20, 10 L 16,5 Z" stroke-linejoin="round" stroke-width="1.2" fill="black" stroke="white" style="transform:rotate(').concat(e,'deg);transform-origin: 16px 16px"></path></svg>')}function y2(t){var e=b2(1,t),r=Math.round(t/45)*45%180,n="ns-resize";return r===135?n="nwse-resize":r===45?n="nesw-resize":r===90&&(n="ew-resize"),"cursor:".concat(n,";cursor: url('").concat(e,"') 16 16, ").concat(n,";")}var iu=RE(),Wg=iu.browser.webkit,Hg=Wg&&function(){var t=typeof window=="undefined"?{userAgent:""}:window.navigator,e=/applewebkit\/([^\s]+)/g.exec(t.userAgent.toLowerCase());return e?parseFloat(e[1])<605:!1}(),S2=iu.browser.name==="firefox",_2=parseInt(iu.browser.webkitVersion,10)>=612||parseInt(iu.browser.version,10)>=15,pf="moveable-",w2=`
{
	position: absolute;
	width: 1px;
	height: 1px;
	left: 0;
	top: 0;
    z-index: 3000;
    --moveable-color: #4af;
    --zoom: 1;
    --zoompx: 1px;
    will-change: transform;
}
.control-box {
    z-index: 0;
}
.line, .control {
    position: absolute;
	left: 0;
    top: 0;
    will-change: transform;
}
.control {
	width: 14px;
	height: 14px;
	border-radius: 50%;
	border: 2px solid #fff;
	box-sizing: border-box;
    background: #4af;
    background: var(--moveable-color);
	margin-top: -7px;
    margin-left: -7px;
    border: 2px solid #fff;
    z-index: 10;
}
.padding {
    position: absolute;
    top: 0px;
    left: 0px;
    width: 100px;
    height: 100px;
    transform-origin: 0 0;
}
.line {
	width: 1px;
    height: 1px;
    background: #4af;
    background: var(--moveable-color);
	transform-origin: 0px 50%;
}
.line.edge {
    z-index: 1;
    background: transparent;
}
.line.dashed {
    box-sizing: border-box;
    background: transparent;
}
.line.dashed.horizontal {
    border-top: 1px dashed #4af;
    border-top-color: #4af;
    border-top-color: var(--moveable-color);
}
.line.dashed.vertical {
    border-left: 1px dashed #4af;
    border-left-color: #4af;
    border-left-color: var(--moveable-color);
}
.line.vertical {
    transform: translateX(-50%);
}
.line.horizontal {
    transform: translateY(-50%);
}
.line.vertical.bold {
    width: 2px;
}
.line.horizontal.bold {
    height: 2px;
}

.control.origin {
	border-color: #f55;
	background: #fff;
	width: 12px;
	height: 12px;
	margin-top: -6px;
    margin-left: -6px;
	pointer-events: none;
}
`.concat([0,15,30,45,60,75,90,105,120,135,150,165].map(function(t){return`
.direction[data-rotation="`.concat(t,'"], :global .view-control-rotation').concat(t,` {
	`).concat(y2(t),`
}
`)}).join(`
`),`
.group {
    z-index: -1;
}
.area {
    position: absolute;
}
.area-pieces {
    position: absolute;
    top: 0;
    left: 0;
    display: none;
}
.area.avoid, .area.pass {
    pointer-events: none;
}
.area.avoid+.area-pieces {
    display: block;
}
.area-piece {
    position: absolute;
}

`).concat(Hg?`:global svg *:before {
	content:"";
	transform-origin: inherit;
}`:"",`
`),x2=[[0,1,2],[1,0,3],[2,0,3],[3,1,2]],C2=1e-4,br=1e-7,Ds=1e-9,kc=Math.pow(10,10),Gp=-kc,E2=["n","w","s","e"],hf=["n","w","s","e","nw","ne","sw","se"],M2={n:[0,-1],e:[1,0],s:[0,1],w:[-1,0],nw:[-1,-1],ne:[1,-1],sw:[-1,1],se:[1,1]},gf={n:[0,1],e:[1,3],s:[3,2],w:[2,0],nw:[0],ne:[1],sw:[2],se:[3]},Yg={n:0,s:180,w:270,e:90,nw:315,ne:45,sw:225,se:135},Xg=["isMoveableElement","updateRect","updateTarget","destroy","dragStart","isInside","hitTest","setState","getRect","request","isDragging","getManager","forceUpdate","waitToChangeTarget","updateSelectors","getTargets"];function Io(t,e,r,n,a,o){o===void 0&&(o="draggable");var u=e.gestos[o].move(r,t.inputEvent),l=u.originalDatas||u.datas,c=l[o]||(l[o]={});return X(X({},a?p0(e,u):u),{isPinch:!!n,parentEvent:!0,datas:c,originalDatas:t.originalDatas})}var Mi=function(){function t(r){var n;r===void 0&&(r="draggable"),this.ableName=r,this.prevX=0,this.prevY=0,this.startX=0,this.startY=0,this.isDrag=!1,this.isFlag=!1,this.datas={draggable:{}},this.datas=(n={},n[r]={},n)}var e=t.prototype;return e.dragStart=function(r,n){this.isDrag=!1,this.isFlag=!1;var a=n.originalDatas;return this.datas=a,a[this.ableName]||(a[this.ableName]={}),X(X({},this.move(r,n.inputEvent)),{type:"dragstart"})},e.drag=function(r,n){return this.move([r[0]-this.prevX,r[1]-this.prevY],n)},e.move=function(r,n){var a,o;return this.isFlag?(a=this.prevX+r[0],o=this.prevY+r[1],(r[0]||r[1])&&(this.isDrag=!0)):(this.prevX=r[0],this.prevY=r[1],this.startX=r[0],this.startY=r[1],a=r[0],o=r[1],this.isFlag=!0),this.prevX=a,this.prevY=o,{type:"drag",clientX:a,clientY:o,inputEvent:n,isDrag:this.isDrag,distX:a-this.startX,distY:o-this.startY,deltaX:r[0],deltaY:r[1],datas:this.datas[this.ableName],originalDatas:this.datas,parentEvent:!0,parentGesto:this}},t}();function Ug(t,e){var r=e.clientX,n=e.clientY,a=e.datas,o=t.state,u=o.moveableClientRect,l=o.rootMatrix,c=o.is3d,f=o.pos1,v=u.left,h=u.top,p=c?4:3,g=Zt(xi(l,[r-v,n-h],p),f),m=g[0],y=g[1],S=En({datas:a,distX:m,distY:y}),_=S[0],E=S[1];return[_,E]}function Ha(t,e){var r=e.datas,n=t.state,a=n.allMatrix,o=n.beforeMatrix,u=n.is3d,l=n.left,c=n.top,f=n.origin,v=n.offsetMatrix,h=n.targetMatrix,p=n.transformOrigin,g=u?4:3;r.is3d=u,r.matrix=a,r.targetMatrix=h,r.beforeMatrix=o,r.offsetMatrix=v,r.transformOrigin=p,r.inverseMatrix=pn(a,g),r.inverseBeforeMatrix=pn(o,g),r.absoluteOrigin=qa(he([l,c],f),g),r.startDragBeforeDist=sr(r.inverseBeforeMatrix,r.absoluteOrigin,g),r.startDragDist=sr(r.inverseMatrix,r.absoluteOrigin,g)}function D2(t){return ou(t.datas.beforeTransform,[50,50],100,100).direction}function mu(t,e){var r=t.datas,n=t.originalDatas.beforeRenderable,a=r.transformIndex,o=n.nextTransforms,u=o.length,l=n.nextTransformAppendedIndexes,c=0;a===-1?(c=o.length,r.transformIndex=c):Yn(l,function(p){return p.index===a&&p.functionName===e})?c=a:c=a+l.filter(function(p){return p.index<a}).length;var f=eM(o,c),v=f.targetFunction,h=e==="rotate"?"rotateZ":e;r.beforeFunctionTexts=f.beforeFunctionTexts,r.afterFunctionTexts=f.afterFunctionTexts,r.beforeTransform=f.beforeFunctionMatrix,r.beforeTransform2=f.beforeFunctionMatrix2,r.targetTansform=f.targetFunctionMatrix,r.afterTransform=f.afterFunctionMatrix,r.afterTransform2=f.afterFunctionMatrix2,r.targetAllTransform=f.allFunctionMatrix,v.functionName===h?(r.afterFunctionTexts.splice(0,1),r.isAppendTransform=!1):u>c&&(r.isAppendTransform=!0,n.nextTransformAppendedIndexes=Ht(Ht([],l,!0),[{functionName:e,index:c,isAppend:!0}],!1))}function bu(t,e,r){return"".concat(t.beforeFunctionTexts.join(" ")," ").concat(t.isAppendTransform?r:e," ").concat(t.afterFunctionTexts.join(" "))}function T2(t){var e=t.datas,r=t.distX,n=t.distY,a=jg({datas:e,distX:r,distY:n}),o=a[0],u=a[1],l=Kg(e,BE([o,u],4));return sr(l,qa([0,0,0],4),4)}function Kg(t,e,r){var n=t.beforeTransform,a=t.afterTransform,o=t.beforeTransform2,u=t.afterTransform2,l=t.targetAllTransform,c=r?Ce(l,e,4):Ce(e,l,4),f=Ce(pn(r?o:n,4),c,4),v=Ce(f,pn(r?u:a,4),4);return v}function jg(t){var e=t.datas,r=t.distX,n=t.distY,a=e.inverseBeforeMatrix,o=e.is3d,u=e.startDragBeforeDist,l=e.absoluteOrigin,c=o?4:3;return Zt(sr(a,he(l,[r,n]),c),u)}function En(t,e){var r=t.datas,n=t.distX,a=t.distY,o=r.inverseBeforeMatrix,u=r.inverseMatrix,l=r.is3d,c=r.startDragBeforeDist,f=r.startDragDist,v=r.absoluteOrigin,h=l?4:3;return Zt(sr(e?o:u,he(v,[n,a]),h),e?c:f)}function R2(t,e){var r=t.datas,n=t.distX,a=t.distY,o=r.beforeMatrix,u=r.matrix,l=r.is3d,c=r.startDragBeforeDist,f=r.startDragDist,v=r.absoluteOrigin,h=l?4:3;return Zt(sr(e?o:u,he(e?c:f,[n,a]),h),v)}function k2(t,e,r,n,a,o){return n===void 0&&(n=e),a===void 0&&(a=r),o===void 0&&(o=[0,0]),t?t.map(function(u,l){var c=ki(u),f=c.value,v=c.unit,h=l?a:n,p=l?r:e;if(u==="%"||isNaN(f)){var g=h?o[l]/h:0;return p*g}else if(v!=="%")return f;return p*f/100}):o}function Zg(t){var e=[];return t[1]>=0&&(t[0]>=0&&e.push(3),t[0]<=0&&e.push(2)),t[1]<=0&&(t[0]>=0&&e.push(1),t[0]<=0&&e.push(0)),e}function I2(t,e){return Zg(e).map(function(r){return t[r]})}function Be(t,e){var r=(e[0]+1)/2,n=(e[1]+1)/2,a=[Ia(t[0][0],t[1][0],r,1-r),Ia(t[0][1],t[1][1],r,1-r)],o=[Ia(t[2][0],t[3][0],r,1-r),Ia(t[2][1],t[3][1],r,1-r)];return[Ia(a[0],o[0],n,1-n),Ia(a[1],o[1],n,1-n)]}function O2(t,e,r,n,a,o){var u=Ya(e,r,n,a),l=Be(u,o),c=t[0]-l[0],f=t[1]-l[1];return[c,f]}function Oo(t,e,r,n){return Ce(t,bf(e,n,r),n)}function A2(t,e,r){var n=t.transformOrigin,a=t.offsetMatrix,o=t.is3d,u=e.beforeTransform,l=e.afterTransform,c=o?4:3,f=gu([r]);return Oo(a,Cn(Ce(Ce(u,f,4),l,4),4,c),n,c)}function B2(t,e){var r=t.transformOrigin,n=t.offsetMatrix,a=t.is3d,o=t.targetMatrix,u=a?4:3;return Oo(n,Ce(o,Ag(e,u),u),r,u)}function yu(t){var e=Ai(t);return{setTransform:function(r,n){n===void 0&&(n=-1),e.startTransforms=We(r)?r:va(r),Ic(t,n)},setTransformIndex:function(r){Ic(t,r)}}}function Su(t,e){var r=Ai(t),n=r.startTransforms;Ic(t,pa(n,function(a){return a.indexOf("".concat(e,"("))===0}))}function Ic(t,e){var r=Ai(t),n=t.datas;if(n.transformIndex=e,e!==-1){var a=r.startTransforms[e];if(!!a){var o=Oa([a]);n.startValue=o[0].functionValue}}}function mf(t,e){var r=Ai(t);r.nextTransforms=va(e)}function Ai(t){return t.originalDatas.beforeRenderable}function Qg(t){var e=t.originalDatas.beforeRenderable;return e.nextTransforms}function Ts(t){return Qg(t).join(" ")}function Rs(t){return Ai(t).nextStyle}function Jg(t,e,r,n,a){mf(a,e);var o=gr.drag(t,Io(a,t.state,r,n,!1)),u=o?o.transform:e;return X(X({transform:e,drag:o},fa({transform:u},a)),{afterTransform:u})}function t0(t,e,r,n,a){var o=t.state,u=o.left,l=o.top,c=t.props.groupable,f=A2(t.state,a,e),v=c?u:0,h=c?l:0,p=e0(t,r,f),g=Zt(n,p);return Zt(g,[v,h])}function P2(t,e,r,n,a){var o=t0(t,"scale(".concat(e.join(", "),")"),r,n,a);return o}function z2(t){var e=t.state,r=e.width,n=e.height,a=e.transformOrigin;return[-1+a[0]/(r/2),-1+a[1]/(n/2)]}function e0(t,e,r){r===void 0&&(r=t.state.allMatrix);var n=t.state,a=n.width,o=n.height,u=n.is3d,l=u?4:3,c=[a/2*(1+e[0]),o/2*(1+e[1])];return Je(r,c,l)}function L2(t,e,r){var n=r.fixedDirection,a=r.fixedPosition;return t0(t,"rotate(".concat(e,"deg)"),n,a,r)}function F2(t,e,r,n,a,o){var u=t.props.groupable,l=t.state,c=l.transformOrigin,f=l.offsetMatrix,v=l.is3d,h=l.width,p=l.height,g=l.left,m=l.top,y=o.fixedDirection,S=o.nextTargetMatrix||l.targetMatrix,_=v?4:3,E=k2(a,e,r,h,p,c),x=u?g:0,C=u?m:0,R=Oo(f,S,E,_),D=O2(n,R,e,r,_,y);return Zt(D,[x,C])}function r0(t,e){return Be(Mr(t.state),e)}function q2(t,e){var r=t.targetGesto,n=t.controlGesto,a;return r!=null&&r.isFlag()&&(a=r.getEventData()[e]),!a&&(n==null?void 0:n.isFlag())&&(a=n.getEventData()[e]),a||{}}function $2(t,e){return[t[0]*e[0],t[1]*e[1]]}function Gt(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return WC.apply(void 0,Ht([pf],t,!1))}function n0(t){t()}function G2(t){return!t||t==="none"?[1,0,0,1,0,0]:vn(t)?t:gu(t)}function bf(t,e,r){return yc(e,mo(r,e),t,mo(r.map(function(n){return-n}),e))}function N2(t,e,r){if(e==="%"){var n=yf(t.ownerSVGElement);return n[r?"width":"height"]/100}return 1}function V2(t){var e=Oc(Qr(t,":before"));return e.map(function(r,n){var a=ki(r),o=a.value,u=a.unit;return o*N2(t,u,n===0)})}function Oc(t){var e=t.transformOrigin;return e?e.split(" "):["0","0"]}function a0(t,e){e===void 0&&(e=Qr(t));var r=e.transform;if(r&&r!=="none")return e.transform;if("transform"in t){var n=t.transform,a=n.baseVal;if(!a)return"";var o=a.length;if(!o)return"";for(var u=[],l=function(f){var v=a[f].matrix;u.push("matrix(".concat(["a","b","c","d","e","f"].map(function(h){return v[h]}).join(", "),")"))},c=0;c<o;++c)l(c);return u.join(" ")}return""}function bo(t,e,r){var n,a,o=document.body,u=!1,l,c;if(!t||r)l=t;else{var f=(n=t==null?void 0:t.assignedSlot)===null||n===void 0?void 0:n.parentElement,v=t.parentElement;f?(u=!0,c=v,l=f):l=v}for(var h=!1,p=t===e||l===e,g="relative";l&&l!==o;){e===l&&(p=!0);var m=Qr(l),y=l.tagName.toLowerCase(),S=a0(l,m),_=m.willChange;if(g=m.position,y==="svg"||g!=="static"||S&&S!=="none"||_==="transform")break;var E=(a=t==null?void 0:t.assignedSlot)===null||a===void 0?void 0:a.parentNode,x=l.parentNode;E&&(u=!0,c=x);var C=E||x;if(C&&C.nodeType===11){l=C.host,h=!0;break}l=C,g="relative"}return{hasSlot:u,parentSlotElement:c,isCustomElement:h,isStatic:g==="static",isEnd:p||!l||l===o,offsetParent:l||o}}function W2(t,e,r){var n,a=t.tagName.toLowerCase(),o=t.offsetLeft,u=t.offsetTop,l=Ri(o),c=!l,f,v;return!c&&a!=="svg"?(f=Hg?V2(t):Oc(r).map(function(h){return parseFloat(h)}),v=f.slice(),c=!0,n=U2(t,f,t===e&&e.tagName.toLowerCase()==="g"),o=n[0],u=n[1],f[0]=n[2],f[1]=n[3]):(f=Oc(r).map(function(h){return parseFloat(h)}),v=f.slice()),{tagName:a,isSVG:l,hasOffset:c,offset:[o||0,u||0],origin:f,targetOrigin:v}}function i0(t,e,r){r===void 0&&(r=Qr(t));var n=Qr(document.body),a=n.position;if(!e&&(!a||a==="static"))return[0,0];var o=parseInt(n.marginLeft,10),u=parseInt(n.marginTop,10);return r.position==="absolute"&&((r.top!=="auto"||r.bottom!=="auto")&&(u=0),(r.left!=="auto"||r.right!=="auto")&&(o=0)),[o,u]}function Ac(t){t.forEach(function(e){var r=e.matrix;r&&(e.matrix=Cn(r,3,4))})}function H2(){return[document.documentElement.scrollLeft||document.body.scrollLeft,document.documentElement.scrollTop||document.body.scrollTop]}function Y2(t){for(var e=t.parentElement,r=!1;e;){var n=Qr(e).transform;if(n&&n!=="none"){r=!0;break}if(e===document.body)break;e=e.parentElement}return{fixedContainer:e||document.body,hasTransform:r}}function _u(t,e){return e===void 0&&(e=t.length>9),"".concat(e?"matrix3d":"matrix","(").concat(Og(t,!e).join(","),")")}function yf(t){var e=t.clientWidth,r=t.clientHeight;if(!t)return{x:0,y:0,width:0,height:0,clientWidth:e,clientHeight:r};var n=t.viewBox,a=n&&n.baseVal||{x:0,y:0,width:0,height:0};return{x:a.x,y:a.y,width:a.width||e,height:a.height||r,clientWidth:e,clientHeight:r}}function X2(t,e){var r=yf(t),n=r.width,a=r.height,o=r.clientWidth,u=r.clientHeight,l=o/n,c=u/a,f=t.preserveAspectRatio.baseVal,v=f.align,h=f.meetOrSlice,p=[0,0],g=[l,c],m=[0,0];if(v!==1){var y=(v-2)%3,S=Math.floor((v-2)/3);p[0]=n*y/2,p[1]=a*S/2;var _=h===2?Math.max(c,l):Math.min(l,c);g[0]=_,g[1]=_,m[0]=(o-n)/2*y,m[1]=(u-a)/2*S}var E=Ag(g,e);return E[e*(e-1)]=m[0],E[e*(e-1)+1]=m[1],bf(E,e,p)}function U2(t,e,r){if(!t.getBBox||!r&&t.tagName.toLowerCase()==="g")return[0,0,0,0];var n=t.getBBox(),a=yf(t.ownerSVGElement),o=n.x-a.x,u=n.y-a.y;return[o,u,e[0]-o,e[1]-u]}function Je(t,e,r){return sr(t,qa(e,r),r)}function Ya(t,e,r,n){return[[0,0],[e,0],[0,r],[e,r]].map(function(a){return Je(t,a,n)})}function Zr(t){var e=t.map(function(f){return f[0]}),r=t.map(function(f){return f[1]}),n=Math.min.apply(Math,e),a=Math.min.apply(Math,r),o=Math.max.apply(Math,e),u=Math.max.apply(Math,r),l=o-n,c=u-a;return{left:n,top:a,right:o,bottom:u,width:l,height:c}}function Np(t,e,r,n){var a=Ya(t,e,r,n);return Zr(a)}function K2(t,e,r,n,a){var o,u=t.target,l=t.origin,c=e.matrix,f=s0(u),v=f.offsetWidth,h=f.offsetHeight,p=r.getBoundingClientRect(),g=[0,0];r===document.body&&(g=i0(u,!0));for(var m=u.getBoundingClientRect(),y=m.left-p.left+r.scrollLeft-(r.clientLeft||0)+g[0],S=m.top-p.top+r.scrollTop-(r.clientTop||0)+g[1],_=m.width,E=m.height,x=yc(n,a,c),C=Np(x,v,h,n),R=C.left,D=C.top,k=C.width,I=C.height,O=Je(x,l,n),A=Zt(O,[R,D]),V=[y+A[0]*_/k,S+A[1]*E/I],z=[0,0],L=0;++L<10;){var U=pn(a,n);o=Zt(Je(U,V,n),Je(U,O,n)),z[0]=o[0],z[1]=o[1];var H=yc(n,a,mo(z,n),c),et=Np(H,v,h,n),nt=et.left,ot=et.top,Z=nt-y,N=ot-S;if(Math.abs(Z)<2&&Math.abs(N)<2)break;V[0]-=Z,V[1]-=N}return z.map(function(K){return Math.round(K)})}function j2(t,e,r){var n=t.length===16,a=n?4:3,o=e.map(function(c){return Je(t,c,a)}),u=r.left,l=r.top;return o.map(function(c){return[c[0]+u,c[1]+l]})}function ou(t,e,r,n){var a=t.length===16,o=a?4:3,u=Ya(t,r,n,o),l=u[0],c=l[0],f=l[1],v=u[1],h=v[0],p=v[1],g=u[2],m=g[0],y=g[1],S=u[3],_=S[0],E=S[1],x=Je(t,e,o),C=x[0],R=x[1],D=Math.min(c,h,m,_),k=Math.min(f,p,y,E),I=Math.max(c,h,m,_),O=Math.max(f,p,y,E);c=c-D||0,h=h-D||0,m=m-D||0,_=_-D||0,f=f-k||0,p=p-k||0,y=y-k||0,E=E-k||0,C=C-D||0,R=R-k||0;var A=vc(u);return{left:D,top:k,right:I,bottom:O,origin:[C,R],pos1:[c,f],pos2:[h,p],pos3:[m,y],pos4:[_,E],direction:A}}function dn(t){return Math.sqrt(t[0]*t[0]+t[1]*t[1])}function o0(t,e){return dn([e[0]-t[0],e[1]-t[1]])}function ro(t,e,r,n){r===void 0&&(r=1),n===void 0&&(n=Pe(t,e));var a=o0(t,e);return{transform:"translateY(-50%) translate(".concat(t[0],"px, ").concat(t[1],"px) rotate(").concat(n,"rad) scaleY(").concat(r,")"),width:"".concat(a,"px")}}function Sf(t,e){for(var r=[],n=2;n<arguments.length;n++)r[n-2]=arguments[n];var a=r.length,o=r.reduce(function(l,c){return l+c[0]},0)/a,u=r.reduce(function(l,c){return l+c[1]},0)/a;return{transform:"translateZ(0px) translate(".concat(o,"px, ").concat(u,"px) rotate(").concat(t,"rad) scale(").concat(e,")")}}function $a(t,e){var r=t[e];return vn(r)?X(X({},t),r):t}function s0(t,e){e===void 0&&(e=t?Qr(t):null);var r=t&&!Ri(t.offsetWidth),n=0,a=0,o=0,u=0,l=0,c=0,f=0,v=0,h=0,p=0,g=0,m=0,y=1/0,S=1/0,_=1/0,E=1/0,x=!1;if(t)if(!r&&t.tagName.toLowerCase()!=="svg"){var C=t.getBBox();x=!0,n=C.width,a=C.height,l=n,c=a,f=n,v=a,o=n,u=a}else{var R=t.style,D=e.boxSizing==="border-box",k=parseFloat(e.borderLeftWidth)||0,I=parseFloat(e.borderRightWidth)||0,O=parseFloat(e.borderTopWidth)||0,A=parseFloat(e.borderBottomWidth)||0,V=parseFloat(e.paddingLeft)||0,z=parseFloat(e.paddingRight)||0,L=parseFloat(e.paddingTop)||0,U=parseFloat(e.paddingBottom)||0,H=V+z,et=L+U,nt=k+I,ot=O+A,Z=H+nt,N=et+ot,K=e.position,ut=0,lt=0;if("clientLeft"in t){var mt=null;if(K==="absolute"){var yt=bo(t,document.body,!1);mt=yt.offsetParent}else mt=t.parentElement;if(mt){var gt=Qr(mt);ut=parseFloat(gt.width),lt=parseFloat(gt.height)}}h=Math.max(H,Ie(e.minWidth,ut)||0),p=Math.max(et,Ie(e.minHeight,lt)||0),y=Ie(e.maxWidth,ut),S=Ie(e.maxHeight,lt),isNaN(y)&&(y=1/0),isNaN(S)&&(S=1/0);var St=Ie(R.width,0)||0,Rt=Ie(R.height,0)||0,P=parseFloat(e.width)||0,tt=parseFloat(e.height)||0;l=parseFloat(e.width),c=parseFloat(e.height),f=Math.abs(P-St)<1?eu(h,St||l,y):P,v=Math.abs(tt-Rt)<1?eu(p,Rt||c,S):tt,n=f,a=v,o=f,u=v,D?(_=y,E=S,g=h,m=p,f=n-Z,v=a-N):(_=y+Z,E=S+N,g=h+Z,m=p+N,n=f+Z,a=v+N),o=f+H,u=v+et}return{svg:x,offsetWidth:n,offsetHeight:a,clientWidth:o,clientHeight:u,contentWidth:f,contentHeight:v,cssWidth:l,cssHeight:c,minWidth:h,minHeight:p,maxWidth:y,maxHeight:S,minOffsetWidth:g,minOffsetHeight:m,maxOffsetWidth:_,maxOffsetHeight:E}}function u0(t,e){return Pe(e>0?t[0]:t[1],e>0?t[1]:t[0])}function ks(){return{left:0,top:0,width:0,height:0,right:0,bottom:0,clientLeft:0,clientTop:0,clientWidth:0,clientHeight:0,scrollWidth:0,scrollHeight:0}}function no(t,e){var r,n=0,a=0,o=0,u=0;if(t)if(t===document.body||t===document.documentElement){o=window.innerWidth,u=window.innerHeight;var l=H2();r=[-l[0],-l[1]],n=r[0],a=r[1]}else{var c=t.getBoundingClientRect();n=c.left,a=c.top,o=c.width,u=c.height}var f={left:n,top:a,width:o,height:u,right:n+o,bottom:a+u};return t&&e&&(f.clientLeft=t.clientLeft,f.clientTop=t.clientTop,f.clientWidth=t.clientWidth,f.clientHeight=t.clientHeight,f.scrollWidth=t.scrollWidth,f.scrollHeight=t.scrollHeight,f.overflow=Qr(t).overflow!=="visible"),f}function l0(t,e,r,n){var a;if(t)a=t;else if(e)a=[0,0];else{var o=r.target;a=c0(o,n)}return a}function c0(t,e){if(!!t){var r=t.getAttribute("data-rotation")||"",n=t.getAttribute("data-direction");if(e.deg=r,!!n){var a=[0,0];return n.indexOf("w")>-1&&(a[0]=-1),n.indexOf("e")>-1&&(a[0]=1),n.indexOf("n")>-1&&(a[1]=-1),n.indexOf("s")>-1&&(a[1]=1),a}}}function _f(t,e){return[he(e,t[0]),he(e,t[1]),he(e,t[2]),he(e,t[3])]}function Mr(t){var e=t.left,r=t.top,n=t.pos1,a=t.pos2,o=t.pos3,u=t.pos4;return _f([n,a,o,u],[e,r])}function Z2(t){return Math.round(t%1===-.5?t-1:t)}function yi(t,e){var r;(r=t[e])===null||r===void 0||r.unset(),t[e]=null}function fa(t,e){if(e){var r=Ai(e);r.nextStyle=X(X({},r.nextStyle),t)}return{style:t,cssText:Ii(t).map(function(n){return"".concat(Fs(n,"-"),": ").concat(t[n],";")}).join("")}}function f0(t,e,r){var n=e.afterTransform||e.transform;return X(X({},fa(X(X(X({},t.style),e.style),{transform:n}),r)),{afterTransform:n,transform:t.transform})}function re(t,e,r,n){var a=e.datas;a.datas||(a.datas={});var o=X(X({},r),{target:t.state.target,clientX:e.clientX,clientY:e.clientY,inputEvent:e.inputEvent,currentTarget:t,moveable:t,datas:a.datas,stopDrag:function(){var u;(u=e.stop)===null||u===void 0||u.call(e)}});return a.isStartEvent?n||(a.lastEvent=o):a.isStartEvent=!0,o}function Pr(t,e,r){var n=e.datas,a="isDrag"in r?r.isDrag:e.isDrag;return n.datas||(n.datas={}),X(X({isDrag:a},r),{moveable:t,target:t.state.target,clientX:e.clientX,clientY:e.clientY,inputEvent:e.inputEvent,currentTarget:t,lastEvent:n.lastEvent,isDouble:e.isDouble,datas:n.datas})}function wf(t,e,r){t._emitter.on(e,r)}function Pt(t,e,r,n){return t.triggerEvent(e,r,n)}function Qr(t,e){return window.getComputedStyle(t,e)}function Is(t,e,r){var n={},a={};return t.filter(function(o){var u=o.name;if(n[u]||!e.some(function(l){return o[l]}))return!1;if(!r&&o.ableGroup){if(a[o.ableGroup])return!1;a[o.ableGroup]=!0}return n[u]=!0,!0})}function Bc(t,e){return t===e||t==null&&e==null}function Q2(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var r=t.length-1,n=0;n<r;++n){var a=t[n];if(!Ri(a))return a}return t[r]}function d0(t,e){var r=[],n=[];return t.forEach(function(a,o){var u=e(a,o,t),l=n.indexOf(u),c=r[l]||[];l===-1&&(n.push(u),r.push(c)),c.push(a)}),r}function J2(t,e){var r=[],n={};return t.forEach(function(a,o){var u=e(a,o,t),l=n[u];l||(l=[],n[u]=l,r.push(l)),l.push(a)}),r}function v0(t){return t.reduce(function(e,r){return e.concat(r)},[])}function Di(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return t.sort(function(r,n){return Math.abs(n)-Math.abs(r)}),t[0]}function xi(t,e,r){return sr(pn(t,r),qa(e,r),r)}function p0(t,e){var r,n=t.is3d,a=t.rootMatrix,o=n?4:3;return r=xi(a,[e.distX,e.distY],o),e.distX=r[0],e.distY=r[1],e}function Os(t,e,r,n,a){return Zt(Je(t,he(r,e),a),n)}function un(t,e,r){return r?"".concat(t/e*100,"%"):"".concat(t,"px")}function su(t){return Math.abs(t)<=br?0:t}function xf(t){return function(e){if(!e.isDragging(t))return"";var r=q2(e,t),n=r.deg;if(!n)return"";var a="view-".concat(t,"-dragging");return Gt(a,"view-control-rotation".concat(n))}}function Cf(t,e){return e===void 0&&(e=[t]),function(r,n){if(n.isRequest)return e.some(function(o){return n.requestAble===o})?n.parentDirection:!1;var a=n.inputEvent.target;return Ve(a,Gt("direction"))&&(!t||Ve(a,Gt(t)))}}function tM(t){var e={};for(var r in t)e[t[r]]=r;return e}function eM(t,e){var r=t.slice(0,e<0?void 0:e),n=t.slice(0,e<0?void 0:e+1),a=t[e]||"",o=e<0?[]:t.slice(e),u=e<0?[]:t.slice(e+1),l=Oa(r),c=Oa(n),f=Oa([a]),v=Oa(o),h=Oa(u),p=gi(l),g=gi(c),m=gi(v),y=gi(h),S=Ce(p,m,4);return{transforms:t,beforeFunctionMatrix:p,beforeFunctionMatrix2:g,targetFunctionMatrix:gi(f),afterFunctionMatrix:m,afterFunctionMatrix2:y,allFunctionMatrix:S,beforeFunctions:l,beforeFunctions2:c,targetFunction:f[0],afterFunctions:v,afterFunctions2:h,beforeFunctionTexts:r,beforeFunctionTexts2:n,targetFunctionText:a,afterFunctionTexts:o,afterFunctionTexts2:u}}function rM(t){return!t||!vn(t)||t instanceof Element?!1:We(t)||"length"in t}function Ga(t,e){return t?t instanceof Element?t:mr(t)?e?document.querySelector(t):t:vg(t)?t():"current"in t?t.current:t:null}function Ef(t,e){if(!t)return[];var r=rM(t)?[].slice.call(t):[t];return r.reduce(function(n,a){return mr(a)&&e?Ht(Ht([],n,!0),[].slice.call(document.querySelectorAll(a)),!0):(We(a)?n.push(Ef(a,e)):n.push(Ga(a,e)),n)},[])}function nM(t,e,r){var n=Pe(t,e)/Math.PI*180;return n=r>=0?n:180-n,n=n>=0?n:360+n,n}function Vp(t,e){var r=t.rootMatrix,n=t.is3d,a=n?4:3,o=pn(r,a);return n||(o=Cn(o,3,4)),o[12]=0,o[13]=0,o[14]=0,$s(o,e)}function h0(t,e,r,n,a){var o=t[0],u=t[1],l=0,c=0;if(a&&o&&u){var f=Pe([0,0],e),v=Pe([0,0],n),h=dn(e),p=Math.cos(f-v)*h;if(!n[0])c=p,l=c*r;else if(!n[1])l=p,c=l/r;else{var g=n[0]*2*o,m=n[1]*2*u,y=dn([g+e[0],m+e[1]])-dn([g,m]),S=Pe([0,0],[r,1]);l=Math.cos(S)*y,c=Math.sin(S)*y}}else l=n[0]*e[0],c=n[1]*e[1];return[l,c]}function g0(t,e,r,n){var a,o=r.ratio,u=r.startOffsetWidth,l=r.startOffsetHeight,c=0,f=0,v=n.distX,h=n.distY,p=n.parentDistance,g=n.parentDist,m=n.parentScale,y=r.fixedDirection,S=[0,1].map(function(D){return Math.abs(t[D]-y[D])}),_=[0,1].map(function(D){var k=S[D];return k!==0&&(k=2/k),k});if(g)c=g[0],f=g[1],e&&(c?f||(f=c/o):c=f*o);else if(m)c=(m[0]-1)*u,f=(m[1]-1)*l;else if(p){var E=u*S[0],x=l*S[1],C=dn([E,x]);c=p/C*E*_[0],f=p/C*x*_[1]}else{var R=En({datas:r,distX:v,distY:h});R=_.map(function(D,k){return R[k]*D}),a=h0([u,l],R,o,t,e),c=a[0],f=a[1]}return{distWidth:c,distHeight:f}}var aM=ko("pinchable",{events:{onPinchStart:"pinchStart",onPinch:"pinch",onPinchEnd:"pinchEnd",onPinchGroupStart:"pinchGroupStart",onPinchGroup:"pinchGroup",onPinchGroupEnd:"pinchGroupEnd"},dragStart:function(){return!0},pinchStart:function(t,e){var r=e.datas,n=e.targets,a=e.angle,o=e.originalDatas,u=t.props,l=u.pinchable,c=u.ables;if(!l)return!1;var f="onPinch".concat(n?"Group":"","Start"),v="drag".concat(n?"Group":"","ControlStart"),h=(l===!0?t.controlAbles:c.filter(function(y){return l.indexOf(y.name)>-1})).filter(function(y){return y.canPinch&&y[v]}),p=re(t,e,{});n&&(p.targets=n);var g=Pt(t,f,p);r.isPinch=g!==!1,r.ables=h;var m=r.isPinch;return m?(h.forEach(function(y){if(o[y.name]=o[y.name]||{},!!y[v]){var S=X(X({},e),{datas:o[y.name],parentRotate:a,isPinch:!0});y[v](t,S)}}),t.state.snapRenderInfo={request:e.isRequest,direction:[0,0]},m):!1},pinch:function(t,e){var r=e.datas,n=e.scale,a=e.distance,o=e.originalDatas,u=e.inputEvent,l=e.targets,c=e.angle;if(!!r.isPinch){var f=a*(1-1/n),v=re(t,e,{});l&&(v.targets=l);var h="onPinch".concat(l?"Group":"");Pt(t,h,v);var p=r.ables,g="drag".concat(l?"Group":"","Control");return p.forEach(function(m){!m[g]||m[g](t,X(X({},e),{datas:o[m.name],inputEvent:u,parentDistance:f,parentRotate:c,isPinch:!0}))}),v}},pinchEnd:function(t,e){var r=e.datas,n=e.isPinch,a=e.inputEvent,o=e.targets,u=e.originalDatas;if(!!r.isPinch){var l="onPinch".concat(o?"Group":"","End"),c=Pr(t,e,{isDrag:n});o&&(c.targets=o),Pt(t,l,c);var f=r.ables,v="drag".concat(o?"Group":"","ControlEnd");return f.forEach(function(h){!h[v]||h[v](t,X(X({},e),{isDrag:n,datas:u[h.name],inputEvent:a,isPinch:!0}))}),n}},pinchGroupStart:function(t,e){return this.pinchStart(t,X(X({},e),{targets:t.props.targets}))},pinchGroup:function(t,e){return this.pinch(t,X(X({},e),{targets:t.props.targets}))},pinchGroupEnd:function(t,e){return this.pinchEnd(t,X(X({},e),{targets:t.props.targets}))}});function ha(t,e,r){var n=r.originalDatas;n.groupable=n.groupable||{};var a=n.groupable;a.childDatas=a.childDatas||[];var o=a.childDatas;return t.moveables.map(function(u,l){return o[l]=o[l]||{},o[l][e]=o[l][e]||{},X(X({},r),{datas:o[l][e],originalDatas:o[l]})})}function jl(t,e,r,n,a,o,u){var l=!!r.match(/Start$/g),c=!!r.match(/End$/g),f=a.isPinch,v=a.datas,h=ha(t,e.name,a),p=t.moveables,g=h.map(function(m,y){var S=p[y],_=S.state,E=_.gestos,x=m;if(l)x=new Mi(u).dragStart(n,m);else{if(E[u]||(E[u]=v.childGestos[y]),!E[u])return;x=Io(m,_,n,f,o,u)}var C=e[r](S,X(X({},x),{parentFlag:!0}));return c&&(E[u]=null),C});return l&&(v.childGestos=p.map(function(m){return m.state.gestos[u]})),g}function Hn(t,e,r,n,a,o){a===void 0&&(a=function(v,h){return h});var u=!!r.match(/End$/g),l=ha(t,e.name,n),c=t.moveables,f=l.map(function(v,h){var p=c[h],g=v;g=a(p,v);var m=e[r](p,X(X({},g),{parentFlag:!0}));return m&&o&&o(p,v,m,h),u&&(p.state.gestos={}),m});return f}var iM=["left","right","center"],oM=["top","bottom","middle"],ga={start:"left",end:"right",center:"center"},ma={start:"top",end:"bottom",center:"middle"};function Bi(t,e){var r=t.props,n=r.snappable,a=r.bounds,o=r.innerBounds,u=r.verticalGuidelines,l=r.horizontalGuidelines,c=r.snapGridWidth,f=r.snapGridHeight,v=t.state,h=v.guidelines,p=v.enableSnap;return!n||!p||e&&n!==!0&&n.indexOf(e)<0?!1:!!(c||f||a||o||h&&h.length||u&&u.length||l&&l.length)}function Mf(t){return t===!1?{}:t===!0||!t?{left:!0,right:!0,top:!0,bottom:!0}:t}function sM(t,e){var r=Mf(t),n={};for(var a in r)a in e&&r[a]&&(n[a]=e[a]);return n}function Df(t,e){var r=sM(t,e),n=oM.filter(function(o){return o in r}),a=iM.filter(function(o){return o in r});return{horizontal:n.map(function(o){return r[o]}),vertical:a.map(function(o){return r[o]})}}function uM(t,e,r){var n=Je(t,[e.clientLeft,e.clientTop],r);return[e.left+n[0],e.top+n[1]]}function lM(t){var e=t[0],r=t[1],n=r[0]-e[0],a=r[1]-e[1];Math.abs(n)<Ne&&(n=0),Math.abs(a)<Ne&&(a=0);var o=0,u=0,l=0;return n?a?(o=-a/n,u=1,l=o*e[0]-e[1]):(u=1,l=-e[1]):(o=-1,l=e[0]),[o,u,l].map(function(c){return fe(c,Ne)})}function wu(t,e,r,n){var a=t.props,o=Q2(n,a.snapThreshold,5);return m0(t.state.guidelines,e,r,o)}function m0(t,e,r,n){return{vertical:Hp(t,"vertical",e,n),horizontal:Hp(t,"horizontal",r,n)}}function cM(t,e,r){var n=r[0],a=r[1],o=e[0],u=e[1],l=Zt(r,e),c=l[0],f=l[1],v=f>0,h=c>0;c=su(c),f=su(f);var p={isSnap:!1,offset:0,pos:0},g={isSnap:!1,offset:0,pos:0};if(c===0&&f===0)return{vertical:p,horizontal:g};var m=wu(t,c?[n]:[],f?[a]:[]),y=m.vertical,S=m.horizontal;y.posInfos.filter(function(U){var H=U.pos;return h?H>=o:H<=o}),S.posInfos.filter(function(U){var H=U.pos;return v?H>=u:H<=u}),y.isSnap=y.posInfos.length>0,S.isSnap=S.posInfos.length>0;var _=Pc(y),E=_.isSnap,x=_.guideline,C=Pc(S),R=C.isSnap,D=C.guideline,k=R?D.pos[1]:0,I=E?x.pos[0]:0;if(c===0)R&&(g.isSnap=!0,g.pos=D.pos[1],g.offset=a-g.pos);else if(f===0)E&&(p.isSnap=!0,p.pos=I,p.offset=n-I);else{var O=f/c,A=r[1]-O*n,V=0,z=0,L=!1;E?(z=I,V=O*z+A,L=!0):R&&(V=k,z=(V-A)/O,L=!0),L&&(p.isSnap=!0,p.pos=z,p.offset=n-z,g.isSnap=!0,g.pos=V,g.offset=a-V)}return{vertical:p,horizontal:g}}function Wp(t,e,r){var n=Df(t.props.snapDirections,e);return wu(t,n.vertical,n.horizontal,r)}function Pc(t){var e=t.isSnap;if(!e)return{isSnap:!1,offset:0,dist:-1,pos:0,guideline:null};var r=t.posInfos[0],n=r.guidelineInfos[0],a=n.offset,o=n.dist,u=n.guideline;return{isSnap:e,offset:a,dist:o,pos:r.pos,guideline:u}}function Hp(t,e,r,n){if(!t||!t.length)return{isSnap:!1,index:-1,posInfos:[]};var a=e==="vertical",o=a?0:1,u=r.map(function(c,f){var v=t.map(function(h){var p=h.pos,g=c-p[o];return{offset:g,dist:Math.abs(g),guideline:h}}).filter(function(h){var p=h.guideline,g=h.dist,m=p.type;return!(m!==e||g>n)}).sort(function(h,p){return h.dist-p.dist});return{pos:c,index:f,guidelineInfos:v}}).filter(function(c){return c.guidelineInfos.length>0}).sort(function(c,f){return c.guidelineInfos[0].dist-f.guidelineInfos[0].dist}),l=u.length>0;return{isSnap:l,index:l?u[0].index:-1,posInfos:u}}function fM(t,e,r){var n=[];if(r[0]&&r[1])n=[r,[-r[0],r[1]],[r[0],-r[1]]].map(function(u){return Be(e,u)});else if(!r[0]&&!r[1])for(var a=[e[0],e[1],e[3],e[2],e[0]],o=0;o<4;++o)n.push(a[o]),n.push([(a[o][0]+a[o+1][0])/2,(a[o][1]+a[o+1][1])/2]);else t.props.keepRatio?n=[[-1,-1],[-1,1],[1,-1],[1,1],r].map(function(u){return Be(e,u)}):(n=I2(e,r),n.length>1&&n.push([(n[0][0]+n[1][0])/2,(n[0][1]+n[1][1])/2]));return wu(t,n.map(function(u){return u[0]}),n.map(function(u){return u[1]}),1)}function b0(t,e){var r=Math.abs(t.offset),n=Math.abs(e.offset);return t.isBound&&e.isBound?n-r:t.isBound?-1:e.isBound?1:t.isSnap&&e.isSnap?n-r:t.isSnap?-1:e.isSnap||r<br?1:n<br?-1:r-n}function uu(t,e){return t.slice().sort(function(r,n){var a=r.sign[e],o=n.sign[e],u=r.offset[e],l=n.offset[e];if(a){if(!o)return-1}else return 1;return b0({isBound:r.isBound,isSnap:r.isSnap,offset:u},{isBound:n.isBound,isSnap:n.isSnap,offset:l})})[0]}function dM(t,e,r){var n=[];if(r)Math.abs(e[0])!==1||Math.abs(e[1])!==1?n.push([e,[-1,-1]],[e,[-1,1]],[e,[1,-1]],[e,[1,1]]):n.push([e,[t[0],-t[1]]],[e,[-t[0],t[1]]]),n.push([e,t]);else if(t[0]&&t[1]||!t[0]&&!t[1]){var a=t[0]?t:[1,1];[1,-1].forEach(function(u){[1,-1].forEach(function(l){var c=[u*a[0],l*a[1]];e[0]===c[0]&&e[1]===c[1]||n.push([e,c])})})}else if(t[0]){var o=Math.abs(e[0])===1?[1]:[1,-1];o.forEach(function(u){n.push([[e[0],-1],[u*t[0],-1]],[[e[0],0],[u*t[0],0]],[[e[0],1],[u*t[0],1]])})}else if(t[1]){var o=Math.abs(e[1])===1?[1]:[1,-1];o.forEach(function(l){n.push([[-1,e[1]],[-1,l*t[1]]],[[0,e[1]],[0,l*t[1]]],[[1,e[1]],[1,l*t[1]]])})}return n}function y0(t,e){var r=dc([e[0][0],e[1][0]]),n=dc([e[0][1],e[1][1]]);return{vertical:r<=t[0],horizontal:n<=t[1]}}function Tf(t,e){var r=e[0],n=e[1],a=n[0]-r[0],o=n[1]-r[1];Math.abs(a)<br&&(a=0),Math.abs(o)<br&&(o=0);var u,l;if(!a)u=r[0],l=t[0];else if(!o)u=r[1],l=t[1];else{var c=o/a;u=c*(t[0]-r[0])+r[1],l=t[1]}return u-l}function S0(t,e,r,n){return n===void 0&&(n=br),t.every(function(a){var o=Tf(a,e),u=o<=0;return u===r||Math.abs(o)<=n})}function Yp(t,e,r,n,a){return a===void 0&&(a=0),n&&e-a<=t||!n&&t<=r+a?{isBound:!0,offset:n?e-t:r-t}:{isBound:!1,offset:0}}function vM(t,e){var r=e.line,n=e.centerSign,a=e.verticalSign,o=e.horizontalSign,u=e.lineConstants,l=t.props.innerBounds;if(!l)return{isAllBound:!1,isBound:!1,isVerticalBound:!1,isHorizontalBound:!1,offset:[0,0]};var c=l.left,f=l.top,v=l.width,h=l.height,p=[[c,f],[c,f+h]],g=[[c,f],[c+v,f]],m=[[c+v,f],[c+v,f+h]],y=[[c,f+h],[c+v,f+h]];if(S0([[c,f],[c+v,f],[c,f+h],[c+v,f+h]],r,n))return{isAllBound:!1,isBound:!1,isVerticalBound:!1,isHorizontalBound:!1,offset:[0,0]};var S=da(r,u,g,a),_=da(r,u,y,a),E=da(r,u,p,o),x=da(r,u,m,o),C=S.isBound&&_.isBound,R=S.isBound||_.isBound,D=E.isBound&&x.isBound,k=E.isBound||x.isBound,I=Di(S.offset,_.offset),O=Di(E.offset,x.offset),A=[0,0],V=!1,z=!1;return Math.abs(O)<Math.abs(I)?(A=[I,0],V=R,z=C):(A=[0,O],V=k,z=D),{isAllBound:z,isVerticalBound:R,isHorizontalBound:k,isBound:V,offset:A}}function da(t,e,r,n,a,o){var u=e[0],l=e[1],c=t[0],f=r[0],v=r[1],h=su(v[1]-f[1]),p=su(v[0]-f[0]),g=l,m=u,y=-u/l;if(p){if(!h){if(o&&!g)return{isBound:!1,offset:0};if(m){var x=(f[1]-c[1])/y+c[0];return Yp(x,f[0],v[0],n,a)}else{var _=f[1]-c[1],E=Math.abs(_)<=(a||0);return{isBound:E,offset:E?_:0}}}}else{if(o&&!m)return{isBound:!1,offset:0};if(g){var S=y*(f[0]-c[0])+c[1];return Yp(S,f[1],v[1],n,a)}else{var _=f[0]-c[0],E=Math.abs(_)<=(a||0);return{isBound:E,offset:E?_:0}}}return{isBound:!1,offset:0}}function _0(t,e,r){return e.map(function(n){var a=vM(t,n),o=a.isBound,u=a.offset,l=a.isVerticalBound,c=a.isHorizontalBound,f=n.multiple,v=En({datas:r,distX:u[0],distY:u[1]}).map(function(h,p){return h*(f[p]?2/f[p]:0)});return{sign:f,isBound:o,isVerticalBound:l,isHorizontalBound:c,isSnap:!1,offset:v}})}function pM(t,e,r){var n,a=Rf(t,e,[0,0],!1).map(function(p){return X(X({},p),{multiple:p.multiple.map(function(g){return Math.abs(g)*2})})}),o=_0(t,a,r),u=uu(o,0),l=uu(o,1),c=0,f=0,v=u.isVerticalBound||l.isVerticalBound,h=u.isHorizontalBound||l.isHorizontalBound;return(v||h)&&(n=R2({datas:r,distX:-u.offset[0],distY:-l.offset[1]}),c=n[0],f=n[1]),{vertical:{isBound:v,offset:c},horizontal:{isBound:h,offset:f}}}function hM(t,e){var r=[],n=t[0],a=t[1];return n&&a?r.push([[0,a*2],t,[-n,a]],[[n*2,0],t,[n,-a]]):n?(r.push([[n*2,0],[n,1],[n,-1]]),e&&r.push([[0,-1],[n,-1],[-n,-1]],[[0,1],[n,1],[-n,1]])):a?(r.push([[0,a*2],[1,a],[-1,a]]),e&&r.push([[-1,0],[-1,a],[-1,-a]],[[1,0],[1,a],[1,-a]])):r.push([[-1,0],[-1,-1],[-1,1]],[[1,0],[1,-1],[1,1]],[[0,-1],[-1,-1],[1,-1]],[[0,1],[-1,1],[1,1]]),r}function Rf(t,e,r,n){var a=t.state,o=a.allMatrix,u=a.is3d,l=Ya(o,100,100,u?4:3),c=Be(l,[0,0]);return hM(r,n).map(function(f){var v=f[0],h=f[1],p=f[2],g=[Be(l,h),Be(l,p)],m=lM(g),y=y0(c,g),S=y.vertical,_=y.horizontal,E=Tf(c,g)<=0;return{multiple:v,centerSign:E,verticalSign:S,horizontalSign:_,lineConstants:m,line:[Be(e,h),Be(e,p)]}})}function Xp(t,e,r,n){var a=n?t.map(function(o){return hu(o,n)}):t;return[[a[0],a[1]],[a[1],a[3]],[a[3],a[2]],[a[2],a[0]]].some(function(o){var u=Tf(r,o)<=0;return!S0(e,o,u)})}function gM(t){var e=t[0],r=t[1],n=r[0]-e[0],a=r[1]-e[1];if(!n)return Math.abs(e[0]);if(!a)return Math.abs(e[1]);var o=a/n;return Math.abs((-o*e[0]+e[1])/Math.sqrt(Math.pow(o,2)+1))}function mM(t){var e=t[0],r=t[1],n=r[0]-e[0],a=r[1]-e[1];if(!n)return[e[0],0];if(!a)return[0,e[1]];var o=a/n,u=-o*e[0]+e[1];return[-u/(o+1/o),u/(o*o+1)]}function bM(t,e,r,n,a){var o=t.props.innerBounds,u=a*Math.PI/180;if(!o)return[];var l=o.left,c=o.top,f=o.width,v=o.height,h=l-n[0],p=l+f-n[0],g=c-n[1],m=c+v-n[1],y=[[h,g],[p,g],[h,m],[p,m]],S=Be(r,[0,0]);if(!Xp(r,y,S,0))return[];var _=[],E=y.map(function(x){return[dn(x),Pe([0,0],x)]});return[[r[0],r[1]],[r[1],r[3]],[r[3],r[2]],[r[2],r[0]]].forEach(function(x){var C=Pe([0,0],mM(x)),R=gM(x);_.push.apply(_,E.filter(function(D){var k=D[0];return k&&R<=k}).map(function(D){var k=D[0],I=D[1],O=Math.acos(k?R/k:0),A=I+O,V=I-O;return[u+A-C,u+V-C]}).reduce(function(D,k){return D.push.apply(D,k),D},[]).filter(function(D){return!Xp(e,y,S,D)}).map(function(D){return fe(D*180/Math.PI,br)}))}),_}function yM(t){var e=t.props.innerBounds;if(!e)return{vertical:[],horizontal:[]};var r=t.getRect(),n=r.pos1,a=r.pos2,o=r.pos3,u=r.pos4,l=[n,a,o,u],c=Be(l,[0,0]),f=e.left,v=e.top,h=e.width,p=e.height,g=[[f,v],[f,v+p]],m=[[f,v],[f+h,v]],y=[[f+h,v],[f+h,v+p]],S=[[f,v+p],[f+h,v+p]],_=Rf(t,l,[0,0],!1),E=[],x=[],C={top:!1,bottom:!1,left:!1,right:!1};return _.forEach(function(R){var D=R.line,k=R.lineConstants,I=y0(c,D),O=I.horizontal,A=I.vertical,V=da(D,k,m,A,1,!0),z=da(D,k,S,A,1,!0),L=da(D,k,g,O,1,!0),U=da(D,k,y,O,1,!0);V.isBound&&!C.top&&(E.push(v),C.top=!0),z.isBound&&!C.bottom&&(E.push(v+p),C.bottom=!0),L.isBound&&!C.left&&(x.push(f),C.left=!0),U.isBound&&!C.right&&(x.push(f+h),C.right=!0)}),{horizontal:E,vertical:x}}function kf(t,e,r){var n=t||{},a=n.position,o=a===void 0?"client":a,u=n.left,l=u===void 0?-1/0:u,c=n.top,f=c===void 0?-1/0:c,v=n.right,h=v===void 0?1/0:v,p=n.bottom,g=p===void 0?1/0:p,m={position:o,left:l,top:f,right:h,bottom:g};return{vertical:Up(m,e,!0),horizontal:Up(m,r,!1)}}function xu(t,e){var r=t.state,n=r.containerClientRect,a=n.clientHeight,o=n.clientWidth,u=n.clientLeft,l=n.clientTop,c=r.snapOffset,f=c.left,v=c.top,h=c.right,p=c.bottom,g=e||t.props.bounds||{},m=g.position||"client",y=m==="css",S=g.left,_=S===void 0?-1/0:S,E=g.top,x=E===void 0?-1/0:E,C=g.right,R=C===void 0?y?-1/0:1/0:C,D=g.bottom,k=D===void 0?y?-1/0:1/0:D;return y&&(R=o+h-f-R,k=a+p-v-k),{left:_+f-u,right:R+f-u,top:x+v-l,bottom:k+v-l}}function SM(t,e,r){var n=xu(t),a=n.left,o=n.top,u=n.right,l=n.bottom,c=r[0],f=r[1],v=Zt(r,e),h=v[0],p=v[1];Math.abs(h)<br&&(h=0),Math.abs(p)<br&&(p=0);var g=p>0,m=h>0,y={isBound:!1,offset:0,pos:0},S={isBound:!1,offset:0,pos:0};if(h===0&&p===0)return{vertical:y,horizontal:S};if(h===0)g?l<f&&(S.pos=l,S.offset=f-l):o>f&&(S.pos=o,S.offset=f-o);else if(p===0)m?u<c&&(y.pos=u,y.offset=c-u):a>c&&(y.pos=a,y.offset=c-a);else{var _=p/h,E=r[1]-_*c,x=0,C=0,R=!1;m&&u<=c?(x=_*u+E,C=u,R=!0):!m&&c<=a&&(x=_*a+E,C=a,R=!0),R&&(x<o||x>l)&&(R=!1),R||(g&&l<=f?(x=l,C=(x-E)/_,R=!0):!g&&f<=o&&(x=o,C=(x-E)/_,R=!0)),R&&(y.isBound=!0,y.pos=C,y.offset=c-C,S.isBound=!0,S.pos=x,S.offset=f-x)}return{vertical:y,horizontal:S}}function Up(t,e,r){var n=t[r?"left":"top"],a=t[r?"right":"bottom"],o=Math.min.apply(Math,e),u=Math.max.apply(Math,e),l=[];return n+1>o&&l.push({isBound:!0,offset:o-n,pos:n}),a-1<u&&l.push({isBound:!0,offset:u-a,pos:a}),l.length||l.push({isBound:!1,offset:0,pos:0}),l.sort(function(c,f){return Math.abs(f.offset)-Math.abs(c.offset)})}function Kp(t,e,r){var n=r?t.map(function(a){return hu(a,r)}):t;return n.some(function(a){return a[0]<e.left&&Math.abs(a[0]-e.left)>.1||a[0]>e.right&&Math.abs(a[0]-e.right)>.1||a[1]<e.top&&Math.abs(a[1]-e.top)>.1||a[1]>e.bottom&&Math.abs(a[1]-e.bottom)>.1})}function _M(t,e,r){var n=dn(t),a=Math.sqrt(n*n-e*e)||0;return[a,-a].sort(function(o,u){return Math.abs(o-t[r?0:1])-Math.abs(u-t[r?0:1])}).map(function(o){return Pe([0,0],r?[o,e]:[e,o])})}function wM(t,e,r,n,a){if(!t.props.bounds)return[];var o=a*Math.PI/180,u=xu(t),l=u.left,c=u.top,f=u.right,v=u.bottom,h=l-n[0],p=f-n[0],g=c-n[1],m=v-n[1],y={left:h,top:g,right:p,bottom:m};if(!Kp(r,y,0))return[];var S=[];return[[h,0],[p,0],[g,1],[m,1]].forEach(function(_){var E=_[0],x=_[1];r.forEach(function(C){var R=Pe([0,0],C);S.push.apply(S,_M(C,E,x).map(function(D){return o+D-R}).filter(function(D){return!Kp(e,y,D)}).map(function(D){return fe(D*180/Math.PI,br)}))})}),S}function xM(t,e){var r,n=t.direction,a=t.classNames,o=t.size,u=t.pos,l=t.zoom,c=t.key,f=n==="horizontal",v=f?"Y":"X";return e.createElement("div",{key:c,className:a.join(" "),style:(r={},r[f?"width":"height"]="".concat(o),r.transform="translate(".concat(u[0],", ").concat(u[1],") translate").concat(v,"(-50%) scale").concat(v,"(").concat(l,")"),r)})}function If(t,e){return xM(X(X({},t),{classNames:Ht([Gt("line","guideline",t.direction)],t.classNames,!0).filter(function(r){return r}),size:t.size||"".concat(t.sizeValue,"px"),pos:t.pos||t.posValue.map(function(r){return"".concat(fe(r,.1),"px")})}),e)}function jp(t,e,r,n,a,o,u,l){var c=t.props.zoom;return r.map(function(f,v){var h=f.type,p=f.pos,g=[0,0];return g[u]=n,g[u?0:1]=-a+p,If({key:"".concat(e,"TargetGuideline").concat(v),classNames:[Gt("target","bold",h)],posValue:g,sizeValue:o,zoom:c,direction:e},l)})}function Zp(t,e,r,n,a,o){var u=t.props,l=u.zoom,c=u.isDisplayInnerSnapDigit,f=e==="horizontal"?ga:ma,v=a[f.start],h=a[f.end];return r.filter(function(p){var g=p.hide,m=p.elementRect;if(g)return!1;if(c&&m){var y=m.rect;if(y[f.start]<=v&&h<=y[f.end])return!1}return!0}).map(function(p,g){var m=p.pos,y=p.size,S=p.element,_=p.className,E=[-n[0]+m[0],-n[1]+m[1]];return If({key:"".concat(e,"-default-guideline-").concat(g),classNames:S?[Gt("bold"),_]:[Gt("normal"),_],direction:e,posValue:E,sizeValue:y,zoom:l},o)})}function ao(t,e,r,n,a,o,u,l){var c,f=t.props,v=f.snapDigit,h=v===void 0?0:v,p=f.isDisplaySnapDigit,g=p===void 0?!0:p,m=f.snapDistFormat,y=m===void 0?function(R,D){return R}:m,S=f.zoom,_=e==="horizontal"?"X":"Y",E=e==="vertical"?"height":"width",x=Math.abs(a),C=g?parseFloat(x.toFixed(h)):0;return l.createElement("div",{key:"".concat(e,"-").concat(r,"-guideline-").concat(n),className:Gt("guideline-group",e),style:(c={left:"".concat(o[0],"px"),top:"".concat(o[1],"px")},c[E]="".concat(x,"px"),c)},If({direction:e,classNames:[Gt(r),u],size:"100%",posValue:[0,0],sizeValue:x,zoom:S},l),l.createElement("div",{className:Gt("size-value","gap"),style:{transform:"translate".concat(_,"(-50%) scale(").concat(S,")")}},C>0?y(C,e):""))}function CM(t,e,r,n){var a=t==="vertical"?0:1,o=t==="vertical"?1:0,u=a?ga:ma,l=r[u.start],c=r[u.end];return d0(e,function(f){return f.pos[a]}).map(function(f){var v=[],h=[],p=[];return f.forEach(function(g){var m,y,S=g.element,_=g.elementRect.rect;if(_[u.end]<l)v.push(g);else if(c<_[u.start])h.push(g);else if(_[u.start]<=l&&c<=_[u.end]&&n){var E=g.pos,x={element:S,rect:X(X({},_),(m={},m[u.end]=_[u.start],m))},C={element:S,rect:X(X({},_),(y={},y[u.start]=_[u.end],y))},R=[0,0],D=[0,0];R[a]=E[a],R[o]=E[o],D[a]=E[a],D[o]=E[o]+g.size,v.push({type:t,pos:R,size:0,elementRect:x}),h.push({type:t,pos:D,size:0,elementRect:C})}}),v.sort(function(g,m){return m.pos[o]-g.pos[o]}),h.sort(function(g,m){return g.pos[o]-m.pos[o]}),{total:f,start:v,end:h,inner:p}})}function EM(t,e,r,n,a){var o=t.props.isDisplayInnerSnapDigit,u=[];return["vertical","horizontal"].forEach(function(l){var c=e.filter(function(S){return S.type===l}),f=l==="vertical"?1:0,v=f?0:1,h=CM(l,c,n,o),p=f?ma:ga,g=f?ga:ma,m=n[p.start],y=n[p.end];h.forEach(function(S){var _=S.total,E=S.start,x=S.end,C=S.inner,R=r[v]+_[0].pos[v]-n[g.start],D=n;E.forEach(function(k){var I=k.elementRect.rect,O=D[p.start]-I[p.end];if(O>0){var A=[0,0];A[f]=r[f]+D[p.start]-m-O,A[v]=R,u.push(ao(t,l,"dashed",u.length,O,A,k.className,a))}D=I}),D=n,x.forEach(function(k){var I=k.elementRect.rect,O=I[p.start]-D[p.end];if(O>0){var A=[0,0];A[f]=r[f]+D[p.end]-m,A[v]=R,u.push(ao(t,l,"dashed",u.length,O,A,k.className,a))}D=I}),C.forEach(function(k){var I=k.elementRect.rect,O=m-I[p.start],A=I[p.end]-y,V=[0,0],z=[0,0];V[f]=r[f]-O,V[v]=R,z[f]=r[f]+y-m,z[v]=R,u.push(ao(t,l,"dashed",u.length,O,V,k.className,a)),u.push(ao(t,l,"dashed",u.length,A,z,k.className,a))})})}),u}function MM(t,e,r,n,a){var o=[];return["horizontal","vertical"].forEach(function(u){var l=e.filter(function(S){return S.type===u}).slice(0,1),c=u==="vertical"?0:1,f=c?0:1,v=c?ma:ga,h=c?ga:ma,p=n[v.start],g=n[v.end],m=n[h.start],y=n[h.end];l.forEach(function(S){var _=S.gap,E=S.gapRects,x=Math.max.apply(Math,Ht([m],E.map(function(D){var k=D.rect;return k[h.start]}),!1)),C=Math.min.apply(Math,Ht([y],E.map(function(D){var k=D.rect;return k[h.end]}),!1)),R=(x+C)/2;x===C||R===(m+y)/2||E.forEach(function(D){var k=D.rect,I=D.className,O=[r[0],r[1]];if(k[v.end]<p)O[c]+=k[v.end]-p;else if(g<k[v.start])O[c]+=k[v.start]-p-_;else return;O[f]+=R-m,o.push(ao(t,c?"vertical":"horizontal","gap",o.length,_,O,I,a))})})}),o}function DM(t,e,r,n){var a=e[0]-t[0],o=e[1]-t[1];if(Math.abs(a)<Ne&&(a=0),Math.abs(o)<Ne&&(o=0),!a)return n?[0,0]:[0,r];if(!o)return n?[r,0]:[0,0];var u=o/a,l=t[1]-u*t[0];if(n){var c=u*(e[0]+r)+l;return[r,c-e[1]]}else{var f=(e[1]+r-l)/u;return[f-e[0],r]}}function zc(t,e,r,n,a){var o=DM(t,e,r,n);if(!o)return{isOutside:!1,offset:[0,0]};var u=fn(t,e),l=fn(o,t),c=fn(o,e),f=l>u||c>u,v=En({datas:a,distX:o[0],distY:o[1]}),h=v[0],p=v[1];return{offset:[h,p],isOutside:f}}function lu(t,e){return t.isBound?t.offset:e.isSnap?Pc(e).offset:0}function TM(t,e,r,n,a){var o=e[0],u=e[1],l=r[0],c=r[1],f=n[0],v=n[1],h=a[0],p=a[1],g=-h,m=-p;if(t&&o&&u){g=0,m=0;var y=[];if(l&&c?y.push([0,p],[h,0]):l?y.push([h,0]):c?y.push([0,p]):f&&v?y.push([0,p],[h,0]):f?y.push([h,0]):v&&y.push([0,p]),y.length){y.sort(function(x,C){return dn(Zt([o,u],x))-dn(Zt([o,u],C))});var S=y[0];if(S[0]&&Math.abs(o)>Ne)g=-S[0],m=u*Math.abs(o+g)/Math.abs(o)-u;else if(S[1]&&Math.abs(u)>Ne){var _=u;m=-S[1],g=o*Math.abs(u+m)/Math.abs(_)-o}if(t&&c&&l)if(Math.abs(g)>Ne&&Math.abs(g)<Math.abs(h)){var E=Math.abs(h)/Math.abs(g);g*=E,m*=E}else if(Math.abs(m)>Ne&&Math.abs(m)<Math.abs(p)){var E=Math.abs(p)/Math.abs(m);g*=E,m*=E}else g=Di(-h,g),m=Di(-p,m)}}else g=o||l?-h:0,m=u||c?-p:0;return[g,m]}function RM(t,e,r,n,a,o){if(!Bi(t,"draggable"))return[{isSnap:!1,isBound:!1,offset:0},{isSnap:!1,isBound:!1,offset:0}];var u=_f(o.absolutePoses,[e,r]),l=Zr(u),c=l.left,f=l.right,v=l.top,h=l.bottom,p={horizontal:u.map(function(U){return U[1]}),vertical:u.map(function(U){return U[0]})},g=Mf(t.props.snapDirections),m=Df(g,{left:c,right:f,top:v,bottom:h,center:(c+f)/2,middle:(v+h)/2}),y=Cu(t,a,m,p),S=y.vertical,_=y.horizontal,E=pM(t,u,o),x=E.vertical,C=E.horizontal,R=S.isSnap,D=_.isSnap,k=S.isBound||x.isBound,I=_.isBound||C.isBound,O=Di(S.offset,x.offset),A=Di(_.offset,C.offset),V=TM(n,[e,r],[k,I],[R,D],[O,A]),z=V[0],L=V[1];return[{isBound:k,isSnap:R,offset:z},{isBound:I,isSnap:D,offset:L}]}function Cu(t,e,r,n){n===void 0&&(n=r);var a=kf(xu(t),n.vertical,n.horizontal),o=a.horizontal,u=a.vertical,l=e?{horizontal:{isSnap:!1,index:-1},vertical:{isSnap:!1,index:-1}}:wu(t,r.vertical,r.horizontal),c=l.horizontal,f=l.vertical,v=lu(o[0],c),h=lu(u[0],f),p=Math.abs(v),g=Math.abs(h);return{horizontal:{isBound:o[0].isBound,isSnap:c.isSnap,snapIndex:c.index,offset:v,dist:p,bounds:o,snap:c},vertical:{isBound:u[0].isBound,isSnap:f.isSnap,snapIndex:f.index,offset:h,dist:g,bounds:u,snap:f}}}function Qp(t,e,r,n,a){var o=kf(e,r,n),u=o.horizontal,l=o.vertical,c=m0(t,r,n,a),f=c.horizontal,v=c.vertical,h=lu(u[0],f),p=lu(l[0],v),g=Math.abs(h),m=Math.abs(p);return{horizontal:{isBound:u[0].isBound,isSnap:f.isSnap,snapIndex:f.index,offset:h,dist:g,bounds:u,snap:f},vertical:{isBound:l[0].isBound,isSnap:v.isSnap,snapIndex:v.index,offset:p,dist:m,bounds:l,snap:v}}}function kM(t,e,r,n){var a=Pe(t,e)/Math.PI*180,o=r.vertical,u=o.isBound,l=o.isSnap,c=o.dist,f=r.horizontal,v=f.isBound,h=f.isSnap,p=f.dist,g=a%180,m=g<3||g>177,y=g>87&&g<93;return p<c&&(u||l&&!y&&(!n||!m))?"vertical":v||h&&!m&&(!n||!y)?"horizontal":""}function IM(t,e,r,n,a,o){return r.map(function(u){var l=u[0],c=u[1],f=Be(e,l),v=Be(e,c),h=n?OM(t,f,v,a):Cu(t,a,{vertical:[v[0]],horizontal:[v[1]]}),p=h.horizontal,g=p.offset,m=p.isBound,y=p.isSnap,S=h.vertical,_=S.offset,E=S.isBound,x=S.isSnap,C=Zt(c,l);if(!_&&!g)return{isBound:E||m,isSnap:x||y,sign:C,offset:[0,0]};var R=kM(f,v,h,n);if(!R)return{sign:C,isBound:!1,isSnap:!1,offset:[0,0]};var D=R==="vertical",k=[0,0];return!n&&Math.abs(c[0])===1&&Math.abs(c[1])===1&&l[0]!==c[0]&&l[1]!==c[1]?k=En({datas:o,distX:-_,distY:-g}):k=zc(f,v,-(D?_:g),D,o).offset,k=k.map(function(I,O){return I*(C[O]?2/C[O]:0)}),{sign:C,isBound:D?E:m,isSnap:D?x:y,offset:k}})}function Jp(t,e){return t.isBound?t.offset:e.isSnap?e.offset:0}function OM(t,e,r,n){var a=SM(t,e,r),o=a.horizontal,u=a.vertical,l=n?{horizontal:{isSnap:!1},vertical:{isSnap:!1}}:cM(t,e,r),c=l.horizontal,f=l.vertical,v=Jp(o,c),h=Jp(u,f),p=Math.abs(v),g=Math.abs(h);return{horizontal:{isBound:o.isBound,isSnap:c.isSnap,offset:v,dist:p},vertical:{isBound:u.isBound,isSnap:f.isSnap,offset:h,dist:g}}}function AM(t,e,r,n,a){var o=[-r[0],-r[1]],u=t.state,l=u.width,c=u.height,f=t.props.bounds,v=1/0,h=1/0;if(f){var p=[[r[0],-r[1]],[-r[0],r[1]]],g=f.left,m=g===void 0?-1/0:g,y=f.top,S=y===void 0?-1/0:y,_=f.right,E=_===void 0?1/0:_,x=f.bottom,C=x===void 0?1/0:x;p.forEach(function(R){var D=R[0]!==o[0],k=R[1]!==o[1],I=Be(e,R),O=Pe(n,I)*360/Math.PI;if(k){var A=I.slice();(Math.abs(O-360)<2||Math.abs(O-180)<2)&&(A[1]=n[1]);var V=zc(n,A,(n[1]<I[1]?C:S)-I[1],!1,a),z=V.offset,L=z[1],U=V.isOutside;isNaN(L)||(h=c+(U?1:-1)*Math.abs(L))}if(D){var A=I.slice();(Math.abs(O-90)<2||Math.abs(O-270)<2)&&(A[0]=n[0]);var H=zc(n,A,(n[0]<I[0]?E:m)-I[0],!0,a),et=H.offset[0],nt=H.isOutside;isNaN(et)||(v=l+(nt?1:-1)*Math.abs(et))}})}return{maxWidth:v,maxHeight:h}}function Lc(t){var e=t.state,r=e.snapOffset,n=e.containerClientRect,a=n.overflow,o=n.scrollHeight,u=n.scrollWidth,l=n.clientHeight,c=n.clientWidth,f=n.clientLeft,v=n.clientTop,h=t.props,p=h.snapGap,g=p===void 0?!0:p,m=h.verticalGuidelines,y=h.horizontalGuidelines,S=h.snapThreshold,_=S===void 0?5:S,E=h.snapGridWidth,x=E===void 0?0:E,C=h.snapGridHeight,R=C===void 0?0:C,D=h.maxSnapElementGuidelineDistance,k=D===void 0?1/0:D,I=Zr(Mr(t.state)),O=I.top,A=I.left,V=I.bottom,z=I.right,L={top:O,left:A,bottom:V,right:z,center:(A+z)/2,middle:(O+V)/2},U=zM(t),H=Ht([],U,!0);return g&&H.push.apply(H,BM(t,L,_)),H.push.apply(H,PM(x,R,a?u:c,a?o:l,f,v)),H.push.apply(H,x0(y||!1,m||!1,a?u:c,a?o:l,f,v,r)),H=H.filter(function(et){var nt=et.element,ot=et.elementRect,Z=et.type;if(!nt||!ot)return!0;var N=ot.rect;return w0(L,N,Z,k)}),H}function BM(t,e,r){var n=t.props,a=n.maxSnapElementGuidelineDistance,o=a===void 0?1/0:a,u=n.maxSnapElementGapDistance,l=u===void 0?1/0:u,c=t.state.elementRects,f=[];return[["vertical",ga,ma],["horizontal",ma,ga]].forEach(function(v){var h=v[0],p=v[1],g=v[2],m=e[p.start],y=e[p.end],S=e[p.center],_=e[g.start],E=e[g.end];function x(D){var k=D.rect;return k[p.end]<m+r?m-k[p.end]:y-r<k[p.start]?k[p.start]-y:-1}var C=c.filter(function(D){var k=D.rect;return k[g.start]>E||k[g.end]<_?!1:x(D)>0}).sort(function(D,k){return x(D)-x(k)}),R=[];C.forEach(function(D){C.forEach(function(k){if(D!==k){var I=D.rect,O=k.rect,A=I[g.start],V=I[g.end],z=O[g.start],L=O[g.end];A>L||z>V||R.push([D,k])}})}),R.forEach(function(D){var k=D[0],I=D[1],O=k.rect,A=I.rect,V=O[p.start],z=O[p.end],L=A[p.start],U=A[p.end],H=0,et=0,nt=!1,ot=!1,Z=!1;if(z<=m&&y<=L){if(ot=!0,H=(L-z-(y-m))/2,et=z+H+(y-m)/2,Math.abs(et-S)>r)return}else if(z<L&&U<m+r){if(nt=!0,H=L-z,et=U+H,Math.abs(et-m)>r)return}else if(z<L&&y-r<V){if(Z=!0,H=L-z,et=V-H,Math.abs(et-y)>r)return}else return;!H||!w0(e,A,h,o)||H>l||f.push({type:h,pos:h==="vertical"?[et,0]:[0,et],element:I.element,size:0,className:I.className,isStart:nt,isCenter:ot,isEnd:Z,gap:H,hide:!0,gapRects:[k,I]})})}),f}function PM(t,e,r,n,a,o){a===void 0&&(a=0),o===void 0&&(o=0);var u=[];if(e)for(var l=0;l<=n;l+=e)u.push({type:"horizontal",pos:[0,fe(l-o,.1)],size:r,hide:!0});if(t)for(var l=0;l<=r;l+=t)u.push({type:"vertical",pos:[fe(l-a,.1),0],size:n,hide:!0});return u}function w0(t,e,r,n){return r==="horizontal"?Math.abs(t.right-e.left)<=n||Math.abs(t.left-e.right)<=n||t.left<=e.right&&e.left<=t.right:r==="vertical"?Math.abs(t.bottom-e.top)<=n||Math.abs(t.top-e.bottom)<=n||t.top<=e.bottom&&e.top<=t.bottom:!0}function zM(t){var e=t.state,r=t.props.elementGuidelines,n=r===void 0?[]:r;if(!n.length)return e.elementRects=[],[];var a=(e.elementRects||[]).filter(function(p){return!p.refresh}),o=n.map(function(p){return vn(p)&&"element"in p?X(X({},p),{element:Ga(p.element,!0)}):{element:Ga(p,!0)}}).filter(function(p){return p.element}),u=so(a.map(function(p){return p.element}),o.map(function(p){return p.element})),l=u.maintained,c=u.added,f=[];l.forEach(function(p){var g=p[0],m=p[1];f[m]=a[g]}),LM(t,c.map(function(p){return o[p]})).map(function(p,g){f[c[g]]=p}),e.elementRects=f;var v=Mf(t.props.elementSnapDirections),h=[];return f.forEach(function(p){var g=p.element,m=p.top,y=m===void 0?v.top:m,S=p.left,_=S===void 0?v.left:S,E=p.right,x=E===void 0?v.right:E,C=p.bottom,R=C===void 0?v.bottom:C,D=p.center,k=D===void 0?v.center:D,I=p.middle,O=I===void 0?v.middle:I,A=p.className,V=p.rect,z=Df({top:y,right:x,left:_,bottom:R,center:k,middle:O},V),L=z.horizontal,U=z.vertical,H=V.top,et=V.left,nt=V.right-et,ot=V.bottom-H,Z=[nt,ot];U.forEach(function(N){h.push({type:"vertical",element:g,pos:[fe(N,.1),H],size:ot,sizes:Z,className:A,elementRect:p})}),L.forEach(function(N){h.push({type:"horizontal",element:g,pos:[et,fe(N,.1)],size:nt,sizes:Z,className:A,elementRect:p})})}),h}function x0(t,e,r,n,a,o,u){a===void 0&&(a=0),o===void 0&&(o=0),u===void 0&&(u={left:0,top:0,right:0,bottom:0});var l=[],c=u.left,f=u.top,v=u.bottom,h=u.right,p=r+h-c,g=n+v-f;return t&&t.forEach(function(m){var y=vn(m)?m:{pos:m};l.push({type:"horizontal",pos:[c,fe(y.pos-o+f,.1)],size:p,className:y.className})}),e&&e.forEach(function(m){var y=vn(m)?m:{pos:m};l.push({type:"vertical",pos:[fe(y.pos-a+c,.1),f],size:g,className:y.className})}),l}function LM(t,e){if(!e.length)return[];var r=t.state,n=r.containerClientRect,a=r.targetClientRect,o=a.top,u=a.left,l=r.rootMatrix,c=r.is3d,f=c?4:3,v=uM(l,n,f),h=v[0],p=v[1],g=Mr(r),m=To(g),y=m.minX,S=m.minY,_=Zt([y,S],xi(l,[u-h,o-p],f)).map(function(C){return Z2(C)}),E=_[0],x=_[1];return e.map(function(C){var R=C.element.getBoundingClientRect(),D=R.left-h,k=R.top-p,I=k+R.height,O=D+R.width,A=xi(l,[D,k],f),V=A[0],z=A[1],L=xi(l,[O,I],f),U=L[0],H=L[1];return X(X({},C),{rect:{left:V+E,right:U+E,top:z+x,bottom:H+x,center:(V+U)/2+E,middle:(z+H)/2+x}})})}function Zl(t){var e=t.state;if(!(e.guidelines&&e.guidelines.length)){var r=t.state.container,n=t.props.snapContainer||r,a=e.containerClientRect,o={left:0,top:0,bottom:0,right:0};if(r!==n){var u=Ga(n,!0);if(u){var l=no(u),c=Vp(e,[l.left-a.left,l.top-a.top]),f=Vp(e,[l.right-a.right,l.bottom-a.bottom]);o.left=fe(c[0],1e-5),o.top=fe(c[1],1e-5),o.right=fe(f[0],1e-5),o.bottom=fe(f[1],1e-5)}}e.snapOffset=o,e.guidelines=Lc(t),e.enableSnap=!0}}function C0(t,e,r,n,a,o){var u=Ya(t,e,r,o?4:3),l=Be(u,n);return _f(u,Zt(a,l))}function FM(t,e,r,n,a,o){var u=o.fixedDirection,l=dM(r,u,n),c=Rf(t,e,r,n),f=Ht(Ht([],IM(t,e,l,n,a,o),!0),_0(t,c,o),!0),v=uu(f,0),h=uu(f,1);return{width:{isBound:v.isBound,offset:v.offset[0]},height:{isBound:h.isBound,offset:h.offset[1]}}}function qM(t,e,r,n,a,o,u,l,c){var f=Be(e,u),v=Cu(t,l,{vertical:[f[0]],horizontal:[f[1]]}),h=v.horizontal.offset,p=v.vertical.offset;if(p||h){var g=En({datas:c,distX:-p,distY:-h}),m=g[0],y=g[1],S=Math.min(a||1/0,r+u[0]*m),_=Math.min(o||1/0,n+u[1]*y);return[S-r,_-n]}return[0,0]}function E0(t,e,r,n,a,o,u,l){for(var c=Mr(t.state),f=t.props.keepRatio,v=0,h=0,p=0;p<2;++p){var g=e(v,h),m=FM(t,g,a,f,u,l),y=m.width,S=m.height,_=y.isBound,E=S.isBound,x=y.offset,C=S.offset;if(p===1&&(_||(x=0),E||(C=0)),p===0&&u&&!_&&!E)return[0,0];if(f){var R=Math.abs(x)*(r?1/r:1),D=Math.abs(C)*(n?1/n:1),k=_&&E?R<D:E||!_&&R<D;k?x=r*C/n:C=n*x/r}v+=x,h+=C}if(a[0]&&a[1]){var I=AM(t,c,a,o,l),O=I.maxWidth,A=I.maxHeight,V=qM(t,e(v,h).map(function(U){return U.map(function(H){return fe(H,C2)})}),r+v,n+h,O,A,a,u,l),x=V[0],C=V[1];v+=x,h+=C}return[v,h]}function $M(t,e,r){if(!Bi(t,"rotatable"))return{isSnap:!1,rotation:r};var n=e.pos1,a=e.pos2,o=e.pos3,u=e.pos4,l=e.origin,c=r*Math.PI/180,f=[n,a,o,u].map(function(g){return Zt(g,l)}),v=f.map(function(g){return hu(g,c)}),h=Ht(Ht([],wM(t,f,v,l,r),!0),bM(t,f,v,l,r),!0);h.sort(function(g,m){return Math.abs(g-r)-Math.abs(m-r)});var p=h.length>0;return{isSnap:p,rotation:p?h[0]:r}}function GM(t,e,r,n,a,o,u){if(!Bi(t,"resizable"))return[0,0];var l=u.fixedDirection,c=u.nextAllMatrix,f=t.state,v=f.allMatrix,h=f.is3d;return E0(t,function(p,g){return C0(c||v,e+p,r+g,l,a,h)},e,r,n,a,o,u)}function NM(t,e,r,n,a){if(!Bi(t,"scalable"))return[0,0];var o=a.startOffsetWidth,u=a.startOffsetHeight,l=a.fixedPosition,c=a.fixedDirection,f=a.is3d,v=E0(t,function(h,p){return C0(B2(a,he(e,[h/o,p/u])),o,u,c,l,f)},o,u,r,l,n,a);return[v[0]/o,v[1]/u]}function VM(t,e){e.absolutePoses=Mr(t.state)}function th(t){var e=[];return t.forEach(function(r){r.guidelineInfos.forEach(function(n){var a=n.guideline;e.indexOf(a)>-1||e.push(a)})}),e}function eh(t,e,r,n,a,o){var u=kf(xu(t,o),e,r),l=u.vertical,c=u.horizontal;l.forEach(function(p){p.isBound&&n.push({type:"bounds",pos:p.pos})}),c.forEach(function(p){p.isBound&&a.push({type:"bounds",pos:p.pos})});var f=yM(t),v=f.vertical,h=f.horizontal;v.forEach(function(p){pa(n,function(g){var m=g.type,y=g.pos;return m==="bounds"&&y===p})>=0||n.push({type:"bounds",pos:p})}),h.forEach(function(p){pa(a,function(g){var m=g.type,y=g.pos;return m==="bounds"&&y===p})>=0||a.push({type:"bounds",pos:p})})}var WM=Cf("",["resizable","scalable"]),HM={name:"snappable",dragRelation:"strong",props:{snappable:[Boolean,Array],snapContainer:Object,snapDirections:[Boolean,Object],elementSnapDirections:[Boolean,Object],snapGap:Boolean,snapGridWidth:Number,snapGridHeight:Number,isDisplaySnapDigit:Boolean,isDisplayInnerSnapDigit:Boolean,snapDigit:Number,snapThreshold:Number,horizontalGuidelines:Array,verticalGuidelines:Array,elementGuidelines:Array,bounds:Object,innerBounds:Object,snapDistFormat:Function,maxSnapElementGuidelineDistance:Number,maxSnapElementGapDistance:Number},events:{onSnap:"snap"},css:[`:host {
    --bounds-color: #d66;
}
.guideline {
    pointer-events: none;
    z-index: 2;
}
.guideline.bounds {
    background: #d66;
    background: var(--bounds-color);
}
.guideline-group {
    position: absolute;
    top: 0;
    left: 0;
}
.guideline-group .size-value {
    position: absolute;
    color: #f55;
    font-size: 12px;
    font-weight: bold;
}
.guideline-group.horizontal .size-value {
    transform-origin: 50% 100%;
    transform: translateX(-50%);
    left: 50%;
    bottom: 5px;
}
.guideline-group.vertical .size-value {
    transform-origin: 0% 50%;
    top: 50%;
    transform: translateY(-50%);
    left: 5px;
}
.guideline.gap {
    background: #f55;
}
.size-value.gap {
    color: #f55;
}
`],render:function(t,e){var r=t.state,n=r.top,a=r.left,o=r.pos1,u=r.pos2,l=r.pos3,c=r.pos4,f=r.snapRenderInfo;if(!f||!Bi(t,""))return[];r.guidelines=Lc(t);var v=Math.min(o[0],u[0],l[0],c[0]),h=Math.min(o[1],u[1],l[1],c[1]),p=f.externalPoses||[],g=Mr(t.state),m=[],y=[],S=[],_=[],E=[],x=Zr(g),C=x.width,R=x.height,D=x.top,k=x.left,I=x.bottom,O=x.right,A={left:k,right:O,top:D,bottom:I,center:(k+O)/2,middle:(D+I)/2},V=p.length>0,z=V?Zr(p):{};if(!f.request){if(f.direction&&E.push(fM(t,g,f.direction)),f.snap){var L=Zr(g);f.center&&(L.middle=(L.top+L.bottom)/2,L.center=(L.left+L.right)/2),E.push(Wp(t,L,1))}V&&(f.center&&(z.middle=(z.top+z.bottom)/2,z.center=(z.left+z.right)/2),E.push(Wp(t,z,1))),E.forEach(function(nt){var ot=nt.vertical.posInfos,Z=nt.horizontal.posInfos;m.push.apply(m,ot.filter(function(N){var K=N.guidelineInfos;return K.some(function(ut){var lt=ut.guideline;return!lt.hide})}).map(function(N){return{type:"snap",pos:N.pos}})),y.push.apply(y,Z.filter(function(N){var K=N.guidelineInfos;return K.some(function(ut){var lt=ut.guideline;return!lt.hide})}).map(function(N){return{type:"snap",pos:N.pos}})),S.push.apply(S,th(ot)),_.push.apply(_,th(Z))})}eh(t,[k,O],[D,I],m,y),V&&eh(t,[z.left,z.right],[z.top,z.bottom],m,y,f.externalBounds);var U=Ht(Ht([],S,!0),_,!0),H=U.filter(function(nt){return nt.element&&!nt.gapRects}),et=U.filter(function(nt){return nt.gapRects}).sort(function(nt,ot){return nt.gap-ot.gap});return Pt(t,"onSnap",{guidelines:U.filter(function(nt){var ot=nt.element;return!ot}),elements:H,gaps:et},!0),Ht(Ht(Ht(Ht(Ht(Ht([],EM(t,H,[v,h],A,e),!0),MM(t,et,[v,h],A,e),!0),Zp(t,"horizontal",_,[a,n],A,e),!0),Zp(t,"vertical",S,[a,n],A,e),!0),jp(t,"horizontal",y,v,n,C,0,e),!0),jp(t,"vertical",m,h,a,R,1,e),!0)},dragStart:function(t,e){t.state.snapRenderInfo={request:e.isRequest,snap:!0,center:!0},Zl(t)},drag:function(t){var e=t.state;e.guidelines=Lc(t)},pinchStart:function(t){this.unset(t)},dragEnd:function(t){this.unset(t)},dragControlCondition:function(t,e){if(WM(t,e)||qc(t,e))return!0;if(!e.isRequest&&e.inputEvent)return Ve(e.inputEvent.target,Gt("snap-control"))},dragControlStart:function(t){t.state.snapRenderInfo=null,Zl(t)},dragControl:function(t){this.drag(t)},dragControlEnd:function(t){this.unset(t)},dragGroupStart:function(t,e){this.dragStart(t,e)},dragGroup:function(t){this.drag(t)},dragGroupEnd:function(t){this.unset(t)},dragGroupControlStart:function(t){t.state.snapRenderInfo=null,Zl(t)},dragGroupControl:function(t){this.drag(t)},dragGroupControlEnd:function(t){this.unset(t)},unset:function(t){var e=t.state;e.enableSnap=!1,e.guidelines=[],e.snapRenderInfo=null,e.elementRects=[]}};function M0(t,e,r,n){var a=t.getState(),o=a.renderPoses,u=a.rotation,l=a.direction,c=$a(t.props,e).zoom,f=l>0?1:-1,v=u/Math.PI*180,h={},p=t.renderState;p.renderDirectionMap||(p.renderDirectionMap={});var g=p.renderDirectionMap;return r.forEach(function(m){var y=m.dir;h[y]=!0}),r.map(function(m){var y=m.data,S=m.classNames,_=m.dir,E=gf[_];if(!E||!h[_])return null;g[_]=!0;var x=(fe(v,15)+f*Yg[_]+720)%180,C={};return Ii(y).forEach(function(R){C["data-".concat(R)]=y[R]}),n.createElement("div",X({className:Gt.apply(void 0,Ht(["control","direction",_,e],S,!1)),"data-rotation":x,"data-direction":_},C,{key:"direction-".concat(_),style:Sf.apply(void 0,Ht([u,c],E.map(function(R){return o[R]}),!1))}))})}function D0(t,e,r,n){var a=$a(t.props,r).renderDirections,o=a===void 0?e:a;if(!o)return[];var u=o===!0?hf:o;return M0(t,r,u.map(function(l){return{data:{},classNames:[],dir:l}}),n)}function YM(t,e){var r=t.renderState;r.renderDirectionMap||(r.renderDirectionMap={});var n=t.getState(),a=n.renderPoses,o=n.rotation,u=n.direction,l=r.renderDirectionMap,c=t.props.zoom,f=u>0?1:-1,v=o/Math.PI*180;return Ii(l).map(function(h){var p=gf[h];if(!p)return null;var g=(fe(v,15)+f*Yg[h]+720)%180;return e.createElement("div",{className:Gt("around-control"),"data-rotation":g,"data-direction":h,key:"direction-around-".concat(h),style:Sf.apply(void 0,Ht([o,c],p.map(function(m){return a[m]}),!1))})})}function yo(t,e,r,n,a,o){for(var u=[],l=6;l<arguments.length;l++)u[l-6]=arguments[l];var c=Pe(r,n),f=e?fe(c/Math.PI*180,15)%180:-1;return t.createElement("div",{key:"line-".concat(o),className:Gt.apply(void 0,Ht(["line","direction",e?"edge":"",e],u,!1)),"data-rotation":f,"data-line-key":o,"data-direction":e,style:ro(r,n,a,c)})}function T0(t,e,r,n,a){var o=r===!0?E2:r;return o.map(function(u,l){var c=gf[u],f=c[0],v=c[1];if(v!=null)return yo(t,u,n[f],n[v],a,"".concat(e,"Edge").concat(l),e)}).filter(Boolean)}function R0(t){return function(e,r){var n=$a(e.props,t).edge;return n&&(n===!0||n.length)?Ht(Ht([],T0(r,t,n,e.getState().renderPoses,e.props.zoom),!0),XM(e,t,r),!0):k0(e,t,r)}}function k0(t,e,r){return D0(t,hf,e,r)}function XM(t,e,r){return D0(t,["nw","ne","sw","se"],e,r)}var gr={name:"draggable",props:{draggable:Boolean,throttleDrag:Number,throttleDragRotate:Number,startDragRotate:Number,edgeDraggable:Boolean},events:{onDragStart:"dragStart",onDrag:"drag",onDragEnd:"dragEnd",onDragGroupStart:"dragGroupStart",onDragGroup:"dragGroup",onDragGroupEnd:"dragGroupEnd"},render:function(t,e){var r=t.props,n=r.throttleDragRotate,a=r.zoom,o=t.getState(),u=o.dragInfo,l=o.beforeOrigin;if(!n||!u)return[];var c=u.dist;if(!c[0]&&!c[1])return[];var f=dn(c),v=Pe(c,[0,0]);return[e.createElement("div",{className:Gt("line","horizontal","dragline","dashed"),key:"dragRotateGuideline",style:{width:"".concat(f,"px"),transform:"translate(".concat(l[0],"px, ").concat(l[1],"px) rotate(").concat(v,"rad) scaleY(").concat(a,")")}})]},dragStart:function(t,e){var r=e.datas,n=e.parentEvent,a=e.parentGesto,o=t.state,u=o.target,l=o.gestos;if(l.draggable)return!1;l.draggable=a||t.targetGesto;var c=Qr(u);r.datas={},r.left=parseFloat(c.left||"")||0,r.top=parseFloat(c.top||"")||0,r.bottom=parseFloat(c.bottom||"")||0,r.right=parseFloat(c.right||"")||0,r.startValue=[0,0],Ha(t,e),Su(e,"translate"),VM(t,r),r.prevDist=[0,0],r.prevBeforeDist=[0,0],r.isDrag=!1,r.deltaOffset=[0,0];var f=re(t,e,X({set:function(h){r.startValue=h}},yu(e))),v=n||Pt(t,"onDragStart",f);return v!==!1?(r.isDrag=!0,t.state.dragInfo={startRect:t.getRect(),dist:[0,0]}):(l.draggable=null,r.isPinch=!1),r.isDrag?f:!1},drag:function(t,e){if(!!e){mu(e,"translate");var r=e.datas,n=e.parentEvent,a=e.parentFlag,o=e.isPinch,u=e.isRequest,l=e.deltaOffset,c=e.distX,f=e.distY,v=r.isDrag,h=r.prevDist,p=r.prevBeforeDist,g=r.startValue;if(!!v){l&&(c+=l[0],f+=l[1]);var m=t.props,y=m.parentMoveable,S=n?0:m.throttleDrag||0,_=n?0:m.throttleDragRotate||0,E=!1,x=0;if(!n&&_>0&&(c||f)){var C=m.startDragRotate||0,R=fe(C+Pe([0,0],[c,f])*180/Math.PI,_)-C,D=f*Math.abs(Math.cos((R-90)/180*Math.PI)),k=c*Math.abs(Math.cos(R/180*Math.PI)),I=dn([k,D]);x=R*Math.PI/180,c=I*Math.cos(x),f=I*Math.sin(x)}if(!o&&!n&&!a&&(!_||c||f)){var O=RM(t,c,f,_,u||l,r),A=O[0],V=O[1],z=A.isSnap,L=A.isBound,U=A.offset,H=V.isSnap,et=V.isBound,nt=V.offset;E=z||H||L||et,c+=U,f+=nt}var ot=he(jg({datas:r,distX:c,distY:f}),g),Z=he(T2({datas:r,distX:c,distY:f}),g);!_&&!E&&(Cs(Z,S),Cs(ot,S)),Cs(Z,br),Cs(ot,br);var N=Zt(ot,g),K=Zt(Z,g),ut=Zt(K,h),lt=Zt(N,p);r.prevDist=K,r.prevBeforeDist=N,r.passDelta=ut,r.passDist=K;var mt=r.left+N[0],yt=r.top+N[1],gt=r.right-N[0],St=r.bottom-N[1],Rt=bu(r,"translate(".concat(Z[0],"px, ").concat(Z[1],"px)"),"translate(".concat(K[0],"px, ").concat(K[1],"px)"));if(mf(e,Rt),t.state.dragInfo.dist=n?[0,0]:K,!(!n&&!y&&ut.every(function(kt){return!kt})&&lt.some(function(kt){return!kt}))){var P=t.state,tt=P.width,ht=P.height,Dt=re(t,e,X({transform:Rt,dist:K,delta:ut,translate:Z,beforeDist:N,beforeDelta:lt,beforeTranslate:ot,left:mt,top:yt,right:gt,bottom:St,width:tt,height:ht,isPinch:o},fa({transform:Rt},e)));return!n&&Pt(t,"onDrag",Dt),Dt}}}},dragAfter:function(t,e){var r=e.datas,n=r.deltaOffset;return n[0]||n[1]?(r.deltaOffset=[0,0],this.drag(t,X(X({},e),{deltaOffset:n}))):!1},dragEnd:function(t,e){var r=e.parentEvent,n=e.datas;if(t.state.dragInfo=null,!!n.isDrag){n.isDrag=!1;var a=Pr(t,e,{});return!r&&Pt(t,"onDragEnd",a),a}},dragGroupStart:function(t,e){var r=e.datas,n=e.clientX,a=e.clientY,o=this.dragStart(t,e);if(!o)return!1;var u=jl(t,this,"dragStart",[n||0,a||0],e,!1,"draggable"),l=X(X({},o),{targets:t.props.targets,events:u}),c=Pt(t,"onDragGroupStart",l);return r.isDrag=c!==!1,r.isDrag?o:!1},dragGroup:function(t,e){var r=e.datas;if(!!r.isDrag){var n=this.drag(t,e),a=e.datas.passDelta,o=jl(t,this,"drag",a,e,!1,"draggable");if(!!n){var u=X({targets:t.props.targets,events:o},n);return Pt(t,"onDragGroup",u),u}}},dragGroupEnd:function(t,e){var r=e.isDrag,n=e.datas;if(!!n.isDrag){this.dragEnd(t,e);var a=jl(t,this,"dragEnd",[0,0],e,!1,"draggable");return Pt(t,"onDragGroupEnd",Pr(t,e,{targets:t.props.targets,events:a})),r}},request:function(t){var e={},r=t.getRect(),n=0,a=0;return{isControl:!1,requestStart:function(){return{datas:e}},request:function(o){return"x"in o?n=o.x-r.left:"deltaX"in o&&(n+=o.deltaX),"y"in o?a=o.y-r.top:"deltaY"in o&&(a+=o.deltaY),{datas:e,distX:n,distY:a}},requestEnd:function(){return{datas:e,isDrag:!0}}}},unset:function(t){t.state.gestos.draggable=null,t.state.dragInfo=null}},rh=Cf("resizable"),Fc={name:"resizable",ableGroup:"size",canPinch:!0,props:{resizable:Boolean,throttleResize:Number,renderDirections:Array,keepRatio:Boolean,resizeFormat:Function,keepRatioFinally:Boolean,edge:Boolean},events:{onResizeStart:"resizeStart",onBeforeResize:"beforeResize",onResize:"resize",onResizeEnd:"resizeEnd",onResizeGroupStart:"resizeGroupStart",onBeforeResizeGroup:"beforeResizeGroup",onResizeGroup:"resizeGroup",onResizeGroupEnd:"resizeGroupEnd"},render:R0("resizable"),dragControlCondition:rh,viewClassName:xf("resizable"),dragControlStart:function(t,e){var r,n=e.inputEvent,a=e.isPinch,o=e.isGroup,u=e.parentDirection,l=e.parentGesto,c=e.datas,f=e.parentFixedDirection,v=e.parentEvent,h=l0(u,a,n,c),p=t.state,g=p.target,m=p.width,y=p.height,S=p.gestos;if(!h||!g||S.resizable)return!1;S.resizable=l||t.controlGesto,!a&&Ha(t,e),c.datas={},c.direction=h,c.startOffsetWidth=m,c.startOffsetHeight=y,c.prevWidth=0,c.prevHeight=0,c.minSize=[0,0],c.startWidth=p.cssWidth,c.startHeight=p.cssHeight,c.maxSize=[1/0,1/0],o||(c.minSize=[p.minOffsetWidth,p.minOffsetHeight],c.maxSize=[p.maxOffsetWidth,p.maxOffsetHeight]);var _=t.props.transformOrigin||"% %";c.transformOrigin=_&&mr(_)?_.split(" "):_,c.startOffsetMatrix=p.offsetMatrix,c.startTransformOrigin=p.transformOrigin,c.isWidth=(r=e==null?void 0:e.parentIsWidth)!==null&&r!==void 0?r:!h[0]&&!h[1]||h[0]||!h[1];function E(I){c.ratio=I&&isFinite(I)?I:0}c.startPositions=Mr(t.state);function x(I){c.fixedDirection=I,c.fixedPosition=Be(c.startPositions,I)}function C(I){c.minSize=[Ie("".concat(I[0]),0)||0,Ie("".concat(I[1]),0)||0]}function R(I){var O=[I[0]||1/0,I[1]||1/0];(!cc(O[0])||isFinite(O[0]))&&(O[0]=Ie("".concat(O[0]),0)||1/0),(!cc(O[1])||isFinite(O[1]))&&(O[1]=Ie("".concat(O[1]),0)||1/0),c.maxSize=O}E(m/y),x(f||[-h[0],-h[1]]),c.setFixedDirection=x,c.setMin=C,c.setMax=R;var D=re(t,e,{direction:h,startRatio:c.ratio,set:function(I){var O=I[0],A=I[1];c.startWidth=O,c.startHeight=A},setMin:C,setMax:R,setRatio:E,setFixedDirection:x,setOrigin:function(I){c.transformOrigin=I},dragStart:gr.dragStart(t,new Mi().dragStart([0,0],e))}),k=v||Pt(t,"onResizeStart",D);return c.startFixedDirection=c.fixedDirection,k!==!1&&(c.isResize=!0,t.state.snapRenderInfo={request:e.isRequest,direction:h}),c.isResize?D:!1},dragControl:function(t,e){var r,n=e.datas,a=e.parentFlag,o=e.isPinch,u=e.parentKeepRatio,l=e.dragClient,c=e.parentDist,f=e.isRequest,v=e.isGroup,h=e.parentEvent,p=e.resolveMatrix,g=n.isResize,m=n.transformOrigin,y=n.startWidth,S=n.startHeight,_=n.prevWidth,E=n.prevHeight,x=n.minSize,C=n.maxSize,R=n.ratio,D=n.startOffsetWidth,k=n.startOffsetHeight,I=n.isWidth;if(!g)return;if(p){var O=t.state.is3d,A=n.startOffsetMatrix,V=n.startTransformOrigin,z=O?4:3,L=gu(Qg(e)),U=Math.sqrt(L.length);z!==U&&(L=Cn(L,U,z));var H=Oo(A,L,V,z),et=Ya(H,D,k,z);n.startPositions=et,n.nextTargetMatrix=L,n.nextAllMatrix=H}var nt=$a(t.props,"resizable"),ot=nt.resizeFormat,Z=nt.throttleResize,N=Z===void 0?a?0:1:Z,K=nt.parentMoveable,ut=nt.keepRatioFinally,lt=n.direction,mt=lt,yt=0,gt=0;!lt[0]&&!lt[1]&&(mt=[1,1]);var St=R&&(u!=null?u:nt.keepRatio)||!1;function Rt(){var st=n.fixedDirection,Mt=g0(mt,St,n,e);yt=Mt.distWidth,gt=Mt.distHeight;var Lt=mt[0]-st[0]||St?Math.max(D+yt,br):D,le=mt[1]-st[1]||St?Math.max(k+gt,br):k;return St&&D&&k&&(I?le=Lt/R:Lt=le*R),[Lt,le]}var P=Rt(),tt=P[0],ht=P[1];h||(n.setFixedDirection(n.fixedDirection),Pt(t,"onBeforeResize",re(t,e,{startFixedDirection:n.startFixedDirection,setFixedDirection:function(st){var Mt;return n.setFixedDirection(st),Mt=Rt(),tt=Mt[0],ht=Mt[1],[tt,ht]},boundingWidth:tt,boundingHeight:ht,setSize:function(st){tt=st[0],ht=st[1]}},!0)));var Dt=l;l||(!a&&o?Dt=r0(t,[0,0]):Dt=n.fixedPosition);var kt=[0,0];o||(kt=GM(t,tt,ht,lt,Dt,f,n)),c&&(!c[0]&&(kt[0]=0),!c[1]&&(kt[1]=0));function wt(){var st;ot&&(st=ot([tt,ht]),tt=st[0],ht=st[1]),tt=fe(tt,N),ht=fe(ht,N)}if(St){mt[0]&&mt[1]&&kt[0]&&kt[1]&&(Math.abs(kt[0])>Math.abs(kt[1])?kt[1]=0:kt[0]=0);var Ot=!kt[0]&&!kt[1];Ot&&wt(),mt[0]&&!mt[1]||kt[0]&&!kt[1]||Ot&&I?(tt+=kt[0],ht=tt/R):(!mt[0]&&mt[1]||!kt[0]&&kt[1]||Ot&&!I)&&(ht+=kt[1],tt=ht*R)}else tt+=kt[0],ht+=kt[1],tt=Math.max(0,tt),ht=Math.max(0,ht);r=mg([tt,ht],x,C,St?R:!1),tt=r[0],ht=r[1],wt(),St&&(v||ut)&&(I?ht=tt/R:tt=ht*R),yt=tt-D,gt=ht-k;var zt=[yt-_,gt-E];n.prevWidth=yt,n.prevHeight=gt;var G=F2(t,tt,ht,Dt,m,n);if(!(!K&&zt.every(function(st){return!st})&&G.every(function(st){return!st}))){var J=gr.drag(t,Io(e,t.state,G,!!o,!1,"draggable")),pt=J.transform,Ct=y+yt,qt=S+gt,ue=re(t,e,X({width:Ct,height:qt,offsetWidth:Math.round(tt),offsetHeight:Math.round(ht),startRatio:R,boundingWidth:tt,boundingHeight:ht,direction:lt,dist:[yt,gt],delta:zt,isPinch:!!o,drag:J},f0({style:{width:"".concat(Ct,"px"),height:"".concat(qt,"px")},transform:pt},J,e)));return!h&&Pt(t,"onResize",ue),ue}},dragControlAfter:function(t,e){var r=e.datas,n=r.isResize,a=r.startOffsetWidth,o=r.startOffsetHeight,u=r.prevWidth,l=r.prevHeight;if(!!n){var c=t.state,f=c.width,v=c.height,h=f-(a+u),p=v-(o+l),g=Math.abs(h)>3,m=Math.abs(p)>3;if(g&&(r.startWidth+=h,r.startOffsetWidth+=h,r.prevWidth+=h),m&&(r.startHeight+=p,r.startOffsetHeight+=p,r.prevHeight+=p),g||m)return this.dragControl(t,e)}},dragControlEnd:function(t,e){var r=e.datas,n=e.parentEvent;if(!!r.isResize){r.isResize=!1;var a=Pr(t,e,{});return!n&&Pt(t,"onResizeEnd",a),a}},dragGroupControlCondition:rh,dragGroupControlStart:function(t,e){var r=e.datas,n=this.dragControlStart(t,X(X({},e),{isGroup:!0}));if(!n)return!1;var a=ha(t,"resizable",e);function o(m,y){var S=r.fixedDirection,_=r.fixedPosition,E=y.datas.startPositions||Mr(m.state),x=Be(E,S),C=sr(Ei(-t.rotation/180*Math.PI,3),[x[0]-_[0],x[1]-_[1],1],3),R=C[0],D=C[1];return y.datas.originalX=R,y.datas.originalY=D,y}var u=r.startOffsetWidth,l=r.startOffsetHeight;function c(){var m=r.minSize;a.forEach(function(y){var S=y.datas,_=S.minSize,E=S.startOffsetWidth,x=S.startOffsetHeight,C=u*(E?_[0]/E:0),R=l*(x?_[1]/x:0);m[0]=Math.max(m[0],C),m[1]=Math.max(m[1],R)})}function f(){var m=r.maxSize;a.forEach(function(y){var S=y.datas,_=S.maxSize,E=S.startOffsetWidth,x=S.startOffsetHeight,C=u*(E?_[0]/E:0),R=l*(x?_[1]/x:0);m[0]=Math.min(m[0],C),m[1]=Math.min(m[1],R)})}var v=Hn(t,this,"dragControlStart",e,function(m,y){return o(m,y)});c(),f();var h=function(m){n.setFixedDirection(m),v.forEach(function(y,S){y.setFixedDirection(m),o(y.moveable,a[S])})};r.setFixedDirection=h;var p=X(X({},n),{targets:t.props.targets,events:v.map(function(m){return X(X({},m),{setMin:function(y){m.setMin(y),c()},setMax:function(y){m.setMax(y),f()}})}),setFixedDirection:h,setMin:function(m){n.setMin(m),c()},setMax:function(m){n.setMax(m),f()}}),g=Pt(t,"onResizeGroupStart",p);return r.isResize=g!==!1,r.isResize?n:!1},dragGroupControl:function(t,e){var r=e.datas;if(!!r.isResize){var n=$a(t.props,"resizable");wf(t,"onBeforeResize",function(g){Pt(t,"onBeforeResizeGroup",re(t,e,X(X({},g),{targets:n.targets}),!0))});var a=this.dragControl(t,X(X({},e),{isGroup:!0}));if(!!a){var o=a.boundingWidth,u=a.boundingHeight,l=a.dist,c=n.keepRatio,f=[o/(o-l[0]),u/(u-l[1])],v=r.fixedPosition,h=Hn(t,this,"dragControl",e,function(g,m){var y=sr(Ei(t.rotation/180*Math.PI,3),[m.datas.originalX*f[0],m.datas.originalY*f[1],1],3),S=y[0],_=y[1];return X(X({},m),{parentDist:null,parentScale:f,dragClient:he(v,[S,_]),parentKeepRatio:c})}),p=X({targets:n.targets,events:h},a);return Pt(t,"onResizeGroup",p),p}}},dragGroupControlEnd:function(t,e){var r=e.isDrag,n=e.datas;if(!!n.isResize){this.dragControlEnd(t,e);var a=Hn(t,this,"dragControlEnd",e),o=Pr(t,e,{targets:t.props.targets,events:a});return Pt(t,"onResizeGroupEnd",o),r}},request:function(t){var e={},r=0,n=0,a=t.getRect();return{isControl:!0,requestStart:function(o){var u;return{datas:e,parentDirection:o.direction||[1,1],parentIsWidth:(u=o==null?void 0:o.horizontal)!==null&&u!==void 0?u:!0}},request:function(o){return"offsetWidth"in o?r=o.offsetWidth-a.offsetWidth:"deltaWidth"in o&&(r+=o.deltaWidth),"offsetHeight"in o?n=o.offsetHeight-a.offsetHeight:"deltaHeight"in o&&(n+=o.deltaHeight),{datas:e,parentDist:[r,n],parentKeepRatio:o.keepRatio}},requestEnd:function(){return{datas:e,isDrag:!0}}}},unset:function(t){t.state.gestos.resizable=null}};function Ql(t,e,r,n,a){var o=t.props.groupable,u=t.state,l=u.is3d?4:3,c=e.origin,f=Je(t.state.rootMatrix,Zt([c[0],c[1]],o?[0,0]:[u.left,u.top]),l),v=he([a.left,a.top],f);e.startAbsoluteOrigin=v,e.prevDeg=Pe(v,[r,n])/Math.PI*180,e.defaultDeg=e.prevDeg,e.prevSnapDeg=0,e.loop=0,e.startDist=fn(v,[r,n])}function Gs(t,e,r){var n=r.defaultDeg,a=r.prevDeg,o=a%360,u=Math.floor(a/360);o<0&&(o+=360),o>t&&o>270&&t<90?++u:o<t&&o<90&&t>270&&--u;var l=e*(u*360+t-n);return r.prevDeg=n+l,l}function Jl(t,e,r,n){return Gs(Pe(n.startAbsoluteOrigin,[t,e])/Math.PI*180,r,n)}function tc(t,e,r,n,a,o){var u=t.props.throttleRotate,l=u===void 0?0:u,c=r.prevSnapDeg,f=0,v=!1;if(o){var h=$M(t,e,n);v=h.isSnap,f=a+h.rotation}v||(f=fe(a+n,l));var p=f-a;return r.prevSnapDeg=p,[p-c,p,f]}function UM(t,e,r){var n=e[0],a=e[1],o=e[2],u=e[3];if(t!=="none"){var l=(t||"top").split("-"),c=l[0],f=l[1],v=[n,a];c==="left"?v=[o,n]:c==="right"?v=[a,u]:c==="bottom"&&(v=[u,o]);var h=[(v[0][0]+v[1][0])/2,(v[0][1]+v[1][1])/2],p=u0(v,r);if(f){var g=f==="top"||f==="left",m=c==="bottom"||c==="left";h=v[g&&!m||!g&&m?0:1]}return[h,p]}}function qc(t,e){if(e.isRequest)return e.requestAble==="rotatable";var r=e.inputEvent.target;if(Ve(r,Gt("rotation-control"))||Ve(r,Gt("around-control"))||Ve(r,Gt("control"))&&Ve(r,Gt("rotatable")))return!0;var n=t.props.rotationTarget;return n?Ef(n,!0).some(function(a){return a?r===a||r.contains(a):!1}):!1}var KM=hf.map(function(t){var e="",r="",n="center",a="center";return t.indexOf("n")>-1&&(e="top: -20px;",a="bottom"),t.indexOf("s")>-1&&(e="top: 0px;",a="top"),t.indexOf("w")>-1&&(r="left: -20px;",n="right"),t.indexOf("e")>-1&&(r="left: 0px;",n="left"),'.around-control[data-direction*="'.concat(t,`"] {
        `).concat(r).concat(e,`
        transform-origin: `).concat(n," ").concat(a,`;
    }`)}).join(`
`),jM=`.rotation {
    position: absolute;
    height: 40px;
    width: 1px;
    transform-origin: 50% 100%;
    height: calc(40px * var(--zoom));
    top: auto;
    left: 0;
    bottom: 100%;
    will-change: transform;
}
.rotation .rotation-line {
    display: block;
    width: 100%;
    height: 100%;
    transform-origin: 50% 50%;
}
.rotation .rotation-control {
    border-color: #4af;
    border-color: var(--moveable-color);
    background:#fff;
    cursor: alias;
}
:global .view-rotation-dragging, .rotatable.direction.control {
    cursor: alias;
}
.around-control {
    position: absolute;
    will-change: transform;
    width: 20px;
    height: 20px;
    left: -10px;
    top: -10px;
    box-sizing: border-box;
    background: transparent;
    z-index: 8;
    cursor: alias;
    transform-origin: center center;
}
.rotatable.direction.control.move {
    cursor: move;
}
`.concat(KM,`
`),ZM={name:"rotatable",canPinch:!0,props:{rotatable:Boolean,rotationPosition:String,throttleRotate:Number,renderDirections:Object,rotationTarget:Object,rotateAroundControls:Boolean,edge:Boolean,resolveAblesWithRotatable:Object},events:{onRotateStart:"rotateStart",onBeforeRotate:"beforeRotate",onRotate:"rotate",onRotateEnd:"rotateEnd",onRotateGroupStart:"rotateGroupStart",onBeforeRotateGroup:"beforeRotateGroup",onRotateGroup:"rotateGroup",onRotateGroupEnd:"rotateGroupEnd"},css:[jM],viewClassName:function(t){return t.isDragging("rotatable")?Gt("view-rotation-dragging"):""},render:function(t,e){var r=$a(t.props,"rotatable"),n=r.rotatable,a=r.rotationPosition,o=r.zoom,u=r.renderDirections,l=r.rotateAroundControls,c=r.resolveAblesWithRotatable,f=t.getState(),v=f.renderPoses,h=f.direction;if(!n)return null;var p=UM(a,v,h),g=[];if(p){var m=p[0],y=p[1];g.push(e.createElement("div",{key:"rotation",className:Gt("rotation"),style:{transform:"translate(-50%) translate(".concat(m[0],"px, ").concat(m[1],"px) rotate(").concat(y,"rad)")}},e.createElement("div",{className:Gt("line rotation-line"),style:{transform:"scaleX(".concat(o,")")}}),e.createElement("div",{className:Gt("control rotation-control"),style:{transform:"translate(0.5px) scale(".concat(o,")")}})))}if(u){var S=Ii(c||{}),_={};S.forEach(function(x){c[x].forEach(function(C){_[C]=x})});var E=[];We(u)&&(E=u.map(function(x){var C=_[x];return{data:C?{resolve:C}:{},classNames:C?["move"]:[],dir:x}})),g.push.apply(g,M0(t,"rotatable",E,e))}return l&&g.push.apply(g,YM(t,e)),g},dragControlCondition:qc,dragControlStart:function(t,e){var r,n,a=e.datas,o=e.clientX,u=e.clientY,l=e.parentRotate,c=e.parentFlag,f=e.isPinch,v=e.isRequest,h=t.state,p=h.target,g=h.left,m=h.top,y=h.direction,S=h.beforeDirection,_=h.targetTransform,E=h.moveableClientRect,x=h.offsetMatrix,C=h.targetMatrix,R=h.allMatrix,D=h.width,k=h.height;if(!v&&!p)return!1;var I=t.getRect();a.rect=I,a.transform=_,a.left=g,a.top=m;var O=function(mt){a.fixedDirection=mt,a.fixedPosition=e0(t,mt),N&&N.setFixedDirection(mt)},A=o,V=u;if(v||f||c){var z=l||0;a.beforeInfo={origin:I.beforeOrigin,prevDeg:z,defaultDeg:z,prevSnapDeg:0,startDist:0},a.afterInfo=X(X({},a.beforeInfo),{origin:I.origin}),a.absoluteInfo=X(X({},a.beforeInfo),{origin:I.origin,startValue:z})}else{var L=(n=e.inputEvent)===null||n===void 0?void 0:n.target;if(L){var U=L.getAttribute("data-direction")||"",H=M2[U];if(H){a.isControl=!0,a.isAroundControl=Ve(L,Gt("around-control")),a.controlDirection=H;var et=L.getAttribute("data-resolve");et&&(a.resolveAble=et);var nt=j2(h.rootMatrix,h.renderPoses,E);r=Be(nt,H),A=r[0],V=r[1]}}a.beforeInfo={origin:I.beforeOrigin},a.afterInfo={origin:I.origin},a.absoluteInfo={origin:I.origin,startValue:I.rotation};var ot=O;O=function(mt){var yt=h.is3d?4:3,gt=Be([[0,0],[D,0],[0,k],[D,k]],mt),St=he(Ig(C,yt),gt),Rt=St[0],P=St[1],tt=sr(x,qa([Rt,P],yt)),ht=sr(R,qa([gt[0],gt[1]],yt));ot(mt),a.beforeInfo.origin=tt,a.afterInfo.origin=ht,a.absoluteInfo.origin=ht,Ql(t,a.beforeInfo,A,V,E),Ql(t,a.afterInfo,A,V,E),Ql(t,a.absoluteInfo,A,V,E)}}a.startClientX=A,a.startClientY=V,a.direction=y,a.beforeDirection=S,a.startValue=0,a.datas={},Su(e,"rotate");var Z=!1,N=!1;if(a.isControl&&a.resolveAble){var K=a.resolveAble;K==="resizable"&&(N=Fc.dragControlStart(t,X(X({},new Mi("resizable").dragStart([0,0],e)),{parentDirection:a.controlDirection,parentFixedDirection:a.fixedDirection})))}N||(Z=gr.dragStart(t,new Mi().dragStart([0,0],e))),O(z2(t));var ut=re(t,e,X(X({set:function(mt){a.startValue=mt*Math.PI/180},setFixedDirection:O},yu(e)),{dragStart:Z,resizeStart:N})),lt=Pt(t,"onRotateStart",ut);return a.isRotate=lt!==!1,h.snapRenderInfo={request:e.isRequest},a.isRotate?ut:!1},dragControl:function(t,e){var r,n,a,o=e.datas,u=e.distX,l=e.distY,c=e.parentRotate,f=e.parentFlag,v=e.isPinch,h=e.groupDelta,p=o.beforeDirection,g=o.beforeInfo,m=o.afterInfo,y=o.absoluteInfo,S=o.isRotate,_=o.startValue,E=o.rect,x=o.startClientX,C=o.startClientY;if(!!S){mu(e,"rotate");var R=D2(e),D=p*R,k=t.props.parentMoveable,I=0,O,A,V=0,z,L,U=0,H,et,nt=180/Math.PI*_,ot=y.startValue,Z=!1,N=x+u,K=C+l;if(!f&&"parentDist"in e){var ut=e.parentDist;O=ut,z=ut,H=ut}else v||f?(O=Gs(c,p,g),z=Gs(c,D,m),H=Gs(c,D,y)):(O=Jl(N,K,p,g),z=Jl(N,K,D,m),H=Jl(N,K,D,y),Z=!0);if(A=nt+O,L=nt+z,et=ot+H,Pt(t,"onBeforeRotate",re(t,e,{beforeRotation:A,rotation:L,absoluteRotation:et,setRotation:function(Dt){z=Dt-nt,O=z,H=z}},!0)),r=tc(t,E,g,O,nt,Z),I=r[0],O=r[1],A=r[2],n=tc(t,E,m,z,nt,Z),V=n[0],z=n[1],L=n[2],a=tc(t,E,y,H,ot,Z),U=a[0],H=a[1],et=a[2],!(!U&&!V&&!I&&!k)){var lt=bu(o,"rotate(".concat(L,"deg)"),"rotate(".concat(z,"deg)")),mt=L2(t,z,o),yt=Zt(he(h||[0,0],mt),o.prevInverseDist||[0,0]);o.prevInverseDist=mt,o.requestValue=null;var gt=Jg(t,lt,yt,v,e),St=gt,Rt=fn([N,K],y.startAbsoluteOrigin)-y.startDist,P=void 0;if(o.resolveAble==="resizable"){var tt=Fc.dragControl(t,X(X({},Io(e,t.state,[e.deltaX,e.deltaY],!!v,!1,"resizable")),{resolveMatrix:!0,parentDistance:Rt}));tt&&(P=tt,St=f0(St,tt,e))}var ht=re(t,e,X(X({delta:V,dist:z,rotate:L,rotation:L,beforeDist:O,beforeDelta:I,beforeRotate:A,beforeRotation:A,absoluteDist:H,absoluteDelta:U,absoluteRotate:et,absoluteRotation:et,isPinch:!!v,resize:P},gt),St));return Pt(t,"onRotate",ht),ht}}},dragControlAfter:function(t,e){e.datas.requestValue},dragControlEnd:function(t,e){var r=e.datas;if(!!r.isRotate){r.isRotate=!1;var n=Pr(t,e,{});return Pt(t,"onRotateEnd",n),n}},dragGroupControlCondition:qc,dragGroupControlStart:function(t,e){var r=e.datas,n=t.state,a=n.left,o=n.top,u=n.beforeOrigin,l=this.dragControlStart(t,e);if(!l)return!1;l.set(r.beforeDirection*t.rotation);var c=Hn(t,this,"dragControlStart",e,function(h,p){var g=h.state,m=g.left,y=g.top,S=g.beforeOrigin,_=he(Zt([m,y],[a,o]),Zt(S,u));return p.datas.startGroupClient=_,p.datas.groupClient=_,X(X({},p),{parentRotate:0})}),f=X(X({},l),{targets:t.props.targets,events:c}),v=Pt(t,"onRotateGroupStart",f);return r.isRotate=v!==!1,r.isRotate?l:!1},dragGroupControl:function(t,e){var r=e.datas;if(!!r.isRotate){wf(t,"onBeforeRotate",function(f){Pt(t,"onBeforeRotateGroup",re(t,e,X(X({},f),{targets:t.props.targets}),!0))});var n=this.dragControl(t,e);if(!!n){var a=r.beforeDirection,o=n.beforeDist,u=o/180*Math.PI,l=Hn(t,this,"dragControl",e,function(f,v){var h=v.datas.startGroupClient,p=v.datas.groupClient,g=p[0],m=p[1],y=hu(h,u*a),S=y[0],_=y[1],E=[S-g,_-m];return v.datas.groupClient=[S,_],X(X({},v),{parentRotate:o,groupDelta:E})});t.rotation=a*n.beforeRotation;var c=X({targets:t.props.targets,events:l,set:function(f){t.rotation=f},setGroupRotation:function(f){t.rotation=f}},n);return Pt(t,"onRotateGroup",c),c}}},dragGroupControlEnd:function(t,e){var r=e.isDrag,n=e.datas;if(!!n.isRotate){this.dragControlEnd(t,e);var a=Hn(t,this,"dragControlEnd",e),o=Pr(t,e,{targets:t.props.targets,events:a});return Pt(t,"onRotateGroupEnd",o),r}},request:function(t){var e={},r=0,n=t.getRotation();return{isControl:!0,requestStart:function(){return{datas:e}},request:function(a){return"deltaRotate"in a?r+=a.deltaRotate:"rotate"in a&&(r=a.rotate-n),{datas:e,parentDist:r}},requestEnd:function(){return{datas:e,isDrag:!0}}}}},nh=Cf("scalable"),QM={name:"scalable",ableGroup:"size",canPinch:!0,props:{scalable:Boolean,throttleScale:Number,renderDirections:String,keepRatio:Boolean,edge:Boolean},events:{onScaleStart:"scaleStart",onBeforeScale:"beforeScale",onScale:"scale",onScaleEnd:"scaleEnd",onScaleGroupStart:"scaleGroupStart",onBeforeScaleGroup:"beforeScaleGroup",onScaleGroup:"scaleGroup",onScaleGroupEnd:"scaleGroupEnd"},render:R0("scalable"),dragControlCondition:nh,viewClassName:xf("scalable"),dragControlStart:function(t,e){var r=e.datas,n=e.isPinch,a=e.inputEvent,o=e.parentDirection,u=l0(o,n,a,r),l=t.state,c=l.width,f=l.height,v=l.targetTransform,h=l.target,p=l.pos1,g=l.pos2,m=l.pos4;if(!u||!h)return!1;n||Ha(t,e),r.datas={},r.transform=v,r.prevDist=[1,1],r.direction=u,r.startOffsetWidth=c,r.startOffsetHeight=f,r.startValue=[1,1];var y=fn(p,g),S=fn(g,m),_=!u[0]&&!u[1]||u[0]||!u[1];r.scaleWidth=y,r.scaleHeight=S,r.scaleXRatio=y/c,r.scaleYRatio=S/f,Su(e,"scale"),r.isWidth=_;function E(D){r.ratio=D&&isFinite(D)?D:0}r.startPositions=Mr(t.state);function x(D){r.fixedDirection=D,r.fixedPosition=Be(r.startPositions,D)}r.setFixedDirection=x,E(fn(p,g)/fn(g,m)),x([-u[0],-u[1]]);var C=re(t,e,X(X({direction:u,set:function(D){r.startValue=D},setRatio:E,setFixedDirection:x},yu(e)),{dragStart:gr.dragStart(t,new Mi().dragStart([0,0],e))})),R=Pt(t,"onScaleStart",C);return r.startFixedDirection=r.fixedDirection,R!==!1&&(r.isScale=!0,t.state.snapRenderInfo={request:e.isRequest,direction:u}),r.isScale?C:!1},dragControl:function(t,e){mu(e,"scale");var r=e.datas,n=e.parentKeepRatio,a=e.parentFlag,o=e.isPinch,u=e.dragClient,l=e.isRequest,c=r.prevDist,f=r.direction,v=r.startOffsetWidth,h=r.startOffsetHeight,p=r.isScale,g=r.startValue,m=r.isWidth,y=r.ratio;if(!p)return!1;var S=t.props,_=S.throttleScale,E=S.parentMoveable,x=f;!f[0]&&!f[1]&&(x=[1,1]);var C=y&&(n!=null?n:S.keepRatio)||!1,R=t.state;function D(){var K=g0(x,C,r,e),ut=K.distWidth,lt=K.distHeight,mt=(v+ut)/v,yt=(h+lt)/h;return mt=x[0]||C?mt*g[0]:g[0],yt=x[1]||C?yt*g[1]:g[1],mt===0&&(mt=(c[0]>0?1:-1)*Ds),yt===0&&(yt=(c[1]>0?1:-1)*Ds),[mt,yt]}var k=D();if(!o&&t.props.groupable){var I=R.snapRenderInfo||{},O=I.direction;We(O)&&(O[0]||O[1])&&(R.snapRenderInfo={direction:f,request:e.isRequest})}Pt(t,"onBeforeScale",re(t,e,{scale:k,setFixedDirection:function(K){return r.setFixedDirection(K),k=D(),k},startFixedDirection:r.startFixedDirection,setScale:function(K){k=K}},!0));var A=[k[0]/g[0],k[1]/g[1]],V=u,z=[0,0];if(u||(!a&&o?V=r0(t,[0,0]):V=r.fixedPosition),o||(z=NM(t,A,f,l,r)),C){x[0]&&x[1]&&z[0]&&z[1]&&(Math.abs(z[0]*v)>Math.abs(z[1]*h)?z[1]=0:z[0]=0);var L=!z[0]&&!z[1];if(L&&(m?A[0]=fe(A[0]*g[0],_)/g[0]:A[1]=fe(A[1]*g[1],_)/g[1]),x[0]&&!x[1]||z[0]&&!z[1]||L&&m){A[0]+=z[0];var U=v*A[0]*g[0]/y;A[1]=U/h/g[1]}else if(!x[0]&&x[1]||!z[0]&&z[1]||L&&!m){A[1]+=z[1];var H=h*A[1]*g[1]*y;A[0]=H/v/g[0]}}else A[0]+=z[0],A[1]+=z[1],z[0]||(A[0]=fe(A[0]*g[0],_)/g[0]),z[1]||(A[1]=fe(A[1]*g[1],_)/g[1]);A[0]===0&&(A[0]=(c[0]>0?1:-1)*Ds),A[1]===0&&(A[1]=(c[1]>0?1:-1)*Ds);var et=[A[0]/c[0],A[1]/c[1]];k=$2(A,g);var nt=P2(t,A,r.fixedDirection,V,r),ot=Zt(nt,r.prevInverseDist||[0,0]);if(r.prevDist=A,r.prevInverseDist=nt,k[0]===c[0]&&k[1]===c[1]&&ot.every(function(K){return!K})&&!E)return!1;var Z=bu(r,"scale(".concat(k.join(", "),")"),"scale(".concat(A.join(", "),")")),N=re(t,e,X({offsetWidth:v,offsetHeight:h,direction:f,scale:k,dist:A,delta:et,isPinch:!!o},Jg(t,Z,ot,o,e)));return Pt(t,"onScale",N),N},dragControlEnd:function(t,e){var r=e.datas;if(!r.isScale)return!1;r.isScale=!1;var n=Pr(t,e,{});return Pt(t,"onScaleEnd",n),n},dragGroupControlCondition:nh,dragGroupControlStart:function(t,e){var r=e.datas,n=this.dragControlStart(t,e);if(!n)return!1;var a=ha(t,"resizable",e);function o(v,h){var p=r.fixedDirection,g=r.fixedPosition,m=h.datas.startPositions||Mr(v.state),y=Be(m,p),S=sr(Ei(-t.rotation/180*Math.PI,3),[y[0]-g[0],y[1]-g[1],1],3),_=S[0],E=S[1];return h.datas.originalX=_,h.datas.originalY=E,h}r.moveableScale=t.scale;var u=Hn(t,this,"dragControlStart",e,function(v,h){return o(v,h)}),l=function(v){n.setFixedDirection(v),u.forEach(function(h,p){h.setFixedDirection(v),o(h.moveable,a[p])})};r.setFixedDirection=l;var c=X(X({},n),{targets:t.props.targets,events:u,setFixedDirection:l}),f=Pt(t,"onScaleGroupStart",c);return r.isScale=f!==!1,r.isScale?c:!1},dragGroupControl:function(t,e){var r=e.datas;if(!!r.isScale){wf(t,"onBeforeScale",function(h){Pt(t,"onBeforeScaleGroup",re(t,e,X(X({},h),{targets:t.props.targets}),!0))});var n=this.dragControl(t,e);if(!!n){var a=r.moveableScale;t.scale=[n.scale[0]*a[0],n.scale[1]*a[1]];var o=t.props.keepRatio,u=n.dist,l=n.scale,c=r.fixedPosition,f=Hn(t,this,"dragControl",e,function(h,p){var g=sr(Ei(t.rotation/180*Math.PI,3),[p.datas.originalX*u[0],p.datas.originalY*u[1],1],3),m=g[0],y=g[1];return X(X({},p),{parentDist:null,parentScale:l,parentKeepRatio:o,dragClient:he(c,[m,y])})}),v=X({targets:t.props.targets,events:f},n);return Pt(t,"onScaleGroup",v),v}}},dragGroupControlEnd:function(t,e){var r=e.isDrag,n=e.datas;if(!!n.isScale){this.dragControlEnd(t,e);var a=Hn(t,this,"dragControlEnd",e),o=Pr(t,e,{targets:t.props.targets,events:a});return Pt(t,"onScaleGroupEnd",o),r}},request:function(){var t={},e=0,r=0;return{isControl:!0,requestStart:function(n){return{datas:t,parentDirection:n.direction||[1,1]}},request:function(n){return e+=n.deltaWidth,r+=n.deltaHeight,{datas:t,parentDist:[e,r],parentKeepRatio:n.keepRatio}},requestEnd:function(){return{datas:t,isDrag:!0}}}}};function la(t,e){return t.map(function(r,n){return Ia(r,e[n],1,2)})}function ah(t,e,r){var n=Pe(t,e),a=Pe(t,r),o=a-n;return o>=0?o:o+2*Math.PI}function JM(t,e){var r=ah(t[0],t[1],t[2]),n=ah(e[0],e[1],e[2]),a=Math.PI;return!(r>=a&&n<=a||r<=a&&n>=a)}var tD={name:"warpable",ableGroup:"size",props:{warpable:Boolean,renderDirections:Array,edge:Boolean},events:{onWarpStart:"warpStart",onWarp:"warp",onWarpEnd:"warpEnd"},viewClassName:xf("warpable"),render:function(t,e){var r=t.props,n=r.resizable,a=r.scalable,o=r.warpable,u=r.zoom;if(n||a||!o)return[];var l=t.state,c=l.pos1,f=l.pos2,v=l.pos3,h=l.pos4,p=la(c,f),g=la(f,c),m=la(c,v),y=la(v,c),S=la(v,h),_=la(h,v),E=la(f,h),x=la(h,f);return Ht([e.createElement("div",{className:Gt("line"),key:"middeLine1",style:ro(p,S,u)}),e.createElement("div",{className:Gt("line"),key:"middeLine2",style:ro(g,_,u)}),e.createElement("div",{className:Gt("line"),key:"middeLine3",style:ro(m,E,u)}),e.createElement("div",{className:Gt("line"),key:"middeLine4",style:ro(y,x,u)})],k0(t,"warpable",e),!0)},dragControlCondition:function(t,e){if(e.isRequest)return!1;var r=e.inputEvent.target;return Ve(r,Gt("direction"))&&Ve(r,Gt("warpable"))},dragControlStart:function(t,e){var r=e.datas,n=e.inputEvent,a=t.props.target,o=n.target,u=c0(o,r);if(!u||!a)return!1;var l=t.state,c=l.transformOrigin,f=l.is3d,v=l.targetTransform,h=l.targetMatrix,p=l.width,g=l.height,m=l.left,y=l.top;r.datas={},r.targetTransform=v,r.warpTargetMatrix=f?h:Cn(h,3,4),r.targetInverseMatrix=kg(pn(r.warpTargetMatrix,4),3,4),r.direction=u,r.left=m,r.top=y,r.poses=[[0,0],[p,0],[0,g],[p,g]].map(function(E){return Zt(E,c)}),r.nextPoses=r.poses.map(function(E){var x=E[0],C=E[1];return sr(r.warpTargetMatrix,[x,C,0,1],4)}),r.startValue=Oe(4),r.prevMatrix=Oe(4),r.absolutePoses=Mr(l),r.posIndexes=Zg(u),Ha(t,e),Su(e,"matrix3d"),l.snapRenderInfo={request:e.isRequest,direction:u};var S=re(t,e,X({set:function(E){r.startValue=E}},yu(e))),_=Pt(t,"onWarpStart",S);return _!==!1&&(r.isWarp=!0),r.isWarp},dragControl:function(t,e){var r=e.datas,n=e.isRequest,a=e.distX,o=e.distY,u=r.targetInverseMatrix,l=r.prevMatrix,c=r.isWarp,f=r.startValue,v=r.poses,h=r.posIndexes,p=r.absolutePoses;if(!c)return!1;if(mu(e,"matrix3d"),Bi(t,"warpable")){var g=h.map(function(O){return p[O]});g.length>1&&g.push([(g[0][0]+g[1][0])/2,(g[0][1]+g[1][1])/2]);var m=Cu(t,n,{horizontal:g.map(function(O){return O[1]+o}),vertical:g.map(function(O){return O[0]+a})}),y=m.horizontal,S=m.vertical;o-=y.offset,a-=S.offset}var _=En({datas:r,distX:a,distY:o},!0),E=r.nextPoses.slice();if(h.forEach(function(O){E[O]=he(E[O],_)}),!x2.every(function(O){return JM(O.map(function(A){return v[A]}),O.map(function(A){return E[A]}))}))return!1;var x=ff(v[0],v[2],v[1],v[3],E[0],E[2],E[1],E[3]);if(!x.length)return!1;var C=Ce(u,x,4),R=Kg(r,C,!0),D=Ce(pn(l,4),R,4);r.prevMatrix=R;var k=Ce(f,R,4),I=bu(r,"matrix3d(".concat(k.join(", "),")"),"matrix3d(".concat(R.join(", "),")"));return mf(e,I),Pt(t,"onWarp",re(t,e,{delta:D,matrix:k,dist:R,multiply:Ce,transform:I})),!0},dragControlEnd:function(t,e){var r=e.datas,n=e.isDrag;return r.isWarp?(r.isWarp=!1,Pt(t,"onWarpEnd",Pr(t,e,{})),n):!1}},eD=Gt("area-pieces"),As=Gt("area-piece"),I0=Gt("avoid"),rD=Gt("view-dragging");function ec(t){var e=t.areaElement;if(!!e){var r=t.state,n=r.width,a=r.height;bg(e,I0),e.style.cssText+="left: 0px; top: 0px; width: ".concat(n,"px; height: ").concat(a,"px")}}function ih(t){return t.createElement("div",{key:"area_pieces",className:eD},t.createElement("div",{className:As}),t.createElement("div",{className:As}),t.createElement("div",{className:As}),t.createElement("div",{className:As}))}var O0={name:"dragArea",props:{dragArea:Boolean,passDragArea:Boolean},events:{onClick:"click",onClickGroup:"clickGroup"},render:function(t,e){var r=t.props,n=r.target,a=r.dragArea,o=r.groupable,u=r.passDragArea,l=t.getState(),c=l.width,f=l.height,v=l.renderPoses,h=u?Gt("area","pass"):Gt("area");if(o)return[e.createElement("div",{key:"area",ref:wn(t,"areaElement"),className:h}),ih(e)];if(!n||!a)return[];var p=ff([0,0],[c,0],[0,f],[c,f],v[0],v[1],v[2],v[3]),g=p.length?_u(p,!0):"none";return[e.createElement("div",{key:"area",ref:wn(t,"areaElement"),className:h,style:{top:"0px",left:"0px",width:"".concat(c,"px"),height:"".concat(f,"px"),transformOrigin:"0 0",transform:g}}),ih(e)]},dragStart:function(t,e){var r=e.datas,n=e.clientX,a=e.clientY,o=e.inputEvent;if(!o)return!1;r.isDragArea=!1;var u=t.areaElement,l=t.state,c=l.moveableClientRect,f=l.renderPoses,v=l.rootMatrix,h=l.is3d,p=c.left,g=c.top,m=Zr(f),y=m.left,S=m.top,_=m.width,E=m.height,x=h?4:3,C=xi(v,[n-p,a-g],x),R=C[0],D=C[1];R-=y,D-=S;var k=[{left:y,top:S,width:_,height:D-10},{left:y,top:S,width:R-10,height:E},{left:y,top:S+D+10,width:_,height:E-D-10},{left:y+R+10,top:S,width:_-R-10,height:E}],I=[].slice.call(u.nextElementSibling.children);k.forEach(function(O,A){I[A].style.cssText="left: ".concat(O.left,"px;top: ").concat(O.top,"px; width: ").concat(O.width,"px; height: ").concat(O.height,"px;")}),nf(u,I0),l.disableNativeEvent=!0},drag:function(t,e){var r=e.datas,n=e.inputEvent;if(this.enableNativeEvent(t),!n)return!1;r.isDragArea||(r.isDragArea=!0,ec(t))},dragEnd:function(t,e){this.enableNativeEvent(t);var r=e.inputEvent,n=e.datas;if(!r)return!1;n.isDragArea||ec(t)},dragGroupStart:function(t,e){return this.dragStart(t,e)},dragGroup:function(t,e){return this.drag(t,e)},dragGroupEnd:function(t,e){return this.dragEnd(t,e)},unset:function(t){ec(t),t.state.disableNativeEvent=!1},enableNativeEvent:function(t){var e=t.state;e.disableNativeEvent&&gg(function(){e.disableNativeEvent=!1})}},nD=ko("origin",{render:function(t,e){var r=t.props.zoom,n=t.getState(),a=n.beforeOrigin,o=n.rotation;return[e.createElement("div",{className:Gt("control","origin"),style:Sf(o,r,a),key:"beforeOrigin"})]}});function aD(t){var e=t.scrollContainer;return[e.scrollLeft,e.scrollTop]}var iD={name:"scrollable",canPinch:!0,props:{scrollable:Boolean,scrollContainer:Object,scrollThreshold:Number,getScrollPosition:Function},events:{onScroll:"scroll",onScrollGroup:"scrollGroup"},dragRelation:"strong",dragStart:function(t,e){var r=t.props,n=r.scrollContainer,a=n===void 0?t.getContainer():n,o=new Fg,u=Ga(a,!0);e.datas.dragScroll=o;var l=e.isControl?"controlGesto":"targetGesto",c=e.targets;o.on("scroll",function(f){var v=f.container,h=f.direction,p=re(t,e,{scrollContainer:v,direction:h}),g=c?"onScrollGroup":"onScroll";c&&(p.targets=c),Pt(t,g,p)}).on("move",function(f){var v=f.offsetX,h=f.offsetY;t[l].scrollBy(v,h,e.inputEvent,!1)}),o.dragStart(e,{container:u})},checkScroll:function(t,e){var r=e.datas.dragScroll;if(!!r){var n=t.props,a=n.scrollContainer,o=a===void 0?t.getContainer():a,u=n.scrollThreshold,l=u===void 0?0:u,c=n.getScrollPosition,f=c===void 0?aD:c;return r.drag(e,{container:o,threshold:l,getScrollPosition:function(v){return f({scrollContainer:v.container,direction:v.direction})}}),!0}},drag:function(t,e){return this.checkScroll(t,e)},dragEnd:function(t,e){e.datas.dragScroll.dragEnd(),e.datas.dragScroll=null},dragControlStart:function(t,e){return this.dragStart(t,X(X({},e),{isControl:!0}))},dragControl:function(t,e){return this.drag(t,e)},dragControlEnd:function(t,e){return this.dragEnd(t,e)},dragGroupStart:function(t,e){return this.dragStart(t,X(X({},e),{targets:t.props.targets}))},dragGroup:function(t,e){return this.drag(t,X(X({},e),{targets:t.props.targets}))},dragGroupEnd:function(t,e){return this.dragEnd(t,X(X({},e),{targets:t.props.targets}))},dragGroupControlStart:function(t,e){return this.dragStart(t,X(X({},e),{targets:t.props.targets,isControl:!0}))},dragGroupContro:function(t,e){return this.drag(t,X(X({},e),{targets:t.props.targets}))},dragGroupControEnd:function(t,e){return this.dragEnd(t,X(X({},e),{targets:t.props.targets}))}},A0={name:"",props:{target:Object,dragTarget:Object,container:Object,portalContainer:Object,rootContainer:Object,useResizeObserver:Boolean,zoom:Number,transformOrigin:Array,edge:Object,ables:Array,className:String,pinchThreshold:Number,pinchOutside:Boolean,triggerAblesSimultaneously:Boolean,checkInput:Boolean,cspNonce:String,translateZ:Number,hideDefaultLines:Boolean,props:Object,flushSync:Function,stopPropagation:Boolean,preventClickEventOnDrag:Boolean,preventClickDefault:Boolean,viewContainer:Object},events:{}},oD=ko("padding",{render:function(t,e){var r=t.props;if(r.dragArea)return[];var n=r.padding||{},a=n.left,o=a===void 0?0:a,u=n.top,l=u===void 0?0:u,c=n.right,f=c===void 0?0:c,v=n.bottom,h=v===void 0?0:v,p=t.getState(),g=p.renderPoses,m=p.pos1,y=p.pos2,S=p.pos3,_=p.pos4,E=[m,y,S,_],x=[];return o>0&&x.push([0,2]),l>0&&x.push([0,1]),f>0&&x.push([1,3]),h>0&&x.push([2,3]),x.map(function(C,R){var D=C[0],k=C[1],I=E[D],O=E[k],A=g[D],V=g[k],z=ff([0,0],[100,0],[0,100],[100,100],I,O,A,V);if(!!z.length)return e.createElement("div",{key:"padding".concat(R),className:Gt("padding"),style:{transform:_u(z,!0)}})})}}),oh=["nw","ne","se","sw"];function Bs(t,e){var r=t[0]+t[1],n=r>e?e/r:1;return t[0]*=n,t[1]=e-t[1]*n,t}var sD=[1,2,5,6],uD=[0,3,4,7],Aa=[1,-1,-1,1],Ba=[1,1,-1,-1];function Of(t,e,r,n,a,o,u,l){a===void 0&&(a=0),o===void 0&&(o=0),u===void 0&&(u=r),l===void 0&&(l=n);var c=[],f=!1,v=t.filter(function(p){return!p.virtual}),h=v.map(function(p){var g=p.horizontal,m=p.vertical,y=p.pos;if(m&&!f&&(f=!0,c.push("/")),f){var S=Math.max(0,m===1?y[1]-o:l-y[1]);return c.push(un(S,n,e)),S}else{var S=Math.max(0,g===1?y[0]-a:u-y[0]);return c.push(un(S,r,e)),S}});return{radiusPoses:v,styles:c,raws:h}}function B0(t){for(var e=[0,0],r=[0,0],n=t.length,a=0;a<n;++a){var o=t[a];!o.sub||(o.horizontal&&(e[1]===0&&(e[0]=a),e[1]=a-e[0]+1,r[0]=a+1),o.vertical&&(r[1]===0&&(r[0]=a),r[1]=a-r[0]+1))}return{horizontalRange:e,verticalRange:r}}function P0(t,e,r,n,a,o,u){var l,c,f,v;o===void 0&&(o=[0,0]),u===void 0&&(u=!1);var h=t.indexOf("/"),p=(h>-1?t.slice(0,h):t).length,g=t.slice(0,p),m=t.slice(p+1),y=g.length,S=m.length,_=S>0,E=g[0],x=E===void 0?"0px":E,C=g[1],R=C===void 0?x:C,D=g[2],k=D===void 0?x:D,I=g[3],O=I===void 0?R:I,A=m[0],V=A===void 0?x:A,z=m[1],L=z===void 0?_?V:R:z,U=m[2],H=U===void 0?_?V:k:U,et=m[3],nt=et===void 0?_?L:O:et,ot=[x,R,k,O].map(function(mt){return Ie(mt,e)}),Z=[V,L,H,nt].map(function(mt){return Ie(mt,r)}),N=ot.slice(),K=Z.slice();l=Bs([N[0],N[1]],e),N[0]=l[0],N[1]=l[1],c=Bs([N[3],N[2]],e),N[3]=c[0],N[2]=c[1],f=Bs([K[0],K[3]],r),K[0]=f[0],K[3]=f[1],v=Bs([K[1],K[2]],r),K[1]=v[0],K[2]=v[1];var ut=u?N:N.slice(0,Math.max(o[0],y)),lt=u?K:K.slice(0,Math.max(o[1],S));return Ht(Ht([],ut.map(function(mt,yt){var gt=oh[yt];return{virtual:yt>=y,horizontal:Aa[yt],vertical:0,pos:[n+mt,a+(Ba[yt]===-1?r:0)],sub:!0,raw:ot[yt],direction:gt}}),!0),lt.map(function(mt,yt){var gt=oh[yt];return{virtual:yt>=S,horizontal:0,vertical:Ba[yt],pos:[n+(Aa[yt]===-1?e:0),a+mt],sub:!0,raw:Z[yt],direction:gt}}),!0)}function lD(t,e,r,n,a){a===void 0&&(a=e.length);var o=B0(t.slice(n)),u=o.horizontalRange,l=o.verticalRange,c=r-n,f=0;if(c===0)f=a;else if(c>0&&c<u[1])f=u[1]-c;else if(c>=l[0])f=l[0]+l[1]-c;else return;t.splice(r,f),e.splice(r,f)}function cD(t,e,r,n,a,o,u,l,c,f,v){f===void 0&&(f=0),v===void 0&&(v=0);var h=B0(t.slice(r)),p=h.horizontalRange,g=h.verticalRange;if(n>-1)for(var m=Aa[n]===1?o-f:l-o,y=p[1];y<=n;++y){var S=Ba[y]===1?v:c,_=0;if(n===y?_=o:y===0?_=f+m:Aa[y]===-1&&(_=l-(e[r][0]-f)),t.splice(r+y,0,{horizontal:Aa[y],vertical:0,pos:[_,S]}),e.splice(r+y,0,[_,S]),y===0)break}else if(a>-1){var E=Ba[a]===1?u-v:c-u;if(p[1]===0&&g[1]===0){var x=[f+E,v];t.push({horizontal:Aa[0],vertical:0,pos:x}),e.push(x)}for(var C=g[0],y=g[1];y<=a;++y){var _=Aa[y]===1?f:l,S=0;if(a===y?S=u:y===0?S=v+E:Ba[y]===1?S=e[r+C][1]:Ba[y]===-1&&(S=c-(e[r+C][1]-v)),t.push({horizontal:0,vertical:Ba[y],pos:[_,S]}),e.push([_,S]),y===0)break}}}function fD(t,e){e===void 0&&(e=t.map(function(a){return a.raw}));var r=t.map(function(a,o){return a.horizontal?e[o]:null}).filter(function(a){return a!=null}),n=t.map(function(a,o){return a.vertical?e[o]:null}).filter(function(a){return a!=null});return{horizontals:r,verticals:n}}var dD=[[0,-1,"n"],[1,0,"e"]],vD=[[-1,-1,"nw"],[0,-1,"n"],[1,-1,"ne"],[1,0,"e"],[1,1,"se"],[0,1,"s"],[-1,1,"sw"],[-1,0,"w"]];function Af(t,e,r){var n=t.props.clipRelative,a=t.state,o=a.width,u=a.height,l=e,c=l.type,f=l.poses,v=c==="rect",h=c==="circle";if(c==="polygon")return r.map(function(D){return"".concat(un(D[0],o,n)," ").concat(un(D[1],u,n))});if(v||c==="inset"){var p=r[1][1],g=r[3][0],m=r[7][0],y=r[5][1];if(v)return[p,g,y,m].map(function(D){return"".concat(D,"px")});var S=[p,o-g,u-y,m].map(function(D,k){return un(D,k%2?o:u,n)});if(r.length>8){var _=Zt(r[4],r[0]),E=_[0],x=_[1];S.push.apply(S,Ht(["round"],Of(f.slice(8).map(function(D,k){return X(X({},D),{pos:r[k]})}),n,E,x,m,p,g,y).styles,!1))}return S}else if(h||c==="ellipse"){var C=r[0],R=un(Math.abs(r[1][1]-C[1]),h?Math.sqrt((o*o+u*u)/2):u,n),S=h?[R]:[un(Math.abs(r[2][0]-C[0]),o,n),R];return S.push("at",un(C[0],o,n),un(C[1],u,n)),S}}function cu(t,e,r,n){var a=[n,(n+e)/2,e],o=[t,(t+r)/2,r];return vD.map(function(u){var l=u[0],c=u[1],f=u[2],v=a[l+1],h=o[c+1];return{vertical:Math.abs(c),horizontal:Math.abs(l),direction:f,pos:[v,h]}})}function z0(t){var e=[1/0,-1/0],r=[1/0,-1/0];return t.forEach(function(n){var a=n.pos;e[0]=Math.min(e[0],a[0]),e[1]=Math.max(e[1],a[0]),r[0]=Math.min(r[0],a[1]),r[1]=Math.max(r[1],a[1])}),[Math.abs(e[1]-e[0]),Math.abs(r[1]-r[0])]}function pD(t,e,r,n,a){var o=t[e],u=o.direction,l=o.sub,c=t.map(function(){return[0,0]}),f=u?u.split(""):[];if(n&&e<8){var v=f.filter(function(L){return L==="w"||L==="e"}),h=f.filter(function(L){return L==="n"||L==="s"}),p=v[0],g=h[0];c[e]=r;var m=z0(t),y=m[0],S=m[1],_=y&&S?y/S:0;if(_&&a){var E=(e+4)%8,x=t[E].pos,C=[0,0];u.indexOf("w")>-1?C[0]=-1:u.indexOf("e")>-1&&(C[0]=1),u.indexOf("n")>-1?C[1]=-1:u.indexOf("s")>-1&&(C[1]=1);var R=h0([y,S],r,_,C,!0),D=y+R[0],k=S+R[1],I=x[1],O=x[1],A=x[0],V=x[0];C[0]===-1?A=V-D:C[0]===1?V=A+D:(A=A-D/2,V=V+D/2),C[1]===-1?I=O-k:(C[1]===1||(I=O-k/2),O=I+k);var z=cu(I,V,O,A);t.forEach(function(L,U){c[U][0]=z[U].pos[0]-L.pos[0],c[U][1]=z[U].pos[1]-L.pos[1]})}else t.forEach(function(L,U){var H=L.direction;!H||(H.indexOf(p)>-1&&(c[U][0]=r[0]),H.indexOf(g)>-1&&(c[U][1]=r[1]))}),p&&(c[1][0]=r[0]/2,c[5][0]=r[0]/2),g&&(c[3][1]=r[1]/2,c[7][1]=r[1]/2)}else u&&!l?f.forEach(function(L){var U=L==="n"||L==="s";t.forEach(function(H,et){var nt=H.direction,ot=H.horizontal,Z=H.vertical;!nt||nt.indexOf(L)===-1||(c[et]=[U||!ot?0:r[0],!U||!Z?0:r[1]])})}):c[e]=r;return c}function sh(t,e,r,n,a){var o,u,l,c,f,v,h,p=a;if(!p){var g=Qr(t),m=g.clipPath;p=m!=="none"?m:g.clip}if(!((!p||p==="none"||p==="auto")&&(p=n,!p))){var y=hg(p),S=y.prefix,_=S===void 0?p:S,E=y.value,x=E===void 0?"":E,C=_==="circle",R=" ";if(_==="polygon"){var D=Pa(x||"0% 0%, 100% 0%, 100% 100%, 0% 100%");R=",";var k=D.map(function(G){var J=G.split(" "),pt=J[0],Ct=J[1];return{vertical:1,horizontal:1,pos:[Ie(pt,e),Ie(Ct,r)]}});return{type:_,clipText:p,poses:k,splitter:R}}else if(C||_==="ellipse"){var I="",O="",A=0,V=0,D=va(x);if(C){var z="";o=D[0],z=o===void 0?"50%":o,u=D[2],I=u===void 0?"50%":u,l=D[3],O=l===void 0?"50%":l,A=Ie(z,Math.sqrt((e*e+r*r)/2)),V=A}else{var L="",U="";c=D[0],L=c===void 0?"50%":c,f=D[1],U=f===void 0?"50%":f,v=D[3],I=v===void 0?"50%":v,h=D[4],O=h===void 0?"50%":h,A=Ie(L,e),V=Ie(U,r)}var H=[Ie(I,e),Ie(O,r)],k=Ht([{vertical:1,horizontal:1,pos:H,direction:"nesw"}],dD.slice(0,C?1:2).map(function(pt){return{vertical:Math.abs(pt[1]),horizontal:pt[0],direction:pt[2],sub:!0,pos:[H[0]+pt[0]*A,H[1]+pt[1]*V]}}),!0);return{type:_,clipText:p,radiusX:A,radiusY:V,left:H[0]-A,top:H[1]-V,poses:k,splitter:R}}else if(_==="inset"){var D=va(x||"0 0 0 0"),et=D.indexOf("round"),nt=(et>-1?D.slice(0,et):D).length,ot=D.slice(nt+1),Z=D.slice(0,nt),N=Z[0],K=Z[1],ut=K===void 0?N:K,lt=Z[2],mt=lt===void 0?N:lt,yt=Z[3],gt=yt===void 0?ut:yt,St=[N,mt].map(function(pt){return Ie(pt,r)}),Rt=St[0],P=St[1],tt=[gt,ut].map(function(pt){return Ie(pt,e)}),ht=tt[0],Dt=tt[1],kt=e-Dt,wt=r-P,Ot=P0(ot,kt-ht,wt-Rt,ht,Rt),k=Ht(Ht([],cu(Rt,kt,wt,ht),!0),Ot,!0);return{type:"inset",clipText:p,poses:k,top:Rt,left:ht,right:kt,bottom:wt,radius:ot,splitter:R}}else if(_==="rect"){var D=Pa(x||"0px, ".concat(e,"px, ").concat(r,"px, 0px"));R=",";var zt=D.map(function(st){var Mt=ki(st).value;return Mt}),Rt=zt[0],Dt=zt[1],P=zt[2],ht=zt[3],k=cu(Rt,Dt,P,ht);return{type:"rect",clipText:p,poses:k,top:Rt,right:Dt,bottom:P,left:ht,values:D,splitter:R}}}}function hD(t,e){var r=Ug(t,e),n=r[0],a=r[1],o=e.datas,u=o.clipPath,l=o.clipIndex,c=u,f=c.type,v=c.poses,h=c.splitter,p=v.map(function(_){return _.pos});if(f==="polygon")p.splice(l,0,[n,a]);else if(f==="inset"){var g=sD.indexOf(l),m=uD.indexOf(l),y=v.length;if(cD(v,p,8,g,m,n,a,p[4][0],p[4][1],p[0][0],p[0][1]),y===v.length)return}else return;var S=Af(t,u,p);Pt(t,"onClip",re(t,e,{clipEventType:"added",clipType:f,poses:p,clipStyles:S,clipStyle:"".concat(f,"(").concat(S.join(h),")"),distX:0,distY:0}))}function gD(t,e){var r=e.datas,n=r.clipPath,a=r.clipIndex,o=n,u=o.type,l=o.poses,c=o.splitter,f=l.map(function(p){return p.pos}),v=f.length;if(u==="polygon")l.splice(a,1),f.splice(a,1);else if(u==="inset"){if(a<8||(lD(l,f,a,8,v),v===l.length))return}else return;var h=Af(t,n,f);Pt(t,"onClip",re(t,e,{clipEventType:"removed",clipType:u,poses:f,clipStyles:h,clipStyle:"".concat(u,"(").concat(h.join(c),")"),distX:0,distY:0}))}var mD={name:"clippable",props:{clippable:Boolean,defaultClipPath:String,customClipPath:String,keepRatio:Boolean,clipRelative:Boolean,clipArea:Boolean,dragWithClip:Boolean,clipTargetBounds:Boolean,clipVerticalGuidelines:Array,clipHorizontalGuidelines:Array,clipSnapThreshold:Boolean},events:{onClipStart:"clipStart",onClip:"clip",onClipEnd:"clipEnd"},css:[`.control.clip-control {
    background: #6d6;
    cursor: pointer;
}
.control.clip-control.clip-radius {
    background: #d66;
}
.line.clip-line {
    background: #6e6;
    cursor: move;
    z-index: 1;
}
.clip-area {
    position: absolute;
    top: 0;
    left: 0;
}
.clip-ellipse {
    position: absolute;
    cursor: move;
    border: 1px solid #6d6;
    border: var(--zoompx) solid #6d6;
    border-radius: 50%;
    transform-origin: 0px 0px;
}`,`:host {
    --bounds-color: #d66;
}`,`.guideline {
    pointer-events: none;
    z-index: 2;
}`,`.line.guideline.bounds {
    background: #d66;
    background: var(--bounds-color);
}`],render:function(t,e){var r=t.props,n=r.customClipPath,a=r.defaultClipPath,o=r.clipArea,u=r.zoom,l=t.getState(),c=l.target,f=l.width,v=l.height,h=l.allMatrix,p=l.is3d,g=l.left,m=l.top,y=l.pos1,S=l.pos2,_=l.pos3,E=l.pos4,x=l.clipPathState,C=l.snapBoundInfos,R=l.rotation;if(!c)return[];var D=sh(c,f,v,a||"inset",x||n);if(!D)return[];var k=p?4:3,I=D.type,O=D.poses,A=O.map(function(wt){var Ot=Je(h,wt.pos,k);return[Ot[0]-g,Ot[1]-m]}),V=[],z=[],L=I==="rect",U=I==="inset",H=I==="polygon";if(L||U||H){var et=U?A.slice(0,8):A;z=et.map(function(wt,Ot){var zt=Ot===0?et[et.length-1]:et[Ot-1],G=Pe(zt,wt),J=o0(zt,wt);return e.createElement("div",{key:"clipLine".concat(Ot),className:Gt("line","clip-line","snap-control"),"data-clip-index":Ot,style:{width:"".concat(J,"px"),transform:"translate(".concat(zt[0],"px, ").concat(zt[1],"px) rotate(").concat(G,"rad) scaleY(").concat(u,")")}})})}if(V=A.map(function(wt,Ot){return e.createElement("div",{key:"clipControl".concat(Ot),className:Gt("control","clip-control","snap-control"),"data-clip-index":Ot,style:{transform:"translate(".concat(wt[0],"px, ").concat(wt[1],"px) rotate(").concat(R,"rad) scale(").concat(u,")")}})}),U&&V.push.apply(V,A.slice(8).map(function(wt,Ot){return e.createElement("div",{key:"clipRadiusControl".concat(Ot),className:Gt("control","clip-control","clip-radius","snap-control"),"data-clip-index":8+Ot,style:{transform:"translate(".concat(wt[0],"px, ").concat(wt[1],"px) rotate(").concat(R,"rad) scale(").concat(u,")")}})})),I==="circle"||I==="ellipse"){var nt=D.left,ot=D.top,Z=D.radiusX,N=D.radiusY,K=Zt(Je(h,[nt,ot],k),Je(h,[0,0],k)),ut=K[0],lt=K[1],mt="none";if(!o){for(var yt=Math.max(10,Z/5,N/5),gt=[],St=0;St<=yt;++St){var Rt=Math.PI*2/yt*St;gt.push([Z+(Z-u)*Math.cos(Rt),N+(N-u)*Math.sin(Rt)])}gt.push([Z,-2]),gt.push([-2,-2]),gt.push([-2,N*2+2]),gt.push([Z*2+2,N*2+2]),gt.push([Z*2+2,-2]),gt.push([Z,-2]),mt="polygon(".concat(gt.map(function(wt){return"".concat(wt[0],"px ").concat(wt[1],"px")}).join(", "),")")}V.push(e.createElement("div",{key:"clipEllipse",className:Gt("clip-ellipse","snap-control"),style:{width:"".concat(Z*2,"px"),height:"".concat(N*2,"px"),clipPath:mt,transform:"translate(".concat(-g+ut,"px, ").concat(-m+lt,"px) ").concat(_u(h))}}))}if(o){var P=Zr(Ht([y,S,_,E],A,!0)),tt=P.width,ht=P.height,Dt=P.left,kt=P.top;if(H||L||U){var gt=U?A.slice(0,8):A;V.push(e.createElement("div",{key:"clipArea",className:Gt("clip-area","snap-control"),style:{width:"".concat(tt,"px"),height:"".concat(ht,"px"),transform:"translate(".concat(Dt,"px, ").concat(kt,"px)"),clipPath:"polygon(".concat(gt.map(function(Ot){return"".concat(Ot[0]-Dt,"px ").concat(Ot[1]-kt,"px")}).join(", "),")")}}))}}return C&&["vertical","horizontal"].forEach(function(wt){var Ot=C[wt],zt=wt==="horizontal";Ot.isSnap&&z.push.apply(z,Ot.snap.posInfos.map(function(G,J){var pt=G.pos,Ct=Zt(Je(h,zt?[0,pt]:[pt,0],k),[g,m]),qt=Zt(Je(h,zt?[f,pt]:[pt,v],k),[g,m]);return yo(e,"",Ct,qt,u,"clip".concat(wt,"snap").concat(J),"guideline")})),Ot.isBound&&z.push.apply(z,Ot.bounds.map(function(G,J){var pt=G.pos,Ct=Zt(Je(h,zt?[0,pt]:[pt,0],k),[g,m]),qt=Zt(Je(h,zt?[f,pt]:[pt,v],k),[g,m]);return yo(e,"",Ct,qt,u,"clip".concat(wt,"bounds").concat(J),"guideline","bounds","bold")}))}),Ht(Ht([],V,!0),z,!0)},dragControlCondition:function(t,e){return e.inputEvent&&(e.inputEvent.target.getAttribute("class")||"").indexOf("clip")>-1},dragStart:function(t,e){var r=t.props,n=r.dragWithClip,a=n===void 0?!0:n;return a?!1:this.dragControlStart(t,e)},drag:function(t,e){return this.dragControl(t,X(X({},e),{isDragTarget:!0}))},dragEnd:function(t,e){return this.dragControlEnd(t,e)},dragControlStart:function(t,e){var r=t.state,n=t.props,a=n.defaultClipPath,o=n.customClipPath,u=r.target,l=r.width,c=r.height,f=e.inputEvent?e.inputEvent.target:null,v=f&&f.getAttribute("class")||"",h=e.datas,p=sh(u,l,c,a||"inset",o);if(!p)return!1;var g=p.clipText,m=p.type,y=p.poses,S=Pt(t,"onClipStart",re(t,e,{clipType:m,clipStyle:g,poses:y.map(function(_){return _.pos})}));return S===!1?(h.isClipStart=!1,!1):(h.isControl=v&&v.indexOf("clip-control")>-1,h.isLine=v.indexOf("clip-line")>-1,h.isArea=v.indexOf("clip-area")>-1||v.indexOf("clip-ellipse")>-1,h.clipIndex=f?parseInt(f.getAttribute("data-clip-index"),10):-1,h.clipPath=p,h.isClipStart=!0,r.clipPathState=g,Ha(t,e),!0)},dragControl:function(t,e){var r,n=e.datas,a=e.originalDatas,o=e.isDragTarget;if(!n.isClipStart)return!1;var u=n,l=u.isControl,c=u.isLine,f=u.isArea,v=u.clipIndex,h=u.clipPath;if(!h)return!1;var p=$a(t.props,"clippable"),g=p.keepRatio,m=0,y=0,S=a.draggable,_=En(e);o&&S?(r=S.prevBeforeDist,m=r[0],y=r[1]):(m=_[0],y=_[1]);var E=[m,y],x=t.state,C=x.width,R=x.height,D=!f&&!l&&!c,k=h.type,I=h.poses,O=h.splitter,A=I.map(function(ee){return ee.pos});D&&(m=-m,y=-y);var V=!l||I[v].direction==="nesw",z=k==="inset"||k==="rect",L=I.map(function(){return[0,0]});if(l&&!V){var U=I[v],H=U.horizontal,et=U.vertical,nt=[m*Math.abs(H),y*Math.abs(et)];L=pD(I,v,nt,z,g)}else V&&(L=A.map(function(){return[m,y]}));var ot=A.map(function(ee,Ee){return he(ee,L[Ee])}),Z=Ht([],ot,!0);x.snapBoundInfos=null;var N=h.type==="circle",K=h.type==="ellipse";if(N||K){var ut=Zr(ot),lt=Math.abs(ut.bottom-ut.top),mt=Math.abs(K?ut.right-ut.left:lt),yt=ot[0][1]+lt,gt=ot[0][0]-mt,St=ot[0][0]+mt;N&&(Z.push([St,ut.bottom]),L.push([1,0])),Z.push([ut.left,yt]),L.push([0,1]),Z.push([gt,ut.bottom]),L.push([1,0])}var Rt=x0((p.clipHorizontalGuidelines||[]).map(function(ee){return Ie("".concat(ee),R)}),(p.clipVerticalGuidelines||[]).map(function(ee){return Ie("".concat(ee),C)}),C,R),P=[],tt=[];if(N||K)P=[Z[4][0],Z[2][0]],tt=[Z[1][1],Z[3][1]];else if(z){var ht=[Z[0],Z[2],Z[4],Z[6]],Dt=[L[0],L[2],L[4],L[6]];P=ht.filter(function(ee,Ee){return Dt[Ee][0]}).map(function(ee){return ee[0]}),tt=ht.filter(function(ee,Ee){return Dt[Ee][1]}).map(function(ee){return ee[1]})}else P=Z.filter(function(ee,Ee){return L[Ee][0]}).map(function(ee){return ee[0]}),tt=Z.filter(function(ee,Ee){return L[Ee][1]}).map(function(ee){return ee[1]});var kt=[0,0],wt=Qp(Rt,p.clipTargetBounds&&{left:0,top:0,right:C,bottom:R},P,tt,5),Ot=wt.horizontal,zt=wt.vertical,G=Ot.offset,J=zt.offset;if(Ot.isBound&&(kt[1]+=G),zt.isBound&&(kt[0]+=J),(K||N)&&L[0][0]===0&&L[0][1]===0){var ut=Zr(ot),pt=ut.bottom-ut.top,Ct=K?ut.right-ut.left:pt,qt=zt.isBound?Math.abs(J):zt.snapIndex===0?-J:J,ue=Ot.isBound?Math.abs(G):Ot.snapIndex===0?-G:G;Ct-=qt,pt-=ue,N&&(pt=b0(zt,Ot)>0?pt:Ct,Ct=pt);var st=Z[0];Z[1][1]=st[1]-pt,Z[2][0]=st[0]+Ct,Z[3][1]=st[1]+pt,Z[4][0]=st[0]-Ct}else if(z&&g&&l){var Mt=z0(I),Lt=Mt[0],le=Mt[1],oe=Lt&&le?Lt/le:0,Yt=I[v],Nt=Yt.direction||"",ve=Z[1][1],yt=Z[5][1],gt=Z[7][0],St=Z[3][0];G<=J?G=J/oe:J=G*oe,Nt.indexOf("w")>-1?gt-=J:Nt.indexOf("e")>-1?St-=J:(gt+=J/2,St-=J/2),Nt.indexOf("n")>-1?ve-=G:Nt.indexOf("s")>-1?yt-=G:(ve+=G/2,yt-=G/2);var ze=cu(ve,St,yt,gt);Z.forEach(function(Mn,gn){var Dn;Dn=ze[gn].pos,Mn[0]=Dn[0],Mn[1]=Dn[1]})}else Z.forEach(function(ee,Ee){var Dr=L[Ee];Dr[0]&&(ee[0]-=J),Dr[1]&&(ee[1]-=G)});var je=Af(t,h,ot),vt="".concat(k,"(").concat(je.join(O),")");if(x.clipPathState=vt,N||K)P=[Z[4][0],Z[2][0]],tt=[Z[1][1],Z[3][1]];else if(z){var ht=[Z[0],Z[2],Z[4],Z[6]];P=ht.map(function(Ee){return Ee[0]}),tt=ht.map(function(Ee){return Ee[1]})}else P=Z.map(function(ee){return ee[0]}),tt=Z.map(function(ee){return ee[1]});if(x.snapBoundInfos=Qp(Rt,p.clipTargetBounds&&{left:0,top:0,right:C,bottom:R},P,tt,1),S){var Kt=x.is3d,ae=x.allMatrix,Qt=Kt?4:3,be=kt;o&&(be=[E[0]+kt[0]-_[0],E[1]+kt[1]-_[1]]),S.deltaOffset=Ce(ae,[be[0],be[1],0,0],Qt)}return Pt(t,"onClip",re(t,e,{clipEventType:"changed",clipType:k,poses:ot,clipStyle:vt,clipStyles:je,distX:m,distY:y})),!0},dragControlEnd:function(t,e){this.unset(t);var r=e.isDrag,n=e.datas,a=e.isDouble,o=n.isLine,u=n.isClipStart,l=n.isControl;return u?(Pt(t,"onClipEnd",Pr(t,e,{})),a&&(l?gD(t,e):o&&hD(t,e)),a||r):!1},unset:function(t){t.state.clipPathState="",t.state.snapBoundInfos=null}},bD={name:"originDraggable",props:{originDraggable:Boolean,originRelative:Boolean},events:{onDragOriginStart:"dragOriginStart",onDragOrigin:"dragOrigin",onDragOriginEnd:"dragOriginEnd"},css:[`:host[data-able-origindraggable] .control.origin {
    pointer-events: auto;
}`],dragControlCondition:function(t,e){return e.isRequest?e.requestAble==="originDraggable":Ve(e.inputEvent.target,Gt("origin"))},dragControlStart:function(t,e){var r=e.datas;Ha(t,e);var n=re(t,e,{dragStart:gr.dragStart(t,new Mi().dragStart([0,0],e))}),a=Pt(t,"onDragOriginStart",n);return r.startOrigin=t.state.transformOrigin,r.startTargetOrigin=t.state.targetOrigin,r.prevOrigin=[0,0],r.isDragOrigin=!0,a===!1?(r.isDragOrigin=!1,!1):n},dragControl:function(t,e){var r=e.datas,n=e.isPinch,a=e.isRequest;if(!r.isDragOrigin)return!1;var o=En(e),u=o[0],l=o[1],c=t.state,f=c.width,v=c.height,h=c.offsetMatrix,p=c.targetMatrix,g=c.is3d,m=t.props.originRelative,y=m===void 0?!0:m,S=g?4:3,_=[u,l];if(a){var E=e.distOrigin;(E[0]||E[1])&&(_=E)}var x=he(r.startOrigin,_),C=he(r.startTargetOrigin,_),R=Zt(_,r.prevOrigin),D=Oo(h,p,x,S),k=t.getRect(),I=Zr(Ya(D,f,v,S)),O=[k.left-I.left,k.top-I.top];r.prevOrigin=_;var A=[un(C[0],f,y),un(C[1],v,y)].join(" "),V=re(t,e,{width:f,height:v,origin:x,dist:_,delta:R,transformOrigin:A,drag:gr.drag(t,Io(e,t.state,O,!!n,!1))});return Pt(t,"onDragOrigin",V),V},dragControlEnd:function(t,e){var r=e.datas;return r.isDragOrigin?(Pt(t,"onDragOriginEnd",Pr(t,e,{})),!0):!1},dragGroupControlCondition:function(t,e){return this.dragControlCondition(t,e)},dragGroupControlStart:function(t,e){var r=this.dragControlStart(t,e);return!!r},dragGroupControl:function(t,e){var r=this.dragControl(t,e);return r?(t.transformOrigin=r.transformOrigin,!0):!1},request:function(t){var e={},r=t.getRect(),n=0,a=0,o=r.transformOrigin,u=[0,0];return{isControl:!0,requestStart:function(){return{datas:e}},request:function(l){return"deltaOrigin"in l?(u[0]+=l.deltaOrigin[0],u[1]+=l.deltaOrigin[1]):"origin"in l?(u[0]=l.origin[0]-o[0],u[1]=l.origin[1]-o[1]):("x"in l?n=l.x-r.left:"deltaX"in l&&(n+=l.deltaX),"y"in l?a=l.y-r.top:"deltaY"in l&&(a+=l.deltaY)),{datas:e,distX:n,distY:a,distOrigin:u}},requestEnd:function(){return{datas:e,isDrag:!0}}}}};function yD(t,e,r,n){var a=t.filter(function(c){var f=c.virtual,v=c.horizontal;return v&&!f}).length,o=t.filter(function(c){var f=c.virtual,v=c.vertical;return v&&!f}).length,u=-1;if(e===0&&(a===0?u=0:a===1&&(u=1)),e===2&&(a<=2?u=2:a<=3&&(u=3)),e===3&&(o===0?u=4:o<4&&(u=7)),e===1&&(o<=1?u=5:o<=2&&(u=6)),!(u===-1||!t[u].virtual)){var l=t[u];SD(t,u),u<4?l.pos[0]=r:l.pos[1]=n}}function SD(t,e){e<4?t.slice(0,e+1).forEach(function(r){r.virtual=!1}):(t[0].virtual&&(t[0].virtual=!1),t.slice(4,e+1).forEach(function(r){r.virtual=!1}))}function _D(t,e){e<4?t.slice(e,4).forEach(function(r){r.virtual=!0}):t.slice(e).forEach(function(r){r.virtual=!0})}function uh(t,e,r,n,a,o){n===void 0&&(n=[0,0]);var u,l=[];if(a)u=a;else{var c=Qr(t);u=c&&c.borderRadius||""}return!u||!a&&u==="0px"?l=[]:l=va(u),P0(l,e,r,0,0,n,o)}function lh(t,e,r,n,a){var o=t.state,u=o.width,l=o.height,c=Of(a,t.props.roundRelative,u,l),f=c.raws,v=c.styles,h=c.radiusPoses,p=fD(h,f),g=p.horizontals,m=p.verticals,y=v.join(" ");o.borderRadiusState=y,Pt(t,"onRound",re(t,e,X({horizontals:g,verticals:m,borderRadius:y,width:u,height:l,delta:n,dist:r},fa({borderRadius:y},e))))}var wD={name:"roundable",props:{roundable:Boolean,roundRelative:Boolean,minRoundControls:Array,maxRoundControls:Array,roundClickable:Boolean,roundPadding:Number,isDisplayShadowRoundControls:Boolean},events:{onRoundStart:"roundStart",onRound:"round",onRoundEnd:"roundEnd"},css:[`.control.border-radius {
    background: #d66;
    cursor: pointer;
    z-index: 3;
}`,`.control.border-radius.vertical {
    background: #d6d;
    z-index: 2;
}`,`.control.border-radius.virtual {
    opacity: 0.5;
    z-index: 1;
}`,`:host.round-line-clickable .line.direction {
    cursor: pointer;
}`],className:function(t){var e=t.props.roundClickable;return e===!0||e==="line"?Gt("round-line-clickable"):""},render:function(t,e){var r=t.getState(),n=r.target,a=r.width,o=r.height,u=r.allMatrix,l=r.is3d,c=r.left,f=r.top,v=r.borderRadiusState,h=t.props,p=h.minRoundControls,g=p===void 0?[0,0]:p,m=h.maxRoundControls,y=m===void 0?[4,4]:m,S=h.zoom,_=h.roundPadding,E=_===void 0?0:_,x=h.isDisplayShadowRoundControls;if(!n)return null;var C=l?4:3,R=uh(n,a,o,g,v,!0);if(!R)return null;var D=0,k=0;return R.map(function(I,O){var A=I.horizontal,V=I.vertical,z=I.direction||"",L=Ht([],I.pos,!0);k+=Math.abs(A),D+=Math.abs(V),A&&z.indexOf("n")>-1&&(L[1]-=E),V&&z.indexOf("w")>-1&&(L[0]-=E),A&&z.indexOf("s")>-1&&(L[1]+=E),V&&z.indexOf("e")>-1&&(L[0]+=E);var U=Zt(Je(u,L,C),[c,f]),H=I.vertical?D<=y[1]&&(x||!I.virtual):k<=y[0]&&(x||!I.virtual);return e.createElement("div",{key:"borderRadiusControl".concat(O),className:Gt("control","border-radius",I.vertical?"vertical":"",I.virtual?"virtual":""),"data-radius-index":O,style:{display:H?"block":"none",transform:"translate(".concat(U[0],"px, ").concat(U[1],"px) scale(").concat(S,")")}})})},dragControlCondition:function(t,e){if(!e.inputEvent||e.isRequest)return!1;var r=e.inputEvent.target.getAttribute("class")||"";return r.indexOf("border-radius")>-1||r.indexOf("moveable-line")>-1&&r.indexOf("moveable-direction")>-1},dragControlStart:function(t,e){var r=e.inputEvent,n=e.datas,a=r.target,o=a.getAttribute("class")||"",u=o.indexOf("border-radius")>-1,l=o.indexOf("moveable-line")>-1&&o.indexOf("moveable-direction")>-1,c=u?parseInt(a.getAttribute("data-radius-index"),10):-1,f=-1;if(l){var v=a.getAttribute("data-line-key")||"";v&&(f=parseInt(v.replace(/render-line-/g,""),10),isNaN(f)&&(f=-1))}if(!u&&!l)return!1;var h=Pt(t,"onRoundStart",re(t,e,{}));if(h===!1)return!1;n.lineIndex=f,n.controlIndex=c,n.isControl=u,n.isLine=l,Ha(t,e);var p=t.props,g=p.roundRelative,m=p.minRoundControls,y=m===void 0?[0,0]:m,S=t.state,_=S.target,E=S.width,x=S.height;n.isRound=!0,n.prevDist=[0,0];var C=uh(_,E,x,y,"",!0)||[];return n.controlPoses=C,S.borderRadiusState=Of(C,g,E,x).styles.join(" "),!0},dragControl:function(t,e){var r=e.datas,n=r.controlPoses;if(!r.isRound||!r.isControl||!n.length)return!1;var a=r.controlIndex,o=En(e),u=o[0],l=o[1],c=[u,l],f=Zt(c,r.prevDist),v=t.props.maxRoundControls,h=v===void 0?[4,4]:v,p=t.state,g=p.width,m=p.height,y=n[a],S=y.vertical,_=y.horizontal,E=n.map(function(C){var R=C.horizontal,D=C.vertical,k=[R*_*c[0],D*S*c[1]];if(R){if(h[0]===1)return k;if(h[0]<4&&R!==_)return k}else{if(h[1]===0)return k[1]=D*_*c[0]/g*m,k;if(S){if(h[1]===1)return k;if(h[1]<4&&D!==S)return k}}return[0,0]});E[a]=c;var x=n.map(function(C,R){return X(X({},C),{pos:he(C.pos,E[R])})});return a<4?x.slice(0,a+1).forEach(function(C){C.virtual=!1}):x.slice(4,a+1).forEach(function(C){C.virtual=!1}),r.prevDist=[u,l],lh(t,e,c,f,x),!0},dragControlEnd:function(t,e){var r=t.state;r.borderRadiusState="";var n=e.datas,a=e.isDouble;if(!n.isRound)return!1;var o=n.isControl,u=n.controlIndex,l=n.isLine,c=n.lineIndex,f=n.controlPoses,v=f.filter(function(S){var _=S.virtual;return _}).length,h=t.props.roundClickable,p=h===void 0?!0:h;if(a&&p){if(o&&(p===!0||p==="control"))_D(f,u);else if(l&&(p===!0||p==="line")){var g=Ug(t,e),m=g[0],y=g[1];yD(f,c,m,y)}v!==f.filter(function(S){var _=S.virtual;return _}).length&&lh(t,e,[0,0],[0,0],f)}return Pt(t,"onRoundEnd",Pr(t,e,{})),r.borderRadiusState="",!0},unset:function(t){t.state.borderRadiusState=""}};function xD(t,e){var r=e?4:3,n=Oe(r),a="matrix".concat(e?"3d":"","(").concat(n.join(","),")");return t===a||t==="matrix(1,0,0,1,0,0)"}var L0={isPinch:!0,name:"beforeRenderable",props:{},events:{onBeforeRenderStart:"beforeRenderStart",onBeforeRender:"beforeRender",onBeforeRenderEnd:"beforeRenderEnd",onBeforeRenderGroupStart:"beforeRenderGroupStart",onBeforeRenderGroup:"beforeRenderGroup",onBeforeRenderGroupEnd:"beforeRenderGroupEnd"},dragRelation:"weak",setTransform:function(t,e){var r=t.state,n=r.is3d,a=r.target,o=r.targetMatrix,u=a==null?void 0:a.style.transform,l=n?"matrix3d(".concat(o.join(","),")"):"matrix(".concat(Og(o,!0),")"),c=!u||u==="none"?l:u;e.datas.startTransforms=xD(c,n)?[]:va(c)},resetStyle:function(t){var e=t.datas;e.nextStyle={},e.nextTransforms=t.datas.startTransforms,e.nextTransformAppendedIndexes=[]},fillDragStartParams:function(t,e){return re(t,e,{setTransform:function(r){e.datas.startTransforms=We(r)?r:va(r)},isPinch:!!e.isPinch})},fillDragParams:function(t,e){return re(t,e,{isPinch:!!e.isPinch})},dragStart:function(t,e){this.setTransform(t,e),this.resetStyle(e),Pt(t,"onBeforeRenderStart",this.fillDragStartParams(t,e))},drag:function(t,e){this.resetStyle(e),Pt(t,"onBeforeRender",re(t,e,{isPinch:!!e.isPinch}))},dragEnd:function(t,e){Pt(t,"onBeforeRenderEnd",re(t,e,{isPinch:!!e.isPinch,isDrag:e.isDrag}))},dragGroupStart:function(t,e){var r=this;this.dragStart(t,e);var n=ha(t,"beforeRenderable",e),a=t.moveables,o=n.map(function(u,l){var c=a[l];return r.setTransform(c,u),r.resetStyle(u),r.fillDragStartParams(c,u)});Pt(t,"onBeforeRenderGroupStart",re(t,e,{isPinch:!!e.isPinch,targets:t.props.targets,setTransform:function(){},events:o}))},dragGroup:function(t,e){var r=this;this.drag(t,e);var n=ha(t,"beforeRenderable",e),a=t.moveables,o=n.map(function(u,l){var c=a[l];return r.resetStyle(u),r.fillDragParams(c,u)});Pt(t,"onBeforeRenderGroup",re(t,e,{isPinch:!!e.isPinch,targets:t.props.targets,events:o}))},dragGroupEnd:function(t,e){this.dragEnd(t,e),Pt(t,"onBeforeRenderGroupEnd",re(t,e,{isPinch:!!e.isPinch,isDrag:e.isDrag,targets:t.props.targets}))},dragControlStart:function(t,e){return this.dragStart(t,e)},dragControl:function(t,e){return this.drag(t,e)},dragControlEnd:function(t,e){return this.dragEnd(t,e)},dragGroupControlStart:function(t,e){return this.dragGroupStart(t,e)},dragGroupControl:function(t,e){return this.dragGroup(t,e)},dragGroupControlEnd:function(t,e){return this.dragGroupEnd(t,e)}},F0={name:"renderable",props:{},events:{onRenderStart:"renderStart",onRender:"render",onRenderEnd:"renderEnd",onRenderGroupStart:"renderGroupStart",onRenderGroup:"renderGroup",onRenderGroupEnd:"renderGroupEnd"},dragRelation:"weak",dragStart:function(t,e){Pt(t,"onRenderStart",re(t,e,{isPinch:!!e.isPinch}))},drag:function(t,e){Pt(t,"onRender",this.fillDragParams(t,e))},dragAfter:function(t,e){if(e.resultCount)return this.drag(t,e)},dragEnd:function(t,e){Pt(t,"onRenderEnd",this.fillDragEndParams(t,e))},dragGroupStart:function(t,e){Pt(t,"onRenderGroupStart",re(t,e,{isPinch:!!e.isPinch,targets:t.props.targets}))},dragGroup:function(t,e){var r=this,n=ha(t,"beforeRenderable",e),a=t.moveables,o=n.map(function(u,l){var c=a[l];return r.fillDragParams(c,u)});Pt(t,"onRenderGroup",re(t,e,X(X({isPinch:!!e.isPinch,targets:t.props.targets,transform:Ts(e)},fa(Rs(e))),{events:o})))},dragGroupEnd:function(t,e){var r=this,n=ha(t,"beforeRenderable",e),a=t.moveables,o=n.map(function(u,l){var c=a[l];return r.fillDragEndParams(c,u)});Pt(t,"onRenderGroupEnd",re(t,e,X({isPinch:!!e.isPinch,isDrag:e.isDrag,targets:t.props.targets,events:o,transform:Ts(e)},fa(Rs(e)))))},dragControlStart:function(t,e){return this.dragStart(t,e)},dragControl:function(t,e){return this.drag(t,e)},dragControlAfter:function(t,e){return this.dragAfter(t,e)},dragControlEnd:function(t,e){return this.dragEnd(t,e)},dragGroupControlStart:function(t,e){return this.dragGroupStart(t,e)},dragGroupControl:function(t,e){return this.dragGroup(t,e)},dragGroupControlEnd:function(t,e){return this.dragGroupEnd(t,e)},fillDragParams:function(t,e){return re(t,e,X({isPinch:!!e.isPinch,transform:Ts(e)},fa(Rs(e))))},fillDragEndParams:function(t,e){return re(t,e,X({isPinch:!!e.isPinch,isDrag:e.isDrag,transform:Ts(e)},fa(Rs(e))))}};function lo(t,e,r,n,a,o,u){var l=a==="Start",c=t.state.target,f=o.isRequest;if(!c||l&&n.indexOf("Control")>-1&&!f&&t.areaElement===o.inputEvent.target)return!1;var v="".concat(r).concat(n).concat(a),h="".concat(r).concat(n,"Condition"),p=a==="End",g=a==="After",m=l&&(!t.targetGesto||!t.controlGesto||!t.targetGesto.isFlag()||!t.controlGesto.isFlag());m&&t.updateRect(a,!0,!1),a===""&&!f&&p0(t.state,o);var y=Ht([],t[e],!0);if(f){var S=o.requestAble;y.some(function(z){return z.name===S})||y.push.apply(y,t.props.ables.filter(function(z){return z.name===S}))}if(!y.length||y.every(function(z){return z.dragRelation}))return!1;var _=Ht(Ht([L0],y,!0),[F0],!1).filter(function(z){return z[v]}),E=o.datas;m&&_.forEach(function(z){z.unset&&z.unset(t)});var x=o.inputEvent,C;p&&x&&(C=document.elementFromPoint(o.clientX,o.clientY)||x.target);var R=0,D=!1,k=function(){var z;D=!0,(z=o.stop)===null||z===void 0||z.call(o)},I=_.filter(function(z){var L=z.name,U=E[L]||(E[L]={});if(l&&(U.isEventStart=!z[h]||z[h](t,o)),U.isEventStart){var H=z[v](t,X(X({},o),{stop:k,resultCount:R,datas:U,originalDatas:E,inputTarget:C}));return t._emitter.off(),l&&H===!1&&(U.isEventStart=!1),R+=H?1:0,H}return!1}),O=I.length,A=!1;if(l&&(D||_.length&&!O)&&(A=D||_.filter(function(z){var L=z.name,U=E[L];return U.isEventStart?z.dragRelation!=="strong":!1}).length),(p||A)&&(t.state.gestos={},t.moveables&&t.moveables.forEach(function(z){z.state.gestos={}})),m&&A&&_.forEach(function(z){z.unset&&z.unset(t)}),l&&!A&&!f&&O&&(o==null||o.preventDefault()),t.isUnmounted||A)return!1;if(!l&&O&&!u||p){var V=t.props.flushSync||n0;V(function(){t.updateRect(p?a:"",!0,!1),t.forceUpdate()})}return!l&&!p&&!g&&O&&!u&&lo(t,e,r,n,a+"After",o),!0}function $c(t){var e=t.props.dragTarget;return function(r){var n=r.inputEvent.target,a=t.areaElement;return e&&(n===e||e.contains(n))||n===a||!t.isMoveableElement(n)&&!t.controlBox.getElement().contains(n)||Ve(n,"moveable-area")||Ve(n,"moveable-padding")||Ve(n,"moveable-edgeDraggable")}}function q0(t,e,r){var n=t.controlBox.getElement(),a=[],o=t.props.dragTarget;return a.push(n),(!t.props.dragArea||o)&&a.push(e),Bf(t,a,"targetAbles",r,{dragStart:$c(t),pinchStart:$c(t)})}function Bf(t,e,r,n,a){a===void 0&&(a={});var o=r==="targetAbles",u=t.props,l=u.pinchOutside,c=u.pinchThreshold,f=u.preventClickEventOnDrag,v=u.preventClickDefault,h=u.checkInput,p={preventDefault:!0,preventRightClick:!0,preventWheelClick:!0,container:window,pinchThreshold:c,pinchOutside:l,preventClickEventOnDrag:o?f:!1,preventClickEventOnDragStart:o?v:!1,preventClickEventByCondition:o?null:function(y){return t.controlBox.getElement().contains(y.target)},checkInput:o?h:!1},g=new $g(e,p),m=n==="Control";return["drag","pinch"].forEach(function(y){["Start","","End"].forEach(function(S){g.on("".concat(y).concat(S),function(_){var E,x=_.eventType;if(a[x]&&!a[x](_)){_.stop();return}var C=lo(t,r,y,n,S,_);C?(t.props.stopPropagation||S==="Start"&&m)&&((E=_==null?void 0:_.inputEvent)===null||E===void 0||E.stopPropagation()):_.stop()})})}),g}var CD=function(){function t(r,n,a){var o=this;this.target=r,this.moveable=n,this.eventName=a,this.ables=[],this._onEvent=function(u){var l=o.eventName,c=o.moveable;c.state.disableNativeEvent||o.ables.forEach(function(f){f[l](c,{inputEvent:u})})},r.addEventListener(a.toLowerCase(),this._onEvent)}var e=t.prototype;return e.setAbles=function(r){this.ables=r},e.destroy=function(){this.target.removeEventListener(this.eventName.toLowerCase(),this._onEvent),this.target=null,this.moveable=null},t}();function ED(t){if(t&&t.getRootNode){var e=t.getRootNode();if(e.nodeType===11)return e}}function ch(t,e,r){for(var n=t,a=[],o=!r&&t===e||t===document.body,u=o,l=!1,c=3,f,v,h,p=!1,g=bo(e,e,!0).offsetParent;n&&!u;){u=o;var m=getComputedStyle(n),y=m.position,S=a0(n,m),_=PE(G2(S)),E=y==="fixed",x={hasTransform:!1,fixedContainer:null};E&&(p=!0,x=Y2(n),g=x.fixedContainer);var C=_.length;!l&&C===16&&(l=!0,c=4,Ac(a),h&&(h=Cn(h,3,4))),l&&C===9&&(_=Cn(_,3,4));var R=W2(n,t,m),D=R.tagName,k=R.hasOffset,I=R.isSVG,O=R.origin,A=R.targetOrigin,V=R.offset,z=V[0],L=V[1];D==="svg"&&h&&(a.push({type:"target",target:n,matrix:X2(n,c)}),a.push({type:"offset",target:n,matrix:Oe(c)}));var U=void 0,H=!1,et=!1;if(E)U=x.fixedContainer,H=!0;else{var nt=bo(n,e);if(U=nt.offsetParent,H=nt.isEnd,et=nt.isStatic,S2){var ot=nt.parentSlotElement;if(ot){for(var Z=U,N=0,K=0;Z&&ED(Z);)N+=Z.offsetLeft,K+=Z.offsetTop,Z=Z.offsetParent;z-=N,L-=K}}}Wg&&!_2&&k&&!I&&et&&(y==="relative"||y==="static")&&(z-=U.offsetLeft,L-=U.offsetTop,o=o||H);var ut=0,lt=0,mt=0,yt=0;if(E)k&&x.hasTransform&&(mt=U.clientLeft,yt=U.clientTop);else if(k&&g!==U&&(ut=U.clientLeft,lt=U.clientTop),k&&U===document.body){var gt=i0(n,!1,m);z+=gt[0],L+=gt[1]}if(a.push({type:"target",target:n,matrix:bf(_,c,O)}),k){var St=n===t,Rt=St?0:n.scrollLeft,P=St?0:n.scrollTop;a.push({type:"offset",target:n,matrix:mo([z-Rt+ut-mt,L-P+lt-yt],c)})}else a.push({type:"offset",target:n,origin:O});if(h||(h=_),f||(f=O),v||(v=A),u||E)break;n=U,o=H,(!r||n===document.body)&&(u=o)}return h||(h=Oe(c)),f||(f=[0,0]),v||(v=[0,0]),{offsetContainer:g,matrixes:a,targetMatrix:h,transformOrigin:f,targetOrigin:v,is3d:l,hasFixed:p}}function MD(t,e,r,n){var a;r===void 0&&(r=e);var o=ch(t,e),u=o.matrixes,l=o.is3d,c=o.targetMatrix,f=o.transformOrigin,v=o.targetOrigin,h=o.offsetContainer,p=o.hasFixed,g=ch(h,r,!0),m=g.matrixes,y=g.is3d,S=g.offsetContainer,_=n||y||l,E=_?4:3,x=t.tagName.toLowerCase()!=="svg"&&"ownerSVGElement"in t,C=c,R=Oe(E),D=Oe(E),k=Oe(E),I=Oe(E),O=u.length;m.reverse(),u.reverse(),!l&&_&&(C=Cn(C,3,4),Ac(u)),!y&&_&&Ac(m),m.forEach(function(H){D=Ce(D,H.matrix,E)});var A=r||document.body,V=((a=m[0])===null||a===void 0?void 0:a.target)||bo(A,A,!0).offsetParent,z=m.slice(1).reduce(function(H,et){return Ce(H,et.matrix,E)},Oe(E));u.forEach(function(H,et){if(O-2===et&&(k=R.slice()),O-1===et&&(I=R.slice()),!H.matrix){var nt=u[et+1],ot=K2(H,nt,V,E,Ce(z,R,E));H.matrix=mo(ot,E)}R=Ce(R,H.matrix,E)});var L=!x&&l;C||(C=Oe(L?4:3));var U=_u(x&&C.length===16?Cn(C,4,3):C,L);return D=kg(D,E,E),{hasFixed:p,rootMatrix:D,beforeMatrix:k,offsetMatrix:I,allMatrix:R,targetMatrix:C,targetTransform:U,transformOrigin:f,targetOrigin:v,is3d:_,offsetContainer:h,offsetRootContainer:S}}function DD(t,e,r,n){r===void 0&&(r=e);var a=0,o=0,u=0,l={},c=s0(t);if(t&&(a=c.offsetWidth,o=c.offsetHeight),t){var f=MD(t,e,r,n),v=ou(f.allMatrix,f.transformOrigin,a,o);l=X(X({},f),v);var h=ou(f.allMatrix,[50,50],100,100);u=u0([h.pos1,h.pos2],h.direction)}var p=n?4:3;return X(X(X({width:a,height:o,rotation:u},c),{rootMatrix:Oe(p),beforeMatrix:Oe(p),offsetMatrix:Oe(p),allMatrix:Oe(p),targetMatrix:Oe(p),targetTransform:"",transformOrigin:[0,0],targetOrigin:[0,0],is3d:!!n,left:0,top:0,right:0,bottom:0,origin:[0,0],pos1:[0,0],pos2:[0,0],pos3:[0,0],pos4:[0,0],direction:1,hasFixed:!1,offsetContainer:null,offsetRootContainer:null}),l)}function Gc(t,e,r,n,a){var o=1,u=[0,0],l=ks(),c=ks(),f=ks(),v=ks(),h=DD(e,r,a,!0);if(e){var p=h.is3d?4:3,g=ou(h.offsetMatrix,he(h.transformOrigin,Ig(h.targetMatrix,p)),h.width,h.height);o=g.direction,u=he(g.origin,[g.left-h.left,g.top-h.top]),l=no(e);var m=bo(n,n,!0).offsetParent||h.offsetRootContainer;f=no(m,!0),v=no(h.offsetRootContainer),t&&(c=no(t))}return X({targetClientRect:l,containerClientRect:f,moveableClientRect:c,rootContainerClientRect:v,beforeDirection:o,beforeOrigin:u,originalBeforeOrigin:u,target:e},h)}var Ti=function(t){Ro(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.state=X({container:null,gestos:{},renderPoses:[[0,0],[0,0],[0,0],[0,0]],disableNativeEvent:!1},Gc(null)),n.renderState={},n.enabledAbles=[],n.targetAbles=[],n.controlAbles=[],n.rotation=0,n.scale=[1,1],n.isUnmounted=!1,n.events={mouseEnter:null,mouseLeave:null},n._emitter=new Oi,n._prevTarget=null,n._prevDragArea=!1,n._isPropTargetChanged=!1,n._observer=null,n._observerId=0,n._rootContainer=null,n._viewContainer=null,n._viewClassNames=[],n.checkUpdateRect=function(){if(!n.isDragging()){var a=n.props.parentMoveable;if(a){a.checkUpdateRect();return}uE(n._observerId),n._observerId=gg(function(){n.isDragging()||n.updateRect()})}},n._onPreventClick=function(a){a.stopPropagation(),a.preventDefault()},n}var r=e.prototype;return r.render=function(){var n=this.props,a=this.getState(),o=n.parentPosition,u=n.className,l=n.target,c=n.zoom,f=n.cspNonce,v=n.translateZ,h=n.cssStyled,p=n.portalContainer,g=n.groupable;this._checkUpdateRootContainer(),this.checkUpdate(),this.updateRenderPoses();var m=o||[0,0],y=m[0],S=m[1],_=a.left,E=a.top,x=a.target,C=a.direction,R=a.hasFixed,D=n.targets,k=(D&&D.length||l)&&(x||g),I=this.isDragging(),O={};this.getEnabledAbles().forEach(function(V){O["data-able-".concat(V.name.toLowerCase())]=!0});var A=this._getAbleClassName();return jr(h,X({cspNonce:f,ref:wn(this,"controlBox"),className:"".concat(Gt("control-box",C===-1?"reverse":"",I?"dragging":"")," ").concat(A," ").concat(u)},O,{onClick:this._onPreventClick,portalContainer:p,style:{position:R?"fixed":"absolute",display:k?"block":"none",visibility:this.controlBox||this.props.firstRenderState?"visible":"hidden",transform:"translate3d(".concat(_-y,"px, ").concat(E-S,"px, ").concat(v,")"),"--zoom":c,"--zoompx":"".concat(c,"px")}}),this.renderAbles(),this._renderLines())},r.componentDidMount=function(){this.isUnmounted=!1,this.controlBox.getElement();var n=this.props,a=n.parentMoveable,o=n.container,u=n.wrapperMoveable;this._checkUpdateRootContainer(),this._checkUpdateViewContainer(),this._updateTargets(),this._updateNativeEvents(),this._updateEvents(),this.updateCheckInput(),this._updateObserver(this.props),!o&&!a&&!u&&(this.updateRect("",!1,!0),this.forceUpdate())},r.componentDidUpdate=function(n){this._checkUpdateRootContainer(),this._checkUpdateViewContainer(),this._updateNativeEvents(),this._updateEvents(),this._updateTargets(),this.updateCheckInput(),this._updateObserver(n)},r.componentWillUnmount=function(){this.isUnmounted=!0,this._emitter.off();var n=this._viewContainer;n&&this._changeAbleViewClassNames([]),yi(this,"targetGesto"),yi(this,"controlGesto");var a=this.events;for(var o in a){var u=a[o];u&&u.destroy()}},r.getTargets=function(){var n=this.props.target;return n?[n]:[]},r.getAble=function(n){var a=this.props.ables||[];return Yn(a,function(o){return o.name===n})},r.getContainer=function(){var n=this.props,a=n.parentMoveable,o=n.wrapperMoveable,u=n.container;return u||o&&o.getContainer()||a&&a.getContainer()||this.controlBox.getElement().parentElement},r.isMoveableElement=function(n){var a;return n&&(((a=n.getAttribute)===null||a===void 0?void 0:a.call(n,"class"))||"").indexOf(pf)>-1},r.dragStart=function(n){var a=this.targetGesto,o=this.controlGesto;return a&&$c(this)({inputEvent:n})?a.isFlag()||a.triggerDragStart(n):o&&this.isMoveableElement(n.target)&&(o.isFlag()||o.triggerDragStart(n)),this},r.hitTest=function(n){var a=this.state,o=a.target,u=a.pos1,l=a.pos2,c=a.pos3,f=a.pos4,v=a.targetClientRect;if(!o)return 0;var h;if(n instanceof Element){var p=n.getBoundingClientRect();h={left:p.left,top:p.top,width:p.width,height:p.height}}else h=X({width:0,height:0},n);var g=h.left,m=h.top,y=h.width,S=h.height,_=wc([u,l,f,c],v),E=HE(_,[[g,m],[g+y,m],[g+y,m+S],[g,m+S]]),x=ru(_);return!E||!x?0:Math.min(100,E/x*100)},r.isInside=function(n,a){var o=this.state,u=o.target,l=o.pos1,c=o.pos2,f=o.pos3,v=o.pos4,h=o.targetClientRect;return u?nu([n,a],wc([l,c,v,f],h)):!1},r.updateRect=function(n,a,o){o===void 0&&(o=!0);var u=this.props,l=u.parentMoveable,c=this.state,f=c.target||this.props.target,v=this.getContainer(),h=l?l._rootContainer:this._rootContainer;this.updateState(Gc(this.controlBox&&this.controlBox.getElement(),f,v,v,h||v),l?!1:o)},r.isDragging=function(n){var a,o,u=this.targetGesto,l=this.controlGesto;if(u!=null&&u.isFlag()){if(!n)return!0;var c=u.getEventData();return!!(!((a=c[n])===null||a===void 0)&&a.isEventStart)}if(l!=null&&l.isFlag()){if(!n)return!0;var c=l.getEventData();return!!(!((o=c[n])===null||o===void 0)&&o.isEventStart)}return!1},r.updateTarget=function(n){this.updateRect(n,!0)},r.getRect=function(){var n=this.state,a=Mr(this.state),o=a[0],u=a[1],l=a[2],c=a[3],f=Zr(a),v=n.width,h=n.height,p=f.width,g=f.height,m=f.left,y=f.top,S=[n.left,n.top],_=he(S,n.origin),E=he(S,n.beforeOrigin),x=n.transformOrigin;return{width:p,height:g,left:m,top:y,pos1:o,pos2:u,pos3:l,pos4:c,offsetWidth:v,offsetHeight:h,beforeOrigin:E,origin:_,transformOrigin:x,rotation:this.getRotation()}},r.getManager=function(){return this},r.getRotation=function(){var n=this.state,a=n.pos1,o=n.pos2,u=n.direction;return nM(a,o,u)},r.request=function(n,a,o){a===void 0&&(a={});var u=this.props,l=u.ables,c=u.groupable,f=l.filter(function(S){return S.name===n})[0];if(this.isDragging()||!f||!f.request)return{request:function(){return this},requestEnd:function(){return this}};var v=this,h=f.request(this),p=o||a.isInstant,g=h.isControl?"controlAbles":"targetAbles",m="".concat(c?"Group":"").concat(h.isControl?"Control":""),y={request:function(S){return lo(v,g,"drag",m,"",X(X({},h.request(S)),{requestAble:n,isRequest:!0}),p),this},requestEnd:function(){return lo(v,g,"drag",m,"End",X(X({},h.requestEnd()),{requestAble:n,isRequest:!0}),p),this}};return lo(v,g,"drag",m,"Start",X(X({},h.requestStart(a)),{requestAble:n,isRequest:!0}),p),p?y.request(a).requestEnd():y},r.destroy=function(){this.componentWillUnmount()},r.updateRenderPoses=function(){var n=this.getState(),a=this.props,o=n.originalBeforeOrigin,u=n.transformOrigin,l=n.allMatrix,c=n.is3d,f=n.pos1,v=n.pos2,h=n.pos3,p=n.pos4,g=n.left,m=n.top,y=a.padding||{},S=y.left,_=S===void 0?0:S,E=y.top,x=E===void 0?0:E,C=y.bottom,R=C===void 0?0:C,D=y.right,k=D===void 0?0:D,I=c?4:3,O=this.controlBox&&a.groupable?o:he(o,[g,m]);n.renderPoses=[he(f,Os(l,[-_,-x],u,O,I)),he(v,Os(l,[k,-x],u,O,I)),he(h,Os(l,[-_,R],u,O,I)),he(p,Os(l,[k,R],u,O,I))]},r.checkUpdate=function(){this._isPropTargetChanged=!1;var n=this.props,a=n.target,o=n.container,u=n.parentMoveable,l=this.state,c=l.target,f=l.container;if(!(!c&&!a)){this.updateAbles();var v=!Bc(c,a),h=v||!Bc(f,o);if(!!h){var p=o||this.controlBox;p&&this.unsetAbles(),this.updateState({target:a,container:o}),!u&&p&&this.updateRect("End",!1,!1),this._isPropTargetChanged=v}}},r.waitToChangeTarget=function(){return new Promise(function(){})},r.triggerEvent=function(n,a){this._emitter.trigger(n,a);var o=this.props[n];return o&&o(a)},r.useCSS=function(n,a){var o=this.props.customStyledMap,u=n+a;return o[u]||(o[u]=Vg(n,a)),o[u]},r.getState=function(){var n=this.props.firstRenderState;return n&&!this.controlBox?n:this.state},r.updateSelectors=function(){},r.unsetAbles=function(){var n=this;this.targetAbles.forEach(function(a){a.unset&&a.unset(n)})},r.updateAbles=function(n,a){n===void 0&&(n=this.props.ables),a===void 0&&(a="");var o=this.props,u=o.triggerAblesSimultaneously,l=n.filter(function(g){return g&&(g.always&&o[g.name]!==!1||o[g.name])}),c="drag".concat(a,"Start"),f="pinch".concat(a,"Start"),v="drag".concat(a,"ControlStart"),h=Is(l,[c,f],u),p=Is(l,[v],u);this.enabledAbles=l,this.targetAbles=h,this.controlAbles=p},r.updateState=function(n,a){if(a){if(this.isUnmounted)return;this.setState(n)}else{var o=this.state;for(var u in n)o[u]=n[u]}},r.getEnabledAbles=function(){var n=this.props,a=n.ables;return a.filter(function(o){return o&&n[o.name]})},r.renderAbles=function(){var n=this,a=this.props,o=a.triggerAblesSimultaneously,u={createElement:jr};return this.renderState={},J2(v0(Is(this.getEnabledAbles(),["render"],o).map(function(l){var c=l.render;return c(n,u)||[]})).filter(function(l){return l}),function(l){var c=l.key;return c}).map(function(l){return l[0]})},r.updateCheckInput=function(){this.targetGesto&&(this.targetGesto.options.checkInput=this.props.checkInput)},r._updateObserver=function(n){var a,o=this.props,u=o.target;if(!window.ResizeObserver||!u||!o.useResizeObserver){(a=this._observer)===null||a===void 0||a.disconnect();return}if(!(n.target===u&&this._observer)){var l=new ResizeObserver(this.checkUpdateRect);l.observe(u,{box:"border-box"}),this._observer=l}},r._updateEvents=function(){var n=this.controlBox.getElement(),a=this.targetAbles.length,o=this.controlAbles.length,u=this.props,l=u.dragTarget||u.target,c=!a&&this.targetGesto||this._isTargetChanged(!0);c&&(yi(this,"targetGesto"),this.updateState({gesto:null})),o||yi(this,"controlGesto"),l&&a&&!this.targetGesto&&(this.targetGesto=q0(this,l,"")),!this.controlGesto&&o&&(this.controlGesto=Bf(this,n,"controlAbles","Control"))},r._updateTargets=function(){var n=this.props;this._prevTarget=n.dragTarget||n.target,this._prevDragArea=n.dragArea},r._renderLines=function(){var n=this.props,a=n,o=a.zoom,u=a.hideDefaultLines,l=a.hideChildMoveableDefaultLines,c=a.parentMoveable;if(u||c&&l)return[];var f=this.getState().renderPoses,v={createElement:jr};return[[0,1],[1,3],[3,2],[2,0]].map(function(h,p){var g=h[0],m=h[1];return yo(v,"",f[g],f[m],o,"render-line-".concat(p))})},r._isTargetChanged=function(n){var a=this.props,o=a.dragTarget||a.target,u=this._prevTarget,l=this._prevDragArea,c=a.dragArea,f=!c&&u!==o,v=(n||c)&&l!==c;return f||v},r._updateNativeEvents=function(){var n=this,a=this.props,o=a.dragArea?this.areaElement:this.state.target,u=this.events,l=Ii(u);if(this._isTargetChanged())for(var c in u){var f=u[c];f&&f.destroy(),u[c]=null}if(!!o){var v=this.enabledAbles;l.forEach(function(h){var p=Is(v,[h]),g=p.length>0,m=u[h];if(!g){m&&(m.destroy(),u[h]=null);return}m||(m=new CD(o,n,h),u[h]=m),m.setAbles(p)})}},r._checkUpdateRootContainer=function(){var n=this.props.rootContainer;!this._rootContainer&&n&&(this._rootContainer=Ga(n,!0))},r._checkUpdateViewContainer=function(){var n=this.props.viewContainer;!this._viewContainer&&n&&(this._viewContainer=Ga(n,!0));var a=this._viewContainer;a&&this._changeAbleViewClassNames(Ht(Ht([],this._getAbleViewClassNames(),!0),[this.isDragging()?rD:""],!1))},r._changeAbleViewClassNames=function(n){var a=this._viewContainer,o=d0(n.filter(Boolean),function(v){return v}).map(function(v){var h=v[0];return h}),u=this._viewClassNames,l=Eo(u,o),c=l.removed,f=l.added;c.forEach(function(v){bg(a,u[v])}),f.forEach(function(v){nf(a,o[v])}),this._viewClassNames=o},r._getAbleViewClassNames=function(){var n=this;return this.getEnabledAbles().map(function(a){var o;return((o=a.viewClassName)===null||o===void 0?void 0:o.call(a,n))||""}).join(" ").split(/\s+/g)},r._getAbleClassName=function(){var n=this,a=this.getEnabledAbles(),o=this.targetGesto,u=this.controlGesto,l=o!=null&&o.isFlag()?o.getEventData():{},c=u!=null&&u.isFlag()?u.getEventData():{};return a.map(function(f){var v,h,p,g=f.name,m=((v=f.className)===null||v===void 0?void 0:v.call(f,n))||"";return(((h=l[g])===null||h===void 0?void 0:h.isEventStart)||((p=c[g])===null||p===void 0?void 0:p.isEventStart))&&(m+=" ".concat(Gt("".concat(g,"-dragging")))),m.trim()}).filter(Boolean).join(" ")},e.defaultProps={target:null,dragTarget:null,container:null,rootContainer:null,origin:!0,parentMoveable:null,wrapperMoveable:null,parentPosition:null,portalContainer:null,useResizeObserver:!1,ables:[],pinchThreshold:20,dragArea:!1,passDragArea:!1,transformOrigin:"",className:"",zoom:1,triggerAblesSimultaneously:!1,padding:{},pinchOutside:!0,checkInput:!1,groupable:!1,hideDefaultLines:!1,cspNonce:"",translateZ:0,cssStyled:null,customStyledMap:{},props:{},stopPropagation:!1,preventClickDefault:!1,preventClickEventOnDrag:!0,flushSync:n0,firstRenderState:null,viewContainer:null},e}(uf),Pf={name:"groupable",props:{defaultGroupRotate:Number,defaultGroupOrigin:String,groupable:Boolean,targetGroups:Object,hideChildMoveableDefaultLines:Boolean},events:{},render:function(t,e){var r=t.props.targets||[];t.moveables=[];var n=t.state,a=n.left,o=n.top,u=[a,o],l=t.props,c=l.zoom||1,f=t.renderGroupRects;return Ht(Ht([],r.map(function(v,h){return e.createElement(Ti,{key:"moveable"+h,ref:cg(t,"moveables",h),target:v,origin:!1,cssStyled:l.cssStyled,customStyledMap:l.customStyledMap,useResizeObserver:l.useResizeObserver,hideChildMoveableDefaultLines:l.hideChildMoveableDefaultLines,parentMoveable:t,parentPosition:u,zoom:c})}),!0),v0(f.map(function(v,h){var p=v.pos1,g=v.pos2,m=v.pos3,y=v.pos4,S=[p,g,m,y];return[[0,1],[1,3],[3,2],[2,0]].map(function(_,E){var x=_[0],C=_[1];return yo(e,"",Zt(S[x],u),Zt(S[C],u),c,"group-rect-".concat(h,"-").concat(E))})})),!0)}},TD=ko("clickable",{props:{clickable:Boolean},events:{onClick:"click",onClickGroup:"clickGroup"},always:!0,dragRelation:"weak",dragStart:function(){},dragControlStart:function(){},dragGroupStart:function(t,e){e.datas.inputTarget=e.inputEvent&&e.inputEvent.target},dragEnd:function(t,e){var r=t.props.target,n=e.inputEvent,a=e.inputTarget,o=t.isMoveableElement(a),u=!o&&t.controlBox.getElement().contains(a);if(!(!n||!a||e.isDrag||t.isMoveableElement(a)||u)){var l=r.contains(a);Pt(t,"onClick",re(t,e,{isDouble:e.isDouble,inputTarget:a,isTarget:r===a,moveableTarget:t.props.target,containsTarget:l}))}},dragGroupEnd:function(t,e){var r=e.inputEvent,n=e.inputTarget;if(!(!r||!n||e.isDrag||t.isMoveableElement(n)||e.datas.inputTarget===n)){var a=t.props.targets,o=a.indexOf(n),u=o>-1,l=!1;o===-1&&(o=pa(a,function(c){return c.contains(n)}),l=o>-1),Pt(t,"onClickGroup",re(t,e,{isDouble:e.isDouble,targets:a,inputTarget:n,targetIndex:o,isTarget:u,containsTarget:l,moveableTarget:a[o]}))}},dragControlEnd:function(t,e){this.dragEnd(t,e)},dragGroupControlEnd:function(t,e){this.dragEnd(t,e)}});function pi(t){var e=t.originalDatas.draggable;return e||(t.originalDatas.draggable={},e=t.originalDatas.draggable),X(X({},t),{datas:e})}var RD=ko("edgeDraggable",{css:[`.edge.edgeDraggable.line {
    cursor: move;
}`],render:function(t,e){var r=t.props,n=r.edgeDraggable;return n?T0(e,"edgeDraggable",n,t.getState().renderPoses,r.zoom):[]},dragControlCondition:function(t,e){if(!t.props.edgeDraggable||!e.inputEvent)return!1;var r=e.inputEvent.target;return Ve(r,Gt("direction"))&&Ve(r,Gt("edge"))&&Ve(r,Gt("edgeDraggable"))},dragControlStart:function(t,e){return t.state.snapRenderInfo={request:e.isRequest,snap:!0,center:!0},gr.dragStart(t,pi(e))},dragControl:function(t,e){return gr.drag(t,pi(e))},dragControlEnd:function(t,e){return gr.dragEnd(t,pi(e))},dragGroupControlCondition:function(t,e){if(!t.props.edgeDraggable||!e.inputEvent)return!1;var r=e.inputEvent.target;return Ve(r,Gt("direction"))&&Ve(r,Gt("line"))},dragGroupControlStart:function(t,e){return gr.dragGroupStart(t,pi(e))},dragGroupControl:function(t,e){return gr.dragGroup(t,pi(e))},dragGroupControlEnd:function(t,e){return gr.dragGroupEnd(t,pi(e))},unset:function(t){return gr.unset(t)}}),$0={name:"individualGroupable",props:{individualGroupable:Boolean},events:{}},zf=[L0,A0,HM,aM,gr,RD,Fc,QM,tD,ZM,iD,oD,nD,bD,mD,wD,Pf,$0,TD,O0,F0],kD=zf.reduce(function(t,e){return X(X({},t),"events"in e?e.events:{})},{}),ID=zf.reduce(function(t,e){return X(X({},t),e.props)},{}),OD=tM(kD),AD=Object.keys(OD),BD=Object.keys(ID);function fh(t,e){var r=t[0],n=t[1],a=t[2];return(r*e[0]+n*e[1]+a)/Math.sqrt(r*r+n*n)}function Ps(t,e){var r=t[0],n=t[1];return-r*e[0]-n*e[1]}function dh(t,e){return Math.max.apply(Math,t.map(function(r){var n=r[0],a=r[1],o=r[2],u=r[3];return Math.max(n[e],a[e],o[e],u[e])}))}function vh(t,e){return Math.min.apply(Math,t.map(function(r){var n=r[0],a=r[1],o=r[2],u=r[3];return Math.min(n[e],a[e],o[e],u[e])}))}function PD(t,e){var r,n=[0,0],a=[0,0],o=[0,0],u=[0,0],l=0,c=0;if(!t.length)return{pos1:n,pos2:a,pos3:o,pos4:u,minX:0,minY:0,width:l,height:c,rotation:e};var f=fe(e,br);if(f%90){var v=f/180*Math.PI,h=Math.tan(v),p=-1/h,g=[kc,Gp],m=[[0,0],[0,0]],y=[kc,Gp],S=[[0,0],[0,0]];t.forEach(function(nt){nt.forEach(function(ot){var Z=fh([-h,1,0],ot),N=fh([-p,1,0],ot);g[0]>Z&&(m[0]=ot,g[0]=Z),g[1]<Z&&(m[1]=ot,g[1]=Z),y[0]>N&&(S[0]=ot,y[0]=N),y[1]<N&&(S[1]=ot,y[1]=N)})});var _=m[0],E=m[1],x=S[0],C=S[1],R=[-h,1,Ps([-h,1],_)],D=[-h,1,Ps([-h,1],E)],k=[-p,1,Ps([-p,1],x)],I=[-p,1,Ps([-p,1],C)];r=[[R,k],[R,I],[D,k],[D,I]].map(function(nt){var ot=nt[0],Z=nt[1];return vf(ot,Z)[0]}),n=r[0],a=r[1],o=r[2],u=r[3],l=y[1]-y[0],c=g[1]-g[0]}else{var O=vh(t,0),A=vh(t,1),V=dh(t,0),z=dh(t,1);if(n=[O,A],a=[V,A],o=[O,z],u=[V,z],l=V-O,c=z-A,f%180){var L=[o,n,u,a];n=L[0],a=L[1],o=L[2],u=L[3],l=z-A,c=V-O}}if(f%360>180){var L=[u,o,a,n];n=L[0],a=L[1],o=L[2],u=L[3]}var U=To([n,a,o,u]),H=U.minX,et=U.minY;return{pos1:n,pos2:a,pos3:o,pos4:u,width:l,height:c,minX:H,minY:et,rotation:e}}function G0(t,e){var r=e.map(function(n){if(We(n)){var a=G0(t,n),o=a.length;return o>1?a:o===1?a[0]:null}else{var u=Yn(t,function(l){var c=l.manager;return c.props.target===n});return u?(u.finded=!0,u.manager):null}}).filter(Boolean);return r.length===1&&We(r[0])?r[0]:r}var zD=function(t){Ro(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.differ=new Pg,n.moveables=[],n.transformOrigin="50% 50%",n.renderGroupRects=[],n}var r=e.prototype;return r.checkUpdate=function(){this._isPropTargetChanged=!1,this.updateAbles()},r.getTargets=function(){return this.props.targets},r.updateRect=function(n,a,o){if(o===void 0&&(o=!0),!this.controlBox)return;this.moveables.forEach(function(Z){Z.updateRect(n,!1,!1)});var u=this.state,l=this.props,c=this.moveables,f=u.target||l.target,v=c.map(function(Z){return{finded:!1,manager:Z}}),h=G0(v,this.props.targetGroups||[]);h.push.apply(h,v.filter(function(Z){var N=Z.finded;return!N}).map(function(Z){var N=Z.manager;return N}));var p=[],g=!a||n!==""&&l.updateGroup;function m(Z,N,K){var ut=Z.map(function(P){if(We(P)){var tt=m(P,N),ht=[tt.pos1,tt.pos2,tt.pos3,tt.pos4];return p.push(tt),{poses:ht,rotation:tt.rotation}}else return{poses:Mr(P.state),rotation:P.getRotation()}}),lt=ut.map(function(P){var tt=P.rotation;return tt}),mt=0,yt=lt[0],gt=lt.every(function(P){return Math.abs(yt-P)<.1});g?mt=gt?yt:l.defaultGroupRotate||0:mt=!K&&gt?yt:N;var St=ut.map(function(P){var tt=P.poses;return tt}),Rt=PD(St,mt);return Rt}var y=m(h,this.rotation,!0);g&&(this.rotation=y.rotation,this.transformOrigin=l.defaultGroupOrigin||"50% 50%",this.scale=[1,1]),this.renderGroupRects=p;var S=this.rotation,_=this.scale,E=y.width,x=y.height,C=y.minX,R=y.minY,D="rotate(".concat(S,"deg) scale(").concat(_[0]>=0?1:-1,", ").concat(_[1]>=0?1:-1,")");f.style.cssText+="left:0px;top:0px; transform-origin: ".concat(this.transformOrigin,"; width:").concat(E,"px; height:").concat(x,"px;")+"transform:".concat(D),u.width=E,u.height=x;var k=this.getContainer(),I=Gc(this.controlBox.getElement(),f,this.controlBox.getElement(),this.getContainer(),this._rootContainer||k),O=[I.left,I.top],A=Mr(I),V=A[0],z=A[1],L=A[2],U=A[3],H=To([V,z,L,U]),et=[H.minX,H.minY];I.pos1=Zt(V,et),I.pos2=Zt(z,et),I.pos3=Zt(L,et),I.pos4=Zt(U,et),I.left=C-I.left+et[0],I.top=R-I.top+et[1],I.origin=Zt(he(O,I.origin),et),I.beforeOrigin=Zt(he(O,I.beforeOrigin),et),I.originalBeforeOrigin=he(O,I.originalBeforeOrigin);var nt=I.targetClientRect,ot=_[0]*_[1]>0?1:-1;nt.top+=I.top-u.top,nt.left+=I.left-u.left,f.style.transform="translate(".concat(-et[0],"px, ").concat(-et[1],"px) ").concat(D),this.updateState(X(X({},I),{direction:ot,beforeDirection:ot}),o)},r.getRect=function(){return X(X({},t.prototype.getRect.call(this)),{children:this.moveables.map(function(n){return n.getRect()})})},r.triggerEvent=function(n,a,o){if(o||n.indexOf("Group")>-1)return t.prototype.triggerEvent.call(this,n,a);this._emitter.trigger(n,a)},r.updateAbles=function(){t.prototype.updateAbles.call(this,Ht(Ht([],this.props.ables,!0),[Pf],!1),"Group")},r._updateTargets=function(){t.prototype._updateTargets.call(this),this._prevTarget=this.props.dragTarget||this.areaElement},r._updateEvents=function(){var n=this.state,a=this.props,o=this._prevTarget,u=a.dragTarget||this.areaElement;o!==u&&(yi(this,"targetGesto"),yi(this,"controlGesto"),n.target=null),n.target||(n.target=this.areaElement,this.controlBox.getElement().style.display="block"),n.target&&(this.targetGesto||(this.targetGesto=q0(this,u,"Group")),this.controlGesto||(this.controlGesto=Bf(this,this.controlBox.getElement(),"controlAbles","GroupControl")));var l=!Bc(n.container,a.container);l&&(n.container=a.container);var c=this.differ.update(a.targets),f=c.added,v=c.changed,h=c.removed,p=f.length||h.length;(l||p||v.length)&&this.updateRect(),this._isPropTargetChanged=!!p},r._updateObserver=function(){},e.defaultProps=X(X({},Ti.defaultProps),{transformOrigin:["50%","50%"],groupable:!0,dragArea:!0,keepRatio:!0,targets:[],defaultGroupRotate:0,defaultGroupOrigin:"50% 50%"}),e}(Ti),LD=function(t){Ro(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.moveables=[],n}var r=e.prototype;return r.render=function(){var n=this,a=this.props,o=a.cspNonce,u=a.cssStyled,l=a.targets;return jr(u,{cspNonce:o,ref:wn(this,"controlBox"),className:Gt("control-box")},l.map(function(c,f){return jr(Ti,X({key:"moveable"+f,ref:cg(n,"moveables",f)},n.props,{target:c,wrapperMoveable:n}))}))},r.componentDidUpdate=function(){},r.getTargets=function(){return this.props.targets},r.updateRect=function(n,a,o){o===void 0&&(o=!0),this.moveables.forEach(function(u){u.updateRect(n,a,o)})},r.getRect=function(){return X(X({},t.prototype.getRect.call(this)),{children:this.moveables.map(function(n){return n.getRect()})})},r.request=function(){return{request:function(){return this},requestEnd:function(){return this}}},r.dragStart=function(){return this},r.hitTest=function(){return 0},r.isInside=function(){return!1},r.isDragging=function(){return!1},r.updateRenderPoses=function(){},r.checkUpdate=function(){},r.triggerEvent=function(){},r.updateAbles=function(){},r._updateEvents=function(){},r._updateObserver=function(){},e}(Ti);function N0(t,e){var r=[];return t.forEach(function(n){if(!!n){if(mr(n)){e[n]&&r.push.apply(r,e[n]);return}We(n)?r.push.apply(r,N0(n,e)):r.push(n)}}),r}function V0(t,e){var r=[];return t.forEach(function(n){if(!!n){if(mr(n)){e[n]&&r.push.apply(r,e[n]);return}We(n)?r.push(V0(n,e)):r.push(n)}}),r}function W0(t,e){return t.length!==e.length||t.some(function(r,n){var a=e[n];return!r&&!a?!1:r!=a?We(r)&&We(a)?W0(r,a):!0:!1})}var FD=function(t){Ro(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.refTargets=[],n.selectorMap={},n._differ=new Pg,n._elementTargets=[],n._onChangetarget=null,n}var r=e.prototype;return e.makeStyled=function(){var n={},a=this.getTotalAbles();a.forEach(function(u){var l=u.css;!l||l.forEach(function(c){n[c]=!0})});var o=Ii(n).join(`
`);this.defaultStyled=Vg("div",HC(pf,w2+o))},e.getTotalAbles=function(){return Ht([A0,Pf,$0,O0],this.defaultAbles,!0)},r.render=function(){var n=this.constructor;n.defaultStyled||n.makeStyled();var a=this.props,o=a.ables,u=a.props,l=g2(a,["ables","props"]),c=this._updateRefs(!0),f=N0(c,this.selectorMap),v=f.length>1,h=n.getTotalAbles(),p=Ht(Ht([],h,!0),o||[],!0),g=X(X(X({},l),u||{}),{ables:p,cssStyled:n.defaultStyled,customStyledMap:n.customStyledMap});this._elementTargets=f;var m=null,y=this.moveable;if(v){if(l.individualGroupable)return jr(LD,X({key:"individual-group",ref:wn(this,"moveable")},g,{target:null,targets:f}));var S=V0(c,this.selectorMap);if(y&&!y.props.groupable&&!y.props.individualGroupable){var _=y.props.target;_&&f.indexOf(_)>-1&&(m=X({},y.state))}return jr(zD,X({key:"group",ref:wn(this,"moveable")},g,{target:null,targets:f,targetGroups:S,firstRenderState:m}))}else{var E=f[0];if(y&&(y.props.groupable||y.props.individualGroupable)){var x=y.moveables||[],C=Yn(x,function(R){return R.props.target===E});C&&(m=X({},C.state))}return jr(Ti,X({key:"single",ref:wn(this,"moveable")},g,{target:E,firstRenderState:m}))}},r.componentDidMount=function(){this._updateRefs()},r.componentDidUpdate=function(){var n=this._differ.update(this._elementTargets),a=n.added,o=n.removed,u=a.length||o.length;u&&this._onChangetarget&&this._onChangetarget(),this._updateRefs()},r.componentWillUnmount=function(){this.selectorMap={},this.refTargets=[]},r.getTargets=function(){var n,a;return(a=(n=this.moveable)===null||n===void 0?void 0:n.getTargets())!==null&&a!==void 0?a:[]},r.updateSelectors=function(){this.selectorMap={},this._updateRefs()},r.waitToChangeTarget=function(){var n=this,a;return this._onChangetarget=function(){n._onChangetarget=null,a()},new Promise(function(o){a=o})},r.getManager=function(){return this.moveable},r._updateRefs=function(n){var a=this.refTargets,o=Ef(this.props.target||this.props.targets),u=typeof document!="undefined",l=W0(a,o),c=this.selectorMap,f={};return this.refTargets.forEach(function v(h){if(mr(h)){var p=c[h];p?f[h]=c[h]:u&&(l=!0,f[h]=[].slice.call(document.querySelectorAll(h)))}else We(h)&&h.forEach(v)}),this.refTargets=o,this.selectorMap=f,!n&&l&&this.forceUpdate(),o},e.defaultAbles=[],e.customStyledMap={},e.defaultStyled=null,m2([YC(Xg)],e.prototype,"moveable",void 0),e}(uf),qD=function(t){Ro(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.defaultAbles=zf,e}(FD),$D=qD;/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var Nc=function(t,e){return Nc=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var a in n)n.hasOwnProperty(a)&&(r[a]=n[a])},Nc(t,e)};function Lf(t,e){Nc(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var So=function(){return So=Object.assign||function(e){for(var r,n=1,a=arguments.length;n<a;n++){r=arguments[n];for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(e[o]=r[o])}return e},So.apply(this,arguments)};function GD(t,e,r,n){var a=arguments.length,o=a<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,r):n,u;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(t,e,r,n);else for(var l=t.length-1;l>=0;l--)(u=t[l])&&(o=(a<3?u(o):a>3?u(e,r,o):u(e,r))||o);return a>3&&o&&Object.defineProperty(e,r,o),o}var ND=function(t){Lf(e,t);function e(n){var a=t.call(this,n)||this;return a.state={},a.state=a.props,a}var r=e.prototype;return r.render=function(){return xE(jr($D,So({ref:wn(this,"moveable")},this.state)),this.state.parentElement)},e}(sf),fu=BD,H0=Xg,Y0=AD,VD=function(t){Lf(e,t);function e(n,a){a===void 0&&(a={});var o=t.call(this)||this;o.tempElement=document.createElement("div");var u=So({},a),l={};Y0.forEach(function(f){l[fc("on ".concat(f))]=function(v){return o.trigger(f,v)}}),Fp(jr(ND,So({ref:wn(o,"innerMoveable"),parentElement:n},u,l)),o.tempElement);var c=u.target;return We(c)&&c.length>1&&o.updateRect(),o}var r=e.prototype;return r.setState=function(n,a){this.innerMoveable.setState(n,a)},r.forceUpdate=function(n){this.innerMoveable.forceUpdate(n)},r.dragStart=function(n){var a=this.innerMoveable;a.$_timer&&this.forceUpdate(),this.getMoveable().dragStart(n)},r.destroy=function(){Fp(null,this.tempElement),this.off(),this.tempElement=null,this.innerMoveable=null},r.getMoveable=function(){return this.innerMoveable.moveable},e=GD([lc(H0,function(n,a){n[a]||(n[a]=function(){for(var o=[],u=0;u<arguments.length;u++)o[u]=arguments[u];var l=this.getMoveable();if(!(!l||!l[a]))return l[a].apply(l,o)})}),lc(fu,function(n,a){Object.defineProperty(n,a,{get:function(){return this.getMoveable().props[a]},set:function(o){var u;this.setState((u={},u[a]=o,u))},enumerable:!0,configurable:!0})})],e),e}(Oi),WD=function(t){Lf(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e}(VD),co=function(){return co=Object.assign||function(e){for(var r,n=1,a=arguments.length;n<a;n++){r=arguments[n];for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(e[o]=r[o])}return e},co.apply(this,arguments)},X0={};H0.forEach(function(t){X0[t]=function(){for(var e,r=[],n=0;n<arguments.length;n++)r[n]=arguments[n];return(e=this.$_moveable)[t].apply(e,r)}});var U0={};fu.forEach(function(t){U0[t]=function(e){this.$_moveable[t]=e}});var Ff=Jr({name:"moveable",methods:X0,props:fu,watch:U0,mounted:function(){var t=this,e={},r=this.$props;fu.forEach(function(u){var l=r[u];Ri(l)||(e[u]=r[u])});var n=this.$refs,a=n.moveableElement,o=new WD(a,co(co({},e),{portalContainer:a}));Y0.forEach(function(u){o.on(u,function(l){t.$emit(u,co({},l))})}),this.$_moveable=o},beforeUnmount:function(){this.$_moveable.destroy()}});const HD={ref:"moveableElement"};function YD(t,e,r,n,a,o){return jt(),xe("div",HD,null,512)}Ff.render=YD;Ff.__file="src/Moveable.vue";var Vc=function(t,e){return Vc=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(r[a]=n[a])},Vc(t,e)};function XD(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");Vc(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}function UD(t,e){return e={exports:{}},t(e,e.exports),e.exports}var Ao=UD(function(t,e){function r(c){if(c&&typeof c=="object"){var f=c.which||c.keyCode||c.charCode;f&&(c=f)}if(typeof c=="number")return u[c];var v=String(c),h=n[v.toLowerCase()];if(h)return h;var h=a[v.toLowerCase()];if(h)return h;if(v.length===1)return v.charCodeAt(0)}r.isEventKey=function(f,v){if(f&&typeof f=="object"){var h=f.which||f.keyCode||f.charCode;if(h==null)return!1;if(typeof v=="string"){var p=n[v.toLowerCase()];if(p)return p===h;var p=a[v.toLowerCase()];if(p)return p===h}else if(typeof v=="number")return v===h;return!1}},e=t.exports=r;var n=e.code=e.codes={backspace:8,tab:9,enter:13,shift:16,ctrl:17,alt:18,"pause/break":19,"caps lock":20,esc:27,space:32,"page up":33,"page down":34,end:35,home:36,left:37,up:38,right:39,down:40,insert:45,delete:46,command:91,"left command":91,"right command":93,"numpad *":106,"numpad +":107,"numpad -":109,"numpad .":110,"numpad /":111,"num lock":144,"scroll lock":145,"my computer":182,"my calculator":183,";":186,"=":187,",":188,"-":189,".":190,"/":191,"`":192,"[":219,"\\":220,"]":221,"'":222},a=e.aliases={windows:91,"\u21E7":16,"\u2325":18,"\u2303":17,"\u2318":91,ctl:17,control:17,option:18,pause:19,break:19,caps:20,return:13,escape:27,spc:32,spacebar:32,pgup:33,pgdn:34,ins:45,del:46,cmd:91};/*!
 * Programatically add the following
 */for(o=97;o<123;o++)n[String.fromCharCode(o)]=o-32;for(var o=48;o<58;o++)n[o-48]=o;for(o=1;o<13;o++)n["f"+o]=o+111;for(o=0;o<10;o++)n["numpad "+o]=o+96;var u=e.names=e.title={};for(o in n)u[n[o]]=o;for(var l in a)n[l]=a[l]});Ao.code;Ao.codes;Ao.aliases;var KD=Ao.names;Ao.title;var ph={"+":"plus","left command":"meta","right command":"meta"},hh={shift:1,ctrl:2,alt:3,meta:4};function K0(t,e){var r=(KD[t]||e||"").toLowerCase();for(var n in ph)r=r.replace(n,ph[n]);return r.replace(/\s/g,"")}function j0(t,e){e===void 0&&(e=K0(t.keyCode,t.key));var r=jD(t);return r.indexOf(e)===-1&&r.push(e),r.filter(Boolean)}function jD(t){var e=[t.shiftKey&&"shift",t.ctrlKey&&"ctrl",t.altKey&&"alt",t.metaKey&&"meta"];return e.filter(Boolean)}function gh(t){var e=t.slice();return e.sort(function(r,n){var a=hh[r]||5,o=hh[n]||5;return a-o}),e}var mh,ZD=function(t){XD(e,t);function e(n){n===void 0&&(n=window);var a=t.call(this)||this;return a.container=n,a.ctrlKey=!1,a.altKey=!1,a.shiftKey=!1,a.metaKey=!1,a.clear=function(){return a.ctrlKey=!1,a.altKey=!1,a.shiftKey=!1,a.metaKey=!1,a},a.keydownEvent=function(o){a.triggerEvent("keydown",o)},a.keyupEvent=function(o){a.triggerEvent("keyup",o)},a.blur=function(){a.clear(),a.trigger("blur")},ar(n,"blur",a.blur),ar(n,"keydown",a.keydownEvent),ar(n,"keyup",a.keyupEvent),a}var r=e.prototype;return Object.defineProperty(e,"global",{get:function(){return mh||(mh=new e)},enumerable:!1,configurable:!0}),e.setGlobal=function(){return this.global},r.destroy=function(){var n=this.container;this.clear(),this.off(),Qe(n,"blur",this.blur),Qe(n,"keydown",this.keydownEvent),Qe(n,"keyup",this.keyupEvent)},r.keydown=function(n,a){return this.addEvent("keydown",n,a)},r.offKeydown=function(n,a){return this.removeEvent("keydown",n,a)},r.offKeyup=function(n,a){return this.removeEvent("keyup",n,a)},r.keyup=function(n,a){return this.addEvent("keyup",n,a)},r.addEvent=function(n,a,o){return We(a)?this.on("".concat(n,".").concat(gh(a).join(".")),o):mr(a)?this.on("".concat(n,".").concat(a),o):this.on(n,a),this},r.removeEvent=function(n,a,o){return We(a)?this.off("".concat(n,".").concat(gh(a).join(".")),o):mr(a)?this.off("".concat(n,".").concat(a),o):this.off(n,a),this},r.triggerEvent=function(n,a){this.ctrlKey=a.ctrlKey,this.shiftKey=a.shiftKey,this.altKey=a.altKey,this.metaKey=a.metaKey;var o=K0(a.keyCode,a.key),u=o==="ctrl"||o==="shift"||o==="meta"||o==="alt",l={key:o,isToggle:u,inputEvent:a,keyCode:a.keyCode,ctrlKey:a.ctrlKey,altKey:a.altKey,shiftKey:a.shiftKey,metaKey:a.metaKey};this.trigger(n,l),this.trigger("".concat(n,".").concat(o),l);var c=j0(a,o);c.length>1&&this.trigger("".concat(n,".").concat(c.join(".")),l)},e}(Oi),Z0=ZD,Wc=function(t,e){return Wc=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(r[a]=n[a])},Wc(t,e)};function Q0(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");Wc(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var nr=function(){return nr=Object.assign||function(e){for(var r,n=1,a=arguments.length;n<a;n++){r=arguments[n];for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(e[o]=r[o])}return e},nr.apply(this,arguments)};function QD(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,n=Object.getOwnPropertySymbols(t);a<n.length;a++)e.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(t,n[a])&&(r[n[a]]=t[n[a]]);return r}function JD(t,e,r,n){var a=arguments.length,o=a<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,r):n,u;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(t,e,r,n);else for(var l=t.length-1;l>=0;l--)(u=t[l])&&(o=(a<3?u(o):a>3?u(e,r,o):u(e,r))||o);return a>3&&o&&Object.defineProperty(e,r,o),o}function Ns(t,e,r){if(r||arguments.length===2)for(var n=0,a=e.length,o;n<a;n++)(o||!(n in e))&&(o||(o=Array.prototype.slice.call(e,0,n)),o[n]=e[n]);return t.concat(o||Array.prototype.slice.call(e))}function tT(t){if("touches"in t){var e=t.touches[0]||t.changedTouches[0];return{clientX:e.clientX,clientY:e.clientY}}else return{clientX:t.clientX,clientY:t.clientY}}function eT(t){if(typeof Map=="undefined")return t.filter(function(r,n){return t.indexOf(r)===n});var e=new Map;return t.filter(function(r){return e.has(r)?!1:(e.set(r,!0),!0)})}function bh(t,e){return document.elementFromPoint&&document.elementFromPoint(t,e)||null}function J0(t,e,r){var n=t.tag,a=t.children,o=t.attributes,u=t.className,l=t.style,c=e||document.createElement(n);for(var f in o)c.setAttribute(f,o[f]);var v=c.children;if(a.forEach(function(p,g){J0(p,v[g],c)}),u&&u.split(" ").forEach(function(p){Ve(c,p)||nf(c,p)}),l){var h=c.style;for(var f in l)h[f]=l[f]}return!e&&r&&r.appendChild(c),c}function rT(t,e){for(var r=[],n=2;n<arguments.length;n++)r[n-2]=arguments[n];var a=e||{},o=a.className,u=o===void 0?"":o,l=a.style,c=l===void 0?{}:l,f=QD(a,["className","style"]);return{tag:t,className:u,style:c,attributes:f,children:r}}function rc(t,e,r){t!==e&&r(t,e)}function yh(t,e,r){var n;r===void 0&&(r=t.data.boundArea);var a=t.distX,o=a===void 0?0:a,u=t.distY,l=u===void 0?0:u,c=t.data,f=c.startX,v=c.startY;if(e>0){var h=Math.sqrt((o*o+l*l)/(1+e*e)),p=e*h;o=(o>=0?1:-1)*p,l=(l>=0?1:-1)*h}var g=Math.abs(o),m=Math.abs(l),y=o<0?f-r.left:r.right-f,S=l<0?v-r.top:r.bottom-v;n=mg([g,m],[0,0],[y,S],!!e),g=n[0],m=n[1],o=(o>=0?1:-1)*g,l=(l>=0?1:-1)*m;var _=Math.min(0,o),E=Math.min(0,l),x=f+_,C=v+E;return{left:x,top:C,right:x+g,bottom:C+m,width:g,height:m}}function nc(t){var e=t.getBoundingClientRect(),r=e.left,n=e.top,a=e.width,o=e.height;return{pos1:[r,n],pos2:[r+a,n],pos3:[r,n+o],pos4:[r+a,n+o]}}function Sh(t,e,r){var n=so(t,e),a=n.list,o=n.prevList,u=n.added,l=n.removed,c=n.maintained;return Ns(Ns(Ns([],u.map(function(f){return a[f]}),!0),l.map(function(f){return o[f]}),!0),r?c.map(function(f){var v=f[1];return a[v]}):[],!0)}var tm=Gg(`
:host {
    position: fixed;
    display: none;
    border: 1px solid #4af;
    background: rgba(68, 170, 255, 0.5);
    pointer-events: none;
    will-change: transform;
    z-index: 100;
}
`),nT="selecto-selection ".concat(tm.className),qf=["boundContainer","selectableTargets","selectByClick","selectFromInside","continueSelect","continueSelectWithoutDeselect","toggleContinueSelect","toggleContinueSelectWithoutDeselect","keyContainer","hitRate","scrollOptions","checkInput","preventDefault","ratio","getElementRect","preventDragFromInside","rootContainer","dragCondition","clickBySelectEnd"],_h=Ns(["dragContainer","cspNonce","preventClickEventOnDrag","preventClickEventOnDragStart","preventRightClick"],qf,!0),aT=["dragStart","drag","dragEnd","selectStart","select","selectEnd","keydown","keyup","scroll"],iT=["clickTarget","getSelectableElements","setSelectedTargets","getElementPoints","getSelectedTargets","findSelectableTargets","triggerDragStart","checkScroll","selectTargetsByPoints","setSelectedTargetsByPoints"],oT=function(t){Q0(e,t);function e(n){n===void 0&&(n={});var a=t.call(this)||this;a.selectedTargets=[],a.dragScroll=new Fg,a._onDragStart=function(l,c){var f=l.data,v=l.clientX,h=l.clientY,p=l.inputEvent,g=a.options,m=g.selectFromInside,y=g.selectByClick,S=g.rootContainer,_=g.boundContainer,E=g.preventDragFromInside,x=E===void 0?!0:E,C=g.clickBySelectEnd,R=g.dragCondition;if(R&&!R(l)){l.stop();return}f.data={},f.innerWidth=window.innerWidth,f.innerHeight=window.innerHeight,a.findSelectableTargets(f),f.startSelectedTargets=a.selectedTargets,f.scaleMatrix=df(),f.containerX=0,f.containerY=0;var D={left:-1/0,top:-1/0,right:1/0,bottom:1/0};if(S){var k=a.container.getBoundingClientRect();f.containerX=k.left,f.containerY=k.top,f.scaleMatrix=qE(a.container,S)}if(_){var I=vn(_)&&"element"in _?nr({left:!0,top:!0,bottom:!0,right:!0},_):{element:_,left:!0,top:!0,bottom:!0,right:!0},O=I.element,A=void 0;if(O){mr(O)?A=document.querySelector(O):O===!0?A=a.container:A=O;var V=A.getBoundingClientRect();I.left&&(D.left=V.left),I.top&&(D.top=V.top),I.right&&(D.right=V.right),I.bottom&&(D.bottom=V.bottom)}}f.boundArea=D;var z={left:v,top:h,right:v,bottom:h,width:0,height:0},L=[];if(!m||y&&!C){var U=a._findElement(c||bh(v,h),f.selectableTargets);L=U?[U]:[]}var H=L.length>0,et=!m&&H;if(et&&!y)return l.stop(),!1;var nt=p.type,ot=nt==="mousedown"||nt==="touchstart",Z=!l.isClick&&ot?a.emit("dragStart",nr(nr({},l),{data:f.data})):!0;if(!Z)return l.stop(),!1;if(a.continueSelect?(L=Sh(a.selectedTargets,L,a.continueSelectWithoutDeselect),f.startPassedTargets=a.selectedTargets):f.startPassedTargets=[],a._select(L,z,l,!0),f.startX=v,f.startY=h,f.selectFlag=!1,f.preventDragFromInside=!1,p.target){var N=$s(f.scaleMatrix,[v-f.containerX,h-f.containerY]);a.target.style.cssText+="position: ".concat(S?"absolute":"fixed",";")+"left:0px;top:0px;"+"transform: translate(".concat(N[0],"px, ").concat(N[1],"px)")}if(et&&y&&!C)p.preventDefault(),x&&(a._selectEnd(f.startSelectedTargets,f.startPassedTargets,z,l),f.preventDragFromInside=!0);else{f.selectFlag=!0,nt==="touchstart"&&p.preventDefault();var K=a.options.scrollOptions;K&&K.container&&a.dragScroll.dragStart(l,K),C&&(f.selectFlag=!1,l.preventDrag())}return!0},a._onDrag=function(l){if(l.data.selectFlag){var c=a.scrollOptions;if((c==null?void 0:c.container)&&a.dragScroll.drag(l,c))return}a._checkSelected(l)},a._onDragEnd=function(l){var c=l.data,f=l.inputEvent,v=yh(l,a.options.ratio),h=c.selectFlag;if(f&&a.emit("dragEnd",nr(nr({isDouble:!!l.isDouble,isClick:!!l.isClick,isDrag:!1,isSelect:h},l),{data:c.data,rect:v})),a.target.style.cssText+="display: none;",h)c.selectFlag=!1,a.dragScroll.dragEnd();else if(a.selectByClick&&a.clickBySelectEnd){var p=a._findElement(bh(l.clientX,l.clientY),c.selectableTargets);a._select(p?[p]:[],v,l)}c.preventDragFromInside||a._selectEnd(c.startSelectedTargets,c.startPassedTargets,v,l)},a._onKeyDown=function(l){var c=a.options,f=!1;if(!a._keydownContinueSelect){var v=a._sameCombiKey(l,c.toggleContinueSelect);a._keydownContinueSelect=v,f=v}if(!a._keydownContinueSelectWithoutDeselection){var v=a._sameCombiKey(l,c.toggleContinueSelectWithoutDeselect);a._keydownContinueSelectWithoutDeselection=v,f=f||v}!f||a.emit("keydown",{keydownContinueSelect:a._keydownContinueSelect,keydownContinueSelectWithoutDeselection:a._keydownContinueSelectWithoutDeselection})},a._onKeyUp=function(l){var c=a.options,f=!1;if(a._keydownContinueSelect){var v=a._sameCombiKey(l,c.toggleContinueSelect,!0);a._keydownContinueSelect=!v,f=v}if(a._keydownContinueSelectWithoutDeselection){var v=a._sameCombiKey(l,c.toggleContinueSelectWithoutDeselect,!0);a._keydownContinueSelectWithoutDeselection=!v,f=f||v}!f||a.emit("keyup",{keydownContinueSelect:a._keydownContinueSelect,keydownContinueSelectWithoutDeselection:a._keydownContinueSelectWithoutDeselection})},a._onBlur=function(){(a._keydownContinueSelect||a._keydownContinueSelectWithoutDeselection)&&(a._keydownContinueSelect=!1,a._keydownContinueSelectWithoutDeselection=!1,a.emit("keyup",{keydownContinueSelect:a._keydownContinueSelect,keydownContinueSelectWithoutDeselection:a._keydownContinueSelectWithoutDeselection}))},a._onDocumentSelectStart=function(l){if(!!a.gesto.isFlag()){var c=a.dragContainer;c===window&&(c=document.documentElement);var f=c instanceof Element?[c]:[].slice.call(c),v=l.target;f.some(function(h){if(h===v||h.contains(v))return l.preventDefault(),!0})}},a.target=n.portalContainer;var o=n.container;a.options=nr({portalContainer:null,container:null,dragContainer:null,selectableTargets:[],selectByClick:!0,selectFromInside:!0,clickBySelectEnd:!1,hitRate:100,continueSelect:!1,continueSelectWithoutDeselect:!1,toggleContinueSelect:null,toggleContinueSelectWithoutDeselect:null,keyContainer:null,scrollOptions:void 0,checkInput:!1,preventDefault:!1,boundContainer:!1,preventDragFromInside:!0,dragCondition:null,rootContainer:null,getElementRect:nc,cspNonce:"",ratio:0},n);var u=a.options.portalContainer;return u&&(o=u.parentElement),a.container=o||document.body,a.initElement(),a.initDragScroll(),a.setKeyController(),a}var r=e.prototype;return r.setSelectedTargets=function(n){var a=this.selectedTargets,o=so(a,n),u=o.added,l=o.removed,c=o.prevList,f=o.list;return this.selectedTargets=n,{added:u.map(function(v){return f[v]}),removed:l.map(function(v){return c[v]}),beforeSelected:a,selected:n}},r.setSelectedTargetsByPoints=function(n,a){var o=Math.min(n[0],a[0]),u=Math.min(n[1],a[1]),l=Math.max(n[0],a[0]),c=Math.max(n[1],a[1]),f={left:o,top:u,right:l,bottom:c,width:l-o,height:c-u},v={ignoreClick:!0};this.findSelectableTargets(v);var h=this.hitTest(f,v),p=this.setSelectedTargets(h);return nr(nr({},p),{rect:f})},r.selectTargetsByPoints=function(n,a){var o=new MouseEvent("mousedown",{clientX:n[0],clientY:n[1],cancelable:!0,bubbles:!0}),u=new MouseEvent("mousemove",{clientX:a[0],clientY:a[1],cancelable:!0,bubbles:!0}),l=new MouseEvent("mousemove",{clientX:a[0],clientY:a[1],cancelable:!0,bubbles:!0}),c=this.gesto,f=c.onDragStart(o);f!==!1&&(c.onDrag(u),c.onDragEnd(l))},r.getSelectedTargets=function(){return this.selectedTargets},r.triggerDragStart=function(n){return this.gesto.triggerDragStart(n),this},r.destroy=function(){this.off(),this.keycon&&this.keycon.destroy(),this.gesto.unset(),this.injectResult.destroy(),Qe(document,"selectstart",this._onDocumentSelectStart),this.keycon=null,this.gesto=null,this.injectResult=null,this.target=null,this.container=null,this.options=null},r.getElementPoints=function(n){var a=this.getElementRect||nc,o=a(n),u=[o.pos1,o.pos2,o.pos4,o.pos3];if(a!==nc){var l=n.getBoundingClientRect();return wc(u,l)}return u},r.getSelectableElements=function(){var n=[];return this.options.selectableTargets.forEach(function(a){if(vn(a))n.push(a);else{var o=[].slice.call(document.querySelectorAll(a));o.forEach(function(u){n.push(u)})}}),n},r.checkScroll=function(){if(!!this.gesto.isFlag()){var n=this.scrollOptions;n!=null&&n.container&&this.dragScroll.checkScroll(nr({inputEvent:this.gesto.getCurrentEvent()},n))}},r.findSelectableTargets=function(n){var a=this;n===void 0&&(n=this.gesto.getEventData());var o=this.getSelectableElements(),u=o.map(function(l){return a.getElementPoints(l)});n.selectableTargets=o,n.selectablePoints=u,this._refreshGroups(n)},r.clickTarget=function(n,a){var o=tT(n),u=o.clientX,l=o.clientY,c={data:{selectFlag:!1},clientX:u,clientY:l,inputEvent:n,isClick:!0,stop:function(){return!1}};return this._onDragStart(c,a)&&this._onDragEnd(c),this},r.setKeyController=function(){var n=this.options,a=n.keyContainer,o=n.toggleContinueSelect,u=n.toggleContinueSelectWithoutDeselect;this.keycon&&(this.keycon.destroy(),this.keycon=null),(o||u)&&(this.keycon=new Z0(a||window),this.keycon.keydown(this._onKeyDown).keyup(this._onKeyUp).on("blur",this._onBlur))},r.setKeyEvent=function(){var n=this.options,a=n.toggleContinueSelect,o=n.toggleContinueSelectWithoutDeselect;!a&&!o||this.keycon||this.setKeyController()},r.setKeyContainer=function(n){var a=this,o=this.options;rc(o.keyContainer,n,function(){o.keyContainer=n,a.setKeyController()})},r.getContinueSelect=function(){var n=this.options,a=n.continueSelect,o=n.toggleContinueSelect;return!o||!this._keydownContinueSelect?a:!a},r.getContinueSelectWithoutDeselect=function(){var n=this.options,a=n.continueSelectWithoutDeselect,o=n.toggleContinueSelectWithoutDeselect;return!o||!this._keydownContinueSelectWithoutDeselection?a:!a},r.setToggleContinueSelect=function(n){var a=this,o=this.options;rc(o.toggleContinueSelect,n,function(){o.toggleContinueSelect=n,a.setKeyEvent()})},r.setToggleContinueSelectWithoutDeselect=function(n){var a=this,o=this.options;rc(o.toggleContinueSelectWithoutDeselect,n,function(){o.toggleContinueSelectWithoutDeselect=n,a.setKeyEvent()})},r.setPreventDefault=function(n){this.gesto.options.preventDefault=n},r.setCheckInput=function(n){this.gesto.options.checkInput=n},r.initElement=function(){this.target=J0(rT("div",{className:nT}),this.target,this.container);var n=this.target,a=this.options,o=a.dragContainer,u=a.checkInput,l=a.preventDefault,c=a.preventClickEventOnDragStart,f=a.preventClickEventOnDrag,v=a.preventClickEventByCondition,h=a.preventRightClick,p=h===void 0?!0:h;this.dragContainer=typeof o=="string"?[].slice.call(document.querySelectorAll(o)):o||this.target.parentNode,this.gesto=new $g(this.dragContainer,{checkWindowBlur:!0,container:window,checkInput:u,preventDefault:l,preventClickEventOnDragStart:c,preventClickEventOnDrag:f,preventClickEventByCondition:v,preventRightClick:p}).on({dragStart:this._onDragStart,drag:this._onDrag,dragEnd:this._onDragEnd}),ar(document,"selectstart",this._onDocumentSelectStart),this.injectResult=tm.inject(n,{nonce:this.options.cspNonce})},r.hitTest=function(n,a){var o=this.options,u=o.hitRate,l=o.selectByClick,c=n.left,f=n.top,v=n.right,h=n.bottom,p=a.innerGroups,g=a.innerWidth,m=a.innerHeight,y=a.clientX,S=a.clientY,_=a.ignoreClick,E=[[c,f],[v,f],[v,h],[c,h]],x=function(H){var et=_?!1:nu([y,S],H);if(l&&et)return!0;var nt=Lg(E,H);if(!nt.length)return!1;var ot=ru(nt),Z=ru(H),N=ki("".concat(u));if(N.unit==="px")return ot>=N.value;var K=eu(Math.round(ot/Z*100),0,100);return K>=Math.min(100,N.value)};if(!p){var C=a.selectableTargets,R=a.selectablePoints;return C.filter(function(H,et){return x(R[et])})}for(var D=[],k=Math.floor(c/g),I=Math.floor(v/g),O=Math.floor(f/m),A=Math.floor(h/m),V=k;V<=I;++V){var z=p[V];if(!!z)for(var L=function(H){var et=z[H];if(!et)return"continue";var nt=et.points,ot=et.targets;nt.forEach(function(Z,N){x(Z)&&D.push(ot[N])})},U=O;U<=A;++U)L(U)}return eT(D)},r.initDragScroll=function(){var n=this;this.dragScroll.on("scroll",function(a){var o=a.container,u=a.direction;n.emit("scroll",{container:o,direction:u})}).on("move",function(a){var o=a.offsetX,u=a.offsetY,l=a.inputEvent,c=n.gesto;if(!(!c||!c.isFlag())){var f=n.gesto.getEventData(),v=f.boundArea;f.startX-=o,f.startY-=u,f.selectablePoints.forEach(function(h){h.forEach(function(p){p[0]-=o,p[1]-=u})}),n._refreshGroups(f),v.left-=o,v.right-=o,v.top-=u,v.bottom-=u,n.gesto.scrollBy(o,u,l.inputEvent,!1),n._checkSelected(n.gesto.getCurrentEvent())}})},r._select=function(n,a,o,u){var l=o.inputEvent,c=o.data,f=this.setSelectedTargets(n);u&&this.emit("selectStart",nr(nr({},f),{rect:a,inputEvent:l,data:c.data})),(f.added.length||f.removed.length)&&this.emit("select",nr(nr({},f),{rect:a,inputEvent:l,data:c.data}))},r._selectEnd=function(n,a,o,u){var l=u.inputEvent,c=u.isDouble,f=u.data,v=so(n,this.selectedTargets),h=v.added,p=v.removed,g=v.prevList,m=v.list,y=so(a,this.selectedTargets),S=y.added,_=y.removed,E=y.prevList,x=y.list,C=l&&l.type,R=C==="mousedown"||C==="touchstart";this.emit("selectEnd",{startSelected:n,beforeSelected:a,selected:this.selectedTargets,added:h.map(function(D){return m[D]}),removed:p.map(function(D){return g[D]}),afterAdded:S.map(function(D){return x[D]}),afterRemoved:_.map(function(D){return E[D]}),isDragStart:R,isClick:!!u.isClick,isDouble:!!c,rect:o,inputEvent:l,data:f.data})},r._checkSelected=function(n,a){a===void 0&&(a=yh(n,this.options.ratio));var o=n.data,u=a.top,l=a.left,c=a.width,f=a.height,v=o.selectFlag,h=o.containerX,p=o.containerY,g=o.scaleMatrix,m=$s(g,[l-h,u-p]),y=$s(g,[c,f]),S=[];if(v){this.target.style.cssText+="display: block;left:0px;top:0px;"+"transform: translate(".concat(m[0],"px, ").concat(m[1],"px);")+"width:".concat(y[0],"px;height:").concat(y[1],"px;");var _=this.hitTest(a,o);S=Sh(o.startPassedTargets,_,this.continueSelect&&this.continueSelectWithoutDeselect)}var E=this.emit("drag",nr(nr({},n),{data:o.data,isSelect:v,rect:a}));if(E===!1){this.target.style.cssText+="display: none;",n.stop();return}v&&this._select(S,a,n)},r._sameCombiKey=function(n,a,o){if(!a)return!1;var u=j0(n.inputEvent,n.key),l=[].concat(a),c=We(l[0])?l:[l];if(o){var f=n.key;return c.some(function(v){return v.some(function(h){return h===f})})}return c.some(function(v){return v.every(function(h){return u.indexOf(h)>-1})})},r._findElement=function(n,a){for(var o=n;o&&!(a.indexOf(o)>-1);)o=o.parentElement;return o},r._refreshGroups=function(n){var a=n.innerWidth,o=n.innerHeight;if(!a||!o)n.innerGroups=null;else{var u=n.selectableTargets,l=n.selectablePoints,c={};l.forEach(function(f,v){var h=1/0,p=-1/0,g=1/0,m=-1/0;f.forEach(function(C){var R=Math.floor(C[0]/a),D=Math.floor(C[1]/o);h=Math.min(R,h),p=Math.max(R,p),g=Math.min(D,g),m=Math.max(D,m)});for(var y=h;y<=p;++y)for(var S=g;S<=m;++S){c[y]=c[y]||{},c[y][S]=c[y][S]||{points:[],targets:[]};var _=c[y][S],E=_.targets,x=_.points;E.push(u[v]),x.push(f)}}),n.innerGroups=c}},e=JD([lc(qf,function(n,a){var o={enumerable:!0,configurable:!0,get:function(){return this.options[a]}},u=fc("get ".concat(a));n[u]?o.get=function(){return this[u]()}:o.get=function(){return this.options[a]};var l=fc("set ".concat(a));n[l]?o.set=function(f){this[l](f)}:o.set=function(f){this.options[a]=f},Object.defineProperty(n,a,o)})],e),e}(Oi),sT=function(t){Q0(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e}(oT),uT=sT,fo=function(){return fo=Object.assign||function(e){for(var r,n=1,a=arguments.length;n<a;n++){r=arguments[n];for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(e[o]=r[o])}return e},fo.apply(this,arguments)},em={};iT.forEach(function(t){em[t]=function(){for(var e,r=[],n=0;n<arguments.length;n++)r[n]=arguments[n];return(e=this.$_selecto)[t].apply(e,r)}});var rm={};qf.forEach(function(t){rm[t]=function(e){return this.$_selecto[t]=e}});var $f={name:"selecto",methods:em,props:_h,watch:rm,mounted:function(){var t=this,e=this.$props,r={};_h.forEach(function(a){var o=e[a];Ri(o)||(r[a]=o)});var n=new uT(fo(fo({},r),{portalContainer:this.$refs.selectoElement}));this.$_selecto=n,aT.forEach(function(a){n.on(a,function(o){t.$emit(a,fo({},o))})})},beforeUnmount:function(){this.$_selecto.destroy()}};const lT={ref:"selectoElement"};function cT(t,e,r,n,a,o){return jt(),xe("div",lT,null,512)}$f.render=cT;$f.__file="src/Selecto.vue";var Ji=typeof globalThis!="undefined"?globalThis:typeof window!="undefined"?window:typeof global!="undefined"?global:typeof self!="undefined"?self:{},Nn={exports:{}};/**
 * @license
 * Lodash <https://lodash.com/>
 * Copyright OpenJS Foundation and other contributors <https://openjsf.org/>
 * Released under MIT license <https://lodash.com/license>
 * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
 * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
 */(function(t,e){(function(){var r,n="4.17.21",a=200,o="Unsupported core-js use. Try https://npms.io/search?q=ponyfill.",u="Expected a function",l="Invalid `variable` option passed into `_.template`",c="__lodash_hash_undefined__",f=500,v="__lodash_placeholder__",h=1,p=2,g=4,m=1,y=2,S=1,_=2,E=4,x=8,C=16,R=32,D=64,k=128,I=256,O=512,A=30,V="...",z=800,L=16,U=1,H=2,et=3,nt=1/0,ot=9007199254740991,Z=17976931348623157e292,N=0/0,K=4294967295,ut=K-1,lt=K>>>1,mt=[["ary",k],["bind",S],["bindKey",_],["curry",x],["curryRight",C],["flip",O],["partial",R],["partialRight",D],["rearg",I]],yt="[object Arguments]",gt="[object Array]",St="[object AsyncFunction]",Rt="[object Boolean]",P="[object Date]",tt="[object DOMException]",ht="[object Error]",Dt="[object Function]",kt="[object GeneratorFunction]",wt="[object Map]",Ot="[object Number]",zt="[object Null]",G="[object Object]",J="[object Promise]",pt="[object Proxy]",Ct="[object RegExp]",qt="[object Set]",ue="[object String]",st="[object Symbol]",Mt="[object Undefined]",Lt="[object WeakMap]",le="[object WeakSet]",oe="[object ArrayBuffer]",Yt="[object DataView]",Nt="[object Float32Array]",ve="[object Float64Array]",ze="[object Int8Array]",je="[object Int16Array]",vt="[object Int32Array]",Kt="[object Uint8Array]",ae="[object Uint8ClampedArray]",Qt="[object Uint16Array]",be="[object Uint32Array]",ee=/\b__p \+= '';/g,Ee=/\b(__p \+=) '' \+/g,Dr=/(__e\(.*?\)|\b__t\)) \+\n'';/g,Mn=/&(?:amp|lt|gt|quot|#39);/g,gn=/[&<>"']/g,Dn=RegExp(Mn.source),Xa=RegExp(gn.source),Xn=/<%-([\s\S]+?)%>/g,mn=/<%([\s\S]+?)%>/g,Lr=/<%=([\s\S]+?)%>/g,Tn=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Ua=/^\w*$/,Un=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Kn=/[\\^$.*+?()[\]{}|]/g,Ka=RegExp(Kn.source),jn=/^\s+/,ja=/\s/,Za=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,Qa=/\{\n\/\* \[wrapped with (.+)\] \*/,tn=/,? & /,en=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,He=/[()=,{}\[\]\/\s]/,Tr=/\\(\\)?/g,ba=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,bn=/\w*$/,Rn=/^[-+]0x[0-9a-f]+$/i,kn=/^0b[01]+$/i,ya=/^\[object .+?Constructor\]$/,Sa=/^0o[0-7]+$/i,F=/^(?:0|[1-9]\d*)$/,It=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,xt=/($^)/,$=/['\n\r\u2028\u2029\\]/g,it="\\ud800-\\udfff",ct="\\u0300-\\u036f",_t="\\ufe20-\\ufe2f",Vt="\\u20d0-\\u20ff",ge=ct+_t+Vt,ye="\\u2700-\\u27bf",$e="a-z\\xdf-\\xf6\\xf8-\\xff",Zn="\\xac\\xb1\\xd7\\xf7",In="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",Bo="\\u2000-\\u206f",Po=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",Vf="A-Z\\xc0-\\xd6\\xd8-\\xde",Wf="\\ufe0e\\ufe0f",Hf=Zn+In+Bo+Po,Du="['\u2019]",vm="["+it+"]",Yf="["+Hf+"]",zo="["+ge+"]",Xf="\\d+",pm="["+ye+"]",Uf="["+$e+"]",Kf="[^"+it+Hf+Xf+ye+$e+Vf+"]",Tu="\\ud83c[\\udffb-\\udfff]",hm="(?:"+zo+"|"+Tu+")",jf="[^"+it+"]",Ru="(?:\\ud83c[\\udde6-\\uddff]){2}",ku="[\\ud800-\\udbff][\\udc00-\\udfff]",Ja="["+Vf+"]",Zf="\\u200d",Qf="(?:"+Uf+"|"+Kf+")",gm="(?:"+Ja+"|"+Kf+")",Jf="(?:"+Du+"(?:d|ll|m|re|s|t|ve))?",td="(?:"+Du+"(?:D|LL|M|RE|S|T|VE))?",ed=hm+"?",rd="["+Wf+"]?",mm="(?:"+Zf+"(?:"+[jf,Ru,ku].join("|")+")"+rd+ed+")*",bm="\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",ym="\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])",nd=rd+ed+mm,Sm="(?:"+[pm,Ru,ku].join("|")+")"+nd,_m="(?:"+[jf+zo+"?",zo,Ru,ku,vm].join("|")+")",wm=RegExp(Du,"g"),xm=RegExp(zo,"g"),Iu=RegExp(Tu+"(?="+Tu+")|"+_m+nd,"g"),Cm=RegExp([Ja+"?"+Uf+"+"+Jf+"(?="+[Yf,Ja,"$"].join("|")+")",gm+"+"+td+"(?="+[Yf,Ja+Qf,"$"].join("|")+")",Ja+"?"+Qf+"+"+Jf,Ja+"+"+td,ym,bm,Xf,Sm].join("|"),"g"),Em=RegExp("["+Zf+it+ge+Wf+"]"),Mm=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,Dm=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],Tm=-1,Te={};Te[Nt]=Te[ve]=Te[ze]=Te[je]=Te[vt]=Te[Kt]=Te[ae]=Te[Qt]=Te[be]=!0,Te[yt]=Te[gt]=Te[oe]=Te[Rt]=Te[Yt]=Te[P]=Te[ht]=Te[Dt]=Te[wt]=Te[Ot]=Te[G]=Te[Ct]=Te[qt]=Te[ue]=Te[Lt]=!1;var Me={};Me[yt]=Me[gt]=Me[oe]=Me[Yt]=Me[Rt]=Me[P]=Me[Nt]=Me[ve]=Me[ze]=Me[je]=Me[vt]=Me[wt]=Me[Ot]=Me[G]=Me[Ct]=Me[qt]=Me[ue]=Me[st]=Me[Kt]=Me[ae]=Me[Qt]=Me[be]=!0,Me[ht]=Me[Dt]=Me[Lt]=!1;var Rm={\u00C0:"A",\u00C1:"A",\u00C2:"A",\u00C3:"A",\u00C4:"A",\u00C5:"A",\u00E0:"a",\u00E1:"a",\u00E2:"a",\u00E3:"a",\u00E4:"a",\u00E5:"a",\u00C7:"C",\u00E7:"c",\u00D0:"D",\u00F0:"d",\u00C8:"E",\u00C9:"E",\u00CA:"E",\u00CB:"E",\u00E8:"e",\u00E9:"e",\u00EA:"e",\u00EB:"e",\u00CC:"I",\u00CD:"I",\u00CE:"I",\u00CF:"I",\u00EC:"i",\u00ED:"i",\u00EE:"i",\u00EF:"i",\u00D1:"N",\u00F1:"n",\u00D2:"O",\u00D3:"O",\u00D4:"O",\u00D5:"O",\u00D6:"O",\u00D8:"O",\u00F2:"o",\u00F3:"o",\u00F4:"o",\u00F5:"o",\u00F6:"o",\u00F8:"o",\u00D9:"U",\u00DA:"U",\u00DB:"U",\u00DC:"U",\u00F9:"u",\u00FA:"u",\u00FB:"u",\u00FC:"u",\u00DD:"Y",\u00FD:"y",\u00FF:"y",\u00C6:"Ae",\u00E6:"ae",\u00DE:"Th",\u00FE:"th",\u00DF:"ss",\u0100:"A",\u0102:"A",\u0104:"A",\u0101:"a",\u0103:"a",\u0105:"a",\u0106:"C",\u0108:"C",\u010A:"C",\u010C:"C",\u0107:"c",\u0109:"c",\u010B:"c",\u010D:"c",\u010E:"D",\u0110:"D",\u010F:"d",\u0111:"d",\u0112:"E",\u0114:"E",\u0116:"E",\u0118:"E",\u011A:"E",\u0113:"e",\u0115:"e",\u0117:"e",\u0119:"e",\u011B:"e",\u011C:"G",\u011E:"G",\u0120:"G",\u0122:"G",\u011D:"g",\u011F:"g",\u0121:"g",\u0123:"g",\u0124:"H",\u0126:"H",\u0125:"h",\u0127:"h",\u0128:"I",\u012A:"I",\u012C:"I",\u012E:"I",\u0130:"I",\u0129:"i",\u012B:"i",\u012D:"i",\u012F:"i",\u0131:"i",\u0134:"J",\u0135:"j",\u0136:"K",\u0137:"k",\u0138:"k",\u0139:"L",\u013B:"L",\u013D:"L",\u013F:"L",\u0141:"L",\u013A:"l",\u013C:"l",\u013E:"l",\u0140:"l",\u0142:"l",\u0143:"N",\u0145:"N",\u0147:"N",\u014A:"N",\u0144:"n",\u0146:"n",\u0148:"n",\u014B:"n",\u014C:"O",\u014E:"O",\u0150:"O",\u014D:"o",\u014F:"o",\u0151:"o",\u0154:"R",\u0156:"R",\u0158:"R",\u0155:"r",\u0157:"r",\u0159:"r",\u015A:"S",\u015C:"S",\u015E:"S",\u0160:"S",\u015B:"s",\u015D:"s",\u015F:"s",\u0161:"s",\u0162:"T",\u0164:"T",\u0166:"T",\u0163:"t",\u0165:"t",\u0167:"t",\u0168:"U",\u016A:"U",\u016C:"U",\u016E:"U",\u0170:"U",\u0172:"U",\u0169:"u",\u016B:"u",\u016D:"u",\u016F:"u",\u0171:"u",\u0173:"u",\u0174:"W",\u0175:"w",\u0176:"Y",\u0177:"y",\u0178:"Y",\u0179:"Z",\u017B:"Z",\u017D:"Z",\u017A:"z",\u017C:"z",\u017E:"z",\u0132:"IJ",\u0133:"ij",\u0152:"Oe",\u0153:"oe",\u0149:"'n",\u017F:"s"},km={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},Im={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"},Om={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},Am=parseFloat,Bm=parseInt,ad=typeof Ji=="object"&&Ji&&Ji.Object===Object&&Ji,Pm=typeof self=="object"&&self&&self.Object===Object&&self,er=ad||Pm||Function("return this")(),Ou=e&&!e.nodeType&&e,_a=Ou&&!0&&t&&!t.nodeType&&t,id=_a&&_a.exports===Ou,Au=id&&ad.process,Fr=function(){try{var W=_a&&_a.require&&_a.require("util").types;return W||Au&&Au.binding&&Au.binding("util")}catch{}}(),od=Fr&&Fr.isArrayBuffer,sd=Fr&&Fr.isDate,ud=Fr&&Fr.isMap,ld=Fr&&Fr.isRegExp,cd=Fr&&Fr.isSet,fd=Fr&&Fr.isTypedArray;function Rr(W,at,Q){switch(Q.length){case 0:return W.call(at);case 1:return W.call(at,Q[0]);case 2:return W.call(at,Q[0],Q[1]);case 3:return W.call(at,Q[0],Q[1],Q[2])}return W.apply(at,Q)}function zm(W,at,Q,Bt){for(var Jt=-1,me=W==null?0:W.length;++Jt<me;){var Ye=W[Jt];at(Bt,Ye,Q(Ye),W)}return Bt}function qr(W,at){for(var Q=-1,Bt=W==null?0:W.length;++Q<Bt&&at(W[Q],Q,W)!==!1;);return W}function Lm(W,at){for(var Q=W==null?0:W.length;Q--&&at(W[Q],Q,W)!==!1;);return W}function dd(W,at){for(var Q=-1,Bt=W==null?0:W.length;++Q<Bt;)if(!at(W[Q],Q,W))return!1;return!0}function Qn(W,at){for(var Q=-1,Bt=W==null?0:W.length,Jt=0,me=[];++Q<Bt;){var Ye=W[Q];at(Ye,Q,W)&&(me[Jt++]=Ye)}return me}function Lo(W,at){var Q=W==null?0:W.length;return!!Q&&ti(W,at,0)>-1}function Bu(W,at,Q){for(var Bt=-1,Jt=W==null?0:W.length;++Bt<Jt;)if(Q(at,W[Bt]))return!0;return!1}function Re(W,at){for(var Q=-1,Bt=W==null?0:W.length,Jt=Array(Bt);++Q<Bt;)Jt[Q]=at(W[Q],Q,W);return Jt}function Jn(W,at){for(var Q=-1,Bt=at.length,Jt=W.length;++Q<Bt;)W[Jt+Q]=at[Q];return W}function Pu(W,at,Q,Bt){var Jt=-1,me=W==null?0:W.length;for(Bt&&me&&(Q=W[++Jt]);++Jt<me;)Q=at(Q,W[Jt],Jt,W);return Q}function Fm(W,at,Q,Bt){var Jt=W==null?0:W.length;for(Bt&&Jt&&(Q=W[--Jt]);Jt--;)Q=at(Q,W[Jt],Jt,W);return Q}function zu(W,at){for(var Q=-1,Bt=W==null?0:W.length;++Q<Bt;)if(at(W[Q],Q,W))return!0;return!1}var qm=Lu("length");function $m(W){return W.split("")}function Gm(W){return W.match(en)||[]}function vd(W,at,Q){var Bt;return Q(W,function(Jt,me,Ye){if(at(Jt,me,Ye))return Bt=me,!1}),Bt}function Fo(W,at,Q,Bt){for(var Jt=W.length,me=Q+(Bt?1:-1);Bt?me--:++me<Jt;)if(at(W[me],me,W))return me;return-1}function ti(W,at,Q){return at===at?Jm(W,at,Q):Fo(W,pd,Q)}function Nm(W,at,Q,Bt){for(var Jt=Q-1,me=W.length;++Jt<me;)if(Bt(W[Jt],at))return Jt;return-1}function pd(W){return W!==W}function hd(W,at){var Q=W==null?0:W.length;return Q?qu(W,at)/Q:N}function Lu(W){return function(at){return at==null?r:at[W]}}function Fu(W){return function(at){return W==null?r:W[at]}}function gd(W,at,Q,Bt,Jt){return Jt(W,function(me,Ye,we){Q=Bt?(Bt=!1,me):at(Q,me,Ye,we)}),Q}function Vm(W,at){var Q=W.length;for(W.sort(at);Q--;)W[Q]=W[Q].value;return W}function qu(W,at){for(var Q,Bt=-1,Jt=W.length;++Bt<Jt;){var me=at(W[Bt]);me!==r&&(Q=Q===r?me:Q+me)}return Q}function $u(W,at){for(var Q=-1,Bt=Array(W);++Q<W;)Bt[Q]=at(Q);return Bt}function Wm(W,at){return Re(at,function(Q){return[Q,W[Q]]})}function md(W){return W&&W.slice(0,_d(W)+1).replace(jn,"")}function kr(W){return function(at){return W(at)}}function Gu(W,at){return Re(at,function(Q){return W[Q]})}function Pi(W,at){return W.has(at)}function bd(W,at){for(var Q=-1,Bt=W.length;++Q<Bt&&ti(at,W[Q],0)>-1;);return Q}function yd(W,at){for(var Q=W.length;Q--&&ti(at,W[Q],0)>-1;);return Q}function Hm(W,at){for(var Q=W.length,Bt=0;Q--;)W[Q]===at&&++Bt;return Bt}var Ym=Fu(Rm),Xm=Fu(km);function Um(W){return"\\"+Om[W]}function Km(W,at){return W==null?r:W[at]}function ei(W){return Em.test(W)}function jm(W){return Mm.test(W)}function Zm(W){for(var at,Q=[];!(at=W.next()).done;)Q.push(at.value);return Q}function Nu(W){var at=-1,Q=Array(W.size);return W.forEach(function(Bt,Jt){Q[++at]=[Jt,Bt]}),Q}function Sd(W,at){return function(Q){return W(at(Q))}}function ta(W,at){for(var Q=-1,Bt=W.length,Jt=0,me=[];++Q<Bt;){var Ye=W[Q];(Ye===at||Ye===v)&&(W[Q]=v,me[Jt++]=Q)}return me}function qo(W){var at=-1,Q=Array(W.size);return W.forEach(function(Bt){Q[++at]=Bt}),Q}function Qm(W){var at=-1,Q=Array(W.size);return W.forEach(function(Bt){Q[++at]=[Bt,Bt]}),Q}function Jm(W,at,Q){for(var Bt=Q-1,Jt=W.length;++Bt<Jt;)if(W[Bt]===at)return Bt;return-1}function t1(W,at,Q){for(var Bt=Q+1;Bt--;)if(W[Bt]===at)return Bt;return Bt}function ri(W){return ei(W)?r1(W):qm(W)}function rn(W){return ei(W)?n1(W):$m(W)}function _d(W){for(var at=W.length;at--&&ja.test(W.charAt(at)););return at}var e1=Fu(Im);function r1(W){for(var at=Iu.lastIndex=0;Iu.test(W);)++at;return at}function n1(W){return W.match(Iu)||[]}function a1(W){return W.match(Cm)||[]}var i1=function W(at){at=at==null?er:ni.defaults(er.Object(),at,ni.pick(er,Dm));var Q=at.Array,Bt=at.Date,Jt=at.Error,me=at.Function,Ye=at.Math,we=at.Object,Vu=at.RegExp,o1=at.String,$r=at.TypeError,$o=Q.prototype,s1=me.prototype,ai=we.prototype,Go=at["__core-js_shared__"],No=s1.toString,_e=ai.hasOwnProperty,u1=0,wd=function(){var i=/[^.]+$/.exec(Go&&Go.keys&&Go.keys.IE_PROTO||"");return i?"Symbol(src)_1."+i:""}(),Vo=ai.toString,l1=No.call(we),c1=er._,f1=Vu("^"+No.call(_e).replace(Kn,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Wo=id?at.Buffer:r,ea=at.Symbol,Ho=at.Uint8Array,xd=Wo?Wo.allocUnsafe:r,Yo=Sd(we.getPrototypeOf,we),Cd=we.create,Ed=ai.propertyIsEnumerable,Xo=$o.splice,Md=ea?ea.isConcatSpreadable:r,zi=ea?ea.iterator:r,wa=ea?ea.toStringTag:r,Uo=function(){try{var i=Da(we,"defineProperty");return i({},"",{}),i}catch{}}(),d1=at.clearTimeout!==er.clearTimeout&&at.clearTimeout,v1=Bt&&Bt.now!==er.Date.now&&Bt.now,p1=at.setTimeout!==er.setTimeout&&at.setTimeout,Ko=Ye.ceil,jo=Ye.floor,Wu=we.getOwnPropertySymbols,h1=Wo?Wo.isBuffer:r,Dd=at.isFinite,g1=$o.join,m1=Sd(we.keys,we),Xe=Ye.max,ur=Ye.min,b1=Bt.now,y1=at.parseInt,Td=Ye.random,S1=$o.reverse,Hu=Da(at,"DataView"),Li=Da(at,"Map"),Yu=Da(at,"Promise"),ii=Da(at,"Set"),Fi=Da(at,"WeakMap"),qi=Da(we,"create"),Zo=Fi&&new Fi,oi={},_1=Ta(Hu),w1=Ta(Li),x1=Ta(Yu),C1=Ta(ii),E1=Ta(Fi),Qo=ea?ea.prototype:r,$i=Qo?Qo.valueOf:r,Rd=Qo?Qo.toString:r;function M(i){if(Ae(i)&&!te(i)&&!(i instanceof de)){if(i instanceof Gr)return i;if(_e.call(i,"__wrapped__"))return kv(i)}return new Gr(i)}var si=function(){function i(){}return function(s){if(!ke(s))return{};if(Cd)return Cd(s);i.prototype=s;var d=new i;return i.prototype=r,d}}();function Jo(){}function Gr(i,s){this.__wrapped__=i,this.__actions__=[],this.__chain__=!!s,this.__index__=0,this.__values__=r}M.templateSettings={escape:Xn,evaluate:mn,interpolate:Lr,variable:"",imports:{_:M}},M.prototype=Jo.prototype,M.prototype.constructor=M,Gr.prototype=si(Jo.prototype),Gr.prototype.constructor=Gr;function de(i){this.__wrapped__=i,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=K,this.__views__=[]}function M1(){var i=new de(this.__wrapped__);return i.__actions__=yr(this.__actions__),i.__dir__=this.__dir__,i.__filtered__=this.__filtered__,i.__iteratees__=yr(this.__iteratees__),i.__takeCount__=this.__takeCount__,i.__views__=yr(this.__views__),i}function D1(){if(this.__filtered__){var i=new de(this);i.__dir__=-1,i.__filtered__=!0}else i=this.clone(),i.__dir__*=-1;return i}function T1(){var i=this.__wrapped__.value(),s=this.__dir__,d=te(i),b=s<0,w=d?i.length:0,T=$b(0,w,this.__views__),B=T.start,q=T.end,Y=q-B,ft=b?q:B-1,dt=this.__iteratees__,bt=dt.length,Tt=0,Ft=ur(Y,this.__takeCount__);if(!d||!b&&w==Y&&Ft==Y)return Jd(i,this.__actions__);var Xt=[];t:for(;Y--&&Tt<Ft;){ft+=s;for(var ie=-1,Ut=i[ft];++ie<bt;){var ce=dt[ie],pe=ce.iteratee,Ar=ce.type,pr=pe(Ut);if(Ar==H)Ut=pr;else if(!pr){if(Ar==U)continue t;break t}}Xt[Tt++]=Ut}return Xt}de.prototype=si(Jo.prototype),de.prototype.constructor=de;function xa(i){var s=-1,d=i==null?0:i.length;for(this.clear();++s<d;){var b=i[s];this.set(b[0],b[1])}}function R1(){this.__data__=qi?qi(null):{},this.size=0}function k1(i){var s=this.has(i)&&delete this.__data__[i];return this.size-=s?1:0,s}function I1(i){var s=this.__data__;if(qi){var d=s[i];return d===c?r:d}return _e.call(s,i)?s[i]:r}function O1(i){var s=this.__data__;return qi?s[i]!==r:_e.call(s,i)}function A1(i,s){var d=this.__data__;return this.size+=this.has(i)?0:1,d[i]=qi&&s===r?c:s,this}xa.prototype.clear=R1,xa.prototype.delete=k1,xa.prototype.get=I1,xa.prototype.has=O1,xa.prototype.set=A1;function On(i){var s=-1,d=i==null?0:i.length;for(this.clear();++s<d;){var b=i[s];this.set(b[0],b[1])}}function B1(){this.__data__=[],this.size=0}function P1(i){var s=this.__data__,d=ts(s,i);if(d<0)return!1;var b=s.length-1;return d==b?s.pop():Xo.call(s,d,1),--this.size,!0}function z1(i){var s=this.__data__,d=ts(s,i);return d<0?r:s[d][1]}function L1(i){return ts(this.__data__,i)>-1}function F1(i,s){var d=this.__data__,b=ts(d,i);return b<0?(++this.size,d.push([i,s])):d[b][1]=s,this}On.prototype.clear=B1,On.prototype.delete=P1,On.prototype.get=z1,On.prototype.has=L1,On.prototype.set=F1;function An(i){var s=-1,d=i==null?0:i.length;for(this.clear();++s<d;){var b=i[s];this.set(b[0],b[1])}}function q1(){this.size=0,this.__data__={hash:new xa,map:new(Li||On),string:new xa}}function $1(i){var s=ds(this,i).delete(i);return this.size-=s?1:0,s}function G1(i){return ds(this,i).get(i)}function N1(i){return ds(this,i).has(i)}function V1(i,s){var d=ds(this,i),b=d.size;return d.set(i,s),this.size+=d.size==b?0:1,this}An.prototype.clear=q1,An.prototype.delete=$1,An.prototype.get=G1,An.prototype.has=N1,An.prototype.set=V1;function Ca(i){var s=-1,d=i==null?0:i.length;for(this.__data__=new An;++s<d;)this.add(i[s])}function W1(i){return this.__data__.set(i,c),this}function H1(i){return this.__data__.has(i)}Ca.prototype.add=Ca.prototype.push=W1,Ca.prototype.has=H1;function nn(i){var s=this.__data__=new On(i);this.size=s.size}function Y1(){this.__data__=new On,this.size=0}function X1(i){var s=this.__data__,d=s.delete(i);return this.size=s.size,d}function U1(i){return this.__data__.get(i)}function K1(i){return this.__data__.has(i)}function j1(i,s){var d=this.__data__;if(d instanceof On){var b=d.__data__;if(!Li||b.length<a-1)return b.push([i,s]),this.size=++d.size,this;d=this.__data__=new An(b)}return d.set(i,s),this.size=d.size,this}nn.prototype.clear=Y1,nn.prototype.delete=X1,nn.prototype.get=U1,nn.prototype.has=K1,nn.prototype.set=j1;function kd(i,s){var d=te(i),b=!d&&Ra(i),w=!d&&!b&&oa(i),T=!d&&!b&&!w&&fi(i),B=d||b||w||T,q=B?$u(i.length,o1):[],Y=q.length;for(var ft in i)(s||_e.call(i,ft))&&!(B&&(ft=="length"||w&&(ft=="offset"||ft=="parent")||T&&(ft=="buffer"||ft=="byteLength"||ft=="byteOffset")||Ln(ft,Y)))&&q.push(ft);return q}function Id(i){var s=i.length;return s?i[nl(0,s-1)]:r}function Z1(i,s){return vs(yr(i),Ea(s,0,i.length))}function Q1(i){return vs(yr(i))}function Xu(i,s,d){(d!==r&&!an(i[s],d)||d===r&&!(s in i))&&Bn(i,s,d)}function Gi(i,s,d){var b=i[s];(!(_e.call(i,s)&&an(b,d))||d===r&&!(s in i))&&Bn(i,s,d)}function ts(i,s){for(var d=i.length;d--;)if(an(i[d][0],s))return d;return-1}function J1(i,s,d,b){return ra(i,function(w,T,B){s(b,w,d(w),B)}),b}function Od(i,s){return i&&Sn(s,Ze(s),i)}function tb(i,s){return i&&Sn(s,_r(s),i)}function Bn(i,s,d){s=="__proto__"&&Uo?Uo(i,s,{configurable:!0,enumerable:!0,value:d,writable:!0}):i[s]=d}function Uu(i,s){for(var d=-1,b=s.length,w=Q(b),T=i==null;++d<b;)w[d]=T?r:Tl(i,s[d]);return w}function Ea(i,s,d){return i===i&&(d!==r&&(i=i<=d?i:d),s!==r&&(i=i>=s?i:s)),i}function Nr(i,s,d,b,w,T){var B,q=s&h,Y=s&p,ft=s&g;if(d&&(B=w?d(i,b,w,T):d(i)),B!==r)return B;if(!ke(i))return i;var dt=te(i);if(dt){if(B=Nb(i),!q)return yr(i,B)}else{var bt=lr(i),Tt=bt==Dt||bt==kt;if(oa(i))return rv(i,q);if(bt==G||bt==yt||Tt&&!w){if(B=Y||Tt?{}:_v(i),!q)return Y?Ib(i,tb(B,i)):kb(i,Od(B,i))}else{if(!Me[bt])return w?i:{};B=Vb(i,bt,q)}}T||(T=new nn);var Ft=T.get(i);if(Ft)return Ft;T.set(i,B),jv(i)?i.forEach(function(Ut){B.add(Nr(Ut,s,d,Ut,i,T))}):Uv(i)&&i.forEach(function(Ut,ce){B.set(ce,Nr(Ut,s,d,ce,i,T))});var Xt=ft?Y?pl:vl:Y?_r:Ze,ie=dt?r:Xt(i);return qr(ie||i,function(Ut,ce){ie&&(ce=Ut,Ut=i[ce]),Gi(B,ce,Nr(Ut,s,d,ce,i,T))}),B}function eb(i){var s=Ze(i);return function(d){return Ad(d,i,s)}}function Ad(i,s,d){var b=d.length;if(i==null)return!b;for(i=we(i);b--;){var w=d[b],T=s[w],B=i[w];if(B===r&&!(w in i)||!T(B))return!1}return!0}function Bd(i,s,d){if(typeof i!="function")throw new $r(u);return Ui(function(){i.apply(r,d)},s)}function Ni(i,s,d,b){var w=-1,T=Lo,B=!0,q=i.length,Y=[],ft=s.length;if(!q)return Y;d&&(s=Re(s,kr(d))),b?(T=Bu,B=!1):s.length>=a&&(T=Pi,B=!1,s=new Ca(s));t:for(;++w<q;){var dt=i[w],bt=d==null?dt:d(dt);if(dt=b||dt!==0?dt:0,B&&bt===bt){for(var Tt=ft;Tt--;)if(s[Tt]===bt)continue t;Y.push(dt)}else T(s,bt,b)||Y.push(dt)}return Y}var ra=sv(yn),Pd=sv(ju,!0);function rb(i,s){var d=!0;return ra(i,function(b,w,T){return d=!!s(b,w,T),d}),d}function es(i,s,d){for(var b=-1,w=i.length;++b<w;){var T=i[b],B=s(T);if(B!=null&&(q===r?B===B&&!Or(B):d(B,q)))var q=B,Y=T}return Y}function nb(i,s,d,b){var w=i.length;for(d=ne(d),d<0&&(d=-d>w?0:w+d),b=b===r||b>w?w:ne(b),b<0&&(b+=w),b=d>b?0:Qv(b);d<b;)i[d++]=s;return i}function zd(i,s){var d=[];return ra(i,function(b,w,T){s(b,w,T)&&d.push(b)}),d}function rr(i,s,d,b,w){var T=-1,B=i.length;for(d||(d=Hb),w||(w=[]);++T<B;){var q=i[T];s>0&&d(q)?s>1?rr(q,s-1,d,b,w):Jn(w,q):b||(w[w.length]=q)}return w}var Ku=uv(),Ld=uv(!0);function yn(i,s){return i&&Ku(i,s,Ze)}function ju(i,s){return i&&Ld(i,s,Ze)}function rs(i,s){return Qn(s,function(d){return Fn(i[d])})}function Ma(i,s){s=aa(s,i);for(var d=0,b=s.length;i!=null&&d<b;)i=i[_n(s[d++])];return d&&d==b?i:r}function Fd(i,s,d){var b=s(i);return te(i)?b:Jn(b,d(i))}function dr(i){return i==null?i===r?Mt:zt:wa&&wa in we(i)?qb(i):Qb(i)}function Zu(i,s){return i>s}function ab(i,s){return i!=null&&_e.call(i,s)}function ib(i,s){return i!=null&&s in we(i)}function ob(i,s,d){return i>=ur(s,d)&&i<Xe(s,d)}function Qu(i,s,d){for(var b=d?Bu:Lo,w=i[0].length,T=i.length,B=T,q=Q(T),Y=1/0,ft=[];B--;){var dt=i[B];B&&s&&(dt=Re(dt,kr(s))),Y=ur(dt.length,Y),q[B]=!d&&(s||w>=120&&dt.length>=120)?new Ca(B&&dt):r}dt=i[0];var bt=-1,Tt=q[0];t:for(;++bt<w&&ft.length<Y;){var Ft=dt[bt],Xt=s?s(Ft):Ft;if(Ft=d||Ft!==0?Ft:0,!(Tt?Pi(Tt,Xt):b(ft,Xt,d))){for(B=T;--B;){var ie=q[B];if(!(ie?Pi(ie,Xt):b(i[B],Xt,d)))continue t}Tt&&Tt.push(Xt),ft.push(Ft)}}return ft}function sb(i,s,d,b){return yn(i,function(w,T,B){s(b,d(w),T,B)}),b}function Vi(i,s,d){s=aa(s,i),i=Ev(i,s);var b=i==null?i:i[_n(Wr(s))];return b==null?r:Rr(b,i,d)}function qd(i){return Ae(i)&&dr(i)==yt}function ub(i){return Ae(i)&&dr(i)==oe}function lb(i){return Ae(i)&&dr(i)==P}function Wi(i,s,d,b,w){return i===s?!0:i==null||s==null||!Ae(i)&&!Ae(s)?i!==i&&s!==s:cb(i,s,d,b,Wi,w)}function cb(i,s,d,b,w,T){var B=te(i),q=te(s),Y=B?gt:lr(i),ft=q?gt:lr(s);Y=Y==yt?G:Y,ft=ft==yt?G:ft;var dt=Y==G,bt=ft==G,Tt=Y==ft;if(Tt&&oa(i)){if(!oa(s))return!1;B=!0,dt=!1}if(Tt&&!dt)return T||(T=new nn),B||fi(i)?bv(i,s,d,b,w,T):Lb(i,s,Y,d,b,w,T);if(!(d&m)){var Ft=dt&&_e.call(i,"__wrapped__"),Xt=bt&&_e.call(s,"__wrapped__");if(Ft||Xt){var ie=Ft?i.value():i,Ut=Xt?s.value():s;return T||(T=new nn),w(ie,Ut,d,b,T)}}return Tt?(T||(T=new nn),Fb(i,s,d,b,w,T)):!1}function fb(i){return Ae(i)&&lr(i)==wt}function Ju(i,s,d,b){var w=d.length,T=w,B=!b;if(i==null)return!T;for(i=we(i);w--;){var q=d[w];if(B&&q[2]?q[1]!==i[q[0]]:!(q[0]in i))return!1}for(;++w<T;){q=d[w];var Y=q[0],ft=i[Y],dt=q[1];if(B&&q[2]){if(ft===r&&!(Y in i))return!1}else{var bt=new nn;if(b)var Tt=b(ft,dt,Y,i,s,bt);if(!(Tt===r?Wi(dt,ft,m|y,b,bt):Tt))return!1}}return!0}function $d(i){if(!ke(i)||Xb(i))return!1;var s=Fn(i)?f1:ya;return s.test(Ta(i))}function db(i){return Ae(i)&&dr(i)==Ct}function vb(i){return Ae(i)&&lr(i)==qt}function pb(i){return Ae(i)&&ys(i.length)&&!!Te[dr(i)]}function Gd(i){return typeof i=="function"?i:i==null?wr:typeof i=="object"?te(i)?Wd(i[0],i[1]):Vd(i):lp(i)}function tl(i){if(!Xi(i))return m1(i);var s=[];for(var d in we(i))_e.call(i,d)&&d!="constructor"&&s.push(d);return s}function hb(i){if(!ke(i))return Zb(i);var s=Xi(i),d=[];for(var b in i)b=="constructor"&&(s||!_e.call(i,b))||d.push(b);return d}function el(i,s){return i<s}function Nd(i,s){var d=-1,b=Sr(i)?Q(i.length):[];return ra(i,function(w,T,B){b[++d]=s(w,T,B)}),b}function Vd(i){var s=gl(i);return s.length==1&&s[0][2]?xv(s[0][0],s[0][1]):function(d){return d===i||Ju(d,i,s)}}function Wd(i,s){return bl(i)&&wv(s)?xv(_n(i),s):function(d){var b=Tl(d,i);return b===r&&b===s?Rl(d,i):Wi(s,b,m|y)}}function ns(i,s,d,b,w){i!==s&&Ku(s,function(T,B){if(w||(w=new nn),ke(T))gb(i,s,B,d,ns,b,w);else{var q=b?b(Sl(i,B),T,B+"",i,s,w):r;q===r&&(q=T),Xu(i,B,q)}},_r)}function gb(i,s,d,b,w,T,B){var q=Sl(i,d),Y=Sl(s,d),ft=B.get(Y);if(ft){Xu(i,d,ft);return}var dt=T?T(q,Y,d+"",i,s,B):r,bt=dt===r;if(bt){var Tt=te(Y),Ft=!Tt&&oa(Y),Xt=!Tt&&!Ft&&fi(Y);dt=Y,Tt||Ft||Xt?te(q)?dt=q:Le(q)?dt=yr(q):Ft?(bt=!1,dt=rv(Y,!0)):Xt?(bt=!1,dt=nv(Y,!0)):dt=[]:Ki(Y)||Ra(Y)?(dt=q,Ra(q)?dt=Jv(q):(!ke(q)||Fn(q))&&(dt=_v(Y))):bt=!1}bt&&(B.set(Y,dt),w(dt,Y,b,T,B),B.delete(Y)),Xu(i,d,dt)}function Hd(i,s){var d=i.length;if(!!d)return s+=s<0?d:0,Ln(s,d)?i[s]:r}function Yd(i,s,d){s.length?s=Re(s,function(T){return te(T)?function(B){return Ma(B,T.length===1?T[0]:T)}:T}):s=[wr];var b=-1;s=Re(s,kr(Wt()));var w=Nd(i,function(T,B,q){var Y=Re(s,function(ft){return ft(T)});return{criteria:Y,index:++b,value:T}});return Vm(w,function(T,B){return Rb(T,B,d)})}function mb(i,s){return Xd(i,s,function(d,b){return Rl(i,b)})}function Xd(i,s,d){for(var b=-1,w=s.length,T={};++b<w;){var B=s[b],q=Ma(i,B);d(q,B)&&Hi(T,aa(B,i),q)}return T}function bb(i){return function(s){return Ma(s,i)}}function rl(i,s,d,b){var w=b?Nm:ti,T=-1,B=s.length,q=i;for(i===s&&(s=yr(s)),d&&(q=Re(i,kr(d)));++T<B;)for(var Y=0,ft=s[T],dt=d?d(ft):ft;(Y=w(q,dt,Y,b))>-1;)q!==i&&Xo.call(q,Y,1),Xo.call(i,Y,1);return i}function Ud(i,s){for(var d=i?s.length:0,b=d-1;d--;){var w=s[d];if(d==b||w!==T){var T=w;Ln(w)?Xo.call(i,w,1):ol(i,w)}}return i}function nl(i,s){return i+jo(Td()*(s-i+1))}function yb(i,s,d,b){for(var w=-1,T=Xe(Ko((s-i)/(d||1)),0),B=Q(T);T--;)B[b?T:++w]=i,i+=d;return B}function al(i,s){var d="";if(!i||s<1||s>ot)return d;do s%2&&(d+=i),s=jo(s/2),s&&(i+=i);while(s);return d}function se(i,s){return _l(Cv(i,s,wr),i+"")}function Sb(i){return Id(di(i))}function _b(i,s){var d=di(i);return vs(d,Ea(s,0,d.length))}function Hi(i,s,d,b){if(!ke(i))return i;s=aa(s,i);for(var w=-1,T=s.length,B=T-1,q=i;q!=null&&++w<T;){var Y=_n(s[w]),ft=d;if(Y==="__proto__"||Y==="constructor"||Y==="prototype")return i;if(w!=B){var dt=q[Y];ft=b?b(dt,Y,q):r,ft===r&&(ft=ke(dt)?dt:Ln(s[w+1])?[]:{})}Gi(q,Y,ft),q=q[Y]}return i}var Kd=Zo?function(i,s){return Zo.set(i,s),i}:wr,wb=Uo?function(i,s){return Uo(i,"toString",{configurable:!0,enumerable:!1,value:Il(s),writable:!0})}:wr;function xb(i){return vs(di(i))}function Vr(i,s,d){var b=-1,w=i.length;s<0&&(s=-s>w?0:w+s),d=d>w?w:d,d<0&&(d+=w),w=s>d?0:d-s>>>0,s>>>=0;for(var T=Q(w);++b<w;)T[b]=i[b+s];return T}function Cb(i,s){var d;return ra(i,function(b,w,T){return d=s(b,w,T),!d}),!!d}function as(i,s,d){var b=0,w=i==null?b:i.length;if(typeof s=="number"&&s===s&&w<=lt){for(;b<w;){var T=b+w>>>1,B=i[T];B!==null&&!Or(B)&&(d?B<=s:B<s)?b=T+1:w=T}return w}return il(i,s,wr,d)}function il(i,s,d,b){var w=0,T=i==null?0:i.length;if(T===0)return 0;s=d(s);for(var B=s!==s,q=s===null,Y=Or(s),ft=s===r;w<T;){var dt=jo((w+T)/2),bt=d(i[dt]),Tt=bt!==r,Ft=bt===null,Xt=bt===bt,ie=Or(bt);if(B)var Ut=b||Xt;else ft?Ut=Xt&&(b||Tt):q?Ut=Xt&&Tt&&(b||!Ft):Y?Ut=Xt&&Tt&&!Ft&&(b||!ie):Ft||ie?Ut=!1:Ut=b?bt<=s:bt<s;Ut?w=dt+1:T=dt}return ur(T,ut)}function jd(i,s){for(var d=-1,b=i.length,w=0,T=[];++d<b;){var B=i[d],q=s?s(B):B;if(!d||!an(q,Y)){var Y=q;T[w++]=B===0?0:B}}return T}function Zd(i){return typeof i=="number"?i:Or(i)?N:+i}function Ir(i){if(typeof i=="string")return i;if(te(i))return Re(i,Ir)+"";if(Or(i))return Rd?Rd.call(i):"";var s=i+"";return s=="0"&&1/i==-nt?"-0":s}function na(i,s,d){var b=-1,w=Lo,T=i.length,B=!0,q=[],Y=q;if(d)B=!1,w=Bu;else if(T>=a){var ft=s?null:Pb(i);if(ft)return qo(ft);B=!1,w=Pi,Y=new Ca}else Y=s?[]:q;t:for(;++b<T;){var dt=i[b],bt=s?s(dt):dt;if(dt=d||dt!==0?dt:0,B&&bt===bt){for(var Tt=Y.length;Tt--;)if(Y[Tt]===bt)continue t;s&&Y.push(bt),q.push(dt)}else w(Y,bt,d)||(Y!==q&&Y.push(bt),q.push(dt))}return q}function ol(i,s){return s=aa(s,i),i=Ev(i,s),i==null||delete i[_n(Wr(s))]}function Qd(i,s,d,b){return Hi(i,s,d(Ma(i,s)),b)}function is(i,s,d,b){for(var w=i.length,T=b?w:-1;(b?T--:++T<w)&&s(i[T],T,i););return d?Vr(i,b?0:T,b?T+1:w):Vr(i,b?T+1:0,b?w:T)}function Jd(i,s){var d=i;return d instanceof de&&(d=d.value()),Pu(s,function(b,w){return w.func.apply(w.thisArg,Jn([b],w.args))},d)}function sl(i,s,d){var b=i.length;if(b<2)return b?na(i[0]):[];for(var w=-1,T=Q(b);++w<b;)for(var B=i[w],q=-1;++q<b;)q!=w&&(T[w]=Ni(T[w]||B,i[q],s,d));return na(rr(T,1),s,d)}function tv(i,s,d){for(var b=-1,w=i.length,T=s.length,B={};++b<w;){var q=b<T?s[b]:r;d(B,i[b],q)}return B}function ul(i){return Le(i)?i:[]}function ll(i){return typeof i=="function"?i:wr}function aa(i,s){return te(i)?i:bl(i,s)?[i]:Rv(Se(i))}var Eb=se;function ia(i,s,d){var b=i.length;return d=d===r?b:d,!s&&d>=b?i:Vr(i,s,d)}var ev=d1||function(i){return er.clearTimeout(i)};function rv(i,s){if(s)return i.slice();var d=i.length,b=xd?xd(d):new i.constructor(d);return i.copy(b),b}function cl(i){var s=new i.constructor(i.byteLength);return new Ho(s).set(new Ho(i)),s}function Mb(i,s){var d=s?cl(i.buffer):i.buffer;return new i.constructor(d,i.byteOffset,i.byteLength)}function Db(i){var s=new i.constructor(i.source,bn.exec(i));return s.lastIndex=i.lastIndex,s}function Tb(i){return $i?we($i.call(i)):{}}function nv(i,s){var d=s?cl(i.buffer):i.buffer;return new i.constructor(d,i.byteOffset,i.length)}function av(i,s){if(i!==s){var d=i!==r,b=i===null,w=i===i,T=Or(i),B=s!==r,q=s===null,Y=s===s,ft=Or(s);if(!q&&!ft&&!T&&i>s||T&&B&&Y&&!q&&!ft||b&&B&&Y||!d&&Y||!w)return 1;if(!b&&!T&&!ft&&i<s||ft&&d&&w&&!b&&!T||q&&d&&w||!B&&w||!Y)return-1}return 0}function Rb(i,s,d){for(var b=-1,w=i.criteria,T=s.criteria,B=w.length,q=d.length;++b<B;){var Y=av(w[b],T[b]);if(Y){if(b>=q)return Y;var ft=d[b];return Y*(ft=="desc"?-1:1)}}return i.index-s.index}function iv(i,s,d,b){for(var w=-1,T=i.length,B=d.length,q=-1,Y=s.length,ft=Xe(T-B,0),dt=Q(Y+ft),bt=!b;++q<Y;)dt[q]=s[q];for(;++w<B;)(bt||w<T)&&(dt[d[w]]=i[w]);for(;ft--;)dt[q++]=i[w++];return dt}function ov(i,s,d,b){for(var w=-1,T=i.length,B=-1,q=d.length,Y=-1,ft=s.length,dt=Xe(T-q,0),bt=Q(dt+ft),Tt=!b;++w<dt;)bt[w]=i[w];for(var Ft=w;++Y<ft;)bt[Ft+Y]=s[Y];for(;++B<q;)(Tt||w<T)&&(bt[Ft+d[B]]=i[w++]);return bt}function yr(i,s){var d=-1,b=i.length;for(s||(s=Q(b));++d<b;)s[d]=i[d];return s}function Sn(i,s,d,b){var w=!d;d||(d={});for(var T=-1,B=s.length;++T<B;){var q=s[T],Y=b?b(d[q],i[q],q,d,i):r;Y===r&&(Y=i[q]),w?Bn(d,q,Y):Gi(d,q,Y)}return d}function kb(i,s){return Sn(i,ml(i),s)}function Ib(i,s){return Sn(i,yv(i),s)}function os(i,s){return function(d,b){var w=te(d)?zm:J1,T=s?s():{};return w(d,i,Wt(b,2),T)}}function ui(i){return se(function(s,d){var b=-1,w=d.length,T=w>1?d[w-1]:r,B=w>2?d[2]:r;for(T=i.length>3&&typeof T=="function"?(w--,T):r,B&&vr(d[0],d[1],B)&&(T=w<3?r:T,w=1),s=we(s);++b<w;){var q=d[b];q&&i(s,q,b,T)}return s})}function sv(i,s){return function(d,b){if(d==null)return d;if(!Sr(d))return i(d,b);for(var w=d.length,T=s?w:-1,B=we(d);(s?T--:++T<w)&&b(B[T],T,B)!==!1;);return d}}function uv(i){return function(s,d,b){for(var w=-1,T=we(s),B=b(s),q=B.length;q--;){var Y=B[i?q:++w];if(d(T[Y],Y,T)===!1)break}return s}}function Ob(i,s,d){var b=s&S,w=Yi(i);function T(){var B=this&&this!==er&&this instanceof T?w:i;return B.apply(b?d:this,arguments)}return T}function lv(i){return function(s){s=Se(s);var d=ei(s)?rn(s):r,b=d?d[0]:s.charAt(0),w=d?ia(d,1).join(""):s.slice(1);return b[i]()+w}}function li(i){return function(s){return Pu(sp(op(s).replace(wm,"")),i,"")}}function Yi(i){return function(){var s=arguments;switch(s.length){case 0:return new i;case 1:return new i(s[0]);case 2:return new i(s[0],s[1]);case 3:return new i(s[0],s[1],s[2]);case 4:return new i(s[0],s[1],s[2],s[3]);case 5:return new i(s[0],s[1],s[2],s[3],s[4]);case 6:return new i(s[0],s[1],s[2],s[3],s[4],s[5]);case 7:return new i(s[0],s[1],s[2],s[3],s[4],s[5],s[6])}var d=si(i.prototype),b=i.apply(d,s);return ke(b)?b:d}}function Ab(i,s,d){var b=Yi(i);function w(){for(var T=arguments.length,B=Q(T),q=T,Y=ci(w);q--;)B[q]=arguments[q];var ft=T<3&&B[0]!==Y&&B[T-1]!==Y?[]:ta(B,Y);if(T-=ft.length,T<d)return pv(i,s,ss,w.placeholder,r,B,ft,r,r,d-T);var dt=this&&this!==er&&this instanceof w?b:i;return Rr(dt,this,B)}return w}function cv(i){return function(s,d,b){var w=we(s);if(!Sr(s)){var T=Wt(d,3);s=Ze(s),d=function(q){return T(w[q],q,w)}}var B=i(s,d,b);return B>-1?w[T?s[B]:B]:r}}function fv(i){return zn(function(s){var d=s.length,b=d,w=Gr.prototype.thru;for(i&&s.reverse();b--;){var T=s[b];if(typeof T!="function")throw new $r(u);if(w&&!B&&fs(T)=="wrapper")var B=new Gr([],!0)}for(b=B?b:d;++b<d;){T=s[b];var q=fs(T),Y=q=="wrapper"?hl(T):r;Y&&yl(Y[0])&&Y[1]==(k|x|R|I)&&!Y[4].length&&Y[9]==1?B=B[fs(Y[0])].apply(B,Y[3]):B=T.length==1&&yl(T)?B[q]():B.thru(T)}return function(){var ft=arguments,dt=ft[0];if(B&&ft.length==1&&te(dt))return B.plant(dt).value();for(var bt=0,Tt=d?s[bt].apply(this,ft):dt;++bt<d;)Tt=s[bt].call(this,Tt);return Tt}})}function ss(i,s,d,b,w,T,B,q,Y,ft){var dt=s&k,bt=s&S,Tt=s&_,Ft=s&(x|C),Xt=s&O,ie=Tt?r:Yi(i);function Ut(){for(var ce=arguments.length,pe=Q(ce),Ar=ce;Ar--;)pe[Ar]=arguments[Ar];if(Ft)var pr=ci(Ut),Br=Hm(pe,pr);if(b&&(pe=iv(pe,b,w,Ft)),T&&(pe=ov(pe,T,B,Ft)),ce-=Br,Ft&&ce<ft){var Fe=ta(pe,pr);return pv(i,s,ss,Ut.placeholder,d,pe,Fe,q,Y,ft-ce)}var on=bt?d:this,$n=Tt?on[i]:i;return ce=pe.length,q?pe=Jb(pe,q):Xt&&ce>1&&pe.reverse(),dt&&Y<ce&&(pe.length=Y),this&&this!==er&&this instanceof Ut&&($n=ie||Yi($n)),$n.apply(on,pe)}return Ut}function dv(i,s){return function(d,b){return sb(d,i,s(b),{})}}function us(i,s){return function(d,b){var w;if(d===r&&b===r)return s;if(d!==r&&(w=d),b!==r){if(w===r)return b;typeof d=="string"||typeof b=="string"?(d=Ir(d),b=Ir(b)):(d=Zd(d),b=Zd(b)),w=i(d,b)}return w}}function fl(i){return zn(function(s){return s=Re(s,kr(Wt())),se(function(d){var b=this;return i(s,function(w){return Rr(w,b,d)})})})}function ls(i,s){s=s===r?" ":Ir(s);var d=s.length;if(d<2)return d?al(s,i):s;var b=al(s,Ko(i/ri(s)));return ei(s)?ia(rn(b),0,i).join(""):b.slice(0,i)}function Bb(i,s,d,b){var w=s&S,T=Yi(i);function B(){for(var q=-1,Y=arguments.length,ft=-1,dt=b.length,bt=Q(dt+Y),Tt=this&&this!==er&&this instanceof B?T:i;++ft<dt;)bt[ft]=b[ft];for(;Y--;)bt[ft++]=arguments[++q];return Rr(Tt,w?d:this,bt)}return B}function vv(i){return function(s,d,b){return b&&typeof b!="number"&&vr(s,d,b)&&(d=b=r),s=qn(s),d===r?(d=s,s=0):d=qn(d),b=b===r?s<d?1:-1:qn(b),yb(s,d,b,i)}}function cs(i){return function(s,d){return typeof s=="string"&&typeof d=="string"||(s=Hr(s),d=Hr(d)),i(s,d)}}function pv(i,s,d,b,w,T,B,q,Y,ft){var dt=s&x,bt=dt?B:r,Tt=dt?r:B,Ft=dt?T:r,Xt=dt?r:T;s|=dt?R:D,s&=~(dt?D:R),s&E||(s&=~(S|_));var ie=[i,s,w,Ft,bt,Xt,Tt,q,Y,ft],Ut=d.apply(r,ie);return yl(i)&&Mv(Ut,ie),Ut.placeholder=b,Dv(Ut,i,s)}function dl(i){var s=Ye[i];return function(d,b){if(d=Hr(d),b=b==null?0:ur(ne(b),292),b&&Dd(d)){var w=(Se(d)+"e").split("e"),T=s(w[0]+"e"+(+w[1]+b));return w=(Se(T)+"e").split("e"),+(w[0]+"e"+(+w[1]-b))}return s(d)}}var Pb=ii&&1/qo(new ii([,-0]))[1]==nt?function(i){return new ii(i)}:Bl;function hv(i){return function(s){var d=lr(s);return d==wt?Nu(s):d==qt?Qm(s):Wm(s,i(s))}}function Pn(i,s,d,b,w,T,B,q){var Y=s&_;if(!Y&&typeof i!="function")throw new $r(u);var ft=b?b.length:0;if(ft||(s&=~(R|D),b=w=r),B=B===r?B:Xe(ne(B),0),q=q===r?q:ne(q),ft-=w?w.length:0,s&D){var dt=b,bt=w;b=w=r}var Tt=Y?r:hl(i),Ft=[i,s,d,b,w,dt,bt,T,B,q];if(Tt&&jb(Ft,Tt),i=Ft[0],s=Ft[1],d=Ft[2],b=Ft[3],w=Ft[4],q=Ft[9]=Ft[9]===r?Y?0:i.length:Xe(Ft[9]-ft,0),!q&&s&(x|C)&&(s&=~(x|C)),!s||s==S)var Xt=Ob(i,s,d);else s==x||s==C?Xt=Ab(i,s,q):(s==R||s==(S|R))&&!w.length?Xt=Bb(i,s,d,b):Xt=ss.apply(r,Ft);var ie=Tt?Kd:Mv;return Dv(ie(Xt,Ft),i,s)}function gv(i,s,d,b){return i===r||an(i,ai[d])&&!_e.call(b,d)?s:i}function mv(i,s,d,b,w,T){return ke(i)&&ke(s)&&(T.set(s,i),ns(i,s,r,mv,T),T.delete(s)),i}function zb(i){return Ki(i)?r:i}function bv(i,s,d,b,w,T){var B=d&m,q=i.length,Y=s.length;if(q!=Y&&!(B&&Y>q))return!1;var ft=T.get(i),dt=T.get(s);if(ft&&dt)return ft==s&&dt==i;var bt=-1,Tt=!0,Ft=d&y?new Ca:r;for(T.set(i,s),T.set(s,i);++bt<q;){var Xt=i[bt],ie=s[bt];if(b)var Ut=B?b(ie,Xt,bt,s,i,T):b(Xt,ie,bt,i,s,T);if(Ut!==r){if(Ut)continue;Tt=!1;break}if(Ft){if(!zu(s,function(ce,pe){if(!Pi(Ft,pe)&&(Xt===ce||w(Xt,ce,d,b,T)))return Ft.push(pe)})){Tt=!1;break}}else if(!(Xt===ie||w(Xt,ie,d,b,T))){Tt=!1;break}}return T.delete(i),T.delete(s),Tt}function Lb(i,s,d,b,w,T,B){switch(d){case Yt:if(i.byteLength!=s.byteLength||i.byteOffset!=s.byteOffset)return!1;i=i.buffer,s=s.buffer;case oe:return!(i.byteLength!=s.byteLength||!T(new Ho(i),new Ho(s)));case Rt:case P:case Ot:return an(+i,+s);case ht:return i.name==s.name&&i.message==s.message;case Ct:case ue:return i==s+"";case wt:var q=Nu;case qt:var Y=b&m;if(q||(q=qo),i.size!=s.size&&!Y)return!1;var ft=B.get(i);if(ft)return ft==s;b|=y,B.set(i,s);var dt=bv(q(i),q(s),b,w,T,B);return B.delete(i),dt;case st:if($i)return $i.call(i)==$i.call(s)}return!1}function Fb(i,s,d,b,w,T){var B=d&m,q=vl(i),Y=q.length,ft=vl(s),dt=ft.length;if(Y!=dt&&!B)return!1;for(var bt=Y;bt--;){var Tt=q[bt];if(!(B?Tt in s:_e.call(s,Tt)))return!1}var Ft=T.get(i),Xt=T.get(s);if(Ft&&Xt)return Ft==s&&Xt==i;var ie=!0;T.set(i,s),T.set(s,i);for(var Ut=B;++bt<Y;){Tt=q[bt];var ce=i[Tt],pe=s[Tt];if(b)var Ar=B?b(pe,ce,Tt,s,i,T):b(ce,pe,Tt,i,s,T);if(!(Ar===r?ce===pe||w(ce,pe,d,b,T):Ar)){ie=!1;break}Ut||(Ut=Tt=="constructor")}if(ie&&!Ut){var pr=i.constructor,Br=s.constructor;pr!=Br&&"constructor"in i&&"constructor"in s&&!(typeof pr=="function"&&pr instanceof pr&&typeof Br=="function"&&Br instanceof Br)&&(ie=!1)}return T.delete(i),T.delete(s),ie}function zn(i){return _l(Cv(i,r,Av),i+"")}function vl(i){return Fd(i,Ze,ml)}function pl(i){return Fd(i,_r,yv)}var hl=Zo?function(i){return Zo.get(i)}:Bl;function fs(i){for(var s=i.name+"",d=oi[s],b=_e.call(oi,s)?d.length:0;b--;){var w=d[b],T=w.func;if(T==null||T==i)return w.name}return s}function ci(i){var s=_e.call(M,"placeholder")?M:i;return s.placeholder}function Wt(){var i=M.iteratee||Ol;return i=i===Ol?Gd:i,arguments.length?i(arguments[0],arguments[1]):i}function ds(i,s){var d=i.__data__;return Yb(s)?d[typeof s=="string"?"string":"hash"]:d.map}function gl(i){for(var s=Ze(i),d=s.length;d--;){var b=s[d],w=i[b];s[d]=[b,w,wv(w)]}return s}function Da(i,s){var d=Km(i,s);return $d(d)?d:r}function qb(i){var s=_e.call(i,wa),d=i[wa];try{i[wa]=r;var b=!0}catch{}var w=Vo.call(i);return b&&(s?i[wa]=d:delete i[wa]),w}var ml=Wu?function(i){return i==null?[]:(i=we(i),Qn(Wu(i),function(s){return Ed.call(i,s)}))}:Pl,yv=Wu?function(i){for(var s=[];i;)Jn(s,ml(i)),i=Yo(i);return s}:Pl,lr=dr;(Hu&&lr(new Hu(new ArrayBuffer(1)))!=Yt||Li&&lr(new Li)!=wt||Yu&&lr(Yu.resolve())!=J||ii&&lr(new ii)!=qt||Fi&&lr(new Fi)!=Lt)&&(lr=function(i){var s=dr(i),d=s==G?i.constructor:r,b=d?Ta(d):"";if(b)switch(b){case _1:return Yt;case w1:return wt;case x1:return J;case C1:return qt;case E1:return Lt}return s});function $b(i,s,d){for(var b=-1,w=d.length;++b<w;){var T=d[b],B=T.size;switch(T.type){case"drop":i+=B;break;case"dropRight":s-=B;break;case"take":s=ur(s,i+B);break;case"takeRight":i=Xe(i,s-B);break}}return{start:i,end:s}}function Gb(i){var s=i.match(Qa);return s?s[1].split(tn):[]}function Sv(i,s,d){s=aa(s,i);for(var b=-1,w=s.length,T=!1;++b<w;){var B=_n(s[b]);if(!(T=i!=null&&d(i,B)))break;i=i[B]}return T||++b!=w?T:(w=i==null?0:i.length,!!w&&ys(w)&&Ln(B,w)&&(te(i)||Ra(i)))}function Nb(i){var s=i.length,d=new i.constructor(s);return s&&typeof i[0]=="string"&&_e.call(i,"index")&&(d.index=i.index,d.input=i.input),d}function _v(i){return typeof i.constructor=="function"&&!Xi(i)?si(Yo(i)):{}}function Vb(i,s,d){var b=i.constructor;switch(s){case oe:return cl(i);case Rt:case P:return new b(+i);case Yt:return Mb(i,d);case Nt:case ve:case ze:case je:case vt:case Kt:case ae:case Qt:case be:return nv(i,d);case wt:return new b;case Ot:case ue:return new b(i);case Ct:return Db(i);case qt:return new b;case st:return Tb(i)}}function Wb(i,s){var d=s.length;if(!d)return i;var b=d-1;return s[b]=(d>1?"& ":"")+s[b],s=s.join(d>2?", ":" "),i.replace(Za,`{
/* [wrapped with `+s+`] */
`)}function Hb(i){return te(i)||Ra(i)||!!(Md&&i&&i[Md])}function Ln(i,s){var d=typeof i;return s=s==null?ot:s,!!s&&(d=="number"||d!="symbol"&&F.test(i))&&i>-1&&i%1==0&&i<s}function vr(i,s,d){if(!ke(d))return!1;var b=typeof s;return(b=="number"?Sr(d)&&Ln(s,d.length):b=="string"&&s in d)?an(d[s],i):!1}function bl(i,s){if(te(i))return!1;var d=typeof i;return d=="number"||d=="symbol"||d=="boolean"||i==null||Or(i)?!0:Ua.test(i)||!Tn.test(i)||s!=null&&i in we(s)}function Yb(i){var s=typeof i;return s=="string"||s=="number"||s=="symbol"||s=="boolean"?i!=="__proto__":i===null}function yl(i){var s=fs(i),d=M[s];if(typeof d!="function"||!(s in de.prototype))return!1;if(i===d)return!0;var b=hl(d);return!!b&&i===b[0]}function Xb(i){return!!wd&&wd in i}var Ub=Go?Fn:zl;function Xi(i){var s=i&&i.constructor,d=typeof s=="function"&&s.prototype||ai;return i===d}function wv(i){return i===i&&!ke(i)}function xv(i,s){return function(d){return d==null?!1:d[i]===s&&(s!==r||i in we(d))}}function Kb(i){var s=ms(i,function(b){return d.size===f&&d.clear(),b}),d=s.cache;return s}function jb(i,s){var d=i[1],b=s[1],w=d|b,T=w<(S|_|k),B=b==k&&d==x||b==k&&d==I&&i[7].length<=s[8]||b==(k|I)&&s[7].length<=s[8]&&d==x;if(!(T||B))return i;b&S&&(i[2]=s[2],w|=d&S?0:E);var q=s[3];if(q){var Y=i[3];i[3]=Y?iv(Y,q,s[4]):q,i[4]=Y?ta(i[3],v):s[4]}return q=s[5],q&&(Y=i[5],i[5]=Y?ov(Y,q,s[6]):q,i[6]=Y?ta(i[5],v):s[6]),q=s[7],q&&(i[7]=q),b&k&&(i[8]=i[8]==null?s[8]:ur(i[8],s[8])),i[9]==null&&(i[9]=s[9]),i[0]=s[0],i[1]=w,i}function Zb(i){var s=[];if(i!=null)for(var d in we(i))s.push(d);return s}function Qb(i){return Vo.call(i)}function Cv(i,s,d){return s=Xe(s===r?i.length-1:s,0),function(){for(var b=arguments,w=-1,T=Xe(b.length-s,0),B=Q(T);++w<T;)B[w]=b[s+w];w=-1;for(var q=Q(s+1);++w<s;)q[w]=b[w];return q[s]=d(B),Rr(i,this,q)}}function Ev(i,s){return s.length<2?i:Ma(i,Vr(s,0,-1))}function Jb(i,s){for(var d=i.length,b=ur(s.length,d),w=yr(i);b--;){var T=s[b];i[b]=Ln(T,d)?w[T]:r}return i}function Sl(i,s){if(!(s==="constructor"&&typeof i[s]=="function")&&s!="__proto__")return i[s]}var Mv=Tv(Kd),Ui=p1||function(i,s){return er.setTimeout(i,s)},_l=Tv(wb);function Dv(i,s,d){var b=s+"";return _l(i,Wb(b,ty(Gb(b),d)))}function Tv(i){var s=0,d=0;return function(){var b=b1(),w=L-(b-d);if(d=b,w>0){if(++s>=z)return arguments[0]}else s=0;return i.apply(r,arguments)}}function vs(i,s){var d=-1,b=i.length,w=b-1;for(s=s===r?b:s;++d<s;){var T=nl(d,w),B=i[T];i[T]=i[d],i[d]=B}return i.length=s,i}var Rv=Kb(function(i){var s=[];return i.charCodeAt(0)===46&&s.push(""),i.replace(Un,function(d,b,w,T){s.push(w?T.replace(Tr,"$1"):b||d)}),s});function _n(i){if(typeof i=="string"||Or(i))return i;var s=i+"";return s=="0"&&1/i==-nt?"-0":s}function Ta(i){if(i!=null){try{return No.call(i)}catch{}try{return i+""}catch{}}return""}function ty(i,s){return qr(mt,function(d){var b="_."+d[0];s&d[1]&&!Lo(i,b)&&i.push(b)}),i.sort()}function kv(i){if(i instanceof de)return i.clone();var s=new Gr(i.__wrapped__,i.__chain__);return s.__actions__=yr(i.__actions__),s.__index__=i.__index__,s.__values__=i.__values__,s}function ey(i,s,d){(d?vr(i,s,d):s===r)?s=1:s=Xe(ne(s),0);var b=i==null?0:i.length;if(!b||s<1)return[];for(var w=0,T=0,B=Q(Ko(b/s));w<b;)B[T++]=Vr(i,w,w+=s);return B}function ry(i){for(var s=-1,d=i==null?0:i.length,b=0,w=[];++s<d;){var T=i[s];T&&(w[b++]=T)}return w}function ny(){var i=arguments.length;if(!i)return[];for(var s=Q(i-1),d=arguments[0],b=i;b--;)s[b-1]=arguments[b];return Jn(te(d)?yr(d):[d],rr(s,1))}var ay=se(function(i,s){return Le(i)?Ni(i,rr(s,1,Le,!0)):[]}),iy=se(function(i,s){var d=Wr(s);return Le(d)&&(d=r),Le(i)?Ni(i,rr(s,1,Le,!0),Wt(d,2)):[]}),oy=se(function(i,s){var d=Wr(s);return Le(d)&&(d=r),Le(i)?Ni(i,rr(s,1,Le,!0),r,d):[]});function sy(i,s,d){var b=i==null?0:i.length;return b?(s=d||s===r?1:ne(s),Vr(i,s<0?0:s,b)):[]}function uy(i,s,d){var b=i==null?0:i.length;return b?(s=d||s===r?1:ne(s),s=b-s,Vr(i,0,s<0?0:s)):[]}function ly(i,s){return i&&i.length?is(i,Wt(s,3),!0,!0):[]}function cy(i,s){return i&&i.length?is(i,Wt(s,3),!0):[]}function fy(i,s,d,b){var w=i==null?0:i.length;return w?(d&&typeof d!="number"&&vr(i,s,d)&&(d=0,b=w),nb(i,s,d,b)):[]}function Iv(i,s,d){var b=i==null?0:i.length;if(!b)return-1;var w=d==null?0:ne(d);return w<0&&(w=Xe(b+w,0)),Fo(i,Wt(s,3),w)}function Ov(i,s,d){var b=i==null?0:i.length;if(!b)return-1;var w=b-1;return d!==r&&(w=ne(d),w=d<0?Xe(b+w,0):ur(w,b-1)),Fo(i,Wt(s,3),w,!0)}function Av(i){var s=i==null?0:i.length;return s?rr(i,1):[]}function dy(i){var s=i==null?0:i.length;return s?rr(i,nt):[]}function vy(i,s){var d=i==null?0:i.length;return d?(s=s===r?1:ne(s),rr(i,s)):[]}function py(i){for(var s=-1,d=i==null?0:i.length,b={};++s<d;){var w=i[s];b[w[0]]=w[1]}return b}function Bv(i){return i&&i.length?i[0]:r}function hy(i,s,d){var b=i==null?0:i.length;if(!b)return-1;var w=d==null?0:ne(d);return w<0&&(w=Xe(b+w,0)),ti(i,s,w)}function gy(i){var s=i==null?0:i.length;return s?Vr(i,0,-1):[]}var my=se(function(i){var s=Re(i,ul);return s.length&&s[0]===i[0]?Qu(s):[]}),by=se(function(i){var s=Wr(i),d=Re(i,ul);return s===Wr(d)?s=r:d.pop(),d.length&&d[0]===i[0]?Qu(d,Wt(s,2)):[]}),yy=se(function(i){var s=Wr(i),d=Re(i,ul);return s=typeof s=="function"?s:r,s&&d.pop(),d.length&&d[0]===i[0]?Qu(d,r,s):[]});function Sy(i,s){return i==null?"":g1.call(i,s)}function Wr(i){var s=i==null?0:i.length;return s?i[s-1]:r}function _y(i,s,d){var b=i==null?0:i.length;if(!b)return-1;var w=b;return d!==r&&(w=ne(d),w=w<0?Xe(b+w,0):ur(w,b-1)),s===s?t1(i,s,w):Fo(i,pd,w,!0)}function wy(i,s){return i&&i.length?Hd(i,ne(s)):r}var xy=se(Pv);function Pv(i,s){return i&&i.length&&s&&s.length?rl(i,s):i}function Cy(i,s,d){return i&&i.length&&s&&s.length?rl(i,s,Wt(d,2)):i}function Ey(i,s,d){return i&&i.length&&s&&s.length?rl(i,s,r,d):i}var My=zn(function(i,s){var d=i==null?0:i.length,b=Uu(i,s);return Ud(i,Re(s,function(w){return Ln(w,d)?+w:w}).sort(av)),b});function Dy(i,s){var d=[];if(!(i&&i.length))return d;var b=-1,w=[],T=i.length;for(s=Wt(s,3);++b<T;){var B=i[b];s(B,b,i)&&(d.push(B),w.push(b))}return Ud(i,w),d}function wl(i){return i==null?i:S1.call(i)}function Ty(i,s,d){var b=i==null?0:i.length;return b?(d&&typeof d!="number"&&vr(i,s,d)?(s=0,d=b):(s=s==null?0:ne(s),d=d===r?b:ne(d)),Vr(i,s,d)):[]}function Ry(i,s){return as(i,s)}function ky(i,s,d){return il(i,s,Wt(d,2))}function Iy(i,s){var d=i==null?0:i.length;if(d){var b=as(i,s);if(b<d&&an(i[b],s))return b}return-1}function Oy(i,s){return as(i,s,!0)}function Ay(i,s,d){return il(i,s,Wt(d,2),!0)}function By(i,s){var d=i==null?0:i.length;if(d){var b=as(i,s,!0)-1;if(an(i[b],s))return b}return-1}function Py(i){return i&&i.length?jd(i):[]}function zy(i,s){return i&&i.length?jd(i,Wt(s,2)):[]}function Ly(i){var s=i==null?0:i.length;return s?Vr(i,1,s):[]}function Fy(i,s,d){return i&&i.length?(s=d||s===r?1:ne(s),Vr(i,0,s<0?0:s)):[]}function qy(i,s,d){var b=i==null?0:i.length;return b?(s=d||s===r?1:ne(s),s=b-s,Vr(i,s<0?0:s,b)):[]}function $y(i,s){return i&&i.length?is(i,Wt(s,3),!1,!0):[]}function Gy(i,s){return i&&i.length?is(i,Wt(s,3)):[]}var Ny=se(function(i){return na(rr(i,1,Le,!0))}),Vy=se(function(i){var s=Wr(i);return Le(s)&&(s=r),na(rr(i,1,Le,!0),Wt(s,2))}),Wy=se(function(i){var s=Wr(i);return s=typeof s=="function"?s:r,na(rr(i,1,Le,!0),r,s)});function Hy(i){return i&&i.length?na(i):[]}function Yy(i,s){return i&&i.length?na(i,Wt(s,2)):[]}function Xy(i,s){return s=typeof s=="function"?s:r,i&&i.length?na(i,r,s):[]}function xl(i){if(!(i&&i.length))return[];var s=0;return i=Qn(i,function(d){if(Le(d))return s=Xe(d.length,s),!0}),$u(s,function(d){return Re(i,Lu(d))})}function zv(i,s){if(!(i&&i.length))return[];var d=xl(i);return s==null?d:Re(d,function(b){return Rr(s,r,b)})}var Uy=se(function(i,s){return Le(i)?Ni(i,s):[]}),Ky=se(function(i){return sl(Qn(i,Le))}),jy=se(function(i){var s=Wr(i);return Le(s)&&(s=r),sl(Qn(i,Le),Wt(s,2))}),Zy=se(function(i){var s=Wr(i);return s=typeof s=="function"?s:r,sl(Qn(i,Le),r,s)}),Qy=se(xl);function Jy(i,s){return tv(i||[],s||[],Gi)}function tS(i,s){return tv(i||[],s||[],Hi)}var eS=se(function(i){var s=i.length,d=s>1?i[s-1]:r;return d=typeof d=="function"?(i.pop(),d):r,zv(i,d)});function Lv(i){var s=M(i);return s.__chain__=!0,s}function rS(i,s){return s(i),i}function ps(i,s){return s(i)}var nS=zn(function(i){var s=i.length,d=s?i[0]:0,b=this.__wrapped__,w=function(T){return Uu(T,i)};return s>1||this.__actions__.length||!(b instanceof de)||!Ln(d)?this.thru(w):(b=b.slice(d,+d+(s?1:0)),b.__actions__.push({func:ps,args:[w],thisArg:r}),new Gr(b,this.__chain__).thru(function(T){return s&&!T.length&&T.push(r),T}))});function aS(){return Lv(this)}function iS(){return new Gr(this.value(),this.__chain__)}function oS(){this.__values__===r&&(this.__values__=Zv(this.value()));var i=this.__index__>=this.__values__.length,s=i?r:this.__values__[this.__index__++];return{done:i,value:s}}function sS(){return this}function uS(i){for(var s,d=this;d instanceof Jo;){var b=kv(d);b.__index__=0,b.__values__=r,s?w.__wrapped__=b:s=b;var w=b;d=d.__wrapped__}return w.__wrapped__=i,s}function lS(){var i=this.__wrapped__;if(i instanceof de){var s=i;return this.__actions__.length&&(s=new de(this)),s=s.reverse(),s.__actions__.push({func:ps,args:[wl],thisArg:r}),new Gr(s,this.__chain__)}return this.thru(wl)}function cS(){return Jd(this.__wrapped__,this.__actions__)}var fS=os(function(i,s,d){_e.call(i,d)?++i[d]:Bn(i,d,1)});function dS(i,s,d){var b=te(i)?dd:rb;return d&&vr(i,s,d)&&(s=r),b(i,Wt(s,3))}function vS(i,s){var d=te(i)?Qn:zd;return d(i,Wt(s,3))}var pS=cv(Iv),hS=cv(Ov);function gS(i,s){return rr(hs(i,s),1)}function mS(i,s){return rr(hs(i,s),nt)}function bS(i,s,d){return d=d===r?1:ne(d),rr(hs(i,s),d)}function Fv(i,s){var d=te(i)?qr:ra;return d(i,Wt(s,3))}function qv(i,s){var d=te(i)?Lm:Pd;return d(i,Wt(s,3))}var yS=os(function(i,s,d){_e.call(i,d)?i[d].push(s):Bn(i,d,[s])});function SS(i,s,d,b){i=Sr(i)?i:di(i),d=d&&!b?ne(d):0;var w=i.length;return d<0&&(d=Xe(w+d,0)),Ss(i)?d<=w&&i.indexOf(s,d)>-1:!!w&&ti(i,s,d)>-1}var _S=se(function(i,s,d){var b=-1,w=typeof s=="function",T=Sr(i)?Q(i.length):[];return ra(i,function(B){T[++b]=w?Rr(s,B,d):Vi(B,s,d)}),T}),wS=os(function(i,s,d){Bn(i,d,s)});function hs(i,s){var d=te(i)?Re:Nd;return d(i,Wt(s,3))}function xS(i,s,d,b){return i==null?[]:(te(s)||(s=s==null?[]:[s]),d=b?r:d,te(d)||(d=d==null?[]:[d]),Yd(i,s,d))}var CS=os(function(i,s,d){i[d?0:1].push(s)},function(){return[[],[]]});function ES(i,s,d){var b=te(i)?Pu:gd,w=arguments.length<3;return b(i,Wt(s,4),d,w,ra)}function MS(i,s,d){var b=te(i)?Fm:gd,w=arguments.length<3;return b(i,Wt(s,4),d,w,Pd)}function DS(i,s){var d=te(i)?Qn:zd;return d(i,bs(Wt(s,3)))}function TS(i){var s=te(i)?Id:Sb;return s(i)}function RS(i,s,d){(d?vr(i,s,d):s===r)?s=1:s=ne(s);var b=te(i)?Z1:_b;return b(i,s)}function kS(i){var s=te(i)?Q1:xb;return s(i)}function IS(i){if(i==null)return 0;if(Sr(i))return Ss(i)?ri(i):i.length;var s=lr(i);return s==wt||s==qt?i.size:tl(i).length}function OS(i,s,d){var b=te(i)?zu:Cb;return d&&vr(i,s,d)&&(s=r),b(i,Wt(s,3))}var AS=se(function(i,s){if(i==null)return[];var d=s.length;return d>1&&vr(i,s[0],s[1])?s=[]:d>2&&vr(s[0],s[1],s[2])&&(s=[s[0]]),Yd(i,rr(s,1),[])}),gs=v1||function(){return er.Date.now()};function BS(i,s){if(typeof s!="function")throw new $r(u);return i=ne(i),function(){if(--i<1)return s.apply(this,arguments)}}function $v(i,s,d){return s=d?r:s,s=i&&s==null?i.length:s,Pn(i,k,r,r,r,r,s)}function Gv(i,s){var d;if(typeof s!="function")throw new $r(u);return i=ne(i),function(){return--i>0&&(d=s.apply(this,arguments)),i<=1&&(s=r),d}}var Cl=se(function(i,s,d){var b=S;if(d.length){var w=ta(d,ci(Cl));b|=R}return Pn(i,b,s,d,w)}),Nv=se(function(i,s,d){var b=S|_;if(d.length){var w=ta(d,ci(Nv));b|=R}return Pn(s,b,i,d,w)});function Vv(i,s,d){s=d?r:s;var b=Pn(i,x,r,r,r,r,r,s);return b.placeholder=Vv.placeholder,b}function Wv(i,s,d){s=d?r:s;var b=Pn(i,C,r,r,r,r,r,s);return b.placeholder=Wv.placeholder,b}function Hv(i,s,d){var b,w,T,B,q,Y,ft=0,dt=!1,bt=!1,Tt=!0;if(typeof i!="function")throw new $r(u);s=Hr(s)||0,ke(d)&&(dt=!!d.leading,bt="maxWait"in d,T=bt?Xe(Hr(d.maxWait)||0,s):T,Tt="trailing"in d?!!d.trailing:Tt);function Ft(Fe){var on=b,$n=w;return b=w=r,ft=Fe,B=i.apply($n,on),B}function Xt(Fe){return ft=Fe,q=Ui(ce,s),dt?Ft(Fe):B}function ie(Fe){var on=Fe-Y,$n=Fe-ft,cp=s-on;return bt?ur(cp,T-$n):cp}function Ut(Fe){var on=Fe-Y,$n=Fe-ft;return Y===r||on>=s||on<0||bt&&$n>=T}function ce(){var Fe=gs();if(Ut(Fe))return pe(Fe);q=Ui(ce,ie(Fe))}function pe(Fe){return q=r,Tt&&b?Ft(Fe):(b=w=r,B)}function Ar(){q!==r&&ev(q),ft=0,b=Y=w=q=r}function pr(){return q===r?B:pe(gs())}function Br(){var Fe=gs(),on=Ut(Fe);if(b=arguments,w=this,Y=Fe,on){if(q===r)return Xt(Y);if(bt)return ev(q),q=Ui(ce,s),Ft(Y)}return q===r&&(q=Ui(ce,s)),B}return Br.cancel=Ar,Br.flush=pr,Br}var PS=se(function(i,s){return Bd(i,1,s)}),zS=se(function(i,s,d){return Bd(i,Hr(s)||0,d)});function LS(i){return Pn(i,O)}function ms(i,s){if(typeof i!="function"||s!=null&&typeof s!="function")throw new $r(u);var d=function(){var b=arguments,w=s?s.apply(this,b):b[0],T=d.cache;if(T.has(w))return T.get(w);var B=i.apply(this,b);return d.cache=T.set(w,B)||T,B};return d.cache=new(ms.Cache||An),d}ms.Cache=An;function bs(i){if(typeof i!="function")throw new $r(u);return function(){var s=arguments;switch(s.length){case 0:return!i.call(this);case 1:return!i.call(this,s[0]);case 2:return!i.call(this,s[0],s[1]);case 3:return!i.call(this,s[0],s[1],s[2])}return!i.apply(this,s)}}function FS(i){return Gv(2,i)}var qS=Eb(function(i,s){s=s.length==1&&te(s[0])?Re(s[0],kr(Wt())):Re(rr(s,1),kr(Wt()));var d=s.length;return se(function(b){for(var w=-1,T=ur(b.length,d);++w<T;)b[w]=s[w].call(this,b[w]);return Rr(i,this,b)})}),El=se(function(i,s){var d=ta(s,ci(El));return Pn(i,R,r,s,d)}),Yv=se(function(i,s){var d=ta(s,ci(Yv));return Pn(i,D,r,s,d)}),$S=zn(function(i,s){return Pn(i,I,r,r,r,s)});function GS(i,s){if(typeof i!="function")throw new $r(u);return s=s===r?s:ne(s),se(i,s)}function NS(i,s){if(typeof i!="function")throw new $r(u);return s=s==null?0:Xe(ne(s),0),se(function(d){var b=d[s],w=ia(d,0,s);return b&&Jn(w,b),Rr(i,this,w)})}function VS(i,s,d){var b=!0,w=!0;if(typeof i!="function")throw new $r(u);return ke(d)&&(b="leading"in d?!!d.leading:b,w="trailing"in d?!!d.trailing:w),Hv(i,s,{leading:b,maxWait:s,trailing:w})}function WS(i){return $v(i,1)}function HS(i,s){return El(ll(s),i)}function YS(){if(!arguments.length)return[];var i=arguments[0];return te(i)?i:[i]}function XS(i){return Nr(i,g)}function US(i,s){return s=typeof s=="function"?s:r,Nr(i,g,s)}function KS(i){return Nr(i,h|g)}function jS(i,s){return s=typeof s=="function"?s:r,Nr(i,h|g,s)}function ZS(i,s){return s==null||Ad(i,s,Ze(s))}function an(i,s){return i===s||i!==i&&s!==s}var QS=cs(Zu),JS=cs(function(i,s){return i>=s}),Ra=qd(function(){return arguments}())?qd:function(i){return Ae(i)&&_e.call(i,"callee")&&!Ed.call(i,"callee")},te=Q.isArray,t_=od?kr(od):ub;function Sr(i){return i!=null&&ys(i.length)&&!Fn(i)}function Le(i){return Ae(i)&&Sr(i)}function e_(i){return i===!0||i===!1||Ae(i)&&dr(i)==Rt}var oa=h1||zl,r_=sd?kr(sd):lb;function n_(i){return Ae(i)&&i.nodeType===1&&!Ki(i)}function a_(i){if(i==null)return!0;if(Sr(i)&&(te(i)||typeof i=="string"||typeof i.splice=="function"||oa(i)||fi(i)||Ra(i)))return!i.length;var s=lr(i);if(s==wt||s==qt)return!i.size;if(Xi(i))return!tl(i).length;for(var d in i)if(_e.call(i,d))return!1;return!0}function i_(i,s){return Wi(i,s)}function o_(i,s,d){d=typeof d=="function"?d:r;var b=d?d(i,s):r;return b===r?Wi(i,s,r,d):!!b}function Ml(i){if(!Ae(i))return!1;var s=dr(i);return s==ht||s==tt||typeof i.message=="string"&&typeof i.name=="string"&&!Ki(i)}function s_(i){return typeof i=="number"&&Dd(i)}function Fn(i){if(!ke(i))return!1;var s=dr(i);return s==Dt||s==kt||s==St||s==pt}function Xv(i){return typeof i=="number"&&i==ne(i)}function ys(i){return typeof i=="number"&&i>-1&&i%1==0&&i<=ot}function ke(i){var s=typeof i;return i!=null&&(s=="object"||s=="function")}function Ae(i){return i!=null&&typeof i=="object"}var Uv=ud?kr(ud):fb;function u_(i,s){return i===s||Ju(i,s,gl(s))}function l_(i,s,d){return d=typeof d=="function"?d:r,Ju(i,s,gl(s),d)}function c_(i){return Kv(i)&&i!=+i}function f_(i){if(Ub(i))throw new Jt(o);return $d(i)}function d_(i){return i===null}function v_(i){return i==null}function Kv(i){return typeof i=="number"||Ae(i)&&dr(i)==Ot}function Ki(i){if(!Ae(i)||dr(i)!=G)return!1;var s=Yo(i);if(s===null)return!0;var d=_e.call(s,"constructor")&&s.constructor;return typeof d=="function"&&d instanceof d&&No.call(d)==l1}var Dl=ld?kr(ld):db;function p_(i){return Xv(i)&&i>=-ot&&i<=ot}var jv=cd?kr(cd):vb;function Ss(i){return typeof i=="string"||!te(i)&&Ae(i)&&dr(i)==ue}function Or(i){return typeof i=="symbol"||Ae(i)&&dr(i)==st}var fi=fd?kr(fd):pb;function h_(i){return i===r}function g_(i){return Ae(i)&&lr(i)==Lt}function m_(i){return Ae(i)&&dr(i)==le}var b_=cs(el),y_=cs(function(i,s){return i<=s});function Zv(i){if(!i)return[];if(Sr(i))return Ss(i)?rn(i):yr(i);if(zi&&i[zi])return Zm(i[zi]());var s=lr(i),d=s==wt?Nu:s==qt?qo:di;return d(i)}function qn(i){if(!i)return i===0?i:0;if(i=Hr(i),i===nt||i===-nt){var s=i<0?-1:1;return s*Z}return i===i?i:0}function ne(i){var s=qn(i),d=s%1;return s===s?d?s-d:s:0}function Qv(i){return i?Ea(ne(i),0,K):0}function Hr(i){if(typeof i=="number")return i;if(Or(i))return N;if(ke(i)){var s=typeof i.valueOf=="function"?i.valueOf():i;i=ke(s)?s+"":s}if(typeof i!="string")return i===0?i:+i;i=md(i);var d=kn.test(i);return d||Sa.test(i)?Bm(i.slice(2),d?2:8):Rn.test(i)?N:+i}function Jv(i){return Sn(i,_r(i))}function S_(i){return i?Ea(ne(i),-ot,ot):i===0?i:0}function Se(i){return i==null?"":Ir(i)}var __=ui(function(i,s){if(Xi(s)||Sr(s)){Sn(s,Ze(s),i);return}for(var d in s)_e.call(s,d)&&Gi(i,d,s[d])}),tp=ui(function(i,s){Sn(s,_r(s),i)}),_s=ui(function(i,s,d,b){Sn(s,_r(s),i,b)}),w_=ui(function(i,s,d,b){Sn(s,Ze(s),i,b)}),x_=zn(Uu);function C_(i,s){var d=si(i);return s==null?d:Od(d,s)}var E_=se(function(i,s){i=we(i);var d=-1,b=s.length,w=b>2?s[2]:r;for(w&&vr(s[0],s[1],w)&&(b=1);++d<b;)for(var T=s[d],B=_r(T),q=-1,Y=B.length;++q<Y;){var ft=B[q],dt=i[ft];(dt===r||an(dt,ai[ft])&&!_e.call(i,ft))&&(i[ft]=T[ft])}return i}),M_=se(function(i){return i.push(r,mv),Rr(ep,r,i)});function D_(i,s){return vd(i,Wt(s,3),yn)}function T_(i,s){return vd(i,Wt(s,3),ju)}function R_(i,s){return i==null?i:Ku(i,Wt(s,3),_r)}function k_(i,s){return i==null?i:Ld(i,Wt(s,3),_r)}function I_(i,s){return i&&yn(i,Wt(s,3))}function O_(i,s){return i&&ju(i,Wt(s,3))}function A_(i){return i==null?[]:rs(i,Ze(i))}function B_(i){return i==null?[]:rs(i,_r(i))}function Tl(i,s,d){var b=i==null?r:Ma(i,s);return b===r?d:b}function P_(i,s){return i!=null&&Sv(i,s,ab)}function Rl(i,s){return i!=null&&Sv(i,s,ib)}var z_=dv(function(i,s,d){s!=null&&typeof s.toString!="function"&&(s=Vo.call(s)),i[s]=d},Il(wr)),L_=dv(function(i,s,d){s!=null&&typeof s.toString!="function"&&(s=Vo.call(s)),_e.call(i,s)?i[s].push(d):i[s]=[d]},Wt),F_=se(Vi);function Ze(i){return Sr(i)?kd(i):tl(i)}function _r(i){return Sr(i)?kd(i,!0):hb(i)}function q_(i,s){var d={};return s=Wt(s,3),yn(i,function(b,w,T){Bn(d,s(b,w,T),b)}),d}function $_(i,s){var d={};return s=Wt(s,3),yn(i,function(b,w,T){Bn(d,w,s(b,w,T))}),d}var G_=ui(function(i,s,d){ns(i,s,d)}),ep=ui(function(i,s,d,b){ns(i,s,d,b)}),N_=zn(function(i,s){var d={};if(i==null)return d;var b=!1;s=Re(s,function(T){return T=aa(T,i),b||(b=T.length>1),T}),Sn(i,pl(i),d),b&&(d=Nr(d,h|p|g,zb));for(var w=s.length;w--;)ol(d,s[w]);return d});function V_(i,s){return rp(i,bs(Wt(s)))}var W_=zn(function(i,s){return i==null?{}:mb(i,s)});function rp(i,s){if(i==null)return{};var d=Re(pl(i),function(b){return[b]});return s=Wt(s),Xd(i,d,function(b,w){return s(b,w[0])})}function H_(i,s,d){s=aa(s,i);var b=-1,w=s.length;for(w||(w=1,i=r);++b<w;){var T=i==null?r:i[_n(s[b])];T===r&&(b=w,T=d),i=Fn(T)?T.call(i):T}return i}function Y_(i,s,d){return i==null?i:Hi(i,s,d)}function X_(i,s,d,b){return b=typeof b=="function"?b:r,i==null?i:Hi(i,s,d,b)}var np=hv(Ze),ap=hv(_r);function U_(i,s,d){var b=te(i),w=b||oa(i)||fi(i);if(s=Wt(s,4),d==null){var T=i&&i.constructor;w?d=b?new T:[]:ke(i)?d=Fn(T)?si(Yo(i)):{}:d={}}return(w?qr:yn)(i,function(B,q,Y){return s(d,B,q,Y)}),d}function K_(i,s){return i==null?!0:ol(i,s)}function j_(i,s,d){return i==null?i:Qd(i,s,ll(d))}function Z_(i,s,d,b){return b=typeof b=="function"?b:r,i==null?i:Qd(i,s,ll(d),b)}function di(i){return i==null?[]:Gu(i,Ze(i))}function Q_(i){return i==null?[]:Gu(i,_r(i))}function J_(i,s,d){return d===r&&(d=s,s=r),d!==r&&(d=Hr(d),d=d===d?d:0),s!==r&&(s=Hr(s),s=s===s?s:0),Ea(Hr(i),s,d)}function tw(i,s,d){return s=qn(s),d===r?(d=s,s=0):d=qn(d),i=Hr(i),ob(i,s,d)}function ew(i,s,d){if(d&&typeof d!="boolean"&&vr(i,s,d)&&(s=d=r),d===r&&(typeof s=="boolean"?(d=s,s=r):typeof i=="boolean"&&(d=i,i=r)),i===r&&s===r?(i=0,s=1):(i=qn(i),s===r?(s=i,i=0):s=qn(s)),i>s){var b=i;i=s,s=b}if(d||i%1||s%1){var w=Td();return ur(i+w*(s-i+Am("1e-"+((w+"").length-1))),s)}return nl(i,s)}var rw=li(function(i,s,d){return s=s.toLowerCase(),i+(d?ip(s):s)});function ip(i){return kl(Se(i).toLowerCase())}function op(i){return i=Se(i),i&&i.replace(It,Ym).replace(xm,"")}function nw(i,s,d){i=Se(i),s=Ir(s);var b=i.length;d=d===r?b:Ea(ne(d),0,b);var w=d;return d-=s.length,d>=0&&i.slice(d,w)==s}function aw(i){return i=Se(i),i&&Xa.test(i)?i.replace(gn,Xm):i}function iw(i){return i=Se(i),i&&Ka.test(i)?i.replace(Kn,"\\$&"):i}var ow=li(function(i,s,d){return i+(d?"-":"")+s.toLowerCase()}),sw=li(function(i,s,d){return i+(d?" ":"")+s.toLowerCase()}),uw=lv("toLowerCase");function lw(i,s,d){i=Se(i),s=ne(s);var b=s?ri(i):0;if(!s||b>=s)return i;var w=(s-b)/2;return ls(jo(w),d)+i+ls(Ko(w),d)}function cw(i,s,d){i=Se(i),s=ne(s);var b=s?ri(i):0;return s&&b<s?i+ls(s-b,d):i}function fw(i,s,d){i=Se(i),s=ne(s);var b=s?ri(i):0;return s&&b<s?ls(s-b,d)+i:i}function dw(i,s,d){return d||s==null?s=0:s&&(s=+s),y1(Se(i).replace(jn,""),s||0)}function vw(i,s,d){return(d?vr(i,s,d):s===r)?s=1:s=ne(s),al(Se(i),s)}function pw(){var i=arguments,s=Se(i[0]);return i.length<3?s:s.replace(i[1],i[2])}var hw=li(function(i,s,d){return i+(d?"_":"")+s.toLowerCase()});function gw(i,s,d){return d&&typeof d!="number"&&vr(i,s,d)&&(s=d=r),d=d===r?K:d>>>0,d?(i=Se(i),i&&(typeof s=="string"||s!=null&&!Dl(s))&&(s=Ir(s),!s&&ei(i))?ia(rn(i),0,d):i.split(s,d)):[]}var mw=li(function(i,s,d){return i+(d?" ":"")+kl(s)});function bw(i,s,d){return i=Se(i),d=d==null?0:Ea(ne(d),0,i.length),s=Ir(s),i.slice(d,d+s.length)==s}function yw(i,s,d){var b=M.templateSettings;d&&vr(i,s,d)&&(s=r),i=Se(i),s=_s({},s,b,gv);var w=_s({},s.imports,b.imports,gv),T=Ze(w),B=Gu(w,T),q,Y,ft=0,dt=s.interpolate||xt,bt="__p += '",Tt=Vu((s.escape||xt).source+"|"+dt.source+"|"+(dt===Lr?ba:xt).source+"|"+(s.evaluate||xt).source+"|$","g"),Ft="//# sourceURL="+(_e.call(s,"sourceURL")?(s.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++Tm+"]")+`
`;i.replace(Tt,function(Ut,ce,pe,Ar,pr,Br){return pe||(pe=Ar),bt+=i.slice(ft,Br).replace($,Um),ce&&(q=!0,bt+=`' +
__e(`+ce+`) +
'`),pr&&(Y=!0,bt+=`';
`+pr+`;
__p += '`),pe&&(bt+=`' +
((__t = (`+pe+`)) == null ? '' : __t) +
'`),ft=Br+Ut.length,Ut}),bt+=`';
`;var Xt=_e.call(s,"variable")&&s.variable;if(!Xt)bt=`with (obj) {
`+bt+`
}
`;else if(He.test(Xt))throw new Jt(l);bt=(Y?bt.replace(ee,""):bt).replace(Ee,"$1").replace(Dr,"$1;"),bt="function("+(Xt||"obj")+`) {
`+(Xt?"":`obj || (obj = {});
`)+"var __t, __p = ''"+(q?", __e = _.escape":"")+(Y?`, __j = Array.prototype.join;
function print() { __p += __j.call(arguments, '') }
`:`;
`)+bt+`return __p
}`;var ie=up(function(){return me(T,Ft+"return "+bt).apply(r,B)});if(ie.source=bt,Ml(ie))throw ie;return ie}function Sw(i){return Se(i).toLowerCase()}function _w(i){return Se(i).toUpperCase()}function ww(i,s,d){if(i=Se(i),i&&(d||s===r))return md(i);if(!i||!(s=Ir(s)))return i;var b=rn(i),w=rn(s),T=bd(b,w),B=yd(b,w)+1;return ia(b,T,B).join("")}function xw(i,s,d){if(i=Se(i),i&&(d||s===r))return i.slice(0,_d(i)+1);if(!i||!(s=Ir(s)))return i;var b=rn(i),w=yd(b,rn(s))+1;return ia(b,0,w).join("")}function Cw(i,s,d){if(i=Se(i),i&&(d||s===r))return i.replace(jn,"");if(!i||!(s=Ir(s)))return i;var b=rn(i),w=bd(b,rn(s));return ia(b,w).join("")}function Ew(i,s){var d=A,b=V;if(ke(s)){var w="separator"in s?s.separator:w;d="length"in s?ne(s.length):d,b="omission"in s?Ir(s.omission):b}i=Se(i);var T=i.length;if(ei(i)){var B=rn(i);T=B.length}if(d>=T)return i;var q=d-ri(b);if(q<1)return b;var Y=B?ia(B,0,q).join(""):i.slice(0,q);if(w===r)return Y+b;if(B&&(q+=Y.length-q),Dl(w)){if(i.slice(q).search(w)){var ft,dt=Y;for(w.global||(w=Vu(w.source,Se(bn.exec(w))+"g")),w.lastIndex=0;ft=w.exec(dt);)var bt=ft.index;Y=Y.slice(0,bt===r?q:bt)}}else if(i.indexOf(Ir(w),q)!=q){var Tt=Y.lastIndexOf(w);Tt>-1&&(Y=Y.slice(0,Tt))}return Y+b}function Mw(i){return i=Se(i),i&&Dn.test(i)?i.replace(Mn,e1):i}var Dw=li(function(i,s,d){return i+(d?" ":"")+s.toUpperCase()}),kl=lv("toUpperCase");function sp(i,s,d){return i=Se(i),s=d?r:s,s===r?jm(i)?a1(i):Gm(i):i.match(s)||[]}var up=se(function(i,s){try{return Rr(i,r,s)}catch(d){return Ml(d)?d:new Jt(d)}}),Tw=zn(function(i,s){return qr(s,function(d){d=_n(d),Bn(i,d,Cl(i[d],i))}),i});function Rw(i){var s=i==null?0:i.length,d=Wt();return i=s?Re(i,function(b){if(typeof b[1]!="function")throw new $r(u);return[d(b[0]),b[1]]}):[],se(function(b){for(var w=-1;++w<s;){var T=i[w];if(Rr(T[0],this,b))return Rr(T[1],this,b)}})}function kw(i){return eb(Nr(i,h))}function Il(i){return function(){return i}}function Iw(i,s){return i==null||i!==i?s:i}var Ow=fv(),Aw=fv(!0);function wr(i){return i}function Ol(i){return Gd(typeof i=="function"?i:Nr(i,h))}function Bw(i){return Vd(Nr(i,h))}function Pw(i,s){return Wd(i,Nr(s,h))}var zw=se(function(i,s){return function(d){return Vi(d,i,s)}}),Lw=se(function(i,s){return function(d){return Vi(i,d,s)}});function Al(i,s,d){var b=Ze(s),w=rs(s,b);d==null&&!(ke(s)&&(w.length||!b.length))&&(d=s,s=i,i=this,w=rs(s,Ze(s)));var T=!(ke(d)&&"chain"in d)||!!d.chain,B=Fn(i);return qr(w,function(q){var Y=s[q];i[q]=Y,B&&(i.prototype[q]=function(){var ft=this.__chain__;if(T||ft){var dt=i(this.__wrapped__),bt=dt.__actions__=yr(this.__actions__);return bt.push({func:Y,args:arguments,thisArg:i}),dt.__chain__=ft,dt}return Y.apply(i,Jn([this.value()],arguments))})}),i}function Fw(){return er._===this&&(er._=c1),this}function Bl(){}function qw(i){return i=ne(i),se(function(s){return Hd(s,i)})}var $w=fl(Re),Gw=fl(dd),Nw=fl(zu);function lp(i){return bl(i)?Lu(_n(i)):bb(i)}function Vw(i){return function(s){return i==null?r:Ma(i,s)}}var Ww=vv(),Hw=vv(!0);function Pl(){return[]}function zl(){return!1}function Yw(){return{}}function Xw(){return""}function Uw(){return!0}function Kw(i,s){if(i=ne(i),i<1||i>ot)return[];var d=K,b=ur(i,K);s=Wt(s),i-=K;for(var w=$u(b,s);++d<i;)s(d);return w}function jw(i){return te(i)?Re(i,_n):Or(i)?[i]:yr(Rv(Se(i)))}function Zw(i){var s=++u1;return Se(i)+s}var Qw=us(function(i,s){return i+s},0),Jw=dl("ceil"),tx=us(function(i,s){return i/s},1),ex=dl("floor");function rx(i){return i&&i.length?es(i,wr,Zu):r}function nx(i,s){return i&&i.length?es(i,Wt(s,2),Zu):r}function ax(i){return hd(i,wr)}function ix(i,s){return hd(i,Wt(s,2))}function ox(i){return i&&i.length?es(i,wr,el):r}function sx(i,s){return i&&i.length?es(i,Wt(s,2),el):r}var ux=us(function(i,s){return i*s},1),lx=dl("round"),cx=us(function(i,s){return i-s},0);function fx(i){return i&&i.length?qu(i,wr):0}function dx(i,s){return i&&i.length?qu(i,Wt(s,2)):0}return M.after=BS,M.ary=$v,M.assign=__,M.assignIn=tp,M.assignInWith=_s,M.assignWith=w_,M.at=x_,M.before=Gv,M.bind=Cl,M.bindAll=Tw,M.bindKey=Nv,M.castArray=YS,M.chain=Lv,M.chunk=ey,M.compact=ry,M.concat=ny,M.cond=Rw,M.conforms=kw,M.constant=Il,M.countBy=fS,M.create=C_,M.curry=Vv,M.curryRight=Wv,M.debounce=Hv,M.defaults=E_,M.defaultsDeep=M_,M.defer=PS,M.delay=zS,M.difference=ay,M.differenceBy=iy,M.differenceWith=oy,M.drop=sy,M.dropRight=uy,M.dropRightWhile=ly,M.dropWhile=cy,M.fill=fy,M.filter=vS,M.flatMap=gS,M.flatMapDeep=mS,M.flatMapDepth=bS,M.flatten=Av,M.flattenDeep=dy,M.flattenDepth=vy,M.flip=LS,M.flow=Ow,M.flowRight=Aw,M.fromPairs=py,M.functions=A_,M.functionsIn=B_,M.groupBy=yS,M.initial=gy,M.intersection=my,M.intersectionBy=by,M.intersectionWith=yy,M.invert=z_,M.invertBy=L_,M.invokeMap=_S,M.iteratee=Ol,M.keyBy=wS,M.keys=Ze,M.keysIn=_r,M.map=hs,M.mapKeys=q_,M.mapValues=$_,M.matches=Bw,M.matchesProperty=Pw,M.memoize=ms,M.merge=G_,M.mergeWith=ep,M.method=zw,M.methodOf=Lw,M.mixin=Al,M.negate=bs,M.nthArg=qw,M.omit=N_,M.omitBy=V_,M.once=FS,M.orderBy=xS,M.over=$w,M.overArgs=qS,M.overEvery=Gw,M.overSome=Nw,M.partial=El,M.partialRight=Yv,M.partition=CS,M.pick=W_,M.pickBy=rp,M.property=lp,M.propertyOf=Vw,M.pull=xy,M.pullAll=Pv,M.pullAllBy=Cy,M.pullAllWith=Ey,M.pullAt=My,M.range=Ww,M.rangeRight=Hw,M.rearg=$S,M.reject=DS,M.remove=Dy,M.rest=GS,M.reverse=wl,M.sampleSize=RS,M.set=Y_,M.setWith=X_,M.shuffle=kS,M.slice=Ty,M.sortBy=AS,M.sortedUniq=Py,M.sortedUniqBy=zy,M.split=gw,M.spread=NS,M.tail=Ly,M.take=Fy,M.takeRight=qy,M.takeRightWhile=$y,M.takeWhile=Gy,M.tap=rS,M.throttle=VS,M.thru=ps,M.toArray=Zv,M.toPairs=np,M.toPairsIn=ap,M.toPath=jw,M.toPlainObject=Jv,M.transform=U_,M.unary=WS,M.union=Ny,M.unionBy=Vy,M.unionWith=Wy,M.uniq=Hy,M.uniqBy=Yy,M.uniqWith=Xy,M.unset=K_,M.unzip=xl,M.unzipWith=zv,M.update=j_,M.updateWith=Z_,M.values=di,M.valuesIn=Q_,M.without=Uy,M.words=sp,M.wrap=HS,M.xor=Ky,M.xorBy=jy,M.xorWith=Zy,M.zip=Qy,M.zipObject=Jy,M.zipObjectDeep=tS,M.zipWith=eS,M.entries=np,M.entriesIn=ap,M.extend=tp,M.extendWith=_s,Al(M,M),M.add=Qw,M.attempt=up,M.camelCase=rw,M.capitalize=ip,M.ceil=Jw,M.clamp=J_,M.clone=XS,M.cloneDeep=KS,M.cloneDeepWith=jS,M.cloneWith=US,M.conformsTo=ZS,M.deburr=op,M.defaultTo=Iw,M.divide=tx,M.endsWith=nw,M.eq=an,M.escape=aw,M.escapeRegExp=iw,M.every=dS,M.find=pS,M.findIndex=Iv,M.findKey=D_,M.findLast=hS,M.findLastIndex=Ov,M.findLastKey=T_,M.floor=ex,M.forEach=Fv,M.forEachRight=qv,M.forIn=R_,M.forInRight=k_,M.forOwn=I_,M.forOwnRight=O_,M.get=Tl,M.gt=QS,M.gte=JS,M.has=P_,M.hasIn=Rl,M.head=Bv,M.identity=wr,M.includes=SS,M.indexOf=hy,M.inRange=tw,M.invoke=F_,M.isArguments=Ra,M.isArray=te,M.isArrayBuffer=t_,M.isArrayLike=Sr,M.isArrayLikeObject=Le,M.isBoolean=e_,M.isBuffer=oa,M.isDate=r_,M.isElement=n_,M.isEmpty=a_,M.isEqual=i_,M.isEqualWith=o_,M.isError=Ml,M.isFinite=s_,M.isFunction=Fn,M.isInteger=Xv,M.isLength=ys,M.isMap=Uv,M.isMatch=u_,M.isMatchWith=l_,M.isNaN=c_,M.isNative=f_,M.isNil=v_,M.isNull=d_,M.isNumber=Kv,M.isObject=ke,M.isObjectLike=Ae,M.isPlainObject=Ki,M.isRegExp=Dl,M.isSafeInteger=p_,M.isSet=jv,M.isString=Ss,M.isSymbol=Or,M.isTypedArray=fi,M.isUndefined=h_,M.isWeakMap=g_,M.isWeakSet=m_,M.join=Sy,M.kebabCase=ow,M.last=Wr,M.lastIndexOf=_y,M.lowerCase=sw,M.lowerFirst=uw,M.lt=b_,M.lte=y_,M.max=rx,M.maxBy=nx,M.mean=ax,M.meanBy=ix,M.min=ox,M.minBy=sx,M.stubArray=Pl,M.stubFalse=zl,M.stubObject=Yw,M.stubString=Xw,M.stubTrue=Uw,M.multiply=ux,M.nth=wy,M.noConflict=Fw,M.noop=Bl,M.now=gs,M.pad=lw,M.padEnd=cw,M.padStart=fw,M.parseInt=dw,M.random=ew,M.reduce=ES,M.reduceRight=MS,M.repeat=vw,M.replace=pw,M.result=H_,M.round=lx,M.runInContext=W,M.sample=TS,M.size=IS,M.snakeCase=hw,M.some=OS,M.sortedIndex=Ry,M.sortedIndexBy=ky,M.sortedIndexOf=Iy,M.sortedLastIndex=Oy,M.sortedLastIndexBy=Ay,M.sortedLastIndexOf=By,M.startCase=mw,M.startsWith=bw,M.subtract=cx,M.sum=fx,M.sumBy=dx,M.template=yw,M.times=Kw,M.toFinite=qn,M.toInteger=ne,M.toLength=Qv,M.toLower=Sw,M.toNumber=Hr,M.toSafeInteger=S_,M.toString=Se,M.toUpper=_w,M.trim=ww,M.trimEnd=xw,M.trimStart=Cw,M.truncate=Ew,M.unescape=Mw,M.uniqueId=Zw,M.upperCase=Dw,M.upperFirst=kl,M.each=Fv,M.eachRight=qv,M.first=Bv,Al(M,function(){var i={};return yn(M,function(s,d){_e.call(M.prototype,d)||(i[d]=s)}),i}(),{chain:!1}),M.VERSION=n,qr(["bind","bindKey","curry","curryRight","partial","partialRight"],function(i){M[i].placeholder=M}),qr(["drop","take"],function(i,s){de.prototype[i]=function(d){d=d===r?1:Xe(ne(d),0);var b=this.__filtered__&&!s?new de(this):this.clone();return b.__filtered__?b.__takeCount__=ur(d,b.__takeCount__):b.__views__.push({size:ur(d,K),type:i+(b.__dir__<0?"Right":"")}),b},de.prototype[i+"Right"]=function(d){return this.reverse()[i](d).reverse()}}),qr(["filter","map","takeWhile"],function(i,s){var d=s+1,b=d==U||d==et;de.prototype[i]=function(w){var T=this.clone();return T.__iteratees__.push({iteratee:Wt(w,3),type:d}),T.__filtered__=T.__filtered__||b,T}}),qr(["head","last"],function(i,s){var d="take"+(s?"Right":"");de.prototype[i]=function(){return this[d](1).value()[0]}}),qr(["initial","tail"],function(i,s){var d="drop"+(s?"":"Right");de.prototype[i]=function(){return this.__filtered__?new de(this):this[d](1)}}),de.prototype.compact=function(){return this.filter(wr)},de.prototype.find=function(i){return this.filter(i).head()},de.prototype.findLast=function(i){return this.reverse().find(i)},de.prototype.invokeMap=se(function(i,s){return typeof i=="function"?new de(this):this.map(function(d){return Vi(d,i,s)})}),de.prototype.reject=function(i){return this.filter(bs(Wt(i)))},de.prototype.slice=function(i,s){i=ne(i);var d=this;return d.__filtered__&&(i>0||s<0)?new de(d):(i<0?d=d.takeRight(-i):i&&(d=d.drop(i)),s!==r&&(s=ne(s),d=s<0?d.dropRight(-s):d.take(s-i)),d)},de.prototype.takeRightWhile=function(i){return this.reverse().takeWhile(i).reverse()},de.prototype.toArray=function(){return this.take(K)},yn(de.prototype,function(i,s){var d=/^(?:filter|find|map|reject)|While$/.test(s),b=/^(?:head|last)$/.test(s),w=M[b?"take"+(s=="last"?"Right":""):s],T=b||/^find/.test(s);!w||(M.prototype[s]=function(){var B=this.__wrapped__,q=b?[1]:arguments,Y=B instanceof de,ft=q[0],dt=Y||te(B),bt=function(ce){var pe=w.apply(M,Jn([ce],q));return b&&Tt?pe[0]:pe};dt&&d&&typeof ft=="function"&&ft.length!=1&&(Y=dt=!1);var Tt=this.__chain__,Ft=!!this.__actions__.length,Xt=T&&!Tt,ie=Y&&!Ft;if(!T&&dt){B=ie?B:new de(this);var Ut=i.apply(B,q);return Ut.__actions__.push({func:ps,args:[bt],thisArg:r}),new Gr(Ut,Tt)}return Xt&&ie?i.apply(this,q):(Ut=this.thru(bt),Xt?b?Ut.value()[0]:Ut.value():Ut)})}),qr(["pop","push","shift","sort","splice","unshift"],function(i){var s=$o[i],d=/^(?:push|sort|unshift)$/.test(i)?"tap":"thru",b=/^(?:pop|shift)$/.test(i);M.prototype[i]=function(){var w=arguments;if(b&&!this.__chain__){var T=this.value();return s.apply(te(T)?T:[],w)}return this[d](function(B){return s.apply(te(B)?B:[],w)})}}),yn(de.prototype,function(i,s){var d=M[s];if(d){var b=d.name+"";_e.call(oi,b)||(oi[b]=[]),oi[b].push({name:s,func:d})}}),oi[ss(r,_).name]=[{name:"wrapper",func:r}],de.prototype.clone=M1,de.prototype.reverse=D1,de.prototype.value=T1,M.prototype.at=nS,M.prototype.chain=aS,M.prototype.commit=iS,M.prototype.next=oS,M.prototype.plant=uS,M.prototype.reverse=lS,M.prototype.toJSON=M.prototype.valueOf=M.prototype.value=cS,M.prototype.first=M.prototype.head,zi&&(M.prototype[zi]=sS),M},ni=i1();_a?((_a.exports=ni)._=ni,Ou._=ni):er._=ni}).call(Ji)})(Nn,Nn.exports);var Eu={exports:{}};Eu.exports=nm;Eu.exports.addWheelListener=nm;Eu.exports.removeWheelListener=fT;function nm(t,e,r){t.addEventListener("wheel",e,r)}function fT(t,e,r){t.removeEventListener("wheel",e,r)}var Mu={exports:{}},dT=4,vT=.001,pT=1e-7,hT=10,io=11,zs=1/(io-1),gT=typeof Float32Array=="function";function am(t,e){return 1-3*e+3*t}function im(t,e){return 3*e-6*t}function om(t){return 3*t}function du(t,e,r){return((am(e,r)*t+im(e,r))*t+om(e))*t}function sm(t,e,r){return 3*am(e,r)*t*t+2*im(e,r)*t+om(e)}function mT(t,e,r,n,a){var o,u,l=0;do u=e+(r-e)/2,o=du(u,n,a)-t,o>0?r=u:e=u;while(Math.abs(o)>pT&&++l<hT);return u}function bT(t,e,r,n){for(var a=0;a<dT;++a){var o=sm(e,r,n);if(o===0)return e;var u=du(e,r,n)-t;e-=u/o}return e}function yT(t){return t}var ST=function(e,r,n,a){if(!(0<=e&&e<=1&&0<=n&&n<=1))throw new Error("bezier x values must be in [0, 1] range");if(e===r&&n===a)return yT;for(var o=gT?new Float32Array(io):new Array(io),u=0;u<io;++u)o[u]=du(u*zs,e,n);function l(c){for(var f=0,v=1,h=io-1;v!==h&&o[v]<=c;++v)f+=zs;--v;var p=(c-o[v])/(o[v+1]-o[v]),g=f+p*zs,m=sm(g,e,n);return m>=vT?bT(c,g,e,n):m===0?g:mT(c,f,f+zs,e,n)}return function(f){return f===0?0:f===1?1:du(l(f),r,a)}},to=ST,wh={ease:to(.25,.1,.25,1),easeIn:to(.42,0,1,1),easeOut:to(0,0,.58,1),easeInOut:to(.42,0,.58,1),linear:to(0,0,1,1)};Mu.exports=_T;Mu.exports.makeAggregateRaf=um;Mu.exports.sharedScheduler=um();function _T(t,e,r){var n=Object.create(null),a=Object.create(null);r=r||{};var o=typeof r.easing=="function"?r.easing:wh[r.easing];o||(r.easing&&console.warn("Unknown easing function in amator: "+r.easing),o=wh.ease);var u=typeof r.step=="function"?r.step:xh,l=typeof r.done=="function"?r.done:xh,c=wT(r.scheduler),f=Object.keys(e);f.forEach(function(_){n[_]=t[_],a[_]=e[_]-t[_]});var v=typeof r.duration=="number"?r.duration:400,h=Math.max(1,v*.06),p,g=0;return p=c.next(y),{cancel:m};function m(){c.cancel(p),p=0}function y(){var _=o(g/h);g+=1,S(_),g<=h?(p=c.next(y),u(t)):(p=0,setTimeout(function(){l(t)},0))}function S(_){f.forEach(function(E){t[E]=a[E]*_+n[E]})}}function xh(){}function wT(t){if(!t){var e=typeof window!="undefined"&&window.requestAnimationFrame;return e?xT():CT()}if(typeof t.next!="function")throw new Error("Scheduler is supposed to have next(cb) function");if(typeof t.cancel!="function")throw new Error("Scheduler is supposed to have cancel(handle) function");return t}function xT(){return{next:window.requestAnimationFrame.bind(window),cancel:window.cancelAnimationFrame.bind(window)}}function CT(){return{next:function(t){return setTimeout(t,1e3/60)},cancel:function(t){return clearTimeout(t)}}}function um(){var t=new Set,e=new Set,r=0;return{next:a,cancel:a,clearAll:n};function n(){t.clear(),e.clear(),cancelAnimationFrame(r),r=0}function a(l){e.add(l),o()}function o(){r||(r=requestAnimationFrame(u))}function u(){r=0;var l=e;e=t,t=l,t.forEach(function(c){c()}),t.clear()}}var ET=function(e){DT(e);var r=MT(e);return e.on=r.on,e.off=r.off,e.fire=r.fire,e};function MT(t){var e=Object.create(null);return{on:function(r,n,a){if(typeof n!="function")throw new Error("callback is expected to be a function");var o=e[r];return o||(o=e[r]=[]),o.push({callback:n,ctx:a}),t},off:function(r,n){var a=typeof r=="undefined";if(a)return e=Object.create(null),t;if(e[r]){var o=typeof n!="function";if(o)delete e[r];else for(var u=e[r],l=0;l<u.length;++l)u[l].callback===n&&u.splice(l,1)}return t},fire:function(r){var n=e[r];if(!n)return t;var a;arguments.length>1&&(a=Array.prototype.splice.call(arguments,1));for(var o=0;o<n.length;++o){var u=n[o];u.callback.apply(u.ctx,a)}return t}}}function DT(t){if(!t)throw new Error("Eventify cannot use falsy object as events subject");for(var e=["on","fire","off"],r=0;r<e.length;++r)if(t.hasOwnProperty(e[r]))throw new Error("Subject cannot be eventified, since it already has property '"+e[r]+"'")}var TT=RT;function RT(t,e,r){typeof r!="object"&&(r={});var n=typeof r.minVelocity=="number"?r.minVelocity:5,a=typeof r.amplitude=="number"?r.amplitude:.25,o=typeof r.cancelAnimationFrame=="function"?r.cancelAnimationFrame:kT(),u=typeof r.requestAnimationFrame=="function"?r.requestAnimationFrame:IT(),l,c,f=342,v,h,p,g,m,y,S,_;return{start:x,stop:R,cancel:E};function E(){o(v),o(_)}function x(){l=t(),g=S=h=m=0,c=new Date,o(v),o(_),v=u(C)}function C(){var k=Date.now(),I=k-c;c=k;var O=t(),A=O.x-l.x,V=O.y-l.y;l=O;var z=1e3/(1+I);h=.8*A*z+.2*h,m=.8*V*z+.2*m,v=u(C)}function R(){o(v),o(_);var k=t();p=k.x,y=k.y,c=Date.now(),(h<-n||h>n)&&(g=a*h,p+=g),(m<-n||m>n)&&(S=a*m,y+=S),_=u(D)}function D(){var k=Date.now()-c,I=!1,O=0,A=0;g&&(O=-g*Math.exp(-k/f),O>.5||O<-.5?I=!0:O=g=0),S&&(A=-S*Math.exp(-k/f),A>.5||A<-.5?I=!0:A=S=0),I&&(e(p+O,y+A),_=u(D))}}function kT(){return typeof cancelAnimationFrame=="function"?cancelAnimationFrame:clearTimeout}function IT(){return typeof requestAnimationFrame=="function"?requestAnimationFrame:function(t){return setTimeout(t,16)}}var OT=AT;function AT(t){if(t)return{capture:Eh,release:Eh};var e,r,n,a=!1;return{capture:o,release:u};function o(l){a=!0,r=window.document.onselectstart,n=window.document.ondragstart,window.document.onselectstart=Ch,e=l,e.ondragstart=Ch}function u(){!a||(a=!1,window.document.onselectstart=r,e&&(e.ondragstart=n))}}function Ch(t){return t.stopPropagation(),!1}function Eh(){}var BT=PT;function PT(){this.x=0,this.y=0,this.scale=1}var Gf={exports:{}};Gf.exports=zT;Gf.exports.canAttach=lm;function zT(t,e){if(!lm(t))throw new Error("svg element is required for svg.panzoom to work");var r=t.ownerSVGElement;if(!r)throw new Error("Do not apply panzoom to the root <svg> element. Use its child instead (e.g. <g></g>). As of March 2016 only FireFox supported transform on the root element");e.disableKeyboardInteraction||r.setAttribute("tabindex",0);var n={getBBox:o,getScreenCTM:u,getOwner:a,applyTransform:c,initTransform:l};return n;function a(){return r}function o(){var f=t.getBBox();return{left:f.x,top:f.y,width:f.width,height:f.height}}function u(){var f=r.getCTM();return f||r.getScreenCTM()}function l(f){var v=t.getCTM();v===null&&(v=document.createElementNS("http://www.w3.org/2000/svg","svg").createSVGMatrix()),f.x=v.e,f.y=v.f,f.scale=v.a,r.removeAttributeNS(null,"viewBox")}function c(f){t.setAttribute("transform","matrix("+f.scale+" 0 0 "+f.scale+" "+f.x+" "+f.y+")")}}function lm(t){return t&&t.ownerSVGElement&&t.getCTM}var Nf={exports:{}};Nf.exports=LT;Nf.exports.canAttach=cm;function LT(t,e){var r=cm(t);if(!r)throw new Error("panzoom requires DOM element to be attached to the DOM tree");var n=t.parentElement;t.scrollTop=0,e.disableKeyboardInteraction||n.setAttribute("tabindex",0);var a={getBBox:u,getOwner:o,applyTransform:l};return a;function o(){return n}function u(){return{left:0,top:0,width:t.clientWidth,height:t.clientHeight}}function l(c){t.style.transformOrigin="0 0 0",t.style.transform="matrix("+c.scale+", 0, 0, "+c.scale+", "+c.x+", "+c.y+")"}}function cm(t){return t&&t.parentElement&&t.style}var Mh=Eu.exports,ac=Mu.exports,FT=ET,qT=TT,fm=OT,$T=fm(),GT=fm(!0),NT=BT,Dh=Gf.exports,Th=Nf.exports,VT=1,WT=1.75,Rh=300,kh=200,HT=dm;function dm(t,e){e=e||{};var r=e.controller;if(r||(Dh.canAttach(t)?r=Dh(t,e):Th.canAttach(t)&&(r=Th(t,e))),!r)throw new Error("Cannot create panzoom for the current type of dom element");var n=r.getOwner(),a={x:0,y:0},o=!1,u=new NT;r.initTransform&&r.initTransform(u);var l=typeof e.filterKey=="function"?e.filterKey:Ci,c=typeof e.pinchSpeed=="number"?e.pinchSpeed:1,f=e.bounds,v=typeof e.maxZoom=="number"?e.maxZoom:Number.POSITIVE_INFINITY,h=typeof e.minZoom=="number"?e.minZoom:0,p=typeof e.boundsPadding=="number"?e.boundsPadding:.05,g=typeof e.zoomDoubleClickSpeed=="number"?e.zoomDoubleClickSpeed:WT,m=e.beforeWheel||Ci,y=e.beforeMouseDown||Ci,S=typeof e.zoomSpeed=="number"?e.zoomSpeed:VT,_=Ih(e.transformOrigin),E=e.enableTextSelection?GT:$T;YT(f),e.autocenter&&ht();var x,C=0,R=0,D=0,k=null,I=new Date,O,A=!1,V=!1,z,L,U,H,et,nt;"smoothScroll"in e&&!e.smoothScroll?nt=XT():nt=qT(qt,Kt,e.smoothScroll);var ot,Z,N,K=!1;Qt();var ut={dispose:ae,moveBy:vt,moveTo:ue,smoothMoveTo:je,centerOn:ze,zoomTo:Rn,zoomAbs:ve,smoothZoom:Tr,smoothZoomAbs:ba,showRectangle:P,pause:gt,resume:St,isPaused:Rt,getTransform:Dt,getMinZoom:kt,setMinZoom:wt,getMaxZoom:Ot,setMaxZoom:zt,getTransformOrigin:G,setTransformOrigin:J,getZoomSpeed:pt,setZoomSpeed:Ct};FT(ut);var lt=typeof e.initialX=="number"?e.initialX:u.x,mt=typeof e.initialY=="number"?e.initialY:u.y,yt=typeof e.initialZoom=="number"?e.initialZoom:u.scale;return(lt!=u.x||mt!=u.y||yt!=u.scale)&&ve(lt,mt,yt),ut;function gt(){be(),K=!0}function St(){K&&(Qt(),K=!1)}function Rt(){return K}function P($){var it=n.getBoundingClientRect(),ct=tt(it.width,it.height),_t=$.right-$.left,Vt=$.bottom-$.top;if(!Number.isFinite(_t)||!Number.isFinite(Vt))throw new Error("Invalid rectangle");var ge=ct.x/_t,ye=ct.y/Vt,$e=Math.min(ge,ye);u.x=-($.left+_t/2)*$e+ct.x/2,u.y=-($.top+Vt/2)*$e+ct.y/2,u.scale=$e}function tt($,it){if(r.getScreenCTM){var ct=r.getScreenCTM(),_t=ct.a,Vt=ct.d,ge=ct.e,ye=ct.f;a.x=$*_t-ge,a.y=it*Vt-ye}else a.x=$,a.y=it;return a}function ht(){var $,it,ct=0,_t=0,Vt=Lt();if(Vt)ct=Vt.left,_t=Vt.top,$=Vt.right-Vt.left,it=Vt.bottom-Vt.top;else{var ge=n.getBoundingClientRect();$=ge.width,it=ge.height}var ye=r.getBBox();if(!(ye.width===0||ye.height===0)){var $e=it/ye.height,Zn=$/ye.width,In=Math.min(Zn,$e);u.x=-(ye.left+ye.width/2)*In+$/2+ct,u.y=-(ye.top+ye.height/2)*In+it/2+_t,u.scale=In}}function Dt(){return u}function kt(){return h}function wt($){h=$}function Ot(){return v}function zt($){v=$}function G(){return _}function J($){_=Ih($)}function pt(){return S}function Ct($){if(!Number.isFinite($))throw new Error("Zoom speed should be a number");S=$}function qt(){return{x:u.x,y:u.y}}function ue($,it){u.x=$,u.y=it,Mt(),xt("pan"),Yt()}function st($,it){ue(u.x+$,u.y+it)}function Mt(){var $=Lt();if(!!$){var it=!1,ct=le(),_t=$.left-ct.right;return _t>0&&(u.x+=_t,it=!0),_t=$.right-ct.left,_t<0&&(u.x+=_t,it=!0),_t=$.top-ct.bottom,_t>0&&(u.y+=_t,it=!0),_t=$.bottom-ct.top,_t<0&&(u.y+=_t,it=!0),it}}function Lt(){if(!!f){if(typeof f=="boolean"){var $=n.getBoundingClientRect(),it=$.width,ct=$.height;return{left:it*p,top:ct*p,right:it*(1-p),bottom:ct*(1-p)}}return f}}function le(){var $=r.getBBox(),it=oe($.left,$.top);return{left:it.x,top:it.y,right:$.width*u.scale+it.x,bottom:$.height*u.scale+it.y}}function oe($,it){return{x:$*u.scale+u.x,y:it*u.scale+u.y}}function Yt(){o=!0,x=window.requestAnimationFrame(ee)}function Nt($,it,ct){if(ic($)||ic(it)||ic(ct))throw new Error("zoom requires valid numbers");var _t=u.scale*ct;if(_t<h){if(u.scale===h)return;ct=h/u.scale}if(_t>v){if(u.scale===v)return;ct=v/u.scale}var Vt=tt($,it);if(u.x=Vt.x-ct*(Vt.x-u.x),u.y=Vt.y-ct*(Vt.y-u.y),f&&p===1&&h===1)u.scale*=ct,Mt();else{var ge=Mt();ge||(u.scale*=ct)}xt("zoom"),Yt()}function ve($,it,ct){var _t=ct/u.scale;Nt($,it,_t)}function ze($){var it=$.ownerSVGElement;if(!it)throw new Error("ui element is required to be within the scene");var ct=$.getBoundingClientRect(),_t=ct.left+ct.width/2,Vt=ct.top+ct.height/2,ge=it.getBoundingClientRect(),ye=ge.width/2-_t,$e=ge.height/2-Vt;vt(ye,$e,!0)}function je($,it){vt($-u.x,it-u.y,!0)}function vt($,it,ct){if(!ct)return st($,it);ot&&ot.cancel();var _t={x:0,y:0},Vt={x:$,y:it},ge=0,ye=0;ot=ac(_t,Vt,{step:function($e){st($e.x-ge,$e.y-ye),ge=$e.x,ye=$e.y}})}function Kt($,it){kn(),ue($,it)}function ae(){be()}function Qt(){n.addEventListener("mousedown",jn,{passive:!1}),n.addEventListener("dblclick",Ka,{passive:!1}),n.addEventListener("touchstart",gn,{passive:!1}),n.addEventListener("keydown",Dr,{passive:!1}),Mh.addWheelListener(n,en,{passive:!1}),Yt()}function be(){Mh.removeWheelListener(n,en),n.removeEventListener("mousedown",jn),n.removeEventListener("keydown",Dr),n.removeEventListener("dblclick",Ka),n.removeEventListener("touchstart",gn),x&&(window.cancelAnimationFrame(x),x=0),nt.cancel(),Qa(),tn(),E.release(),F()}function ee(){o&&Ee()}function Ee(){o=!1,r.applyTransform(u),xt("transform"),x=0}function Dr($){var it=0,ct=0,_t=0;if($.keyCode===38?ct=1:$.keyCode===40?ct=-1:$.keyCode===37?it=1:$.keyCode===39?it=-1:$.keyCode===189||$.keyCode===109?_t=1:($.keyCode===187||$.keyCode===107)&&(_t=-1),!l($,it,ct,_t)){if(it||ct){$.preventDefault(),$.stopPropagation();var Vt=n.getBoundingClientRect(),ge=Math.min(Vt.width,Vt.height),ye=.05,$e=ge*ye*it,Zn=ge*ye*ct;vt($e,Zn)}if(_t){var In=ya(_t*100),ge=_?bn():Mn();Rn(ge.x,ge.y,In)}}}function Mn(){var $=n.getBoundingClientRect();return{x:$.width/2,y:$.height/2}}function gn($){if(Dn($),Tn(),$.touches.length===1)return Xn($,$.touches[0]);$.touches.length===2&&(et=Kn($.touches[0],$.touches[1]),N=!0,mn())}function Dn($){e.onTouch&&!e.onTouch($)||($.stopPropagation(),$.preventDefault())}function Xa($){Tn(),!(e.onDoubleClick&&!e.onDoubleClick($))&&($.preventDefault(),$.stopPropagation())}function Xn($){R=new Date;var it=$.touches[0],ct=He(it);O=ct;var _t=tt(ct.x,ct.y);z=_t.x,L=_t.y,U=z,H=L,nt.cancel(),mn()}function mn(){A||(A=!0,document.addEventListener("touchmove",Lr),document.addEventListener("touchend",Un),document.addEventListener("touchcancel",Un))}function Lr($){if($.touches.length===1){$.stopPropagation();var it=$.touches[0],ct=He(it),_t=tt(ct.x,ct.y),Vt=_t.x-z,ge=_t.y-L;Vt!==0&&ge!==0&&Sa(),z=_t.x,L=_t.y,vt(Vt,ge)}else if($.touches.length===2){N=!0;var ye=$.touches[0],$e=$.touches[1],Zn=Kn(ye,$e),In=1+(Zn/et-1)*c,Bo=He(ye),Po=He($e);if(z=(Bo.x+Po.x)/2,L=(Bo.y+Po.y)/2,_){var ct=bn();z=ct.x,L=ct.y}Rn(z,L,In),et=Zn,$.stopPropagation(),$.preventDefault()}}function Tn(){D&&(clearTimeout(D),D=0)}function Ua($){if(!!e.onClick){Tn();var it=z-U,ct=L-H,_t=Math.sqrt(it*it+ct*ct);_t>5||(D=setTimeout(function(){D=0,e.onClick($)},Rh))}}function Un($){if(Tn(),$.touches.length>0){var it=He($.touches[0]),ct=tt(it.x,it.y);z=ct.x,L=ct.y}else{var _t=new Date;if(_t-C<Rh)if(_){var it=bn();Tr(it.x,it.y,g)}else Tr(O.x,O.y,g);else _t-R<kh&&Ua($);C=_t,F(),tn()}}function Kn($,it){var ct=$.clientX-it.clientX,_t=$.clientY-it.clientY;return Math.sqrt(ct*ct+_t*_t)}function Ka($){Xa($);var it=He($);_&&(it=bn()),Tr(it.x,it.y,g)}function jn($){if(Tn(),!y($)){if(k=$,I=new Date,A)return $.stopPropagation(),!1;var it=$.button===1&&window.event!==null||$.button===0;if(!!it){nt.cancel();var ct=He($),_t=tt(ct.x,ct.y);return U=z=_t.x,H=L=_t.y,document.addEventListener("mousemove",ja),document.addEventListener("mouseup",Za),E.capture($.target||$.srcElement),!1}}}function ja($){if(!A){Sa();var it=He($),ct=tt(it.x,it.y),_t=ct.x-z,Vt=ct.y-L;z=ct.x,L=ct.y,vt(_t,Vt)}}function Za(){var $=new Date;$-I<kh&&Ua(k),E.release(),F(),Qa()}function Qa(){document.removeEventListener("mousemove",ja),document.removeEventListener("mouseup",Za),V=!1}function tn(){document.removeEventListener("touchmove",Lr),document.removeEventListener("touchend",Un),document.removeEventListener("touchcancel",Un),V=!1,N=!1,A=!1}function en($){if(!m($)){nt.cancel();var it=$.deltaY;$.deltaMode>0&&(it*=100);var ct=ya(it);if(ct!==1){var _t=_?bn():He($);Rn(_t.x,_t.y,ct),$.preventDefault()}}}function He($){var it,ct,_t=n.getBoundingClientRect();return it=$.clientX-_t.left,ct=$.clientY-_t.top,{x:it,y:ct}}function Tr($,it,ct){var _t=u.scale,Vt={scale:_t},ge={scale:ct*_t};nt.cancel(),kn(),Z=ac(Vt,ge,{step:function(ye){ve($,it,ye.scale)},done:It})}function ba($,it,ct){var _t=u.scale,Vt={scale:_t},ge={scale:ct};nt.cancel(),kn(),Z=ac(Vt,ge,{step:function(ye){ve($,it,ye.scale)}})}function bn(){var $=n.getBoundingClientRect();return{x:$.width*_.x,y:$.height*_.y}}function Rn($,it,ct){return nt.cancel(),kn(),Nt($,it,ct)}function kn(){Z&&(Z.cancel(),Z=null)}function ya($){var it=Math.sign($),ct=Math.min(.25,Math.abs(S*$/128));return 1-it*ct}function Sa(){V||(xt("panstart"),V=!0,nt.start())}function F(){V&&(N||nt.stop(),xt("panend"))}function It(){xt("zoomend")}function xt($){ut.fire($,ut)}}function Ih(t){if(!!t){if(typeof t=="object")return(!Si(t.x)||!Si(t.y))&&Oh(t),t;Oh()}}function Oh(t){throw console.error(t),new Error(["Cannot parse transform origin.","Some good examples:",'  "center center" can be achieved with {x: 0.5, y: 0.5}','  "top center" can be achieved with {x: 0.5, y: 0}','  "bottom right" can be achieved with {x: 1, y: 1}'].join(`
`))}function Ci(){}function YT(t){var e=typeof t;if(!(e==="undefined"||e==="boolean")){var r=Si(t.left)&&Si(t.top)&&Si(t.bottom)&&Si(t.right);if(!r)throw new Error("Bounds object is not valid. It can be: undefined, boolean (true|false) or an object {left, top, right, bottom}")}}function Si(t){return Number.isFinite(t)}function ic(t){return Number.isNaN?Number.isNaN(t):t!==t}function XT(){return{start:Ci,stop:Ci,cancel:Ci}}function UT(){if(typeof document=="undefined")return;var t=document.getElementsByTagName("script");if(!t)return;for(var e,r=0;r<t.length;++r){var n=t[r];if(n.src&&n.src.match(/\bpanzoom(\.min)?\.js/)){e=n;break}}if(!e)return;var a=e.getAttribute("query");if(!a)return;var o=e.getAttribute("name")||"pz",u=Date.now();l();function l(){var v=document.querySelector(a);if(!v){var h=Date.now(),p=h-u;if(p<2e3){setTimeout(l,100);return}console.error("Cannot find the panzoom element",o);return}var g=c(e);console.log(g),window[o]=dm(v,g)}function c(v){for(var h=v.attributes,p={},g=0;g<h.length;++g){var m=h[g],y=f(m);y&&(p[y.name]=y.value)}return p}function f(v){if(!!v.name){var h=v.name[0]==="p"&&v.name[1]==="z"&&v.name[2]==="-";if(!!h){var p=v.name.substr(3),g=JSON.parse(v.value);return{name:p,value:g}}}}}UT();const KT=Jr({name:"DuctEl"}),jT={viewBox:"29.11 -4.312 470.89 47.466",version:"1.1",xmlns:"http://www.w3.org/2000/svg",preserveAspectRatio:"none",width:"100%",height:"100%"},ZT=Ke("g",{style:{},transform:"matrix(0.894879, 0, 0, 0.632443, -173.045822, -2.156334)"},[Ke("path",{d:"M 225.903 35.245 L 250 71.643 L 752.108 71.643 L 735.361 35.245 L 752.108 -3.408 L 250 -1.153 L 225.903 35.245 Z",style:{fill:"rgb(166, 166, 166)"}})],-1),QT=[ZT];function JT(t,e,r,n,a,o){return jt(),xe("svg",jT,QT)}var tR=hn(KT,[["render",JT]]);const eR=Jr({name:"FanEl",props:{active:{type:Boolean,required:!1,default:!1},inAlarm:{type:Boolean,required:!1,default:!1}}}),rR=Co('<g fill="#659dc5" transform="matrix(1, 0, 0, 1, -0.231, -4.151388)" data-v-48423e73><g class="fan" data-v-48423e73><g id="g8" data-v-48423e73><path class="fan-background" d="m12.297 5.154c-6.117 0-11.066 4.9492-11.066 11.066 0 6.117 4.9492 11.066 11.066 11.066 5.7137 0 10.408-4.3091 11.003-9.8647h7.525v-12.268h-18.148c-0.12601-0.0043-0.25236 0-0.37941 0z" fill-rule="evenodd" stroke="#000" stroke-width="1px" fill="inherit" data-v-48423e73></path></g><g id="g4148" transform="translate(12.464 16.395)" data-v-48423e73><g id="g4162" stroke="#000" stroke-width="1.5" fill="none" class="rotating-middle" data-v-48423e73><path id="use3009" d="m-1.8112-3.9787 3.6227-4.4971" data-v-48423e73></path><path id="use3011" d="m0.87376-4.2835 5.5741-1.5089" data-v-48423e73></path><path id="use3013" d="m3.2243-2.9521 5.3965 2.0557" data-v-48423e73></path><path id="use3015" d="m4.3433-0.4935 3.1575 4.835" data-v-48423e73></path><path id="use3017" d="m3.8043 2.1547-0.28747 5.7676" data-v-48423e73></path><path id="use3019" d="m1.8113 3.9787-3.6227 4.4971" data-v-48423e73></path><path id="use3021" d="m-0.87324 4.2837-5.5741 1.5089" data-v-48423e73></path><path id="use3023" d="m-3.2242 2.9527-5.3965-2.0559" data-v-48423e73></path><path id="use3025" d="m-4.3432 0.4935-3.158-4.8353" data-v-48423e73></path><path id="use3027" d="m-3.8032-2.1541 0.2875-5.7676" data-v-48423e73></path></g></g></g></g>',1),nR=[rR];function aR(t,e,r,n,a,o){return jt(),xe("svg",{height:"100%",width:"100%",viewBox:"0 0 32 24",version:"1.1",xmlns:"http://www.w3.org/2000/svg",class:xo({active:t.active,"in-alarm":t.inAlarm})},nR,2)}var iR=hn(eR,[["render",aR],["__scopeId","data-v-48423e73"]]);const oR=Jr({name:"CoolingCoil",props:{active:{type:Boolean,required:!1,default:!1},inAlarm:{type:Boolean,required:!1,default:!1}}}),sR=Co('<g stroke="#000" transform="matrix(1, 0, 0, 1, -6.058399, -1.3729)" data-v-7495a0c9><rect id="rect4367" height="27.246" width="17.868" x="7.066" y="2.3772" fill="#659dc5" data-v-7495a0c9></rect><g transform="translate(24.9334,29.6232) rotate(180)" data-v-7495a0c9><rect id="rect4367" class="cooling-coil" height="27.246" width="17.875" x="0" y="0" fill="#659dc5" stroke="none" data-v-7495a0c9></rect></g><rect id="rect4367" height="27.246" width="17.868" x="7.066" y="2.3772" fill="none" data-v-7495a0c9></rect><path id="path3001" d="m7.322 2.3729 17.424 27.254" stroke-width="1px" fill="none" data-v-7495a0c9></path><path id="path3003" d="m24.929 2.3734-17.642 27.182" stroke-width="1px" fill="none" data-v-7495a0c9></path></g>',1),uR=[sR];function lR(t,e,r,n,a,o){return jt(),xe("svg",{viewBox:"0 0 20 29",height:"100%",width:"100%",version:"1.1",xmlns:"http://www.w3.org/2000/svg",class:xo({active:t.active,"in-alarm":t.inAlarm})},uR,2)}var cR=hn(oR,[["render",lR],["__scopeId","data-v-7495a0c9"]]);const fR=Jr({name:"HeatingCoil",props:{active:{type:Boolean,required:!1,default:!1},inAlarm:{type:Boolean,required:!1,default:!1}}}),dR=Co('<defs id="defs3" data-v-255f5864><rect id="heating-coil-rect" height="27.246" width="17.868" x="0" y="0" data-v-255f5864></rect></defs><g stroke="#000000" id="g15" transform="translate(-6.129206,-1.5327875)" data-v-255f5864><use xlink:href="#heating-coil-rect" fill="#659dc5" stroke="none" x="7.066" y="2.3771999" id="use6" data-v-255f5864></use><g transform="rotate(180,12.4667,14.8116)" id="g10" data-v-255f5864><use xlink:href="#heating-coil-rect" class="heating-coil" x="0" y="0" fill="#659dc5" stroke="none" id="use8" data-v-255f5864></use></g><use xlink:href="#heating-coil-rect" stroke-width="1" fill="none" x="7.066" y="2.3771999" id="use12" data-v-255f5864></use><path id="path3003" stroke-linejoin="miter" d="M 24.929,2.3734 7.2868,29.555" stroke="#000000" stroke-linecap="butt" stroke-width="1px" fill="none" data-v-255f5864></path></g>',2),vR=[dR];function pR(t,e,r,n,a,o){return jt(),xe("svg",{viewBox:"0 0 19.526541 28.758413",height:"100%",width:"100%",version:"1.1",xmlns:"http://www.w3.org/2000/svg",class:xo({active:t.active,"in-alarm":t.inAlarm})},vR,2)}var hR=hn(fR,[["render",pR],["__scopeId","data-v-255f5864"]]);const gR=Jr({name:"FilterEl"}),mR={viewBox:"0 0 13 29",height:"100%",width:"100%",version:"1.1",xmlns:"http://www.w3.org/2000/svg"},bR=Ke("g",{stroke:"#000","stroke-width":"1",transform:"matrix(1, 0, 0, 1, -9.37, -1.3252)"},[Ke("rect",{id:"rect4367",height:"27.35",width:"11.26",y:"2.3252",x:"10.37",fill:"#659dc5"}),Ke("path",{id:"path3756","stroke-linejoin":"miter",d:"m11.892,2.6997,8.2165,4.4334-8.2165,4.4334,8.2165,4.4334-8.2165,4.4334,8.2165,4.4334-8.2165,4.4334","stroke-linecap":"round","stroke-miterlimit":"4","stroke-dasharray":"none","stroke-width":"1.2694304",fill:"none"})],-1),yR=[bR];function SR(t,e,r,n,a,o){return jt(),xe("svg",mR,yR)}var _R=hn(gR,[["render",SR]]);const wR=Jr({name:"HumidifierEl",props:{active:{type:Boolean,required:!1,default:!1},inAlarm:{type:Boolean,required:!1,default:!1}}}),xR=Co('<g class="duct-humidifier" transform="matrix(1, 0, 0, 1, -3.324199, -7.877)" data-v-451def2c><g id="g11" transform="translate(0 5.1505)" data-v-451def2c><g id="g13" stroke="#000" stroke-width=".5" class="water-drops" fill="#00f0ff" data-v-451def2c><path id="path4150" d="m14.291 6.7851c0.46542-0.0958 0.69019-0.27099 0.99164-0.49615 0.10429-0.07789 0.23068-0.12587 0.37088-0.12587 0.34281 0 0.62078 0.27918 0.62078 0.62199s-0.27796 0.61956-0.62078 0.61956c-0.13834 0-0.26988-0.0428-0.37088-0.1222-0.29895-0.23498-0.52493-0.40696-0.99168-0.49732z" data-v-451def2c></path><g id="g4236" transform="translate(0 .17167)" data-v-451def2c><path id="path4150-7" d="m18.179 5.3612c0.46542-0.0958 0.69019-0.27099 0.99164-0.49615 0.10429-0.07789 0.23068-0.12587 0.37088-0.12587 0.34281 0 0.62078 0.27918 0.62078 0.62199s-0.27796 0.61956-0.62078 0.61956c-0.13834 0-0.26988-0.0428-0.37088-0.1222-0.29895-0.23498-0.52493-0.40696-0.99168-0.49732z" data-v-451def2c></path><path id="path4150-7-1" d="m18.234 7.8656c0.46542-0.0958 0.69019-0.27099 0.99164-0.49615 0.10429-0.07789 0.23068-0.12587 0.37088-0.12587 0.34281 0 0.62078 0.27918 0.62078 0.62199s-0.27796 0.61956-0.62078 0.61956c-0.13834 0-0.26988-0.0428-0.37088-0.1222-0.29895-0.23498-0.52493-0.40696-0.99168-0.49732z" data-v-451def2c></path></g></g><g id="g19" transform="translate(0,8)" data-v-451def2c><g id="g21" stroke="#000" stroke-width=".5" class="water-drops water-drops-2" fill="#00f0ff" data-v-451def2c><path id="path23" d="m14.291 6.7851c0.46542-0.0958 0.69019-0.27099 0.99164-0.49615 0.10429-0.07789 0.23068-0.12587 0.37088-0.12587 0.34281 0 0.62078 0.27918 0.62078 0.62199s-0.27796 0.61956-0.62078 0.61956c-0.13834 0-0.26988-0.0428-0.37088-0.1222-0.29895-0.23498-0.52493-0.40696-0.99168-0.49732z" data-v-451def2c></path><g id="g25" transform="translate(0 .17167)" data-v-451def2c><path id="path27" d="m18.179 5.3612c0.46542-0.0958 0.69019-0.27099 0.99164-0.49615 0.10429-0.07789 0.23068-0.12587 0.37088-0.12587 0.34281 0 0.62078 0.27918 0.62078 0.62199s-0.27796 0.61956-0.62078 0.61956c-0.13834 0-0.26988-0.0428-0.37088-0.1222-0.29895-0.23498-0.52493-0.40696-0.99168-0.49732z" data-v-451def2c></path><path id="path29" d="m18.234 7.8656c0.46542-0.0958 0.69019-0.27099 0.99164-0.49615 0.10429-0.07789 0.23068-0.12587 0.37088-0.12587 0.34281 0 0.62078 0.27918 0.62078 0.62199s-0.27796 0.61956-0.62078 0.61956c-0.13834 0-0.26988-0.0428-0.37088-0.1222-0.29895-0.23498-0.52493-0.40696-0.99168-0.49732z" data-v-451def2c></path></g></g></g></g><path id="rect4136-6" class="humidifier-body" d="m4.3242 8.877v22.586h4.0059v-9.883h4.3789v-2.617h-4.3789v-5.721h4.3789v-2.617h-4.3789v-1.748h-4.0059z" stroke="#000" fill="#659dc5" data-v-451def2c></path></g>',1),CR=[xR];function ER(t,e,r,n,a,o){return jt(),xe("svg",{viewBox:"0 0 18 25",height:"100%",width:"100%",version:"1.1",xmlns:"http://www.w3.org/2000/svg","xmlns:bx":"https://boxy-svg.com",class:xo({inactive:!t.active,active:t.active,"in-alarm":t.inAlarm})},CR,2)}var MR=hn(wR,[["render",ER],["__scopeId","data-v-451def2c"]]);const DR=Jr({name:"DamperEl",props:{inAlarm:{type:Boolean,required:!1,default:!1}}}),TR=Co('<rect id="rect4367" class="damper" height="27.5" width="12" stroke="#000000" stroke-miterlimit="4" x="0.69481522" y="0.67645228" stroke-dasharray="none" stroke-width="1" fill="#659dc5" data-v-5ff604df></rect><g stroke="#000000" stroke-width="1.5px" id="g19" transform="translate(-9.3051848,-1.5735477)" data-v-5ff604df><g transform="translate(16,7)" id="g5" data-v-5ff604df><line x1="-5" x2="5" y1="0" y2="0" transform="rotate(-35)" class="damper-line" id="line3" data-v-5ff604df></line></g><g transform="translate(16,13)" id="g9" data-v-5ff604df><line x1="-5" x2="5" y1="0" y2="0" transform="rotate(-35)" class="damper-line" id="line7" data-v-5ff604df></line></g><g transform="translate(16,19)" id="g13" data-v-5ff604df><line x1="-5" x2="5" y1="0" y2="0" transform="rotate(-35)" class="damper-line" id="line11" data-v-5ff604df></line></g><g transform="translate(16,25)" id="g17" data-v-5ff604df><line x1="-5" x2="5" y1="0" y2="0" transform="rotate(-35)" class="damper-line" id="line15" data-v-5ff604df></line></g></g><g id="g4877" stroke-linejoin="miter" transform="matrix(1.2268237,0,0,0.94845469,-13.299764,-1.1862851)" stroke="#000000" stroke-linecap="butt" fill="none" data-v-5ff604df><path id="path4317" stroke-width="1.06273px" d="m 16.298,2.2402 v 28.442" data-v-5ff604df></path></g>',3),RR=[TR];function kR(t,e,r,n,a,o){return jt(),xe("svg",{viewBox:"0 0 13.431694 28.950886",height:"100%",width:"100%",version:"1.1",xmlns:"http://www.w3.org/2000/svg",class:xo({"in-alarm":t.inAlarm})},RR,2)}var IR=hn(DR,[["render",kR],["__scopeId","data-v-5ff604df"]]);const OR=Jr({name:"TextEl",props:{content:{type:String,default:"Text element"},fontSize:{type:Number,default:16},color:{type:String,default:"black"}},setup(){const t=At(!1),e=At(null);return wo(()=>{e.value.focus()}),{editable:t,editableElement:e}}});function AR(t,e,r,n,a,o){return jt(),xe("div",{ref:"editableElement",contenteditable:!0,style:jh(`font-size: ${t.fontSize}px; color: ${t.color}`)},Zc(t.content),5)}var BR=hn(OR,[["render",AR],["__scopeId","data-v-4471ed3f"]]);const PR=Jr({name:"TemperatureEl"}),zR={height:"100%",width:"100%",version:"1.1",viewBox:"0 0 10.423067 22.852614",xmlns:"http://www.w3.org/2000/svg"},LR=Ke("g",{id:"layer1",stroke:"#000000","stroke-width":"1px",transform:"translate(-10.804626,-9.2243756)"},[Ke("rect",{id:"rect3012",height:"14.505",width:"2.901",y:"9.9127998",x:"14.557",fill:"#ffff00"}),Ke("path",{id:"path3010","stroke-width":"1.2px",transform:"matrix(0.74098,0,0,0.74098,7.3047,15.679)",fill:"#659dc5",d:"m 17.949,15.898 -3.1021,5.373 H 8.6427 L 5.5406,15.898 8.6427,10.525 h 6.2042 z"})],-1),FR=Ke("g",{id:"g4141",transform:"translate(-1.2033861,-8.1217684)"},[Ke("circle",{r:"0.77312505",cy:"28.129852",cx:"6.4061227",id:"path4137",style:{fill:"none","fill-opacity":"1",stroke:"#000000","stroke-width":"0.5","stroke-miterlimit":"4","stroke-dasharray":"none","stroke-opacity":"1"}}),Ke("path",{"inkscape:connector-curvature":"0",id:"path4139",d:"M 6.4061205,27.157211 V 23.65349",style:{fill:"none","fill-rule":"evenodd",stroke:"#000000","stroke-width":"0.5","stroke-linecap":"butt","stroke-linejoin":"miter","stroke-miterlimit":"4","stroke-dasharray":"none","stroke-opacity":"1"}})],-1),qR=[LR,FR];function $R(t,e,r,n,a,o){return jt(),xe("svg",zR,qR)}var GR=hn(PR,[["render",$R]]);const NR=Jr({name:"ObjectType",components:{Duct:tR,Fan:iR,CoolingCoil:cR,HeatingCoil:hR,Filter:_R,Humidifier:MR,Damper:IR,Text:BR,Temperature:GR},props:{item:{type:Object,required:!0}}}),VR={key:0,class:"object-title"},WR={class:"ml-2"},HR={key:1},YR={key:2},XR={key:3},UR={key:4},KR={key:5},jR={key:6},ZR={key:7},QR={key:8},JR={key:9};function tk(t,e,r,n,a,o){const u=Xr("fan"),l=Xr("duct"),c=Xr("cooling-coil"),f=Xr("heating-coil"),v=Xr("Filter"),h=Xr("humidifier"),p=Xr("damper"),g=Xr("Text"),m=Xr("temperature");return jt(),xe(Ls,null,[t.item.t3Entry?(jt(),xe("div",VR,[fr(Zc(t.item.t3Entry[t.item.t3EntryDisplayField])+" ",1),Ke("span",WR,[t.item.t3Entry.auto_manual?(jt(),Ue(Er,{key:1,name:"swipe_up"},{default:$t(()=>[Et(Zs,{anchor:"top middle",self:"center middle"},{default:$t(()=>[fr(" In manual mode ")]),_:1})]),_:1})):(jt(),Ue(Er,{key:0,name:"motion_photos_auto"},{default:$t(()=>[Et(Zs,{anchor:"top middle",self:"center middle"},{default:$t(()=>[fr(" In auto mode ")]),_:1})]),_:1}))])])):Gn("",!0),t.item.type==="Fan"?(jt(),xe("div",HR,[Et(u,sa({class:"movable-item fan"},t.item.props),null,16)])):t.item.type==="Duct"?(jt(),xe("div",YR,[Et(l,{class:"movable-item duct"})])):t.item.type==="CoolingCoil"?(jt(),xe("div",XR,[Et(c,sa({class:"movable-item cooling-coil"},t.item.props),null,16)])):t.item.type==="HeatingCoil"?(jt(),xe("div",UR,[Et(f,sa({class:"movable-item heating-coil"},t.item.props),null,16)])):t.item.type==="Filter"?(jt(),xe("div",KR,[Et(v,sa({class:"movable-item filter"},t.item.props),null,16)])):t.item.type==="Humidifier"?(jt(),xe("div",jR,[Et(h,sa({class:"movable-item humidifier"},t.item.props),null,16)])):t.item.type==="Damper"?(jt(),xe("div",ZR,[Et(p,sa({class:"movable-item damper"},t.item.props),null,16)])):t.item.type==="Text"?(jt(),xe("div",QR,[Et(g,sa({class:"movable-item text"},t.item.props),null,16)])):t.item.type==="Temperature"?(jt(),xe("div",JR,[Et(m,sa({class:"movable-item temperature"},t.item.props),null,16)])):Gn("",!0)],64)}var ek=hn(NR,[["render",tk],["__scopeId","data-v-c6e9f2ee"]]);const rk=Jr({name:"IndexPage",components:{VueMoveable:Ff,VueSelecto:$f,ObjectType:ek},setup(){var Ot,zt;const t=new Z0,e=VC(),r=At(null),n=At(null),a=At(null),o=At([]),u=At("Pointer"),l=At({active:!1,data:null}),c=At({active:!1}),f=At({currentPanelData:[]}),v={INPUT:0,OUTPUT:1,VARIABLE:2,PROGRAM:3,SCHEDULE:4,HOLIDAY:5},h=[{name:"Pointer",text:"Select",icon:"img:/cursor.svg"},{name:"Text",label:"Text",icon:"title",props:{content:"Text",color:"black",fontSize:16}},{name:"Duct",label:"Duct",icon:"img:/duct.svg"},{name:"Fan",label:"Fan",icon:"img:/fan.svg",props:{active:!1,inAlarm:!1}},{name:"CoolingCoil",label:"Cooling Coil",icon:"img:/cooling-coil.svg",props:{active:!1,inAlarm:!1}},{name:"HeatingCoil",label:"Heating Coil",icon:"img:/heating-coil.svg",props:{active:!1,inAlarm:!1}},{name:"Filter",label:"Filter",icon:"img:/filter.svg"},{name:"Humidifier",label:"Humidifier",icon:"img:/humidifier.svg",props:{active:!1,inAlarm:!1}},{name:"Damper",label:"Damper",icon:"img:/damper.svg",props:{inAlarm:!1}},{name:"Temperature",label:"Temperature",icon:"img:/temperature.svg"}];let p=null;const g={items:[],selectedTargets:[],elementGuidelines:[],itemsCount:0,activeItemIndex:null,viewportTransform:{x:0,y:0,scale:1}},m=At(Nn.exports.cloneDeep(g));wo(()=>{var J,pt,Ct,qt;p=HT(a.value,{maxZoom:4,minZoom:.1,zoomDoubleClickSpeed:1,filterKey:function(){return!0},beforeMouseDown:function(ue){var st=!ue.altKey;return st}}),p.on("transform",function(ue){m.value.viewportTransform=ue.getTransform()});const G=document.querySelectorAll(".movable-item");Array.from(G).forEach(function(ue){m.value.elementGuidelines.push(ue)}),(pt=(J=window.chrome)==null?void 0:J.webview)==null||pt.postMessage({action:1}),(qt=(Ct=window.chrome)==null?void 0:Ct.webview)==null||qt.postMessage({action:0})}),Xx(()=>{!p||p.dispose()}),(zt=(Ot=window.chrome)==null?void 0:Ot.webview)==null||zt.addEventListener("message",G=>{var J;console.log("Recieved webview message",G.data),"action"in G.data&&(G.data.action==="UPDATE_ENTRY_RES"||(G.data.action==="GET_INITIAL_DATA_RES"?(G.data.data&&(G.data.data=JSON.parse(G.data.data)),m.value=G.data.data):G.data.action==="GET_CURRENT_PANEL_DATA_RES"?(f.value.currentPanelData=G.data.data,m.value.items.filter(pt=>{var Ct;return(Ct=pt.t3Entry)==null?void 0:Ct.type}).forEach(pt=>{pt.t3Entry=G.data.data.find(Ct=>Ct.index===pt.t3Entry.index&&Ct.type===pt.t3Entry.type),tt(pt)})):G.data.action==="SAVE_GRAPHIC_DATA_RES"&&(((J=G.data.data)==null?void 0:J.status)===!0?e.notify({message:"Saved successfully.",color:"primary",icon:"check_circle",actions:[{label:"Dismiss",color:"white",handler:()=>{}}]}):e.notify({message:"Error, not saved!",color:"danger",icon:"error",actions:[{label:"Dismiss",color:"white",handler:()=>{}}]}))))});function y(G){n.value.clickTarget(G.inputEvent,G.inputTarget)}function S(G){const J=m.value.items.find(pt=>`movable-item-${pt.id}`===G.target.id);J.translate=G.beforeTranslate}function _(G){G.events.forEach((J,pt)=>{const Ct=m.value.items.findIndex(qt=>`movable-item-${qt.id}`===J.target.id);J.set(m.value.items[Ct].translate)})}function E(G){G.events.forEach((J,pt)=>{const Ct=m.value.items.findIndex(qt=>`movable-item-${qt.id}`===J.target.id);m.value.items[Ct].translate=J.beforeTranslate})}function x(G){const J=G.inputEvent.target;(r.value.isMoveableElement(J)||m.value.selectedTargets.some(pt=>pt===J||pt.contains(J)))&&G.stop()}function C(G){m.value.selectedTargets=G.selected,m.value.selectedTargets.length===1?m.value.activeItemIndex=m.value.items.findIndex(J=>`movable-item-${J.id}`===m.value.selectedTargets[0].id):m.value.activeItemIndex=null,G.isDragStart&&(G.inputEvent.preventDefault(),setTimeout(()=>{r.value.dragStart(G.inputEvent)}))}function R(G){const J=m.value.items.findIndex(pt=>`movable-item-${pt.id}`===G.target.id);G.setOrigin(["%","%"]),G.dragStart&&G.dragStart.set(m.value.items[J].translate)}function D(G){const J=m.value.items.find(pt=>`movable-item-${pt.id}`===G.target.id);G.target.style.width=`${G.width}px`,G.target.style.height=`${G.height}px`,G.target.style.transform=`translate(${G.drag.beforeTranslate[0]}px, ${G.drag.beforeTranslate[1]}px) rotate(${J.rotate}deg) scaleX(${J.scaleX}) scaleY(${J.scaleY})`}function k(G){const J=m.value.items.findIndex(pt=>`movable-item-${pt.id}`===G.lastEvent.target.id);m.value.items[J].width=G.lastEvent.width,m.value.items[J].height=G.lastEvent.height,m.value.items[J].translate=G.lastEvent.drag.beforeTranslate}function I(G){const J=m.value.items.find(pt=>`movable-item-${pt.id}`===G.target.id);J.rotate=G.rotate}function O(G){G.events.forEach((J,pt)=>{J.dragStart&&J.dragStart.set(m.value.items[pt].translate)})}function A(G){G.events.forEach((J,pt)=>{const Ct=m.value.items.find(qt=>`movable-item-${qt.id}`===J.target.id);J.target.style.width=`${J.width}px`,J.target.style.height=`${J.height}px`,J.target.style.transform=`translate(${J.drag.beforeTranslate[0]}px, ${J.drag.beforeTranslate[1]}px) rotate(${Ct.rotate}deg) scaleX(${Ct.scaleX}) scaleY(${Ct.scaleY}) `})}function V(G){G.events.forEach(J=>{const pt=m.value.items.findIndex(Ct=>`movable-item-${Ct.id}`===J.lastEvent.target.id);m.value.items[pt].width=J.lastEvent.width,m.value.items[pt].height=J.lastEvent.height,m.value.items[pt].translate=J.lastEvent.drag.beforeTranslate})}function z(G){G.events.forEach(J=>{const pt=m.value.items.findIndex(Ct=>`movable-item-${Ct.id}`===J.target.id);J.set(m.value.items[pt].rotate),J.dragStart&&J.dragStart.set(m.value.items[pt].translate)})}function L(G){G.events.forEach((J,pt)=>{const Ct=m.value.items.findIndex(qt=>`movable-item-${qt.id}`===J.target.id);m.value.items[Ct].translate=J.drag.beforeTranslate,m.value.items[Ct].rotate=J.rotate})}function U(G){m.value.itemsCount++,G.id=m.value.itemsCount,m.value.items.push(G);const J=document.querySelectorAll(".movable-item");return m.value.elementGuidelines=[],Array.from(J).forEach(function(pt){m.value.elementGuidelines.push(pt)}),G}const H={top:36,left:56};function et(G){var Ct;if(u.value==="Pointer"||G.rect.width<20||G.rect.height<20)return;const J=1/m.value.viewportTransform.scale,pt=U({title:null,active:!1,type:u.value,translate:[(G.rect.left-H.left-m.value.viewportTransform.x)*J,(G.rect.top-H.top-m.value.viewportTransform.y)*J],width:G.rect.width*J,height:G.rect.height*J,rotate:0,scaleX:1,scaleY:1,props:((Ct=h.find(qt=>qt.name===u.value))==null?void 0:Ct.props)||{},zindex:1,t3Entry:null,t3EntryDisplayField:"label"});setTimeout(()=>{const qt=document.querySelector(`#movable-item-${pt.id}`);m.value.selectedTargets=[qt],m.value.activeItemIndex=m.value.items.findIndex(ue=>ue.id===pt.id)},10)}function nt(G){u.value=G}function ot(){const G=Nn.exports.cloneDeep(m.value.selectedTargets);m.value.selectedTargets=[],setTimeout(()=>{m.value.selectedTargets=G},10)}function Z(G,J=!1){J?G.rotate=G.rotate-90:G.rotate=G.rotate+90,ot()}function N(G){G.scaleX===1?G.scaleX=-1:G.scaleX=1,ot()}function K(G){G.scaleY===1?G.scaleY=-1:G.scaleY=1,ot()}function ut(G){G.zindex=G.zindex+1}function lt(G){G.zindex=G.zindex-1}function mt(G){const J=m.value.items.findIndex(pt=>pt.id===G.id);m.value.activeItemIndex=null,m.value.items.splice(J,1),m.value.selectedTargets=[]}function yt(G){m.value.activeItemIndex=null;const J=Nn.exports.cloneDeep(G);J.translate[0]=J.translate[0]+10,J.translate[1]=J.translate[1]+10;const pt=U(J);m.value.selectedTargets=[],setTimeout(()=>{const Ct=document.querySelector(`#movable-item-${pt.id}`);m.value.selectedTargets=[Ct],m.value.activeItemIndex=m.value.items.findIndex(qt=>qt.id===pt.id)},10)}function gt(G){n.value.clickTarget(G)}function St(G,J){var pt,Ct,qt,ue,st,Mt;if(console.log("key, obj",G,J),!!J.t3Entry)if(G==="value"){if(((pt=J.props)==null?void 0:pt.active)===void 0)return;((Ct=J.t3Entry)==null?void 0:Ct.digital_analog)===0&&(G="control"),(ue=(qt=window.chrome)==null?void 0:qt.webview)==null||ue.postMessage({action:3,field:G,value:J.props.active?1:0,panelId:1,entryIndex:J.t3Entry.index,entryType:v[J.t3Entry.type]})}else(Mt=(st=window.chrome)==null?void 0:st.webview)==null||Mt.postMessage({action:3,field:G,value:J.t3Entry[G],panelId:1,entryIndex:J.t3Entry.index,entryType:v[J.t3Entry.type]})}function Rt(G){return!G.inputEvent.altKey}function P(){m.value.items[m.value.activeItemIndex].t3Entry=Nn.exports.cloneDeep(l.value.data),tt(m.value.items[m.value.activeItemIndex]),l.value.data=null,l.value.active=!1}function tt(G){var J,pt,Ct,qt,ue;((J=G.props)==null?void 0:J.active)!==void 0&&(G.props.active=((pt=G.t3Entry)==null?void 0:pt.digital_analog)===0&&((Ct=G.t3Entry)==null?void 0:Ct.control)===1||((qt=G.t3Entry)==null?void 0:qt.digital_analog)===1&&((ue=G.t3Entry)==null?void 0:ue.value)>0)}function ht(){var G,J;(J=(G=window.chrome)==null?void 0:G.webview)==null||J.postMessage({action:2,data:Ux(m.value)})}function Dt(){var G;if(((G=m.value.items)==null?void 0:G.length)>0){e.dialog({dark:!0,title:"Do you want to clear the drawing?",message:"This will also erase your undo history",cancel:!0,persistent:!0}).onOk(()=>{m.value=Nn.exports.cloneDeep(g),ot()}).onCancel(()=>{});return}m.value=Nn.exports.cloneDeep(g),ot()}t.keydown(G=>{!m.value.selectedTargets.length||(G.key==="up"?r.value.request("draggable",{deltaX:0,deltaY:-5},!0):G.key==="down"?r.value.request("draggable",{deltaX:0,deltaY:5},!0):G.key==="left"?r.value.request("draggable",{deltaX:-5,deltaY:0},!0):G.key==="right"&&r.value.request("draggable",{deltaX:5,deltaY:0},!0),["up","down","left","right"].includes(G.key)&&ot())}),t.keydown(["ctrl","s"],G=>{G.inputEvent.preventDefault(),ht()});function kt(){var G,J;l.value.active=!0,(G=m.value.items[m.value.activeItemIndex])!=null&&G.t3Entry&&(l.value.data=Nn.exports.cloneDeep((J=m.value.items[m.value.activeItemIndex])==null?void 0:J.t3Entry))}function wt(){m.value.activeItemIndex!==null&&m.value.items[m.value.activeItemIndex].t3Entry&&(c.value.active=!0)}return{movable:r,selecto:n,appState:m,addObject:U,viewport:a,onClickGroup:y,onDrag:S,onDragGroup:E,onDragStart:x,onDragGroupStart:_,onSelectEnd:C,targets:o,onResize:D,onResizeEnd:k,onRotate:I,onResizeGroupStart:O,onResizeGroup:A,onRotateGroupStart:z,onResizeGroupEnd:V,onRotateGroup:L,onResizeStart:R,onSelectoDragEnd:et,selectTool:nt,tools:h,selectedTool:u,rotete90:Z,flipH:N,flipV:K,bringToFront:ut,sendToBack:lt,removeObject:mt,selectByRightClick:gt,T3UpdateEntryField:St,selectoDragCondition:Rt,duplicateObject:yt,linkT3EntrySave:P,newProject:Dt,save:ht,refreshSelecto:ot,linkT3EntryDialog:l,linkT3EntryDialogAction:kt,T3000_Data:f,t3EntrySettingsDialog:c,t3EntrySettingsDialogAction:wt}}}),nk={class:"flex no-wrap items-start justify-between"},ak={class:"tools flex column"},ik={class:"viewport"},ok={ref:"viewport"},sk=["id"],uk={key:0,class:"item-config flex column"},lk={class:"grid gap-4 grid-cols-2 mb-4"},ck=Ke("div",{class:"text-h6"},"Link Entry",-1),fk=Ke("div",{class:"text-h6"},"Linked Entry Settings",-1);function dk(t,e,r,n,a,o){const u=Xr("vue-selecto"),l=Xr("vue-moveable"),c=Xr("object-type");return jt(),xe(Ls,null,[Et(AC,null,{default:$t(()=>{var f;return[Ke("div",nk,[Ke("div",ak,[Et(Fl,{class:"rounded-borders text-primary"},{default:$t(()=>[(jt(!0),xe(Ls,null,pp(t.tools,v=>cr((jt(),Ue(Yr,{key:v.name,onClick:h=>t.selectTool(v.name),clickable:"",active:t.selectedTool===v.name,"active-class":"active-tool"},{default:$t(()=>[Et(Zs,{anchor:"center right",self:"center left"},{default:$t(()=>[fr(Zc(v.label),1)]),_:2},1024),Et(hr,null,{default:$t(()=>[Et(Er,{name:v.icon,size:"sm"},null,8,["name"])]),_:2},1024)]),_:2},1032,["onClick","active"])),[[Xc]])),128))]),_:1})]),Ke("div",ik,[Et(iC,{class:"toolbar text-white shadow-2"},{default:$t(()=>[Et(aC,{"no-caps":"",stretch:"",flat:"","content-class":"menu-dropdown",label:"File"},{default:$t(()=>[Et(Fl,null,{default:$t(()=>[cr((jt(),Ue(Yr,{dense:"",clickable:"",onClick:t.newProject,tabindex:"0"},{default:$t(()=>[Et(hr,{avatar:""},{default:$t(()=>[Et(hp,{size:"md",icon:"assignment",color:"primary","text-color":"white"})]),_:1}),Et(hr,null,{default:$t(()=>[Et(uc,null,{default:$t(()=>[fr("New Project")]),_:1})]),_:1})]),_:1},8,["onClick"])),[[xr]]),Et(ua,{inset:"",spaced:""}),cr((jt(),Ue(Yr,{dense:"",clickable:"",onClick:t.save,tabindex:"0"},{default:$t(()=>[Et(hr,{avatar:""},{default:$t(()=>[Et(hp,{size:"md",icon:"assignment",color:"primary","text-color":"white"})]),_:1}),Et(hr,null,{default:$t(()=>[Et(uc,null,{default:$t(()=>[fr("Save")]),_:1})]),_:1}),Et(hr,{side:""},{default:$t(()=>[Et(rg,null,{default:$t(()=>[fr("Ctrl + S")]),_:1})]),_:1})]),_:1},8,["onClick"])),[[xr]])]),_:1})]),_:1}),Et(sn,{"no-caps":"",stretch:"",flat:"",label:"Edit"}),Et(sn,{"no-caps":"",stretch:"",flat:"",label:"Object"})]),_:1}),Et(u,{ref:"selecto",dragContainer:".viewport",selectableTargets:t.targets,hitRate:100,selectByClick:!0,selectFromInside:!0,toggleContinueSelect:["shift"],ratio:0,boundContainer:!0,onDragStart:t.onDragStart,onSelectEnd:t.onSelectEnd,onDragEnd:t.onSelectoDragEnd,dragCondition:t.selectoDragCondition},null,8,["selectableTargets","onDragStart","onSelectEnd","onDragEnd","dragCondition"]),Ke("div",ok,[Et(l,{ref:"movable",draggable:!0,resizable:!0,rotatable:!0,target:t.appState.selectedTargets,snappable:!0,snapThreshold:10,isDisplaySnapDigit:!0,snapGap:!0,snapDirections:{top:!0,right:!0,bottom:!0,left:!0},elementSnapDirections:{top:!0,right:!0,bottom:!0,left:!0},snapDigit:0,elementGuidelines:t.appState.elementGuidelines,origin:!0,throttleResize:0,throttleRotate:0,rotationPosition:"top",originDraggable:!0,originRelative:!0,defaultGroupRotate:0,defaultGroupOrigin:"50% 50%",padding:{left:0,top:0,right:0,bottom:0},onClickGroup:t.onClickGroup,onDrag:t.onDrag,onDragGroupStart:t.onDragGroupStart,onDragGroup:t.onDragGroup,onResizeStart:t.onResizeStart,onResize:t.onResize,onResizeEnd:t.onResizeEnd,onRotate:t.onRotate,onResizeGroupStart:t.onResizeGroupStart,onResizeGroup:t.onResizeGroup,onResizeGroupEnd:t.onResizeGroupEnd,onRotateGroupStart:t.onRotateGroupStart,onRotateGroup:t.onRotateGroup},null,8,["target","elementGuidelines","onClickGroup","onDrag","onDragGroupStart","onDragGroup","onResizeStart","onResize","onResizeEnd","onRotate","onResizeGroupStart","onResizeGroup","onResizeGroupEnd","onRotateGroupStart","onRotateGroup"]),(jt(!0),xe(Ls,null,pp(t.appState.items,v=>(jt(),xe("div",{key:v.id,ref_for:!0,ref:"targets",style:jh(`position: absolute; transform: translate(${v.translate[0]}px, ${v.translate[1]}px) rotate(${v.rotate}deg) scaleX(${v.scaleX}) scaleY(${v.scaleY}); width: ${v.width}px; height: ${v.height}px; z-index: ${v.zindex};`),id:`movable-item-${v.id}`,onMousedown:e[0]||(e[0]=Kx((...h)=>t.selectByRightClick&&t.selectByRightClick(...h),["right"])),class:"movable-item-wrapper",onDblclick:e[1]||(e[1]=(...h)=>t.t3EntrySettingsDialogAction&&t.t3EntrySettingsDialogAction(...h))},[Et(c,{item:v},null,8,["item"]),Et(pu,{"touch-position":"","context-menu":""},{default:$t(()=>[Et(Fl,{dense:"",style:{"min-width":"100px"}},{default:$t(()=>[cr((jt(),Ue(Yr,{clickable:"",onClick:h=>t.duplicateObject(v)},{default:$t(()=>[Et(hr,null,{default:$t(()=>[fr("Duplicate")]),_:1})]),_:2},1032,["onClick"])),[[xr]]),cr((jt(),Ue(Yr,{clickable:"",onClick:h=>t.rotete90(v)},{default:$t(()=>[Et(hr,null,{default:$t(()=>[fr("Rotate 90\xB0")]),_:1})]),_:2},1032,["onClick"])),[[xr]]),cr((jt(),Ue(Yr,{clickable:"",onClick:h=>t.rotete90(v,!0)},{default:$t(()=>[Et(hr,null,{default:$t(()=>[fr("Rotate -90\xB0")]),_:1})]),_:2},1032,["onClick"])),[[xr]]),Et(ua),cr((jt(),Ue(Yr,{clickable:"",onClick:h=>t.flipH(v)},{default:$t(()=>[Et(hr,null,{default:$t(()=>[fr("Flip horizontal")]),_:1})]),_:2},1032,["onClick"])),[[xr]]),cr((jt(),Ue(Yr,{clickable:"",onClick:h=>t.flipV(v)},{default:$t(()=>[Et(hr,null,{default:$t(()=>[fr("Flip vertical")]),_:1})]),_:2},1032,["onClick"])),[[xr]]),Et(ua),cr((jt(),Ue(Yr,{clickable:"",onClick:h=>t.bringToFront(v)},{default:$t(()=>[Et(hr,null,{default:$t(()=>[fr("Bring to front")]),_:1})]),_:2},1032,["onClick"])),[[xr]]),cr((jt(),Ue(Yr,{clickable:"",onClick:h=>t.sendToBack(v)},{default:$t(()=>[Et(hr,null,{default:$t(()=>[fr("Send to Back")]),_:1})]),_:2},1032,["onClick"])),[[xr]]),Et(ua),cr((jt(),Ue(Yr,{clickable:"",onClick:h=>t.removeObject(v)},{default:$t(()=>[Et(hr,null,{default:$t(()=>[fr("Remove")]),_:1})]),_:2},1032,["onClick"])),[[xr]])]),_:2},1024)]),_:2},1024)],44,sk))),128))],512)]),t.appState.activeItemIndex||t.appState.activeItemIndex===0?(jt(),xe("div",uk,[Ke("div",lk,[Et(ka,{"input-style":"width: 60px","onUpdate:modelValue":[t.refreshSelecto,e[2]||(e[2]=v=>t.appState.items[t.appState.activeItemIndex].translate[0]=v)],label:"X",modelValue:t.appState.items[t.appState.activeItemIndex].translate[0],modelModifiers:{number:!0},dark:"",filled:"",type:"number"},null,8,["onUpdate:modelValue","modelValue"]),Et(ka,{"input-style":"width: 60px","onUpdate:modelValue":[t.refreshSelecto,e[3]||(e[3]=v=>t.appState.items[t.appState.activeItemIndex].translate[1]=v)],label:"Y",modelValue:t.appState.items[t.appState.activeItemIndex].translate[1],modelModifiers:{number:!0},dark:"",filled:"",type:"number"},null,8,["onUpdate:modelValue","modelValue"]),Et(ka,{"input-style":"width: 60px","onUpdate:modelValue":[t.refreshSelecto,e[4]||(e[4]=v=>t.appState.items[t.appState.activeItemIndex].width=v)],label:"Width",modelValue:t.appState.items[t.appState.activeItemIndex].width,modelModifiers:{number:!0},dark:"",filled:"",type:"number"},null,8,["onUpdate:modelValue","modelValue"]),Et(ka,{"input-style":"width: 60px","onUpdate:modelValue":[t.refreshSelecto,e[5]||(e[5]=v=>t.appState.items[t.appState.activeItemIndex].height=v)],label:"Height",modelValue:t.appState.items[t.appState.activeItemIndex].height,modelModifiers:{number:!0},dark:"",filled:"",type:"number"},null,8,["onUpdate:modelValue","modelValue"]),Et(ka,{"input-style":"width: 60px","onUpdate:modelValue":[t.refreshSelecto,e[6]||(e[6]=v=>t.appState.items[t.appState.activeItemIndex].rotate=v)],label:"Rotate",modelValue:t.appState.items[t.appState.activeItemIndex].rotate,modelModifiers:{number:!0},dark:"",filled:"",type:"number"},null,8,["onUpdate:modelValue","modelValue"]),t.appState.items[t.appState.activeItemIndex].props.fontSize!==void 0?(jt(),Ue(ka,{key:0,"input-style":"width: 60px",label:"Font size",modelValue:t.appState.items[t.appState.activeItemIndex].props.fontSize,"onUpdate:modelValue":e[7]||(e[7]=v=>t.appState.items[t.appState.activeItemIndex].props.fontSize=v),modelModifiers:{number:!0},dark:"",filled:"",type:"number"},null,8,["modelValue"])):Gn("",!0),t.appState.items[t.appState.activeItemIndex].props.color!==void 0?(jt(),Ue(ka,{key:1,dark:"",filled:"",modelValue:t.appState.items[t.appState.activeItemIndex].props.color,"onUpdate:modelValue":e[9]||(e[9]=v=>t.appState.items[t.appState.activeItemIndex].props.color=v),label:"Color"},{append:$t(()=>[Et(Er,{name:"colorize",class:"cursor-pointer"},{default:$t(()=>[Et(OC,{cover:"","transition-show":"scale","transition-hide":"scale"},{default:$t(()=>[Et(IC,{modelValue:t.appState.items[t.appState.activeItemIndex].props.color,"onUpdate:modelValue":e[8]||(e[8]=v=>t.appState.items[t.appState.activeItemIndex].props.color=v)},null,8,["modelValue"])]),_:1})]),_:1})]),_:1},8,["modelValue"])):Gn("",!0)]),t.appState.items[t.appState.activeItemIndex].props.active!==void 0?(jt(),Ue(gp,{key:0,dark:"",filled:"",modelValue:t.appState.items[t.appState.activeItemIndex].props.active,"onUpdate:modelValue":[e[10]||(e[10]=v=>t.appState.items[t.appState.activeItemIndex].props.active=v),e[11]||(e[11]=v=>t.T3UpdateEntryField("value",t.appState.items[t.appState.activeItemIndex]))],class:"text-white",label:"Active",disable:!t.appState.items[t.appState.activeItemIndex].t3Entry||((f=t.appState.items[t.appState.activeItemIndex].t3Entry)==null?void 0:f.auto_manual)===0},{default:$t(()=>{var v;return[((v=t.appState.items[t.appState.activeItemIndex].t3Entry)==null?void 0:v.auto_manual)===0?(jt(),Ue(Zs,{key:0,anchor:"center left",self:"center end"},{default:$t(()=>[fr(" Can't activate it because the linked entry is in auto mode ")]),_:1})):Gn("",!0)]}),_:1},8,["modelValue","disable"])):Gn("",!0),t.appState.items[t.appState.activeItemIndex].props.inAlarm!==void 0?(jt(),Ue(gp,{key:1,dark:"",filled:"",modelValue:t.appState.items[t.appState.activeItemIndex].props.inAlarm,"onUpdate:modelValue":e[12]||(e[12]=v=>t.appState.items[t.appState.activeItemIndex].props.inAlarm=v),class:"text-white",label:"In alarm"},null,8,["modelValue"])):Gn("",!0),Et(sn,{dark:"",outline:"","no-caps":"",stretch:"",icon:t.appState.items[t.appState.activeItemIndex].t3Entry?"dataset_linked":void 0,class:"text-white",label:t.appState.items[t.appState.activeItemIndex].t3Entry?`Linked with ${t.appState.items[t.appState.activeItemIndex].t3Entry.description}`:"Link with an entry",onClick:t.linkT3EntryDialogAction},null,8,["icon","label","onClick"])])):Gn("",!0)])]}),_:1}),Et(Hs,{modelValue:t.linkT3EntryDialog.active,"onUpdate:modelValue":e[14]||(e[14]=f=>t.linkT3EntryDialog.active=f)},{default:$t(()=>[Et(mp,null,{default:$t(()=>[Et(ws,{class:"row items-center q-pb-none"},{default:$t(()=>[ck,Et(Rp),cr(Et(sn,{icon:"close",flat:"",round:"",dense:""},null,512),[[xr]])]),_:1}),Et(ua),Et(ws,{style:{"max-height":"60vh"},class:"scroll"},{default:$t(()=>[Et(Vl,{"option-label":"description","option-value":"id",filled:"",modelValue:t.linkT3EntryDialog.data,"onUpdate:modelValue":e[13]||(e[13]=f=>t.linkT3EntryDialog.data=f),options:t.T3000_Data.currentPanelData,label:"Select Entry"},null,8,["modelValue","options"])]),_:1}),Et(ua),Et(bp,{align:"right"},{default:$t(()=>[cr(Et(sn,{flat:"",label:"Cancel",color:"primary"},null,512),[[xr]]),Et(sn,{flat:"",label:"Save",color:"primary",onClick:t.linkT3EntrySave},null,8,["onClick"])]),_:1})]),_:1})]),_:1},8,["modelValue"]),Et(Hs,{modelValue:t.t3EntrySettingsDialog.active,"onUpdate:modelValue":e[18]||(e[18]=f=>t.t3EntrySettingsDialog.active=f)},{default:$t(()=>[Et(mp,null,{default:$t(()=>[Et(ws,{class:"row items-center q-pb-none"},{default:$t(()=>[fk,Et(Rp),cr(Et(sn,{icon:"close",flat:"",round:"",dense:""},null,512),[[xr]])]),_:1}),Et(ua),t.appState.activeItemIndex!==null&&t.appState.items[t.appState.activeItemIndex].t3Entry?(jt(),Ue(ws,{key:0,style:{"max-height":"60vh"},class:"scroll"},{default:$t(()=>[Et(Vl,{filled:"",modelValue:t.appState.items[t.appState.activeItemIndex].t3Entry.auto_manual,"onUpdate:modelValue":[e[15]||(e[15]=f=>t.appState.items[t.appState.activeItemIndex].t3Entry.auto_manual=f),e[16]||(e[16]=f=>t.T3UpdateEntryField("auto_manual",t.appState.items[t.appState.activeItemIndex]))],options:[{label:"Auto",value:0},{label:"Manual",value:1}],label:"Auto/Manual","emit-value":"","map-options":""},null,8,["modelValue"]),Et(Vl,{filled:"",modelValue:t.appState.items[t.appState.activeItemIndex].t3EntryDisplayField,"onUpdate:modelValue":e[17]||(e[17]=f=>t.appState.items[t.appState.activeItemIndex].t3EntryDisplayField=f),options:[{label:"Value",value:"value"},{label:"Label",value:"label"},{label:"Description",value:"description"}],label:"Display field","emit-value":"","map-options":""},null,8,["modelValue"])]),_:1})):Gn("",!0),Et(ua),Et(bp,{align:"right"},{default:$t(()=>[cr(Et(sn,{flat:"",label:"Close",color:"primary"},null,512),[[xr]])]),_:1})]),_:1})]),_:1},8,["modelValue"])],64)}var hk=hn(rk,[["render",dk]]);export{hk as default};
