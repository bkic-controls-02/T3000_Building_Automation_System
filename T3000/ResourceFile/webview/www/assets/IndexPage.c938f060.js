import{c as Ce,F as Cl,G as El,H as xl,r as xt,a as V,I as Jn,J as ui,K as Kc,L as wl,M as Zc,w as de,f as Sr,N as nr,O as qe,j as Qc,h as H,T as Ui,g as Ie,b as Ye,P as Xe,Q as Cn,R as En,S as _l,U as oa,V as Jc,o as _a,W as Re,X as mr,Y as Pe,Z as Dl,$ as Le,n as sa,a0 as Ml,a1 as Ar,a2 as es,a3 as Fr,a4 as tf,a5 as La,a6 as kl,a7 as Ki,a8 as Tl,a9 as ef,p as rf,aa as nf,ab as af,ac as Rl,i as of,e as qa,ad as Wt,ae as Il,af as sf,ag as lf,x as uf,ah as cf,E as ci,ai as ff,aj as df,ak as vf,al as pf,am as hf,an as Ol,ao as gf,ap as Pl,aq as we,ar as mf,y as Oe,A as ct,as as Lt,_ as $e,at as ee,au as xn,av as wn,aw as un,ax as Bl,z as _e,ay as $t,az as De,B as Bt,C as U,D as L,aA as Qe,aB as ta,v as bf,aC as yf,aD as rs,aE as te,aF as Je,aG as ns,aH as Sf,aI as as,aJ as Cf,aK as Ef}from"./index.b4bc7348.js";import{u as Al,v as is,a as xf,p as os,b as wf,c as zl,r as ss,s as _f,d as la,e as Df,Q as Zi,f as Ir,g as Mf,h as Kt,i as vr,j as Et,k as fi,l as kf,m as Tf,n as xe,t as ls,o as Rf,T as If,q as Na,w as cr,x as Of,C as Ut}from"./common.813b2110.js";import{Q as Pf}from"./QResizeObserver.8d953878.js";var ua=Ce({name:"QTooltip",inheritAttrs:!1,props:{...Al,...Cl,...El,maxHeight:{type:String,default:null},maxWidth:{type:String,default:null},transitionShow:{default:"jump-down"},transitionHide:{default:"jump-up"},anchor:{type:String,default:"bottom middle",validator:is},self:{type:String,default:"top middle",validator:is},offset:{type:Array,default:()=>[14,14],validator:xf},scrollTarget:{default:void 0},delay:{type:Number,default:0},hideDelay:{type:Number,default:0}},emits:[...xl],setup(t,{slots:e,emit:n,attrs:r}){let a,i;const o=Ie(),{proxy:{$q:s}}=o,l=xt(null),u=xt(!1),f=V(()=>os(t.anchor,s.lang.rtl)),d=V(()=>os(t.self,s.lang.rtl)),c=V(()=>t.persistent!==!0),{registerTick:p,removeTick:v}=Jn(),{registerTimeout:h}=ui(),{transitionProps:g,transitionStyle:m}=Kc(t),{localScrollTarget:b,changeScrollEvent:S,unconfigureScrollTarget:y}=wf(t,z),{anchorEl:x,canShow:C,anchorEvents:E}=zl({showing:u,configureAnchorEl:q}),{show:M,hide:w}=wl({showing:u,canShow:C,handleShow:k,handleHide:O,hideOnRouteChange:c,processOnMount:!0});Object.assign(E,{delayShow:P,delayHide:W});const{showPortal:_,hidePortal:I,renderPortal:D}=Zc(o,l,st);if(s.platform.is.mobile===!0){const J={anchorEl:x,innerRef:l,onClickOutside(K){return w(K),K.target.classList.contains("q-dialog__backdrop")&&Xe(K),!0}},ot=V(()=>t.modelValue===null&&t.persistent!==!0&&u.value===!0);de(ot,K=>{(K===!0?Df:ss)(J)}),Sr(()=>{ss(J)})}function k(J){_(),p(()=>{i=new MutationObserver(()=>$()),i.observe(l.value,{attributes:!1,childList:!0,characterData:!0,subtree:!0}),$(),z()}),a===void 0&&(a=de(()=>s.screen.width+"|"+s.screen.height+"|"+t.self+"|"+t.anchor+"|"+s.lang.rtl,$)),h(()=>{_(!0),n("show",J)},t.transitionDuration)}function O(J){v(),I(),B(),h(()=>{I(!0),n("hide",J)},t.transitionDuration)}function B(){i!==void 0&&(i.disconnect(),i=void 0),a!==void 0&&(a(),a=void 0),y(),nr(E,"tooltipTemp")}function $(){const J=l.value;x.value===null||!J||_f({el:J,offset:t.offset,anchorEl:x.value,anchorOrigin:f.value,selfOrigin:d.value,maxHeight:t.maxHeight,maxWidth:t.maxWidth})}function P(J){if(s.platform.is.mobile===!0){la(),document.body.classList.add("non-selectable");const ot=x.value,K=["touchmove","touchcancel","touchend","click"].map(rt=>[ot,rt,"delayHide","passiveCapture"]);qe(E,"tooltipTemp",K)}h(()=>{M(J)},t.delay)}function W(J){s.platform.is.mobile===!0&&(nr(E,"tooltipTemp"),la(),setTimeout(()=>{document.body.classList.remove("non-selectable")},10)),h(()=>{w(J)},t.hideDelay)}function q(){if(t.noParentEvent===!0||x.value===null)return;const J=s.platform.is.mobile===!0?[[x.value,"touchstart","delayShow","passive"]]:[[x.value,"mouseenter","delayShow","passive"],[x.value,"mouseleave","delayHide","passive"]];qe(E,"anchor",J)}function z(){if(x.value!==null||t.scrollTarget!==void 0){b.value=Qc(x.value,t.scrollTarget);const J=t.noParentEvent===!0?$:w;S(b.value,J)}}function j(){return u.value===!0?H("div",{...r,ref:l,class:["q-tooltip q-tooltip--style q-position-engine no-pointer-events",r.class],style:[r.style,m.value],role:"tooltip"},Ye(e.default)):null}function st(){return H(Ui,g.value,j)}return Sr(B),Object.assign(o.proxy,{updatePosition:$}),D}}),Jr=Ce({name:"QList",props:{...Cn,bordered:Boolean,dense:Boolean,separator:Boolean,padding:Boolean,tag:{type:String,default:"div"}},setup(t,{slots:e}){const n=Ie(),r=En(t,n.proxy.$q),a=V(()=>"q-list"+(t.bordered===!0?" q-list--bordered":"")+(t.dense===!0?" q-list--dense":"")+(t.separator===!0?" q-list--separator":"")+(r.value===!0?" q-list--dark":"")+(t.padding===!0?" q-list--padding":""));return()=>H(t.tag,{class:a.value},Ye(e.default))}}),Bf=Ce({name:"QBtnGroup",props:{unelevated:Boolean,outline:Boolean,flat:Boolean,rounded:Boolean,square:Boolean,push:Boolean,stretch:Boolean,glossy:Boolean,spread:Boolean},setup(t,{slots:e}){const n=V(()=>{const r=["unelevated","outline","flat","rounded","square","push","stretch","glossy"].filter(a=>t[a]===!0).map(a=>`q-btn-group--${a}`).join(" ");return`q-btn-group row no-wrap${r.length>0?" "+r:""}`+(t.spread===!0?" q-btn-group--spread":" inline")});return()=>H("div",{class:n.value},Ye(e.default))}});const Af=Object.keys(_l),zf=t=>Af.reduce((e,n)=>{const r=t[n];return r!==void 0&&(e[n]=r),e},{});var Va=Ce({name:"QBtnDropdown",props:{..._l,...El,modelValue:Boolean,split:Boolean,dropdownIcon:String,contentClass:[Array,String,Object],contentStyle:[Array,String,Object],cover:Boolean,persistent:Boolean,noRouteDismiss:Boolean,autoClose:Boolean,menuAnchor:{type:String,default:"bottom end"},menuSelf:{type:String,default:"top end"},menuOffset:Array,disableMainBtn:Boolean,disableDropdown:Boolean,noIconAnimation:Boolean,toggleAriaLabel:String},emits:["update:modelValue","click","beforeShow","show","beforeHide","hide"],setup(t,{slots:e,emit:n}){const{proxy:r}=Ie(),a=xt(t.modelValue),i=xt(null),o=oa(),s=V(()=>{const y={"aria-expanded":a.value===!0?"true":"false","aria-haspopup":"true","aria-controls":o,"aria-label":t.toggleAriaLabel||r.$q.lang.label[a.value===!0?"collapse":"expand"](t.label)};return(t.disable===!0||t.split===!1&&t.disableMainBtn===!0||t.disableDropdown===!0)&&(y["aria-disabled"]="true"),y}),l=V(()=>"q-btn-dropdown__arrow"+(a.value===!0&&t.noIconAnimation===!1?" rotate-180":"")+(t.split===!1?" q-btn-dropdown__arrow-container":"")),u=V(()=>Jc(t)),f=V(()=>zf(t));de(()=>t.modelValue,y=>{i.value!==null&&i.value[y?"show":"hide"]()}),de(()=>t.split,S);function d(y){a.value=!0,n("beforeShow",y)}function c(y){n("show",y),n("update:modelValue",!0)}function p(y){a.value=!1,n("beforeHide",y)}function v(y){n("hide",y),n("update:modelValue",!1)}function h(y){n("click",y)}function g(y){Pe(y),S(),n("click",y)}function m(y){i.value!==null&&i.value.toggle(y)}function b(y){i.value!==null&&i.value.show(y)}function S(y){i.value!==null&&i.value.hide(y)}return Object.assign(r,{show:b,hide:S,toggle:m}),_a(()=>{t.modelValue===!0&&b()}),()=>{const y=[H(Re,{class:l.value,name:t.dropdownIcon||r.$q.iconSet.arrow.dropdown})];return t.disableDropdown!==!0&&y.push(H(Zi,{ref:i,id:o,class:t.contentClass,style:t.contentStyle,cover:t.cover,fit:!0,persistent:t.persistent,noRouteDismiss:t.noRouteDismiss,autoClose:t.autoClose,anchor:t.menuAnchor,self:t.menuSelf,offset:t.menuOffset,separateClosePopup:!0,transitionShow:t.transitionShow,transitionHide:t.transitionHide,transitionDuration:t.transitionDuration,onBeforeShow:d,onShow:c,onBeforeHide:p,onHide:v},e.default)),t.split===!1?H(mr,{class:"q-btn-dropdown q-btn-dropdown--simple",...f.value,...s.value,disable:t.disable===!0||t.disableMainBtn===!0,noWrap:!0,round:!1,onClick:h},{default:()=>Ye(e.label,[]).concat(y),loading:e.loading}):H(Bf,{class:"q-btn-dropdown q-btn-dropdown--split no-wrap q-btn-item",rounded:t.rounded,square:t.square,...u.value,glossy:t.glossy,stretch:t.stretch},()=>[H(mr,{class:"q-btn-dropdown--current",...f.value,disable:t.disable===!0||t.disableMainBtn===!0,noWrap:!0,round:!1,onClick:g},{default:e.label,loading:e.loading}),H(mr,{class:"q-btn-dropdown__arrow-container q-anchor--skip",...s.value,...u.value,disable:t.disable===!0||t.disableDropdown===!0,rounded:t.rounded,color:t.color,textColor:t.textColor,dense:t.dense,size:t.size,padding:t.padding,ripple:t.ripple},()=>y)])}}}),Gf=Ce({name:"QToolbar",props:{inset:Boolean},setup(t,{slots:e}){const n=V(()=>"q-toolbar row no-wrap items-center"+(t.inset===!0?" q-toolbar--inset":""));return()=>H("div",{class:n.value,role:"toolbar"},Ye(e.default))}});const Qi={left:!0,right:!0,up:!0,down:!0,horizontal:!0,vertical:!0},Ff=Object.keys(Qi);Qi.all=!0;function ca(t){const e={};for(const n of Ff)t[n]===!0&&(e[n]=!0);return Object.keys(e).length===0?Qi:(e.horizontal===!0?e.left=e.right=!0:e.left===!0&&e.right===!0&&(e.horizontal=!0),e.vertical===!0?e.up=e.down=!0:e.up===!0&&e.down===!0&&(e.vertical=!0),e.horizontal===!0&&e.vertical===!0&&(e.all=!0),e)}function fa(t,e){return e.event===void 0&&t.target!==void 0&&t.target.draggable!==!0&&typeof e.handler=="function"&&t.target.nodeName.toUpperCase()!=="INPUT"&&(t.qClonedBy===void 0||t.qClonedBy.indexOf(e.uid)===-1)}function Ya(t,e,n){const r=Fr(t);let a,i=r.left-e.event.x,o=r.top-e.event.y,s=Math.abs(i),l=Math.abs(o);const u=e.direction;u.horizontal===!0&&u.vertical!==!0?a=i<0?"left":"right":u.horizontal!==!0&&u.vertical===!0?a=o<0?"up":"down":u.up===!0&&o<0?(a="up",s>l&&(u.left===!0&&i<0?a="left":u.right===!0&&i>0&&(a="right"))):u.down===!0&&o>0?(a="down",s>l&&(u.left===!0&&i<0?a="left":u.right===!0&&i>0&&(a="right"))):u.left===!0&&i<0?(a="left",s<l&&(u.up===!0&&o<0?a="up":u.down===!0&&o>0&&(a="down"))):u.right===!0&&i>0&&(a="right",s<l&&(u.up===!0&&o<0?a="up":u.down===!0&&o>0&&(a="down")));let f=!1;if(a===void 0&&n===!1){if(e.event.isFirst===!0||e.event.lastDir===void 0)return{};a=e.event.lastDir,f=!0,a==="left"||a==="right"?(r.left-=i,s=0,i=0):(r.top-=o,l=0,o=0)}return{synthetic:f,payload:{evt:t,touch:e.event.mouse!==!0,mouse:e.event.mouse===!0,position:r,direction:a,isFirst:e.event.isFirst,isFinal:n===!0,duration:Date.now()-e.event.time,distance:{x:s,y:l},offset:{x:i,y:o},delta:{x:r.left-e.event.lastX,y:r.top-e.event.lastY}}}}let $f=0;var Gl=Dl({name:"touch-pan",beforeMount(t,{value:e,modifiers:n}){if(n.mouse!==!0&&Le.has.touch!==!0)return;function r(i,o){n.mouse===!0&&o===!0?Xe(i):(n.stop===!0&&Pe(i),n.prevent===!0&&es(i))}const a={uid:"qvtp_"+$f++,handler:e,modifiers:n,direction:ca(n),noop:sa,mouseStart(i){fa(i,a)&&Ml(i)&&(qe(a,"temp",[[document,"mousemove","move","notPassiveCapture"],[document,"mouseup","end","passiveCapture"]]),a.start(i,!0))},touchStart(i){if(fa(i,a)){const o=i.target;qe(a,"temp",[[o,"touchmove","move","notPassiveCapture"],[o,"touchcancel","end","passiveCapture"],[o,"touchend","end","passiveCapture"]]),a.start(i)}},start(i,o){if(Le.is.firefox===!0&&Ar(t,!0),a.lastEvt=i,o===!0||n.stop===!0){if(a.direction.all!==!0&&(o!==!0||a.modifiers.mouseAllDir!==!0&&a.modifiers.mousealldir!==!0)){const u=i.type.indexOf("mouse")>-1?new MouseEvent(i.type,i):new TouchEvent(i.type,i);i.defaultPrevented===!0&&es(u),i.cancelBubble===!0&&Pe(u),Object.assign(u,{qKeyEvent:i.qKeyEvent,qClickOutside:i.qClickOutside,qAnchorHandled:i.qAnchorHandled,qClonedBy:i.qClonedBy===void 0?[a.uid]:i.qClonedBy.concat(a.uid)}),a.initialEvent={target:i.target,event:u}}Pe(i)}const{left:s,top:l}=Fr(i);a.event={x:s,y:l,time:Date.now(),mouse:o===!0,detected:!1,isFirst:!0,isFinal:!1,lastX:s,lastY:l}},move(i){if(a.event===void 0)return;const o=Fr(i),s=o.left-a.event.x,l=o.top-a.event.y;if(s===0&&l===0)return;a.lastEvt=i;const u=a.event.mouse===!0,f=()=>{r(i,u);let p;n.preserveCursor!==!0&&n.preservecursor!==!0&&(p=document.documentElement.style.cursor||"",document.documentElement.style.cursor="grabbing"),u===!0&&document.body.classList.add("no-pointer-events--children"),document.body.classList.add("non-selectable"),la(),a.styleCleanup=v=>{if(a.styleCleanup=void 0,p!==void 0&&(document.documentElement.style.cursor=p),document.body.classList.remove("non-selectable"),u===!0){const h=()=>{document.body.classList.remove("no-pointer-events--children")};v!==void 0?setTimeout(()=>{h(),v()},50):h()}else v!==void 0&&v()}};if(a.event.detected===!0){a.event.isFirst!==!0&&r(i,a.event.mouse);const{payload:p,synthetic:v}=Ya(i,a,!1);p!==void 0&&(a.handler(p)===!1?a.end(i):(a.styleCleanup===void 0&&a.event.isFirst===!0&&f(),a.event.lastX=p.position.left,a.event.lastY=p.position.top,a.event.lastDir=v===!0?void 0:p.direction,a.event.isFirst=!1));return}if(a.direction.all===!0||u===!0&&(a.modifiers.mouseAllDir===!0||a.modifiers.mousealldir===!0)){f(),a.event.detected=!0,a.move(i);return}const d=Math.abs(s),c=Math.abs(l);d!==c&&(a.direction.horizontal===!0&&d>c||a.direction.vertical===!0&&d<c||a.direction.up===!0&&d<c&&l<0||a.direction.down===!0&&d<c&&l>0||a.direction.left===!0&&d>c&&s<0||a.direction.right===!0&&d>c&&s>0?(a.event.detected=!0,a.move(i)):a.end(i,!0))},end(i,o){if(a.event!==void 0){if(nr(a,"temp"),Le.is.firefox===!0&&Ar(t,!1),o===!0)a.styleCleanup!==void 0&&a.styleCleanup(),a.event.detected!==!0&&a.initialEvent!==void 0&&a.initialEvent.target.dispatchEvent(a.initialEvent.event);else if(a.event.detected===!0){a.event.isFirst===!0&&a.handler(Ya(i===void 0?a.lastEvt:i,a).payload);const{payload:s}=Ya(i===void 0?a.lastEvt:i,a,!0),l=()=>{a.handler(s)};a.styleCleanup!==void 0?a.styleCleanup(l):l()}a.event=void 0,a.initialEvent=void 0,a.lastEvt=void 0}}};if(t.__qtouchpan=a,n.mouse===!0){const i=n.mouseCapture===!0||n.mousecapture===!0?"Capture":"";qe(a,"main",[[t,"mousedown","mouseStart",`passive${i}`]])}Le.has.touch===!0&&qe(a,"main",[[t,"touchstart","touchStart",`passive${n.capture===!0?"Capture":""}`],[t,"touchmove","noop","notPassiveCapture"]])},updated(t,e){const n=t.__qtouchpan;n!==void 0&&(e.oldValue!==e.value&&(typeof value!="function"&&n.end(),n.handler=e.value),n.direction=ca(e.modifiers))},beforeUnmount(t){const e=t.__qtouchpan;e!==void 0&&(e.event!==void 0&&e.end(),nr(e,"main"),nr(e,"temp"),Le.is.firefox===!0&&Ar(t,!1),e.styleCleanup!==void 0&&e.styleCleanup(),delete t.__qtouchpan)}});const us="q-slider__marker-labels",Lf=t=>({value:t}),qf=({marker:t})=>H("div",{key:t.value,style:t.style,class:t.classes},t.label),Fl=[34,37,40,33,39,38],Nf={...Cn,...kl,min:{type:Number,default:0},max:{type:Number,default:100},innerMin:Number,innerMax:Number,step:{type:Number,default:1,validator:t=>t>=0},snap:Boolean,vertical:Boolean,reverse:Boolean,hideSelection:Boolean,color:String,markerLabelsClass:String,label:Boolean,labelColor:String,labelTextColor:String,labelAlways:Boolean,switchLabelSide:Boolean,markers:[Boolean,Number],markerLabels:[Boolean,Array,Object,Function],switchMarkerLabelsSide:Boolean,trackImg:String,trackColor:String,innerTrackImg:String,innerTrackColor:String,selectionColor:String,selectionImg:String,thumbSize:{type:String,default:"20px"},trackSize:{type:String,default:"4px"},disable:Boolean,readonly:Boolean,dense:Boolean,tabindex:[String,Number],thumbColor:String,thumbPath:{type:String,default:"M 4, 10 a 6,6 0 1,0 12,0 a 6,6 0 1,0 -12,0"}},Vf=["pan","update:modelValue","change"];function Yf({updateValue:t,updatePosition:e,getDragging:n,formAttrs:r}){const{props:a,emit:i,slots:o,proxy:{$q:s}}=Ie(),l=En(a,s),u=Tl(r),f=xt(!1),d=xt(!1),c=xt(!1),p=xt(!1),v=V(()=>a.vertical===!0?"--v":"--h"),h=V(()=>"-"+(a.switchLabelSide===!0?"switched":"standard")),g=V(()=>a.vertical===!0?a.reverse===!0:a.reverse!==(s.lang.rtl===!0)),m=V(()=>isNaN(a.innerMin)===!0||a.innerMin<a.min?a.min:a.innerMin),b=V(()=>isNaN(a.innerMax)===!0||a.innerMax>a.max?a.max:a.innerMax),S=V(()=>a.disable!==!0&&a.readonly!==!0&&m.value<b.value),y=V(()=>(String(a.step).trim().split(".")[1]||"").length),x=V(()=>a.step===0?1:a.step),C=V(()=>S.value===!0?a.tabindex||0:-1),E=V(()=>a.max-a.min),M=V(()=>b.value-m.value),w=V(()=>Z(m.value)),_=V(()=>Z(b.value)),I=V(()=>a.vertical===!0?g.value===!0?"bottom":"top":g.value===!0?"right":"left"),D=V(()=>a.vertical===!0?"height":"width"),k=V(()=>a.vertical===!0?"width":"height"),O=V(()=>a.vertical===!0?"vertical":"horizontal"),B=V(()=>{const A={role:"slider","aria-valuemin":m.value,"aria-valuemax":b.value,"aria-orientation":O.value,"data-step":a.step};return a.disable===!0?A["aria-disabled"]="true":a.readonly===!0&&(A["aria-readonly"]="true"),A}),$=V(()=>`q-slider q-slider${v.value} q-slider--${f.value===!0?"":"in"}active inline no-wrap `+(a.vertical===!0?"row":"column")+(a.disable===!0?" disabled":" q-slider--enabled"+(S.value===!0?" q-slider--editable":""))+(c.value==="both"?" q-slider--focus":"")+(a.label||a.labelAlways===!0?" q-slider--label":"")+(a.labelAlways===!0?" q-slider--label-always":"")+(l.value===!0?" q-slider--dark":"")+(a.dense===!0?" q-slider--dense q-slider--dense"+v.value:""));function P(A){const et="q-slider__"+A;return`${et} ${et}${v.value} ${et}${v.value}${h.value}`}function W(A){const et="q-slider__"+A;return`${et} ${et}${v.value}`}const q=V(()=>{const A=a.selectionColor||a.color;return"q-slider__selection absolute"+(A!==void 0?` text-${A}`:"")}),z=V(()=>W("markers")+" absolute overflow-hidden"),j=V(()=>W("track-container")),st=V(()=>P("pin")),J=V(()=>P("label")),ot=V(()=>P("text-container")),K=V(()=>P("marker-labels-container")+(a.markerLabelsClass!==void 0?` ${a.markerLabelsClass}`:"")),rt=V(()=>"q-slider__track relative-position no-outline"+(a.trackColor!==void 0?` bg-${a.trackColor}`:"")),ft=V(()=>{const A={[k.value]:a.trackSize};return a.trackImg!==void 0&&(A.backgroundImage=`url(${a.trackImg}) !important`),A}),ht=V(()=>"q-slider__inner absolute"+(a.innerTrackColor!==void 0?` bg-${a.innerTrackColor}`:"")),F=V(()=>{const A={[I.value]:`${100*w.value}%`,[D.value]:`${100*(_.value-w.value)}%`};return a.innerTrackImg!==void 0&&(A.backgroundImage=`url(${a.innerTrackImg}) !important`),A});function N(A){const{min:et,max:vt,step:wt}=a;let Yt=et+A*(vt-et);if(wt>0){const se=(Yt-et)%wt;Yt+=(Math.abs(se)>=wt/2?(se<0?-1:1)*wt:0)-se}return y.value>0&&(Yt=parseFloat(Yt.toFixed(y.value))),Ir(Yt,m.value,b.value)}function Z(A){return E.value===0?0:(A-a.min)/E.value}function nt(A,et){const vt=Fr(A),wt=a.vertical===!0?Ir((vt.top-et.top)/et.height,0,1):Ir((vt.left-et.left)/et.width,0,1);return Ir(g.value===!0?1-wt:wt,w.value,_.value)}const dt=V(()=>tf(a.markers)===!0?a.markers:x.value),it=V(()=>{const A=[],et=dt.value,vt=a.max;let wt=a.min;do A.push(wt),wt+=et;while(wt<vt);return A.push(vt),A}),gt=V(()=>{const A=` ${us}${v.value}-`;return us+`${A}${a.switchMarkerLabelsSide===!0?"switched":"standard"}${A}${g.value===!0?"rtl":"ltr"}`}),St=V(()=>a.markerLabels===!1?null:kt(a.markerLabels).map((A,et)=>({index:et,value:A.value,label:A.label||A.value,classes:gt.value+(A.classes!==void 0?" "+A.classes:""),style:{...Rt(A.value),...A.style||{}}}))),_t=V(()=>({markerList:St.value,markerMap:jt.value,classes:gt.value,getStyle:Rt})),Ct=V(()=>{if(M.value!==0){const A=100*dt.value/M.value;return{...F.value,backgroundSize:a.vertical===!0?`2px ${A}%`:`${A}% 2px`}}return null});function kt(A){if(A===!1)return null;if(A===!0)return it.value.map(Lf);if(typeof A=="function")return it.value.map(vt=>{const wt=A(vt);return La(wt)===!0?{...wt,value:vt}:{value:vt,label:wt}});const et=({value:vt})=>vt>=a.min&&vt<=a.max;return Array.isArray(A)===!0?A.map(vt=>La(vt)===!0?vt:{value:vt}).filter(et):Object.keys(A).map(vt=>{const wt=A[vt],Yt=Number(vt);return La(wt)===!0?{...wt,value:Yt}:{value:Yt,label:wt}}).filter(et)}function Rt(A){return{[I.value]:`${100*(A-a.min)/E.value}%`}}const jt=V(()=>{if(a.markerLabels===!1)return null;const A={};return St.value.forEach(et=>{A[et.value]=et}),A});function pe(){if(o["marker-label-group"]!==void 0)return o["marker-label-group"](_t.value);const A=o["marker-label"]||qf;return St.value.map(et=>A({marker:et,..._t.value}))}const X=V(()=>[[Gl,at,void 0,{[O.value]:!0,prevent:!0,stop:!0,mouse:!0,mouseAllDir:!0}]]);function at(A){A.isFinal===!0?(p.value!==void 0&&(e(A.evt),A.touch===!0&&t(!0),p.value=void 0,i("pan","end")),f.value=!1,c.value=!1):A.isFirst===!0?(p.value=n(A.evt),e(A.evt),t(),f.value=!0,i("pan","start")):(e(A.evt),t())}function mt(){c.value=!1}function Pt(A){e(A,n(A)),t(),d.value=!0,f.value=!0,document.addEventListener("mouseup",Gt,!0)}function Gt(){d.value=!1,f.value=!1,t(!0),mt(),document.removeEventListener("mouseup",Gt,!0)}function It(A){e(A,n(A)),t(!0)}function Tt(A){Fl.includes(A.keyCode)&&t(!0)}function Ft(A){if(a.vertical===!0)return null;const et=s.lang.rtl!==a.reverse?1-A:A;return{transform:`translateX(calc(${2*et-1} * ${a.thumbSize} / 2 + ${50-100*et}%))`}}function R(A){const et=V(()=>d.value===!1&&(c.value===A.focusValue||c.value==="both")?" q-slider--focus":""),vt=V(()=>`q-slider__thumb q-slider__thumb${v.value} q-slider__thumb${v.value}-${g.value===!0?"rtl":"ltr"} absolute non-selectable`+et.value+(A.thumbColor.value!==void 0?` text-${A.thumbColor.value}`:"")),wt=V(()=>({width:a.thumbSize,height:a.thumbSize,[I.value]:`${100*A.ratio.value}%`,zIndex:c.value===A.focusValue?2:void 0})),Yt=V(()=>A.labelColor.value!==void 0?` text-${A.labelColor.value}`:""),se=V(()=>Ft(A.ratio.value)),At=V(()=>"q-slider__text"+(A.labelTextColor.value!==void 0?` text-${A.labelTextColor.value}`:""));return()=>{const Zt=[H("svg",{class:"q-slider__thumb-shape absolute-full",viewBox:"0 0 20 20","aria-hidden":"true"},[H("path",{d:a.thumbPath})]),H("div",{class:"q-slider__focus-ring fit"})];return(a.label===!0||a.labelAlways===!0)&&(Zt.push(H("div",{class:st.value+" absolute fit no-pointer-events"+Yt.value},[H("div",{class:J.value,style:{minWidth:a.thumbSize}},[H("div",{class:ot.value,style:se.value},[H("span",{class:At.value},A.label.value)])])])),a.name!==void 0&&a.disable!==!0&&u(Zt,"push")),H("div",{class:vt.value,style:wt.value,...A.getNodeData()},Zt)}}function Y(A,et,vt,wt){const Yt=[];a.innerTrackColor!=="transparent"&&Yt.push(H("div",{key:"inner",class:ht.value,style:F.value})),a.selectionColor!=="transparent"&&Yt.push(H("div",{key:"selection",class:q.value,style:A.value})),a.markers!==!1&&Yt.push(H("div",{key:"marker",class:z.value,style:Ct.value})),wt(Yt);const se=[Ki("div",{key:"trackC",class:j.value,tabindex:et.value,...vt.value},[H("div",{class:rt.value,style:ft.value},Yt)],"slide",S.value,()=>X.value)];if(a.markerLabels!==!1){const At=a.switchMarkerLabelsSide===!0?"unshift":"push";se[At](H("div",{key:"markerL",class:K.value},pe()))}return se}return Sr(()=>{document.removeEventListener("mouseup",Gt,!0)}),{state:{active:f,focus:c,preventFocus:d,dragging:p,editable:S,classes:$,tabindex:C,attributes:B,step:x,decimals:y,trackLen:E,innerMin:m,innerMinRatio:w,innerMax:b,innerMaxRatio:_,positionProp:I,sizeProp:D,isReversed:g},methods:{onActivate:Pt,onMobileClick:It,onBlur:mt,onKeyup:Tt,getContent:Y,getThumbRenderFn:R,convertRatioToModel:N,convertModelToRatio:Z,getDraggingRatio:nt}}}const Wf=()=>({});var kr=Ce({name:"QSlider",props:{...Nf,modelValue:{required:!0,default:null,validator:t=>typeof t=="number"||t===null},labelValue:[String,Number]},emits:Vf,setup(t,{emit:e}){const{proxy:{$q:n}}=Ie(),{state:r,methods:a}=Yf({updateValue:v,updatePosition:g,getDragging:h,formAttrs:ef(t)}),i=xt(null),o=xt(0),s=xt(0);function l(){s.value=t.modelValue===null?r.innerMin.value:Ir(t.modelValue,r.innerMin.value,r.innerMax.value)}de(()=>`${t.modelValue}|${r.innerMin.value}|${r.innerMax.value}`,l),l();const u=V(()=>a.convertModelToRatio(s.value)),f=V(()=>r.active.value===!0?o.value:u.value),d=V(()=>{const S={[r.positionProp.value]:`${100*r.innerMinRatio.value}%`,[r.sizeProp.value]:`${100*(f.value-r.innerMinRatio.value)}%`};return t.selectionImg!==void 0&&(S.backgroundImage=`url(${t.selectionImg}) !important`),S}),c=a.getThumbRenderFn({focusValue:!0,getNodeData:Wf,ratio:f,label:V(()=>t.labelValue!==void 0?t.labelValue:s.value),thumbColor:V(()=>t.thumbColor||t.color),labelColor:V(()=>t.labelColor),labelTextColor:V(()=>t.labelTextColor)}),p=V(()=>r.editable.value!==!0?{}:n.platform.is.mobile===!0?{onClick:a.onMobileClick}:{onMousedown:a.onActivate,onFocus:m,onBlur:a.onBlur,onKeydown:b,onKeyup:a.onKeyup});function v(S){s.value!==t.modelValue&&e("update:modelValue",s.value),S===!0&&e("change",s.value)}function h(){return i.value.getBoundingClientRect()}function g(S,y=r.dragging.value){const x=a.getDraggingRatio(S,y);s.value=a.convertRatioToModel(x),o.value=t.snap!==!0||t.step===0?x:a.convertModelToRatio(s.value)}function m(){r.focus.value=!0}function b(S){if(!Fl.includes(S.keyCode))return;Xe(S);const y=([34,33].includes(S.keyCode)?10:1)*r.step.value,x=([34,37,40].includes(S.keyCode)?-1:1)*(r.isReversed.value===!0?-1:1)*(t.vertical===!0?-1:1)*y;s.value=Ir(parseFloat((s.value+x).toFixed(r.decimals.value)),r.innerMin.value,r.innerMax.value),v()}return()=>{const S=a.getContent(d,r.tabindex,p,y=>{y.push(c())});return H("div",{ref:i,class:r.classes.value+(t.modelValue===null?" q-slider--no-value":""),...r.attributes.value,"aria-valuenow":t.modelValue},S)}}});function Hf(t,e,n){const r=n===!0?["left","right"]:["top","bottom"];return`absolute-${e===!0?r[0]:r[1]}${t?` text-${t}`:""}`}const Xf=["left","center","right","justify"];var cs=Ce({name:"QTabs",props:{modelValue:[Number,String],align:{type:String,default:"center",validator:t=>Xf.includes(t)},breakpoint:{type:[String,Number],default:600},vertical:Boolean,shrink:Boolean,stretch:Boolean,activeClass:String,activeColor:String,activeBgColor:String,indicatorColor:String,leftIcon:String,rightIcon:String,outsideArrows:Boolean,mobileArrows:Boolean,switchIndicator:Boolean,narrowIndicator:Boolean,inlineLabel:Boolean,noCaps:Boolean,dense:Boolean,contentClass:String,"onUpdate:modelValue":[Function,Array]},setup(t,{slots:e,emit:n}){const{proxy:r}=Ie(),{$q:a}=r,{registerTick:i}=Jn(),{registerTick:o}=Jn(),{registerTick:s}=Jn(),{registerTimeout:l,removeTimeout:u}=ui(),{registerTimeout:f,removeTimeout:d}=ui(),c=xt(null),p=xt(null),v=xt(t.modelValue),h=xt(!1),g=xt(!0),m=xt(!1),b=xt(!1),S=V(()=>a.platform.is.desktop===!0||t.mobileArrows===!0),y=[],x=xt(0),C=xt(!1);let E,M,w,_=S.value===!0?ot:sa;const I=V(()=>({activeClass:t.activeClass,activeColor:t.activeColor,activeBgColor:t.activeBgColor,indicatorClass:Hf(t.indicatorColor,t.switchIndicator,t.vertical),narrowIndicator:t.narrowIndicator,inlineLabel:t.inlineLabel,noCaps:t.noCaps})),D=V(()=>{const X=x.value,at=v.value;for(let mt=0;mt<X;mt++)if(y[mt].name.value===at)return!0;return!1}),k=V(()=>`q-tabs__content--align-${h.value===!0?"left":b.value===!0?"justify":t.align}`),O=V(()=>`q-tabs row no-wrap items-center q-tabs--${h.value===!0?"":"not-"}scrollable q-tabs--${t.vertical===!0?"vertical":"horizontal"} q-tabs__arrows--${S.value===!0&&t.outsideArrows===!0?"outside":"inside"}`+(t.dense===!0?" q-tabs--dense":"")+(t.shrink===!0?" col-shrink":"")+(t.stretch===!0?" self-stretch":"")),B=V(()=>"q-tabs__content row no-wrap items-center self-stretch hide-scrollbar relative-position "+k.value+(t.contentClass!==void 0?` ${t.contentClass}`:"")+(a.platform.is.mobile===!0?" scroll":"")),$=V(()=>t.vertical===!0?{container:"height",content:"offsetHeight",scroll:"scrollHeight"}:{container:"width",content:"offsetWidth",scroll:"scrollWidth"}),P=V(()=>t.vertical!==!0&&a.lang.rtl===!0),W=V(()=>Mf===!1&&P.value===!0);de(P,_),de(()=>t.modelValue,X=>{q({name:X,setCurrent:!0,skipEmit:!0})}),de(()=>t.outsideArrows,()=>{z()}),de(S,X=>{_=X===!0?ot:sa,z()});function q({name:X,setCurrent:at,skipEmit:mt,fromRoute:Pt}){v.value!==X&&(mt!==!0&&t["onUpdate:modelValue"]!==void 0&&n("update:modelValue",X),(at===!0||t["onUpdate:modelValue"]===void 0)&&(st(v.value,X),v.value=X))}function z(){i(()=>{j({width:c.value.offsetWidth,height:c.value.offsetHeight})})}function j(X){if($.value===void 0||p.value===null)return;const at=X[$.value.container],mt=Math.min(p.value[$.value.scroll],Array.prototype.reduce.call(p.value.children,(Gt,It)=>Gt+(It[$.value.content]||0),0)),Pt=at>0&&mt>at;h.value=Pt,Pt===!0&&o(_),b.value=at<parseInt(t.breakpoint,10)}function st(X,at){const mt=X!=null&&X!==""?y.find(Gt=>Gt.name.value===X):null,Pt=at!=null&&at!==""?y.find(Gt=>Gt.name.value===at):null;if(mt&&Pt){const Gt=mt.tabIndicatorRef.value,It=Pt.tabIndicatorRef.value;clearTimeout(E),Gt.style.transition="none",Gt.style.transform="none",It.style.transition="none",It.style.transform="none";const Tt=Gt.getBoundingClientRect(),Ft=It.getBoundingClientRect();It.style.transform=t.vertical===!0?`translate3d(0,${Tt.top-Ft.top}px,0) scale3d(1,${Ft.height?Tt.height/Ft.height:1},1)`:`translate3d(${Tt.left-Ft.left}px,0,0) scale3d(${Ft.width?Tt.width/Ft.width:1},1,1)`,s(()=>{E=setTimeout(()=>{It.style.transition="transform .25s cubic-bezier(.4, 0, .2, 1)",It.style.transform="none"},70)})}Pt&&h.value===!0&&J(Pt.rootRef.value)}function J(X){const{left:at,width:mt,top:Pt,height:Gt}=p.value.getBoundingClientRect(),It=X.getBoundingClientRect();let Tt=t.vertical===!0?It.top-Pt:It.left-at;if(Tt<0){p.value[t.vertical===!0?"scrollTop":"scrollLeft"]+=Math.floor(Tt),_();return}Tt+=t.vertical===!0?It.height-Gt:It.width-mt,Tt>0&&(p.value[t.vertical===!0?"scrollTop":"scrollLeft"]+=Math.ceil(Tt),_())}function ot(){const X=p.value;if(X!==null){const at=X.getBoundingClientRect(),mt=t.vertical===!0?X.scrollTop:Math.abs(X.scrollLeft);P.value===!0?(g.value=Math.ceil(mt+at.width)<X.scrollWidth-1,m.value=mt>0):(g.value=mt>0,m.value=t.vertical===!0?Math.ceil(mt+at.height)<X.scrollHeight:Math.ceil(mt+at.width)<X.scrollWidth)}}function K(X){ht(),M=setInterval(()=>{Z(X)===!0&&ht()},5)}function rt(){K(W.value===!0?Number.MAX_SAFE_INTEGER:0)}function ft(){K(W.value===!0?0:Number.MAX_SAFE_INTEGER)}function ht(){clearInterval(M)}function F(X,at){const mt=Array.prototype.filter.call(p.value.children,Ft=>Ft===at||Ft.matches&&Ft.matches(".q-tab.q-focusable")===!0),Pt=mt.length;if(Pt===0)return;if(X===36)return J(mt[0]),mt[0].focus(),!0;if(X===35)return J(mt[Pt-1]),mt[Pt-1].focus(),!0;const Gt=X===(t.vertical===!0?38:37),It=X===(t.vertical===!0?40:39),Tt=Gt===!0?-1:It===!0?1:void 0;if(Tt!==void 0){const Ft=P.value===!0?-1:1,R=mt.indexOf(at)+Tt*Ft;return R>=0&&R<Pt&&(J(mt[R]),mt[R].focus({preventScroll:!0})),!0}}const N=V(()=>W.value===!0?{get:X=>Math.abs(X.scrollLeft),set:(X,at)=>{X.scrollLeft=-at}}:t.vertical===!0?{get:X=>X.scrollTop,set:(X,at)=>{X.scrollTop=at}}:{get:X=>X.scrollLeft,set:(X,at)=>{X.scrollLeft=at}});function Z(X){const at=p.value,{get:mt,set:Pt}=N.value;let Gt=!1,It=mt(at);const Tt=X<It?-1:1;return It+=Tt*5,It<0?(Gt=!0,It=0):(Tt===-1&&It<=X||Tt===1&&It>=X)&&(Gt=!0,It=X),Pt(at,It),_(),Gt}function nt(X,at){for(const mt in X)if(X[mt]!==at[mt])return!1;return!0}function dt(){let X=null,at={matchedLen:0,queryDiff:9999,hrefLen:0};const mt=y.filter(Tt=>Tt.routeData!==void 0&&Tt.routeData.hasRouterLink.value===!0),{hash:Pt,query:Gt}=r.$route,It=Object.keys(Gt).length;for(const Tt of mt){const Ft=Tt.routeData.exact.value===!0;if(Tt.routeData[Ft===!0?"linkIsExactActive":"linkIsActive"].value!==!0)continue;const{hash:R,query:Y,matched:A,href:et}=Tt.routeData.resolvedLink.value,vt=Object.keys(Y).length;if(Ft===!0){if(R!==Pt||vt!==It||nt(Gt,Y)===!1)continue;X=Tt.name.value;break}if(R!==""&&R!==Pt||vt!==0&&nt(Y,Gt)===!1)continue;const wt={matchedLen:A.length,queryDiff:It-vt,hrefLen:et.length-R.length};if(wt.matchedLen>at.matchedLen){X=Tt.name.value,at=wt;continue}else if(wt.matchedLen!==at.matchedLen)continue;if(wt.queryDiff<at.queryDiff)X=Tt.name.value,at=wt;else if(wt.queryDiff!==at.queryDiff)continue;wt.hrefLen>at.hrefLen&&(X=Tt.name.value,at=wt)}X===null&&y.some(Tt=>Tt.routeData===void 0&&Tt.name.value===v.value)===!0||q({name:X,setCurrent:!0})}function it(X){if(u(),C.value!==!0&&c.value!==null&&X.target&&typeof X.target.closest=="function"){const at=X.target.closest(".q-tab");at&&c.value.contains(at)===!0&&(C.value=!0,h.value===!0&&J(at))}}function gt(){l(()=>{C.value=!1},30)}function St(){Rt.avoidRouteWatcher===!1?f(dt):d()}function _t(){if(w===void 0){const X=de(()=>r.$route.fullPath,St);w=()=>{X(),w=void 0}}}function Ct(X){y.push(X),x.value++,z(),X.routeData===void 0||r.$route===void 0?f(()=>{if(h.value===!0){const at=v.value,mt=at!=null&&at!==""?y.find(Pt=>Pt.name.value===at):null;mt&&J(mt.rootRef.value)}}):(_t(),X.routeData.hasRouterLink.value===!0&&St())}function kt(X){y.splice(y.indexOf(X),1),x.value--,z(),w!==void 0&&X.routeData!==void 0&&(y.every(at=>at.routeData===void 0)===!0&&w(),St())}const Rt={currentModel:v,tabProps:I,hasFocus:C,hasActiveTab:D,registerTab:Ct,unregisterTab:kt,verifyRouteModel:St,updateModel:q,onKbdNavigate:F,avoidRouteWatcher:!1};rf(Rl,Rt);function jt(){clearTimeout(E),ht(),w!==void 0&&w()}let pe;return Sr(jt),nf(()=>{pe=w!==void 0,jt()}),af(()=>{pe===!0&&_t(),z()}),()=>{const X=[H(Pf,{onResize:j}),H("div",{ref:p,class:B.value,onScroll:_},Ye(e.default))];return S.value===!0&&X.push(H(Re,{class:"q-tabs__arrow q-tabs__arrow--left absolute q-tab__icon"+(g.value===!0?"":" q-tabs__arrow--faded"),name:t.leftIcon||a.iconSet.tabs[t.vertical===!0?"up":"left"],onMousedownPassive:rt,onTouchstartPassive:rt,onMouseupPassive:ht,onMouseleavePassive:ht,onTouchendPassive:ht}),H(Re,{class:"q-tabs__arrow q-tabs__arrow--right absolute q-tab__icon"+(m.value===!0?"":" q-tabs__arrow--faded"),name:t.rightIcon||a.iconSet.tabs[t.vertical===!0?"down":"right"],onMousedownPassive:ft,onTouchstartPassive:ft,onMouseupPassive:ht,onMouseleavePassive:ht,onTouchendPassive:ht})),H("div",{ref:c,class:O.value,role:"tablist",onFocusin:it,onFocusout:gt},X)}}});let jf=0;const Uf=["click","keydown"],Kf={icon:String,label:[Number,String],alert:[Boolean,String],alertIcon:String,name:{type:[Number,String],default:()=>`t_${jf++}`},noCaps:Boolean,tabindex:[String,Number],disable:Boolean,contentClass:String,ripple:{type:[Boolean,Object],default:!0}};function Zf(t,e,n,r){const a=of(Rl,qa);if(a===qa)return console.error("QTab/QRouteTab component needs to be child of QTabs"),qa;const{proxy:i}=Ie(),o=xt(null),s=xt(null),l=xt(null),u=V(()=>t.disable===!0||t.ripple===!1?!1:Object.assign({keyCodes:[13,32],early:!0},t.ripple===!0?{}:t.ripple)),f=V(()=>a.currentModel.value===t.name),d=V(()=>"q-tab relative-position self-stretch flex flex-center text-center"+(f.value===!0?" q-tab--active"+(a.tabProps.value.activeClass?" "+a.tabProps.value.activeClass:"")+(a.tabProps.value.activeColor?` text-${a.tabProps.value.activeColor}`:"")+(a.tabProps.value.activeBgColor?` bg-${a.tabProps.value.activeBgColor}`:""):" q-tab--inactive")+(t.icon&&t.label&&a.tabProps.value.inlineLabel===!1?" q-tab--full":"")+(t.noCaps===!0||a.tabProps.value.noCaps===!0?" q-tab--no-caps":"")+(t.disable===!0?" disabled":" q-focusable q-hoverable cursor-pointer")+(r!==void 0?r.linkClass.value:"")),c=V(()=>"q-tab__content self-stretch flex-center relative-position q-anchor--skip non-selectable "+(a.tabProps.value.inlineLabel===!0?"row no-wrap q-tab__content--inline":"column")+(t.contentClass!==void 0?` ${t.contentClass}`:"")),p=V(()=>t.disable===!0||a.hasFocus.value===!0||f.value===!1&&a.hasActiveTab.value===!0?-1:t.tabindex||0);function v(S,y){if(y!==!0&&o.value!==null&&o.value.focus(),t.disable===!0){r!==void 0&&r.hasRouterLink.value===!0&&Xe(S);return}if(r===void 0){a.updateModel({name:t.name}),n("click",S);return}if(r.hasRouterLink.value===!0){const x=(C={})=>{let E;const M=C.to===void 0||cf(C.to,t.to)===!0?a.avoidRouteWatcher=oa():null;return r.navigateToRouterLink(S,{...C,returnRouterError:!0}).catch(w=>{E=w}).then(w=>{if(M===a.avoidRouteWatcher&&(a.avoidRouteWatcher=!1,E===void 0&&(w===void 0||w.message.startsWith("Avoided redundant navigation")===!0)&&a.updateModel({name:t.name})),C.returnRouterError===!0)return E!==void 0?Promise.reject(E):w})};n("click",S,x),S.defaultPrevented!==!0&&x();return}n("click",S)}function h(S){sf(S,[13,32])?v(S,!0):lf(S)!==!0&&S.keyCode>=35&&S.keyCode<=40&&S.altKey!==!0&&S.metaKey!==!0&&a.onKbdNavigate(S.keyCode,i.$el)===!0&&Xe(S),n("keydown",S)}function g(){const S=a.tabProps.value.narrowIndicator,y=[],x=H("div",{ref:l,class:["q-tab__indicator",a.tabProps.value.indicatorClass]});t.icon!==void 0&&y.push(H(Re,{class:"q-tab__icon",name:t.icon})),t.label!==void 0&&y.push(H("div",{class:"q-tab__label"},t.label)),t.alert!==!1&&y.push(t.alertIcon!==void 0?H(Re,{class:"q-tab__alert-icon",color:t.alert!==!0?t.alert:void 0,name:t.alertIcon}):H("div",{class:"q-tab__alert"+(t.alert!==!0?` text-${t.alert}`:"")})),S===!0&&y.push(x);const C=[H("div",{class:"q-focus-helper",tabindex:-1,ref:o}),H("div",{class:c.value},uf(e.default,y))];return S===!1&&C.push(x),C}const m={name:V(()=>t.name),rootRef:s,tabIndicatorRef:l,routeData:r};Sr(()=>{a.unregisterTab(m)}),_a(()=>{a.registerTab(m)});function b(S,y){const x={ref:s,class:d.value,tabindex:p.value,role:"tab","aria-selected":f.value===!0?"true":"false","aria-disabled":t.disable===!0?"true":void 0,onClick:v,onKeydown:h,...y};return Wt(H(S,x,g()),[[Il,u.value]])}return{renderTab:b,$tabs:a}}var tn=Ce({name:"QTab",props:Kf,emits:Uf,setup(t,{slots:e,emit:n}){const{renderTab:r}=Zf(t,e,n);return()=>r("div")}});function Qf(t){const e=[.06,6,50];return typeof t=="string"&&t.length&&t.split(":").forEach((n,r)=>{const a=parseFloat(n);a&&(e[r]=a)}),e}var Jf=Dl({name:"touch-swipe",beforeMount(t,{value:e,arg:n,modifiers:r}){if(r.mouse!==!0&&Le.has.touch!==!0)return;const a=r.mouseCapture===!0?"Capture":"",i={handler:e,sensitivity:Qf(n),direction:ca(r),noop:sa,mouseStart(o){fa(o,i)&&Ml(o)&&(qe(i,"temp",[[document,"mousemove","move",`notPassive${a}`],[document,"mouseup","end","notPassiveCapture"]]),i.start(o,!0))},touchStart(o){if(fa(o,i)){const s=o.target;qe(i,"temp",[[s,"touchmove","move","notPassiveCapture"],[s,"touchcancel","end","notPassiveCapture"],[s,"touchend","end","notPassiveCapture"]]),i.start(o)}},start(o,s){Le.is.firefox===!0&&Ar(t,!0);const l=Fr(o);i.event={x:l.left,y:l.top,time:Date.now(),mouse:s===!0,dir:!1}},move(o){if(i.event===void 0)return;if(i.event.dir!==!1){Xe(o);return}const s=Date.now()-i.event.time;if(s===0)return;const l=Fr(o),u=l.left-i.event.x,f=Math.abs(u),d=l.top-i.event.y,c=Math.abs(d);if(i.event.mouse!==!0){if(f<i.sensitivity[1]&&c<i.sensitivity[1]){i.end(o);return}}else if(f<i.sensitivity[2]&&c<i.sensitivity[2])return;const p=f/s,v=c/s;i.direction.vertical===!0&&f<c&&f<100&&v>i.sensitivity[0]&&(i.event.dir=d<0?"up":"down"),i.direction.horizontal===!0&&f>c&&c<100&&p>i.sensitivity[0]&&(i.event.dir=u<0?"left":"right"),i.direction.up===!0&&f<c&&d<0&&f<100&&v>i.sensitivity[0]&&(i.event.dir="up"),i.direction.down===!0&&f<c&&d>0&&f<100&&v>i.sensitivity[0]&&(i.event.dir="down"),i.direction.left===!0&&f>c&&u<0&&c<100&&p>i.sensitivity[0]&&(i.event.dir="left"),i.direction.right===!0&&f>c&&u>0&&c<100&&p>i.sensitivity[0]&&(i.event.dir="right"),i.event.dir!==!1?(Xe(o),i.event.mouse===!0&&(document.body.classList.add("no-pointer-events--children"),document.body.classList.add("non-selectable"),la(),i.styleCleanup=h=>{i.styleCleanup=void 0,document.body.classList.remove("non-selectable");const g=()=>{document.body.classList.remove("no-pointer-events--children")};h===!0?setTimeout(g,50):g()}),i.handler({evt:o,touch:i.event.mouse!==!0,mouse:i.event.mouse,direction:i.event.dir,duration:s,distance:{x:f,y:c}})):i.end(o)},end(o){i.event!==void 0&&(nr(i,"temp"),Le.is.firefox===!0&&Ar(t,!1),i.styleCleanup!==void 0&&i.styleCleanup(!0),o!==void 0&&i.event.dir!==!1&&Xe(o),i.event=void 0)}};if(t.__qtouchswipe=i,r.mouse===!0){const o=r.mouseCapture===!0||r.mousecapture===!0?"Capture":"";qe(i,"main",[[t,"mousedown","mouseStart",`passive${o}`]])}Le.has.touch===!0&&qe(i,"main",[[t,"touchstart","touchStart",`passive${r.capture===!0?"Capture":""}`],[t,"touchmove","noop","notPassiveCapture"]])},updated(t,e){const n=t.__qtouchswipe;n!==void 0&&(e.oldValue!==e.value&&(typeof e.value!="function"&&n.end(),n.handler=e.value),n.direction=ca(e.modifiers))},beforeUnmount(t){const e=t.__qtouchswipe;e!==void 0&&(nr(e,"main"),nr(e,"temp"),Le.is.firefox===!0&&Ar(t,!1),e.styleCleanup!==void 0&&e.styleCleanup(),delete t.__qtouchswipe)}});function $l(){const t=new Map;return{getCache:function(e,n){return t[e]===void 0?t[e]=n:t[e]},getCacheWithFn:function(e,n){return t[e]===void 0?t[e]=n():t[e]}}}const td={name:{required:!0},disable:Boolean},fs={setup(t,{slots:e}){return()=>H("div",{class:"q-panel scroll",role:"tabpanel"},Ye(e.default))}},ed={modelValue:{required:!0},animated:Boolean,infinite:Boolean,swipeable:Boolean,vertical:Boolean,transitionPrev:String,transitionNext:String,transitionDuration:{type:[String,Number],default:300},keepAlive:Boolean,keepAliveInclude:[String,Array,RegExp],keepAliveExclude:[String,Array,RegExp],keepAliveMax:Number},rd=["update:modelValue","beforeTransition","transition"];function nd(){const{props:t,emit:e,proxy:n}=Ie(),{getCacheWithFn:r}=$l();let a,i;const o=xt(null),s=xt(null);function l(k){const O=t.vertical===!0?"up":"left";E((n.$q.lang.rtl===!0?-1:1)*(k.direction===O?1:-1))}const u=V(()=>[[Jf,l,void 0,{horizontal:t.vertical!==!0,vertical:t.vertical,mouse:!0}]]),f=V(()=>t.transitionPrev||`slide-${t.vertical===!0?"down":"right"}`),d=V(()=>t.transitionNext||`slide-${t.vertical===!0?"up":"left"}`),c=V(()=>`--q-transition-duration: ${t.transitionDuration}ms`),p=V(()=>typeof t.modelValue=="string"||typeof t.modelValue=="number"?t.modelValue:String(t.modelValue)),v=V(()=>({include:t.keepAliveInclude,exclude:t.keepAliveExclude,max:t.keepAliveMax})),h=V(()=>t.keepAliveInclude!==void 0||t.keepAliveExclude!==void 0);de(()=>t.modelValue,(k,O)=>{const B=S(k)===!0?y(k):-1;i!==!0&&C(B===-1?0:B<y(O)?-1:1),o.value!==B&&(o.value=B,e("beforeTransition",k,O),ci(()=>{e("transition",k,O)}))});function g(){E(1)}function m(){E(-1)}function b(k){e("update:modelValue",k)}function S(k){return k!=null&&k!==""}function y(k){return a.findIndex(O=>O.props.name===k&&O.props.disable!==""&&O.props.disable!==!0)}function x(){return a.filter(k=>k.props.disable!==""&&k.props.disable!==!0)}function C(k){const O=k!==0&&t.animated===!0&&o.value!==-1?"q-transition--"+(k===-1?f.value:d.value):null;s.value!==O&&(s.value=O)}function E(k,O=o.value){let B=O+k;for(;B>-1&&B<a.length;){const $=a[B];if($!==void 0&&$.props.disable!==""&&$.props.disable!==!0){C(k),i=!0,e("update:modelValue",$.props.name),setTimeout(()=>{i=!1});return}B+=k}t.infinite===!0&&a.length>0&&O!==-1&&O!==a.length&&E(k,k===-1?a.length:-1)}function M(){const k=y(t.modelValue);return o.value!==k&&(o.value=k),!0}function w(){const k=S(t.modelValue)===!0&&M()&&a[o.value];return t.keepAlive===!0?[H(df,v.value,[H(h.value===!0?r(p.value,()=>({...fs,name:p.value})):fs,{key:p.value,style:c.value},()=>k)])]:[H("div",{class:"q-panel scroll",style:c.value,key:p.value,role:"tabpanel"},[k])]}function _(){if(a.length!==0)return t.animated===!0?[H(Ui,{name:s.value},w)]:w()}function I(k){return a=ff(Ye(k.default,[])).filter(O=>O.props!==null&&O.props.slot===void 0&&S(O.props.name)===!0),a.length}function D(){return a}return Object.assign(n,{next:g,previous:m,goTo:b}),{panelIndex:o,panelDirectives:u,updatePanelsList:I,updatePanelIndex:M,getPanelContent:_,getEnabledPanels:x,getPanels:D,isValidPanelName:S,keepAliveProps:v,needsUniqueKeepAliveWrapper:h,goToPanelByOffset:E,goToPanel:b,nextPanel:g,previousPanel:m}}var ad=Ce({name:"QTabPanels",props:{...ed,...Cn},emits:rd,setup(t,{slots:e}){const n=Ie(),r=En(t,n.proxy.$q),{updatePanelsList:a,getPanelContent:i,panelDirectives:o}=nd(),s=V(()=>"q-tab-panels q-panel-parent"+(r.value===!0?" q-tab-panels--dark q-dark":""));return()=>(a(e),Ki("div",{class:s.value},i(),"pan",t.swipeable,()=>o.value))}}),Wa=Ce({name:"QTabPanel",props:td,setup(t,{slots:e}){return()=>H("div",{class:"q-tab-panel",role:"tabpanel"},Ye(e.default))}});const id=/^rgb(a)?\((\d{1,3}),(\d{1,3}),(\d{1,3}),?([01]?\.?\d*?)?\)$/;function ds({r:t,g:e,b:n,a:r}){const a=r!==void 0;if(t=Math.round(t),e=Math.round(e),n=Math.round(n),t>255||e>255||n>255||a&&r>100)throw new TypeError("Expected 3 numbers below 256 (and optionally one below 100)");return r=a?(Math.round(255*r/100)|1<<8).toString(16).slice(1):"","#"+(n|e<<8|t<<16|1<<24).toString(16).slice(1)+r}function vs({r:t,g:e,b:n,a:r}){return`rgb${r!==void 0?"a":""}(${t},${e},${n}${r!==void 0?","+r/100:""})`}function Ll(t){if(typeof t!="string")throw new TypeError("Expected a string");t=t.replace(/^#/,""),t.length===3?t=t[0]+t[0]+t[1]+t[1]+t[2]+t[2]:t.length===4&&(t=t[0]+t[0]+t[1]+t[1]+t[2]+t[2]+t[3]+t[3]);const e=parseInt(t,16);return t.length>6?{r:e>>24&255,g:e>>16&255,b:e>>8&255,a:Math.round((e&255)/2.55)}:{r:e>>16,g:e>>8&255,b:e&255}}function ps({h:t,s:e,v:n,a:r}){let a,i,o;e=e/100,n=n/100,t=t/360;const s=Math.floor(t*6),l=t*6-s,u=n*(1-e),f=n*(1-l*e),d=n*(1-(1-l)*e);switch(s%6){case 0:a=n,i=d,o=u;break;case 1:a=f,i=n,o=u;break;case 2:a=u,i=n,o=d;break;case 3:a=u,i=f,o=n;break;case 4:a=d,i=u,o=n;break;case 5:a=n,i=u,o=f;break}return{r:Math.round(a*255),g:Math.round(i*255),b:Math.round(o*255),a:r}}function Ha({r:t,g:e,b:n,a:r}){const a=Math.max(t,e,n),i=Math.min(t,e,n),o=a-i,s=a===0?0:o/a,l=a/255;let u;switch(a){case i:u=0;break;case t:u=e-n+o*(e<n?6:0),u/=6*o;break;case e:u=n-t+o*2,u/=6*o;break;case n:u=t-e+o*4,u/=6*o;break}return{h:Math.round(u*360),s:Math.round(s*100),v:Math.round(l*100),a:r}}function ql(t){if(typeof t!="string")throw new TypeError("Expected a string");const e=t.replace(/ /g,""),n=id.exec(e);if(n===null)return Ll(e);const r={r:Math.min(255,parseInt(n[2],10)),g:Math.min(255,parseInt(n[3],10)),b:Math.min(255,parseInt(n[4],10))};if(n[1]){const a=parseFloat(n[5]);r.a=Math.min(1,isNaN(a)===!0?1:a)*100}return r}function od(t){if(typeof t!="string"&&(!t||t.r===void 0))throw new TypeError("Expected a string or a {r, g, b} object as color");const e=typeof t=="string"?ql(t):t,n=e.r/255,r=e.g/255,a=e.b/255,i=n<=.03928?n/12.92:Math.pow((n+.055)/1.055,2.4),o=r<=.03928?r/12.92:Math.pow((r+.055)/1.055,2.4),s=a<=.03928?a/12.92:Math.pow((a+.055)/1.055,2.4);return .2126*i+.7152*o+.0722*s}const sd=["rgb(255,204,204)","rgb(255,230,204)","rgb(255,255,204)","rgb(204,255,204)","rgb(204,255,230)","rgb(204,255,255)","rgb(204,230,255)","rgb(204,204,255)","rgb(230,204,255)","rgb(255,204,255)","rgb(255,153,153)","rgb(255,204,153)","rgb(255,255,153)","rgb(153,255,153)","rgb(153,255,204)","rgb(153,255,255)","rgb(153,204,255)","rgb(153,153,255)","rgb(204,153,255)","rgb(255,153,255)","rgb(255,102,102)","rgb(255,179,102)","rgb(255,255,102)","rgb(102,255,102)","rgb(102,255,179)","rgb(102,255,255)","rgb(102,179,255)","rgb(102,102,255)","rgb(179,102,255)","rgb(255,102,255)","rgb(255,51,51)","rgb(255,153,51)","rgb(255,255,51)","rgb(51,255,51)","rgb(51,255,153)","rgb(51,255,255)","rgb(51,153,255)","rgb(51,51,255)","rgb(153,51,255)","rgb(255,51,255)","rgb(255,0,0)","rgb(255,128,0)","rgb(255,255,0)","rgb(0,255,0)","rgb(0,255,128)","rgb(0,255,255)","rgb(0,128,255)","rgb(0,0,255)","rgb(128,0,255)","rgb(255,0,255)","rgb(245,0,0)","rgb(245,123,0)","rgb(245,245,0)","rgb(0,245,0)","rgb(0,245,123)","rgb(0,245,245)","rgb(0,123,245)","rgb(0,0,245)","rgb(123,0,245)","rgb(245,0,245)","rgb(214,0,0)","rgb(214,108,0)","rgb(214,214,0)","rgb(0,214,0)","rgb(0,214,108)","rgb(0,214,214)","rgb(0,108,214)","rgb(0,0,214)","rgb(108,0,214)","rgb(214,0,214)","rgb(163,0,0)","rgb(163,82,0)","rgb(163,163,0)","rgb(0,163,0)","rgb(0,163,82)","rgb(0,163,163)","rgb(0,82,163)","rgb(0,0,163)","rgb(82,0,163)","rgb(163,0,163)","rgb(92,0,0)","rgb(92,46,0)","rgb(92,92,0)","rgb(0,92,0)","rgb(0,92,46)","rgb(0,92,92)","rgb(0,46,92)","rgb(0,0,92)","rgb(46,0,92)","rgb(92,0,92)","rgb(255,255,255)","rgb(205,205,205)","rgb(178,178,178)","rgb(153,153,153)","rgb(127,127,127)","rgb(102,102,102)","rgb(76,76,76)","rgb(51,51,51)","rgb(25,25,25)","rgb(0,0,0)"],hs="M5 5 h10 v10 h-10 v-10 z",ld="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAAICAYAAADED76LAAAAH0lEQVQoU2NkYGAwZkAFZ5G5jPRRgOYEVDeB3EBjBQBOZwTVugIGyAAAAABJRU5ErkJggg==";var ud=Ce({name:"QColor",props:{...Cn,...kl,modelValue:String,defaultValue:String,defaultView:{type:String,default:"spectrum",validator:t=>["spectrum","tune","palette"].includes(t)},formatModel:{type:String,default:"auto",validator:t=>["auto","hex","rgb","hexa","rgba"].includes(t)},palette:Array,noHeader:Boolean,noHeaderTabs:Boolean,noFooter:Boolean,square:Boolean,flat:Boolean,bordered:Boolean,disable:Boolean,readonly:Boolean},emits:["update:modelValue","change"],setup(t,{emit:e}){const{proxy:n}=Ie(),{$q:r}=n,a=En(t,r),{getCache:i}=$l(),o=xt(null),s=xt(null),l=V(()=>t.formatModel==="auto"?null:t.formatModel.indexOf("hex")>-1),u=V(()=>t.formatModel==="auto"?null:t.formatModel.indexOf("a")>-1),f=xt(t.formatModel==="auto"?t.modelValue===void 0||t.modelValue===null||t.modelValue===""||t.modelValue.startsWith("#")?"hex":"rgb":t.formatModel.startsWith("hex")?"hex":"rgb"),d=xt(t.defaultView),c=xt(D(t.modelValue||t.defaultValue)),p=V(()=>t.disable!==!0&&t.readonly!==!0),v=V(()=>t.modelValue===void 0||t.modelValue===null||t.modelValue===""||t.modelValue.startsWith("#")),h=V(()=>l.value!==null?l.value:v.value),g=V(()=>({type:"hidden",name:t.name,value:c.value[h.value===!0?"hex":"rgb"]})),m=Tl(g),b=V(()=>u.value!==null?u.value:c.value.a!==void 0),S=V(()=>({backgroundColor:c.value.rgb||"#000"})),y=V(()=>`q-color-picker__header-content q-color-picker__header-content--${(c.value.a!==void 0&&c.value.a<65?!0:od(c.value)>.4)?"light":"dark"}`),x=V(()=>({background:`hsl(${c.value.h},100%,50%)`})),C=V(()=>({top:`${100-c.value.v}%`,[r.lang.rtl===!0?"right":"left"]:`${c.value.s}%`})),E=V(()=>t.palette!==void 0&&t.palette.length>0?t.palette:sd),M=V(()=>"q-color-picker"+(t.bordered===!0?" q-color-picker--bordered":"")+(t.square===!0?" q-color-picker--square no-border-radius":"")+(t.flat===!0?" q-color-picker--flat no-shadow":"")+(t.disable===!0?" disabled":"")+(a.value===!0?" q-color-picker--dark q-dark":"")),w=V(()=>t.disable===!0?{"aria-disabled":"true"}:t.readonly===!0?{"aria-readonly":"true"}:{}),_=V(()=>[[Gl,W,void 0,{prevent:!0,stop:!0,mouse:!0}]]);de(()=>t.modelValue,F=>{const N=D(F||t.defaultValue);N.hex!==c.value.hex&&(c.value=N)}),de(()=>t.defaultValue,F=>{if(!t.modelValue&&F){const N=D(F);N.hex!==c.value.hex&&(c.value=N)}});function I(F,N){c.value.hex=ds(F),c.value.rgb=vs(F),c.value.r=F.r,c.value.g=F.g,c.value.b=F.b,c.value.a=F.a;const Z=c.value[h.value===!0?"hex":"rgb"];e("update:modelValue",Z),N===!0&&e("change",Z)}function D(F){const N=u.value!==void 0?u.value:t.formatModel==="auto"?null:t.formatModel.indexOf("a")>-1;if(typeof F!="string"||F.length===0||vf.anyColor(F.replace(/ /g,""))!==!0)return{h:0,s:0,v:0,r:0,g:0,b:0,a:N===!0?100:void 0,hex:void 0,rgb:void 0};const Z=ql(F);return N===!0&&Z.a===void 0&&(Z.a=100),Z.hex=ds(Z),Z.rgb=vs(Z),Object.assign(Z,Ha(Z))}function k(F,N,Z){const nt=o.value;if(nt===null)return;const dt=nt.clientWidth,it=nt.clientHeight,gt=nt.getBoundingClientRect();let St=Math.min(dt,Math.max(0,F-gt.left));r.lang.rtl===!0&&(St=dt-St);const _t=Math.min(it,Math.max(0,N-gt.top)),Ct=Math.round(100*St/dt),kt=Math.round(100*Math.max(0,Math.min(1,-(_t/it)+1))),Rt=ps({h:c.value.h,s:Ct,v:kt,a:b.value===!0?c.value.a:void 0});c.value.s=Ct,c.value.v=kt,I(Rt,Z)}function O(F,N){const Z=Math.round(F),nt=ps({h:Z,s:c.value.s,v:c.value.v,a:b.value===!0?c.value.a:void 0});c.value.h=Z,I(nt,N)}function B(F,N,Z,nt,dt){if(nt!==void 0&&Pe(nt),!/^[0-9]+$/.test(F)){dt===!0&&n.$forceUpdate();return}const it=Math.floor(Number(F));if(it<0||it>Z){dt===!0&&n.$forceUpdate();return}const gt={r:N==="r"?it:c.value.r,g:N==="g"?it:c.value.g,b:N==="b"?it:c.value.b,a:b.value===!0?N==="a"?it:c.value.a:void 0};if(N!=="a"){const St=Ha(gt);c.value.h=St.h,c.value.s=St.s,c.value.v=St.v}if(I(gt,dt),nt!==void 0&&dt!==!0&&nt.target.selectionEnd!==void 0){const St=nt.target.selectionEnd;ci(()=>{nt.target.setSelectionRange(St,St)})}}function $(F,N){let Z;const nt=F.target.value;if(Pe(F),f.value==="hex"){if(nt.length!==(b.value===!0?9:7)||!/^#[0-9A-Fa-f]+$/.test(nt))return!0;Z=Ll(nt)}else{let it;if(nt.endsWith(")"))if(b.value!==!0&&nt.startsWith("rgb(")){if(it=nt.substring(4,nt.length-1).split(",").map(gt=>parseInt(gt,10)),it.length!==3||!/^rgb\([0-9]{1,3},[0-9]{1,3},[0-9]{1,3}\)$/.test(nt))return!0}else if(b.value===!0&&nt.startsWith("rgba(")){if(it=nt.substring(5,nt.length-1).split(","),it.length!==4||!/^rgba\([0-9]{1,3},[0-9]{1,3},[0-9]{1,3},(0|0\.[0-9]+[1-9]|0\.[1-9]+|1)\)$/.test(nt))return!0;for(let St=0;St<3;St++){const _t=parseInt(it[St],10);if(_t<0||_t>255)return!0;it[St]=_t}const gt=parseFloat(it[3]);if(gt<0||gt>1)return!0;it[3]=gt}else return!0;else return!0;if(it[0]<0||it[0]>255||it[1]<0||it[1]>255||it[2]<0||it[2]>255||b.value===!0&&(it[3]<0||it[3]>1))return!0;Z={r:it[0],g:it[1],b:it[2],a:b.value===!0?it[3]*100:void 0}}const dt=Ha(Z);if(c.value.h=dt.h,c.value.s=dt.s,c.value.v=dt.v,I(Z,N),N!==!0){const it=F.target.selectionEnd;ci(()=>{F.target.setSelectionRange(it,it)})}}function P(F){const N=D(F),Z={r:N.r,g:N.g,b:N.b,a:N.a};Z.a===void 0&&(Z.a=c.value.a),c.value.h=N.h,c.value.s=N.s,c.value.v=N.v,I(Z,!0)}function W(F){F.isFinal?k(F.position.left,F.position.top,!0):q(F)}const q=pf(F=>{k(F.position.left,F.position.top)},20);function z(F){k(F.pageX-window.pageXOffset,F.pageY-window.pageYOffset,!0)}function j(F){k(F.pageX-window.pageXOffset,F.pageY-window.pageYOffset)}function st(F){s.value!==null&&(s.value.$el.style.opacity=F?1:0)}function J(){const F=[];return t.noHeaderTabs!==!0&&F.push(H(cs,{class:"q-color-picker__header-tabs",modelValue:f.value,dense:!0,align:"justify",...i("topVTab",{"onUpdate:modelValue":N=>{f.value=N}})},()=>[H(tn,{label:"HEX"+(b.value===!0?"A":""),name:"hex",ripple:!1}),H(tn,{label:"RGB"+(b.value===!0?"A":""),name:"rgb",ripple:!1})])),F.push(H("div",{class:"q-color-picker__header-banner row flex-center no-wrap"},[H("input",{class:"fit",value:c.value[f.value],...p.value!==!0?{readonly:!0}:{},...i("topIn",{onInput:N=>{st($(N)===!0)},onChange:Pe,onBlur:N=>{$(N,!0)===!0&&n.$forceUpdate(),st(!1)}})}),H(Re,{ref:s,class:"q-color-picker__error-icon absolute no-pointer-events",name:r.iconSet.type.negative})])),H("div",{class:"q-color-picker__header relative-position overflow-hidden"},[H("div",{class:"q-color-picker__header-bg absolute-full"}),H("div",{class:y.value,style:S.value},F)])}function ot(){return H(ad,{modelValue:d.value,animated:!0},()=>[H(Wa,{class:"q-color-picker__spectrum-tab overflow-hidden",name:"spectrum"},rt),H(Wa,{class:"q-pa-md q-color-picker__tune-tab",name:"tune"},ft),H(Wa,{class:"q-color-picker__palette-tab",name:"palette"},ht)])}function K(){return H("div",{class:"q-color-picker__footer relative-position overflow-hidden"},[H(cs,{class:"absolute-full",modelValue:d.value,dense:!0,align:"justify",...i("ftIn",{"onUpdate:modelValue":F=>{d.value=F}})},()=>[H(tn,{icon:r.iconSet.colorPicker.spectrum,name:"spectrum",ripple:!1}),H(tn,{icon:r.iconSet.colorPicker.tune,name:"tune",ripple:!1}),H(tn,{icon:r.iconSet.colorPicker.palette,name:"palette",ripple:!1})])])}function rt(){const F={ref:o,class:"q-color-picker__spectrum non-selectable relative-position cursor-pointer"+(p.value!==!0?" readonly":""),style:x.value,...p.value===!0?{onClick:z,onMousedown:j}:{}},N=[H("div",{style:{paddingBottom:"100%"}}),H("div",{class:"q-color-picker__spectrum-white absolute-full"}),H("div",{class:"q-color-picker__spectrum-black absolute-full"}),H("div",{class:"absolute",style:C.value},[c.value.hex!==void 0?H("div",{class:"q-color-picker__spectrum-circle"}):null])],Z=[H(kr,{class:"q-color-picker__hue non-selectable",modelValue:c.value.h,min:0,max:360,trackSize:"8px",innerTrackColor:"transparent",selectionColor:"transparent",readonly:p.value!==!0,thumbPath:hs,"onUpdate:modelValue":O,...i("lazyhue",{onChange:nt=>O(nt,!0)})})];return b.value===!0&&Z.push(H(kr,{class:"q-color-picker__alpha non-selectable",modelValue:c.value.a,min:0,max:100,trackSize:"8px",trackColor:"white",innerTrackColor:"transparent",selectionColor:"transparent",trackImg:ld,readonly:p.value!==!0,hideSelection:!0,thumbPath:hs,...i("alphaSlide",{"onUpdate:modelValue":nt=>B(nt,"a",100),onChange:nt=>B(nt,"a",100,void 0,!0)})})),[Ki("div",F,N,"spec",p.value,()=>_.value),H("div",{class:"q-color-picker__sliders"},Z)]}function ft(){return[H("div",{class:"row items-center no-wrap"},[H("div","R"),H(kr,{modelValue:c.value.r,min:0,max:255,color:"red",dark:a.value,readonly:p.value!==!0,...i("rSlide",{"onUpdate:modelValue":F=>B(F,"r",255),onChange:F=>B(F,"r",255,void 0,!0)})}),H("input",{value:c.value.r,maxlength:3,readonly:p.value!==!0,onChange:Pe,...i("rIn",{onInput:F=>B(F.target.value,"r",255,F),onBlur:F=>B(F.target.value,"r",255,F,!0)})})]),H("div",{class:"row items-center no-wrap"},[H("div","G"),H(kr,{modelValue:c.value.g,min:0,max:255,color:"green",dark:a.value,readonly:p.value!==!0,...i("gSlide",{"onUpdate:modelValue":F=>B(F,"g",255),onChange:F=>B(F,"g",255,void 0,!0)})}),H("input",{value:c.value.g,maxlength:3,readonly:p.value!==!0,onChange:Pe,...i("gIn",{onInput:F=>B(F.target.value,"g",255,F),onBlur:F=>B(F.target.value,"g",255,F,!0)})})]),H("div",{class:"row items-center no-wrap"},[H("div","B"),H(kr,{modelValue:c.value.b,min:0,max:255,color:"blue",readonly:p.value!==!0,dark:a.value,...i("bSlide",{"onUpdate:modelValue":F=>B(F,"b",255),onChange:F=>B(F,"b",255,void 0,!0)})}),H("input",{value:c.value.b,maxlength:3,readonly:p.value!==!0,onChange:Pe,...i("bIn",{onInput:F=>B(F.target.value,"b",255,F),onBlur:F=>B(F.target.value,"b",255,F,!0)})})]),b.value===!0?H("div",{class:"row items-center no-wrap"},[H("div","A"),H(kr,{modelValue:c.value.a,color:"grey",readonly:p.value!==!0,dark:a.value,...i("aSlide",{"onUpdate:modelValue":F=>B(F,"a",100),onChange:F=>B(F,"a",100,void 0,!0)})}),H("input",{value:c.value.a,maxlength:3,readonly:p.value!==!0,onChange:Pe,...i("aIn",{onInput:F=>B(F.target.value,"a",100,F),onBlur:F=>B(F.target.value,"a",100,F,!0)})})]):null]}function ht(){const F=N=>H("div",{class:"q-color-picker__cube col-auto",style:{backgroundColor:N},...p.value===!0?i("palette#"+N,{onClick:()=>{P(N)}}):{}});return[H("div",{class:"row items-center q-color-picker__palette-rows"+(p.value===!0?" q-color-picker__palette-rows--editable":"")},E.value.map(F))]}return()=>{const F=[ot()];return t.name!==void 0&&t.disable!==!0&&m(F,"push"),t.noHeader!==!0&&F.unshift(J()),t.noFooter!==!0&&F.push(K()),H("div",{class:M.value,...w.value},F)}}}),cd=Ce({name:"QPopupProxy",props:{...Al,breakpoint:{type:[String,Number],default:450}},emits:["show","hide"],setup(t,{slots:e,emit:n,attrs:r}){const{proxy:a}=Ie(),{$q:i}=a,o=xt(!1),s=xt(null),l=V(()=>parseInt(t.breakpoint,10)),{canShow:u}=zl({showing:o});function f(){return i.screen.width<l.value||i.screen.height<l.value?"dialog":"menu"}const d=xt(f()),c=V(()=>d.value==="menu"?{maxHeight:"99vh"}:{});de(()=>f(),h=>{o.value!==!0&&(d.value=h)});function p(h){o.value=!0,n("show",h)}function v(h){o.value=!1,d.value=f(),n("hide",h)}return Object.assign(a,{show(h){u(h)===!0&&s.value.show(h)},hide(h){s.value.hide(h)},toggle(h){s.value.toggle(h)}}),hf(a,"currentComponent",()=>({type:d.value,ref:s.value})),()=>{const h={ref:s,...c.value,...r,onShow:p,onHide:v};let g;return d.value==="dialog"?g=Ol:(g=Zi,Object.assign(h,{target:t.target,contextMenu:t.contextMenu,noParentEvent:!0,separateClosePopup:!0})),H(g,h,e.default)}}}),fd=Ce({name:"QSlideTransition",props:{appear:Boolean,duration:{type:Number,default:300}},emits:["show","hide"],setup(t,{slots:e,emit:n}){let r=!1,a,i,o,s,l,u;function f(){a&&a(),a=null,r=!1,clearTimeout(o),clearTimeout(s),i!==void 0&&i.removeEventListener("transitionend",l),l=null}function d(h,g,m){h.style.overflowY="hidden",g!==void 0&&(h.style.height=`${g}px`),h.style.transition=`height ${t.duration}ms cubic-bezier(.25, .8, .50, 1)`,r=!0,a=m}function c(h,g){h.style.overflowY=null,h.style.height=null,h.style.transition=null,f(),g!==u&&n(g)}function p(h,g){let m=0;i=h,r===!0?(f(),m=h.offsetHeight===h.scrollHeight?0:void 0):u="hide",d(h,m,g),o=setTimeout(()=>{h.style.height=`${h.scrollHeight}px`,l=b=>{(Object(b)!==b||b.target===h)&&c(h,"show")},h.addEventListener("transitionend",l),s=setTimeout(l,t.duration*1.1)},100)}function v(h,g){let m;i=h,r===!0?f():(u="show",m=h.scrollHeight),d(h,m,g),o=setTimeout(()=>{h.style.height=0,l=b=>{(Object(b)!==b||b.target===h)&&c(h,"hide")},h.addEventListener("transitionend",l),s=setTimeout(l,t.duration*1.1)},100)}return Sr(()=>{r===!0&&f()}),()=>H(Ui,{css:!1,appear:t.appear,onEnter:p,onLeave:v},e.default)}});const fr=gf({}),dd=Object.keys(Pl);var gs=Ce({name:"QExpansionItem",props:{...Pl,...Cl,...Cn,icon:String,label:String,labelLines:[Number,String],caption:String,captionLines:[Number,String],dense:Boolean,toggleAriaLabel:String,expandIcon:String,expandedIcon:String,expandIconClass:[Array,String,Object],duration:Number,headerInsetLevel:Number,contentInsetLevel:Number,expandSeparator:Boolean,defaultOpened:Boolean,hideExpandIcon:Boolean,expandIconToggle:Boolean,switchToggleSide:Boolean,denseToggle:Boolean,group:String,popup:Boolean,headerStyle:[Array,String,Object],headerClass:[Array,String,Object]},emits:[...xl,"click","afterShow","afterHide"],setup(t,{slots:e,emit:n}){const{proxy:{$q:r}}=Ie(),a=En(t,r),i=xt(t.modelValue!==null?t.modelValue:t.defaultOpened),o=xt(null),s=oa(),{show:l,hide:u,toggle:f}=wl({showing:i});let d,c;const p=V(()=>`q-expansion-item q-item-type q-expansion-item--${i.value===!0?"expanded":"collapsed"} q-expansion-item--${t.popup===!0?"popup":"standard"}`),v=V(()=>{if(t.contentInsetLevel===void 0)return null;const P=r.lang.rtl===!0?"Right":"Left";return{["padding"+P]:t.contentInsetLevel*56+"px"}}),h=V(()=>t.disable!==!0&&(t.href!==void 0||t.to!==void 0&&t.to!==null&&t.to!=="")),g=V(()=>{const P={};return dd.forEach(W=>{P[W]=t[W]}),P}),m=V(()=>h.value===!0||t.expandIconToggle!==!0),b=V(()=>t.expandedIcon!==void 0&&i.value===!0?t.expandedIcon:t.expandIcon||r.iconSet.expansionItem[t.denseToggle===!0?"denseIcon":"icon"]),S=V(()=>t.disable!==!0&&(h.value===!0||t.expandIconToggle===!0)),y=V(()=>({expanded:i.value===!0,detailsId:t.targetUid,toggle:f,show:l,hide:u})),x=V(()=>{const P=t.toggleAriaLabel!==void 0?t.toggleAriaLabel:r.lang.label[i.value===!0?"collapse":"expand"](t.label);return{role:"button","aria-expanded":i.value===!0?"true":"false","aria-controls":s,"aria-label":P}});de(()=>t.group,P=>{c!==void 0&&c(),P!==void 0&&I()});function C(P){h.value!==!0&&f(P),n("click",P)}function E(P){P.keyCode===13&&M(P,!0)}function M(P,W){W!==!0&&o.value!==null&&o.value.focus(),f(P),Xe(P)}function w(){n("afterShow")}function _(){n("afterHide")}function I(){d===void 0&&(d=oa()),i.value===!0&&(fr[t.group]=d);const P=de(i,q=>{q===!0?fr[t.group]=d:fr[t.group]===d&&delete fr[t.group]}),W=de(()=>fr[t.group],(q,z)=>{z===d&&q!==void 0&&q!==d&&u()});c=()=>{P(),W(),fr[t.group]===d&&delete fr[t.group],c=void 0}}function D(){const P={class:[`q-focusable relative-position cursor-pointer${t.denseToggle===!0&&t.switchToggleSide===!0?" items-end":""}`,t.expandIconClass],side:t.switchToggleSide!==!0,avatar:t.switchToggleSide},W=[H(Re,{class:"q-expansion-item__toggle-icon"+(t.expandedIcon===void 0&&i.value===!0?" q-expansion-item__toggle-icon--rotated":""),name:b.value})];return S.value===!0&&(Object.assign(P,{tabindex:0,...x.value,onClick:M,onKeyup:E}),W.unshift(H("div",{ref:o,class:"q-expansion-item__toggle-focus q-icon q-focus-helper q-focus-helper--rounded",tabindex:-1}))),H(Et,P,()=>W)}function k(){let P;return e.header!==void 0?P=[].concat(e.header(y.value)):(P=[H(Et,()=>[H(vr,{lines:t.labelLines},()=>t.label||""),t.caption?H(vr,{lines:t.captionLines,caption:!0},()=>t.caption):null])],t.icon&&P[t.switchToggleSide===!0?"push":"unshift"](H(Et,{side:t.switchToggleSide===!0,avatar:t.switchToggleSide!==!0},()=>H(Re,{name:t.icon})))),t.disable!==!0&&t.hideExpandIcon!==!0&&P[t.switchToggleSide===!0?"unshift":"push"](D()),P}function O(){const P={ref:"item",style:t.headerStyle,class:t.headerClass,dark:a.value,disable:t.disable,dense:t.dense,insetLevel:t.headerInsetLevel};return m.value===!0&&(P.clickable=!0,P.onClick=C,Object.assign(P,h.value===!0?g.value:x.value)),H(Kt,P,k)}function B(){return Wt(H("div",{key:"e-content",class:"q-expansion-item__content relative-position",style:v.value,id:s},Ye(e.default)),[[mf,i.value]])}function $(){const P=[O(),H(fd,{duration:t.duration,onShow:w,onHide:_},B)];return t.expandSeparator===!0&&P.push(H(we,{class:"q-expansion-item__border q-expansion-item__border--top absolute-top",dark:a.value}),H(we,{class:"q-expansion-item__border q-expansion-item__border--bottom absolute-bottom",dark:a.value})),P}return t.group!==void 0&&I(),Sr(()=>{c!==void 0&&c()}),()=>H("div",{class:p.value},[H("div",{class:"q-expansion-item__container relative-position"},$())])}});function vd(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];return e.map(function(r){return r.split(" ").map(function(a){return a?""+t+a:""}).join(" ")}).join(" ")}function pd(t,e){return e.replace(/([^}{]*){/gm,function(n,r){return r.replace(/\.([^{,\s\d.]+)/g,"."+t+"$1")+"{"})}function Ne(t,e){return function(n){n&&(t[e]=n)}}function Nl(t,e,n){return function(r){r&&(t[e][n]=r)}}function di(t,e){return function(n){var r=n.prototype;t.forEach(function(a){e(r,a)})}}function hd(t,e){return e===void 0&&(e={}),function(n,r){t.forEach(function(a){var i=e[a]||a;i in n||(n[i]=function(){for(var o,s=[],l=0;l<arguments.length;l++)s[l]=arguments[l];var u=(o=this[r])[a].apply(o,s);return u===this[r]?this:u})})}}var gd=function(){function t(){this.keys=[],this.values=[]}var e=t.prototype;return e.get=function(n){return this.values[this.keys.indexOf(n)]},e.set=function(n,r){var a=this.keys,i=this.values,o=a.indexOf(n),s=o===-1?a.length:o;a[s]=n,i[s]=r},t}(),md=function(){function t(){this.object={}}var e=t.prototype;return e.get=function(n){return this.object[n]},e.set=function(n,r){this.object[n]=r},t}(),bd=typeof Map=="function",yd=function(){function t(){}var e=t.prototype;return e.connect=function(n,r){this.prev=n,this.next=r,n&&(n.next=this),r&&(r.prev=this)},e.disconnect=function(){var n=this.prev,r=this.next;n&&(n.next=r),r&&(r.prev=n)},e.getIndex=function(){for(var n=this,r=-1;n;)n=n.prev,++r;return r},t}();function Sd(t,e){var n=[],r=[];return t.forEach(function(a){var i=a[0],o=a[1],s=new yd;n[i]=s,r[o]=s}),n.forEach(function(a,i){a.connect(n[i-1])}),t.filter(function(a,i){return!e[i]}).map(function(a,i){var o=a[0],s=a[1];if(o===s)return[0,0];var l=n[o],u=r[s-1],f=l.getIndex();l.disconnect(),u?l.connect(u,u.next):l.connect(void 0,n[0]);var d=l.getIndex();return[f,d]})}var Cd=function(){function t(n,r,a,i,o,s,l,u){this.prevList=n,this.list=r,this.added=a,this.removed=i,this.changed=o,this.maintained=s,this.changedBeforeAdded=l,this.fixed=u}var e=t.prototype;return Object.defineProperty(e,"ordered",{get:function(){return this.cacheOrdered||this.caculateOrdered(),this.cacheOrdered},enumerable:!0,configurable:!0}),Object.defineProperty(e,"pureChanged",{get:function(){return this.cachePureChanged||this.caculateOrdered(),this.cachePureChanged},enumerable:!0,configurable:!0}),e.caculateOrdered=function(){var n=Sd(this.changedBeforeAdded,this.fixed),r=this.changed,a=[];this.cacheOrdered=n.filter(function(i,o){var s=i[0],l=i[1],u=r[o],f=u[0],d=u[1];if(s!==l)return a.push([f,d]),!0}),this.cachePureChanged=a},t}();function _n(t,e,n){var r=bd?Map:n?md:gd,a=n||function(b){return b},i=[],o=[],s=[],l=t.map(a),u=e.map(a),f=new r,d=new r,c=[],p=[],v={},h=[],g=0,m=0;return l.forEach(function(b,S){f.set(b,S)}),u.forEach(function(b,S){d.set(b,S)}),l.forEach(function(b,S){var y=d.get(b);typeof y=="undefined"?(++m,o.push(S)):v[y]=m}),u.forEach(function(b,S){var y=f.get(b);typeof y=="undefined"?(i.push(S),++g):(s.push([y,S]),m=v[S]||0,c.push([y-m,S-g]),p.push(S===y),y!==S&&h.push([y,S]))}),o.reverse(),new Cd(t,e,i,o,h,s,c,p)}var Ed=function(){function t(n,r){n===void 0&&(n=[]),this.findKeyCallback=r,this.list=[].slice.call(n)}var e=t.prototype;return e.update=function(n){var r=[].slice.call(n),a=_n(this.list,r,this.findKeyCallback);return this.list=r,a},t}(),xd="function",wd="object",_d="string",Dd="number",Vl="undefined",Yl=typeof window!==Vl,Md=[{open:"(",close:")"},{open:'"',close:'"'},{open:"'",close:"'"},{open:'\\"',close:'\\"'},{open:"\\'",close:"\\'"}],ae=1e-7,$n={cm:function(t){return t*96/2.54},mm:function(t){return t*96/254},in:function(t){return t*96},pt:function(t){return t*96/72},pc:function(t){return t*96/6},"%":function(t,e){return t*e/100},vw:function(t,e){return e===void 0&&(e=window.innerWidth),t/100*e},vh:function(t,e){return e===void 0&&(e=window.innerHeight),t/100*e},vmax:function(t,e){return e===void 0&&(e=Math.max(window.innerWidth,window.innerHeight)),t/100*e},vmin:function(t,e){return e===void 0&&(e=Math.min(window.innerWidth,window.innerHeight)),t/100*e}};/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */function kd(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;for(var r=Array(t),a=0,e=0;e<n;e++)for(var i=arguments[e],o=0,s=i.length;o<s;o++,a++)r[a]=i[o];return r}function dr(t,e,n,r){return(t*r+e*n)/(n+r)}function Vr(t){return typeof t===Vl}function Ge(t){return t&&typeof t===wd}function re(t){return Array.isArray(t)}function me(t){return typeof t===_d}function vi(t){return typeof t===Dd}function Wl(t){return typeof t===xd}function Td(t,e){var n=t===""||t==" ",r=e===""||e==" ";return r&&n||t===e}function Hl(t,e,n,r,a){var i=Ji(t,e,n);return i?n:Rd(t,e,n+1,r,a)}function Ji(t,e,n){if(!t.ignore)return null;var r=e.slice(Math.max(n-3,0),n+3).join("");return new RegExp(t.ignore).exec(r)}function Rd(t,e,n,r,a){for(var i=function(u){var f=e[u].trim();if(f===t.close&&!Ji(t,e,u))return{value:u};var d=u,c=Ke(a,function(p){var v=p.open;return v===f});if(c&&(d=Hl(c,e,u,r,a)),d===-1)return o=u,"break";u=d,o=u},o,s=n;s<r;++s){var l=i(s);if(s=o,typeof l=="object")return l.value;if(l==="break")break}return-1}function to(t,e){var n=me(e)?{separator:e}:e,r=n.separator,a=r===void 0?",":r,i=n.isSeparateFirst,o=n.isSeparateOnlyOpenClose,s=n.isSeparateOpenClose,l=s===void 0?o:s,u=n.openCloseCharacters,f=u===void 0?Md:u,d=f.map(function(E){var M=E.open,w=E.close;return M===w?M:M+"|"+w}).join("|"),c="(\\s*"+a+"\\s*|"+d+"|\\s+)",p=new RegExp(c,"g"),v=t.split(p).filter(Boolean),h=v.length,g=[],m=[];function b(){return m.length?(g.push(m.join("")),m=[],!0):!1}for(var S=function(E){var M=v[E].trim(),w=E,_=Ke(f,function(k){var O=k.open;return O===M}),I=Ke(f,function(k){var O=k.close;return O===M});if(_){if(w=Hl(_,v,E,h,f),w!==-1&&l)return b()&&i||(g.push(v.slice(E,w+1).join("")),E=w,i)?(y=E,"break"):(y=E,"continue")}else if(I&&!Ji(I,v,E)){var D=kd(f);return D.splice(f.indexOf(I),1),{value:to(t,{separator:a,isSeparateFirst:i,isSeparateOnlyOpenClose:o,isSeparateOpenClose:l,openCloseCharacters:D})}}else if(Td(M,a)&&!o)return b(),i?(y=E,"break"):(y=E,"continue");w===-1&&(w=h-1),m.push(v.slice(E,w+1).join("")),E=w,y=E},y,x=0;x<h;++x){var C=S(x);if(x=y,typeof C=="object")return C.value;if(C==="break")break}return m.length&&g.push(m.join("")),g}function ar(t){return to(t,"")}function br(t){return to(t,",")}function Xl(t){var e=/([^(]*)\(([\s\S]*)\)([\s\S]*)/g.exec(t);return!e||e.length<4?{}:{prefix:e[1],value:e[2],suffix:e[3]}}function Yr(t){var e=/^([^\d|e|\-|\+]*)((?:\d|\.|-|e-|e\+)+)(\S*)$/g.exec(t);if(!e)return{prefix:"",unit:"",value:NaN};var n=e[1],r=e[2],a=e[3];return{prefix:n,unit:a,value:parseFloat(r)}}function pi(t){return t.replace(/[\s-_]([a-z])/g,function(e,n){return n.toUpperCase()})}function ea(t,e){return e===void 0&&(e="-"),t.replace(/([a-z])([A-Z])/g,function(n,r,a){return""+r+e+a.toLowerCase()})}function da(){return Date.now?Date.now():new Date().getTime()}function Ue(t,e,n){n===void 0&&(n=-1);for(var r=t.length,a=0;a<r;++a)if(e(t[a],a,t))return a;return n}function Ke(t,e,n){var r=Ue(t,e);return r>-1?t[r]:n}var jl=function(){var t=da(),e=Yl&&(window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.msRequestAnimationFrame);return e?e.bind(window):function(n){var r=da(),a=setTimeout(function(){n(r-t)},1e3/60);return a}}(),Id=function(){var t=Yl&&(window.cancelAnimationFrame||window.webkitCancelAnimationFrame||window.mozCancelAnimationFrame||window.msCancelAnimationFrame);return t?t.bind(window):function(e){clearTimeout(e)}}();function Wr(t){return Object.keys(t)}function Ht(t,e){var n=Yr(t),r=n.value,a=n.unit;if(Ge(e)){var i=e[a];if(i){if(Wl(i))return i(r);if($n[a])return $n[a](r,i)}}else if(a==="%")return r*e/100;return $n[a]?$n[a](r):r}function va(t,e,n){return Math.max(e,Math.min(t,n))}function ms(t,e,n,r){return r===void 0&&(r=t[0]/t[1]),[[Dt(e[0],ae),Dt(e[0]/r,ae)],[Dt(e[1]*r,ae),Dt(e[1],ae)]].filter(function(a){return a.every(function(i,o){var s=e[o],l=Dt(s,ae);return n?i<=s||i<=l:i>=s||i>=l})})[0]||t}function Ul(t,e,n,r){if(!r)return t.map(function(p,v){return va(p,e[v],n[v])});var a=t[0],i=t[1],o=r===!0?a/i:r,s=ms(t,e,!1,o),l=s[0],u=s[1],f=ms(t,n,!0,o),d=f[0],c=f[1];return a<l||i<u?(a=l,i=u):(a>d||i>c)&&(a=d,i=c),[a,i]}function Od(t){for(var e=t.length,n=0,r=e-1;r>=0;--r)n+=t[r];return n}function hi(t){for(var e=t.length,n=0,r=e-1;r>=0;--r)n+=t[r];return e?n/e:0}function Jt(t,e){var n=e[0]-t[0],r=e[1]-t[1],a=Math.atan2(r,n);return a>=0?a:a+Math.PI*2}function Pd(t){return[0,1].map(function(e){return hi(t.map(function(n){return n[e]}))})}function gi(t){var e=Pd(t),n=Jt(e,t[0]),r=Jt(e,t[1]);return n<r&&r-n<Math.PI||n>r&&r-n<-Math.PI?1:-1}function Me(t,e){return Math.sqrt(Math.pow((e?e[0]:0)-t[0],2)+Math.pow((e?e[1]:0)-t[1],2))}function Dt(t,e){if(!e)return t;var n=1/e;return Math.round(t/e)/n}function bs(t,e){return t.forEach(function(n,r){t[r]=Dt(t[r],e)}),t}function ie(t,e){return t.classList?t.classList.contains(e):!!t.className.match(new RegExp("(\\s|^)"+e+"(\\s|$)"))}function eo(t,e){t.classList?t.classList.add(e):t.className+=" "+e}function Kl(t,e){if(t.classList)t.classList.remove(e);else{var n=new RegExp("(\\s|^)"+e+"(\\s|$)");t.className=t.className.replace(n," ")}}function fe(t,e,n,r){t.addEventListener(e,n,r)}function le(t,e,n,r){t.removeEventListener(e,n,r)}/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */var mi=function(t,e){return mi=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var a in r)r.hasOwnProperty(a)&&(n[a]=r[a])},mi(t,e)};function wr(t,e){mi(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}var er=function(){return er=Object.assign||function(e){for(var n,r=1,a=arguments.length;r<a;r++){n=arguments[r];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},er.apply(this,arguments)};function Zl(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,r=Object.getOwnPropertySymbols(t);a<r.length;a++)e.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(t,r[a])&&(n[r[a]]=t[r[a]]);return n}function Bd(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;for(var r=Array(t),a=0,e=0;e<n;e++)for(var i=arguments[e],o=0,s=i.length;o<s;o++,a++)r[a]=i[o];return r}function bi(t,e){if(t===e)return!1;for(var n in t)if(!(n in e))return!0;for(var n in e)if(t[n]!==e[n])return!0;return!1}function ro(t,e){var n=Object.keys(t),r=Object.keys(e),a=_n(n,r,function(l){return l}),i={},o={},s={};return a.added.forEach(function(l){var u=r[l];i[u]=e[u]}),a.removed.forEach(function(l){var u=n[l];o[u]=t[u]}),a.maintained.forEach(function(l){var u=l[0],f=n[u],d=[t[f],e[f]];t[f]!==e[f]&&(s[f]=d)}),{added:i,removed:o,changed:s}}function Ql(t){t.forEach(function(e){e()})}function ys(t){var e=0;return t.map(function(n){return n==null?"$compat"+ ++e:""+n})}function Ss(t,e,n,r){if(me(t)||vi(t))return new Fd("text_"+t,e,n,r,null,{});var a=typeof t.type=="string"?$d:t.type.prototype.render?qd:Ld;return new a(t.type,e,n,r,t.ref,t.props)}function Jl(t){var e=[];return t.forEach(function(n){e=e.concat(re(n)?Jl(n):n)}),e}function Cs(t){var e=t.className,n=Zl(t,["className"]);return e!=null&&(n.class=e),delete n.style,delete n.children,n}function Xa(t,e){if(!e)return t;for(var n in e)Vr(t[n])&&(t[n]=e[n]);return t}function ke(t,e){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];var a=e||{},i=a.key,o=a.ref,s=Zl(a,["key","ref"]);return{type:t,key:i,ref:o,props:er(er({},s),{children:Jl(n).filter(function(l){return l!=null&&l!==!1})})}}var Dn=function(){function t(n,r,a,i,o,s){s===void 0&&(s={}),this.type=n,this.key=r,this.index=a,this.container=i,this.ref=o,this.props=s,this._providers=[]}var e=t.prototype;return e._should=function(n,r){return!0},e._update=function(n,r,a,i){if(this.base&&!me(r)&&!i&&!this._should(r.props,a))return!1;this.original=r,this._setState(a);var o=this.props;return me(r)||(this.props=r.props,this.ref=r.ref),this._render(n,this.base?o:{},a),!0},e._mounted=function(){var n=this.ref;n&&n(this.base)},e._setState=function(n){},e._updated=function(){var n=this.ref;n&&n(this.base)},e._destroy=function(){var n=this.ref;n&&n(null)},t}();function Ad(t,e,n){var r=ro(t,e),a=r.added,i=r.removed,o=r.changed;for(var s in a)n.setAttribute(s,a[s]);for(var s in o)n.setAttribute(s,o[s][1]);for(var s in i)n.removeAttribute(s)}function zd(t,e,n){var r=ro(t,e),a=r.added,i=r.removed,o=r.changed;for(var s in i)n.removeEventListener(s);for(var s in a)n.addEventListener(s,a[s]);for(var s in o)n.removeEventListener(s),n.addEventListener(s,o[s][1]);for(var s in i)n.removeEventListener(s)}function Gd(t,e,n){var r=n.style,a=ro(t,e),i=a.added,o=a.removed,s=a.changed;for(var l in i){var u=ea(l,"-");r.setProperty?r.setProperty(u,i[l]):r[u]=i[l]}for(var l in s){var u=ea(l,"-");r.setProperty?r.setProperty(u,s[l][1]):r[u]=s[l][1]}for(var l in o){var u=ea(l,"-");r.removeProperty?r.removeProperty(u):r[u]=""}}function Es(t){var e={},n={};for(var r in t)r.indexOf("on")===0?n[r.replace("on","").toLowerCase()]=t[r]:e[r]=t[r];return{attributes:e,events:n}}var Fd=function(t){wr(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}var n=e.prototype;return n._render=function(r){var a=this,i=!this.base;return i&&(this.base=document.createTextNode(this.type.replace("text_",""))),r.push(function(){i?a._mounted():a._updated()}),!0},n._unmount=function(){this.base.parentNode.removeChild(this.base)},e}(Dn),$d=function(t){wr(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.events={},r._isSVG=!1,r}var n=e.prototype;return n.addEventListener=function(r,a){var i=this.events;i[r]=function(o){o.nativeEvent=o,a(o)},this.base.addEventListener(r,i[r])},n.removeEventListener=function(r){var a=this.events;this.base.removeEventListener(r,a[r]),delete a[r]},n._should=function(r){return bi(this.props,r)},n._render=function(r,a){var i=this,o=!this.base;if(o){var s=this._hasSVG();this._isSVG=s;var l=this.props.portalContainer;if(!l){var u=this.type;s?l=document.createElementNS("http://www.w3.org/2000/svg",u):l=document.createElement(u)}this.base=l}Mn(this,this._providers,this.props.children,r,null);var f=this.base,d=Es(a),c=d.attributes,p=d.events,v=Es(this.props),h=v.attributes,g=v.events;return Ad(Cs(c),Cs(h),f),zd(p,g,this),Gd(a.style||{},this.props.style||{},f),r.push(function(){o?i._mounted():i._updated()}),!0},n._unmount=function(){var r=this.events,a=this.base;for(var i in r)a.removeEventListener(i,r[i]);this._providers.forEach(function(o){o._unmount()}),this.events={},this.props.portalContainer||a.parentNode.removeChild(a)},n._hasSVG=function(){if(this._isSVG||this.type==="svg")return!0;var r=no(this.container);return r&&"ownerSVGElement"in r},e}(Dn);function no(t){if(!t)return null;var e=t.base;return e instanceof Node?e:no(t.container)}function gn(t){if(!t)return null;if(t instanceof Node)return t;var e=t.$_provider._providers;return e.length?gn(e[0].base):null}var Ld=function(t){wr(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}var n=e.prototype;return n._render=function(r){var a=this.type(this.props);return Mn(this,this._providers,a?[a]:[],r),!0},n._unmount=function(){this._providers.forEach(function(r){r._unmount()})},e}(Dn),tu=function(t){wr(e,t);function e(r){var a=t.call(this,"container","container",0,null)||this;return a.base=r,a}var n=e.prototype;return n._render=function(){return!0},n._unmount=function(){},e}(Dn),qd=function(t){wr(e,t);function e(r,a,i,o,s,l){return l===void 0&&(l={}),t.call(this,r,a,i,o,s,Xa(l,r.defaultProps))||this}var n=e.prototype;return n._should=function(r,a){return this.base.shouldComponentUpdate(Xa(r,this.type.defaultProps),a||this.base.state)},n._render=function(r,a){var i=this;this.props=Xa(this.props,this.type.defaultProps);var o=!this.base;o?(this.base=new this.type(this.props),this.base.$_provider=this):this.base.props=this.props;var s=this.base,l=s.state,u=s.render();u&&u.props&&!u.props.children.length&&(u.props.children=this.props.children),Mn(this,this._providers,u?[u]:[],r),r.push(function(){o?(i._mounted(),s.componentDidMount()):(i._updated(),s.componentDidUpdate(a,l))})},n._setState=function(r){var a=this.base;!a||!r||(a.state=r)},n._unmount=function(){this._providers.forEach(function(r){r._unmount()}),clearTimeout(this.base.$_timer),this.base.componentWillUnmount()},e}(Dn),ao=function(){function t(n){n===void 0&&(n={}),this.props=n,this.state={},this.$_timer=0,this.$_state={}}var e=t.prototype;return e.shouldComponentUpdate=function(n,r){return!0},e.render=function(){return null},e.setState=function(n,r,a){var i=this;this.$_timer||(this.$_state={}),clearTimeout(this.$_timer),this.$_timer=0,this.$_state=er(er({},this.$_state),n),a?this.$_setState(r,a):this.$_timer=setTimeout(function(){i.$_timer=0,i.$_setState(r,a)})},e.forceUpdate=function(n){this.setState({},n,!0)},e.componentDidMount=function(){},e.componentDidUpdate=function(n,r){},e.componentWillUnmount=function(){},e.$_setState=function(n,r){var a=[],i=this.$_provider,o=Mn(i.container,[i],[i.original],a,er(er({},this.state),this.$_state),r);o&&(n&&a.push(n),Ql(a))},t}(),io=function(t){wr(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}var n=e.prototype;return n.shouldComponentUpdate=function(r,a){return bi(this.props,r)||bi(this.state,a)},e}(ao),Nd=function(t){wr(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}var n=e.prototype;return n.componentDidMount=function(){var r=this.props,a=r.element,i=r.container;this._portalProvider=new tu(i),ra(a,i,this._portalProvider)},n.componentDidUpdate=function(){var r=this.props,a=r.element,i=r.container;ra(a,i,this._portalProvider)},n.componentWillUnmount=function(){var r=this.props.container;ra(null,r,this._portalProvider),this._portalProvider=null},e}(io);function Vd(t,e,n){var r=[];Mn(t,t._providers,e,r,n),Ql(r)}function Yd(t,e){for(var n=t._providers,r=n.length,a=e.index+1;a<r;++a){var i=gn(n[a].base);if(i)return i}return null}function Wd(t,e,n){var r=n.map(function(l){return me(l)?null:l.key}),a=ys(e.map(function(l){return l.key})),i=ys(r),o=_n(a,i,function(l){return l});o.removed.forEach(function(l){e.splice(l,1)[0]._unmount()}),o.ordered.forEach(function(l){var u=l[0],f=l[1],d=e.splice(u,1)[0];e.splice(f,0,d);var c=gn(d.base),p=gn(e[f+1]&&e[f+1].base);c&&c.parentNode.insertBefore(c,p)}),o.added.forEach(function(l){e.splice(l,0,Ss(n[l],r[l],l,t))});var s=o.maintained.filter(function(l){l[0];var u=l[1],f=n[u],d=e[u],c=me(f)?"text_"+f:f.type;return c!==d.type?(d._unmount(),e.splice(u,1,Ss(f,r[u],u,t)),!0):(d.index=u,!1)});return Bd(o.added,s.map(function(l){l[0];var u=l[1];return u}))}function Mn(t,e,n,r,a,i){var o=Wd(t,e,n),s=e.filter(function(u,f){return u._update(r,n[f],a,i)}),l=no(t);return l&&o.reverse().forEach(function(u){var f=e[u],d=gn(f.base);if(!!d&&l!==d&&!d.parentNode){var c=Yd(t,f);l.insertBefore(d,c)}}),s.length>0}function ra(t,e,n){n===void 0&&(n=e.__REACT_COMPAT__);var r=!!n;return n||(n=new tu(e)),Vd(n,t?[t]:[]),r||(e.__REACT_COMPAT__=n),n}function xs(t,e,n){var r=e.__REACT_COMPAT__;t&&!r&&(e.innerHTML=""),ra(t,e,r),n&&n()}function Hd(t,e){return ke(Nd,{element:t,container:e})}var Xd="simple-1.1.0";function oo(t,e){for(var n=t.length,r=0;r<n;++r)if(e(t[r],r))return!0;return!1}function eu(t,e){for(var n=t.length,r=0;r<n;++r)if(e(t[r],r))return t[r];return null}function ru(t){var e=t;if(typeof e=="undefined"){if(typeof navigator=="undefined"||!navigator)return"";e=navigator.userAgent||""}return e.toLowerCase()}function so(t,e){try{return new RegExp(t,"g").exec(e)}catch{return null}}function jd(){if(typeof navigator=="undefined"||!navigator||!navigator.userAgentData)return!1;var t=navigator.userAgentData,e=t.brands||t.uaList;return!!(e&&e.length)}function Ud(t,e){var n=so("("+t+")((?:\\/|\\s|:)([0-9|\\.|_]+))",e);return n?n[3]:""}function yi(t){return t.replace(/_/g,".")}function nn(t,e){var n=null,r="-1";return oo(t,function(a){var i=so("("+a.test+")((?:\\/|\\s|:)([0-9|\\.|_]+))?",e);return!i||a.brand?!1:(n=a,r=i[3]||"-1",a.versionAlias?r=a.versionAlias:a.versionTest&&(r=Ud(a.versionTest.toLowerCase(),e)||r),r=yi(r),!0)}),{preset:n,version:r}}function en(t,e){var n={brand:"",version:"-1"};return oo(t,function(r){var a=nu(e,r);return a?(n.brand=r.id,n.version=r.versionAlias||a.version,n.version!=="-1"):!1}),n}function nu(t,e){return eu(t,function(n){var r=n.brand;return so(""+e.test,r.toLowerCase())})}var Si=[{test:"phantomjs",id:"phantomjs"},{test:"whale",id:"whale"},{test:"edgios|edge|edg",id:"edge"},{test:"msie|trident|windows phone",id:"ie",versionTest:"iemobile|msie|rv"},{test:"miuibrowser",id:"miui browser"},{test:"samsungbrowser",id:"samsung internet"},{test:"samsung",id:"samsung internet",versionTest:"version"},{test:"chrome|crios",id:"chrome"},{test:"firefox|fxios",id:"firefox"},{test:"android",id:"android browser",versionTest:"version"},{test:"safari|iphone|ipad|ipod",id:"safari",versionTest:"version"}],au=[{test:"(?=.*applewebkit/(53[0-7]|5[0-2]|[0-4]))(?=.*\\schrome)",id:"chrome",versionTest:"chrome"},{test:"chromium",id:"chrome"},{test:"whale",id:"chrome",versionAlias:"-1",brand:!0}],Ci=[{test:"applewebkit",id:"webkit",versionTest:"applewebkit|safari"}],iu=[{test:"(?=(iphone|ipad))(?!(.*version))",id:"webview"},{test:"(?=(android|iphone|ipad))(?=.*(naver|daum|; wv))",id:"webview"},{test:"webview",id:"webview"}],ou=[{test:"windows phone",id:"windows phone"},{test:"windows 2000",id:"window",versionAlias:"5.0"},{test:"windows nt",id:"window"},{test:"win32|windows",id:"window"},{test:"iphone|ipad|ipod",id:"ios",versionTest:"iphone os|cpu os"},{test:"macos|macintel|mac os x",id:"mac"},{test:"android|linux armv81",id:"android"},{test:"tizen",id:"tizen"},{test:"webos|web0s",id:"webos"}];function su(t){return!!nn(iu,t).preset}function Kd(t){var e=ru(t),n=!!/mobi/g.exec(e),r={name:"unknown",version:"-1",majorVersion:-1,webview:su(e),chromium:!1,chromiumVersion:"-1",webkit:!1,webkitVersion:"-1"},a={name:"unknown",version:"-1",majorVersion:-1},i=nn(Si,e),o=i.preset,s=i.version,l=nn(ou,e),u=l.preset,f=l.version,d=nn(au,e);if(r.chromium=!!d.preset,r.chromiumVersion=d.version,!r.chromium){var c=nn(Ci,e);r.webkit=!!c.preset,r.webkitVersion=c.version}return u&&(a.name=u.id,a.version=f,a.majorVersion=parseInt(f,10)),o&&(r.name=o.id,r.version=s,r.webview&&a.name==="ios"&&r.name!=="safari"&&(r.webview=!1)),r.majorVersion=parseInt(r.version,10),{browser:r,os:a,isMobile:n,isHints:!1}}function Zd(t){var e=navigator.userAgentData,n=(e.uaList||e.brands).slice(),r=t&&t.fullVersionList,a=e.mobile||!1,i=n[0],o=(t&&t.platform||e.platform||navigator.platform).toLowerCase(),s={name:i.brand,version:i.version,majorVersion:-1,webkit:!1,webkitVersion:"-1",chromium:!1,chromiumVersion:"-1",webview:!!en(iu,n).brand||su(ru())},l={name:"unknown",version:"-1",majorVersion:-1};s.webkit=!s.chromium&&oo(Ci,function(v){return nu(n,v)});var u=en(au,n);if(s.chromium=!!u.brand,s.chromiumVersion=u.version,!s.chromium){var f=en(Ci,n);s.webkit=!!f.brand,s.webkitVersion=f.version}var d=eu(ou,function(v){return new RegExp(""+v.test,"g").exec(o)});if(l.name=d?d.id:"",t&&(l.version=t.platformVersion),r&&r.length){var c=en(Si,r);s.name=c.brand||s.name,s.version=c.version||s.version}else{var p=en(Si,n);s.name=p.brand||s.name,s.version=p.brand&&t?t.uaFullVersion:p.version}return s.webkit&&(l.name=a?"ios":"mac"),l.name==="ios"&&s.webview&&(s.version="-1"),l.version=yi(l.version),s.version=yi(s.version),l.majorVersion=parseInt(l.version,10),s.majorVersion=parseInt(s.version,10),{browser:s,os:l,isMobile:a,isHints:!0}}function Qd(t){return typeof t=="undefined"&&jd()?Zd():Kd(t)}function Jd(t,e,n,r,a,i){for(var o=0;o<a;++o){var s=n+o*a,l=r+o*a;t[s]+=t[l]*i,e[s]+=e[l]*i}}function tv(t,e,n,r,a){for(var i=0;i<a;++i){var o=n+i*a,s=r+i*a,l=t[o],u=e[o];t[o]=t[s],t[s]=l,e[o]=e[s],e[s]=u}}function ev(t,e,n,r,a){for(var i=0;i<r;++i){var o=n+i*r;t[o]/=a,e[o]/=a}}function lu(t,e,n){n===void 0&&(n=Math.sqrt(t.length));for(var r=t.slice(),a=0;a<n;++a)r[a*n+e-1]=0,r[(e-1)*n+a]=0;return r[(e-1)*(n+1)]=1,r}function Fe(t,e){e===void 0&&(e=Math.sqrt(t.length));for(var n=t.slice(),r=Xt(e),a=0;a<e;++a){var i=e*a+a;if(!Dt(n[i],ae)){for(var o=a+1;o<e;++o)if(n[e*a+o]){tv(n,r,a,o,e);break}}if(!Dt(n[i],ae))return[];ev(n,r,a,e,n[i]);for(var o=0;o<e;++o){var s=o,l=o+a*e,u=n[l];!Dt(u,ae)||a===o||Jd(n,r,s,a,e,-u)}}return r}function rv(t,e){e===void 0&&(e=Math.sqrt(t.length));for(var n=[],r=0;r<e;++r)for(var a=0;a<e;++a)n[a*e+r]=t[e*r+a];return n}function uu(t,e){e===void 0&&(e=Math.sqrt(t.length));for(var n=[],r=t[e*e-1],a=0;a<e-1;++a)n[a]=t[e*(e-1)+a]/r;return n[e-1]=0,n}function nv(t,e){for(var n=Xt(e),r=0;r<e-1;++r)n[e*(e-1)+r]=t[r]||0;return n}function Cr(t,e){for(var n=t.slice(),r=t.length;r<e-1;++r)n[r]=0;return n[e-1]=1,n}function Ve(t,e,n){if(e===void 0&&(e=Math.sqrt(t.length)),e===n)return t;for(var r=Xt(n),a=Math.min(e,n),i=0;i<a-1;++i){for(var o=0;o<a-1;++o)r[i*n+o]=t[i*e+o];r[(i+1)*n-1]=t[(i+1)*e-1],r[(n-1)*n+i]=t[(e-1)*e+i]}return r[n*n-1]=t[e*e-1],r}function Ei(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];var r=Xt(t);return e.forEach(function(a){r=qt(r,a,t)}),r}function qt(t,e,n){n===void 0&&(n=Math.sqrt(t.length));var r=[],a=t.length/n,i=e.length/a;if(a){if(!i)return t}else return e;for(var o=0;o<n;++o)for(var s=0;s<i;++s){r[s*n+o]=0;for(var l=0;l<a;++l)r[s*n+o]+=t[l*n+o]*e[s*a+l]}return r}function Ot(t,e){for(var n=Math.min(t.length,e.length),r=t.slice(),a=0;a<n;++a)r[a]=r[a]+e[a];return r}function pt(t,e){for(var n=Math.min(t.length,e.length),r=t.slice(),a=0;a<n;++a)r[a]=r[a]-e[a];return r}function av(t,e){return e===void 0&&(e=t.length===6),e?[t[0],t[1],0,t[2],t[3],0,t[4],t[5],1]:t}function cu(t,e){return e===void 0&&(e=t.length===9),e?[t[0],t[1],t[3],t[4],t[6],t[7]]:t}function ve(t,e,n){n===void 0&&(n=e.length);var r=qt(t,e,n),a=r[n-1];return r.map(function(i){return i/a})}function iv(t,e){return qt(t,[1,0,0,0,0,Math.cos(e),Math.sin(e),0,0,-Math.sin(e),Math.cos(e),0,0,0,0,1],4)}function ov(t,e){return qt(t,[Math.cos(e),0,-Math.sin(e),0,0,1,0,0,Math.sin(e),0,Math.cos(e),0,0,0,0,1],4)}function sv(t,e){return qt(t,$r(e,4))}function Ln(t,e){var n=e[0],r=n===void 0?1:n,a=e[1],i=a===void 0?1:a,o=e[2],s=o===void 0?1:o;return qt(t,[r,0,0,0,0,i,0,0,0,0,s,0,0,0,0,1],4)}function kn(t,e){return ve($r(e,3),Cr(t,3))}function ja(t,e){var n=e[0],r=n===void 0?0:n,a=e[1],i=a===void 0?0:a,o=e[2],s=o===void 0?0:o;return qt(t,[1,0,0,0,0,1,0,0,0,0,1,0,r,i,s,1],4)}function xi(t,e){return qt(t,e,4)}function $r(t,e){var n=Math.cos(t),r=Math.sin(t),a=Xt(e);return a[0]=n,a[1]=r,a[e]=-r,a[e+1]=n,a}function Xt(t){for(var e=t*t,n=[],r=0;r<e;++r)n[r]=r%(t+1)?0:1;return n}function lo(t,e){for(var n=Xt(e),r=Math.min(t.length,e-1),a=0;a<r;++a)n[(e+1)*a]=t[a];return n}function mn(t,e){for(var n=Xt(e),r=Math.min(t.length,e-1),a=0;a<r;++a)n[e*(e-1)+a]=t[a];return n}function uo(t,e,n,r,a,i,o,s){var l=t[0],u=t[1],f=e[0],d=e[1],c=n[0],p=n[1],v=r[0],h=r[1],g=a[0],m=a[1],b=i[0],S=i[1],y=o[0],x=o[1],C=s[0],E=s[1],M=[l,0,f,0,c,0,v,0,u,0,d,0,p,0,h,0,1,0,1,0,1,0,1,0,0,l,0,f,0,c,0,v,0,u,0,d,0,p,0,h,0,1,0,1,0,1,0,1,-g*l,-m*l,-b*f,-S*f,-y*c,-x*c,-C*v,-E*v,-g*u,-m*u,-b*d,-S*d,-y*p,-x*p,-C*h,-E*h],w=Fe(M,8);if(!w.length)return[];var _=qt(w,[g,m,b,S,y,x,C,E],8);return _[8]=1,Ve(rv(_),3,4)}function co(){return[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]}function Da(t){return Rr(pr(t))}function na(t,e){var n=ve(t,[e[0],e[1]||0,e[2]||0,1],4),r=n[3]||1;return[n[0]/r,n[1]/r,n[2]/r]}function lv(t,e){e===void 0&&(e=document.body);for(var n=t,r=co();n;){var a=getComputedStyle(n).transform;if(r=xi(Da(a),r),n===e)break;n=n.parentElement}return r=Fe(r,4),r[12]=0,r[13]=0,r[14]=0,r}function Rr(t){var e=co();return t.forEach(function(n){var r=n.matrixFunction,a=n.functionValue;!r||(e=r(e,a))}),e}function pr(t){var e=re(t)?t:ar(t);return e.map(function(n){var r=Xl(n),a=r.prefix,i=r.value,o=null,s=a,l="";if(a==="translate"||a==="translateX"||a==="translate3d"){var u=br(i).map(function(_){return parseFloat(_)}),f=u[0],d=u[1],c=d===void 0?0:d,p=u[2],v=p===void 0?0:p;o=ja,l=[f,c,v]}else if(a==="translateY"){var c=parseFloat(i);o=ja,l=[0,c,0]}else if(a==="translateZ"){var v=parseFloat(i);o=ja,l=[0,0,v]}else if(a==="scale"||a==="scale3d"){var h=br(i).map(function(_){return parseFloat(_)}),g=h[0],m=h[1],b=m===void 0?g:m,S=h[2],y=S===void 0?1:S;o=Ln,l=[g,b,y]}else if(a==="scaleX"){var g=parseFloat(i);o=Ln,l=[g,1,1]}else if(a==="scaleY"){var b=parseFloat(i);o=Ln,l=[1,b,1]}else if(a==="scaleZ"){var y=parseFloat(i);o=Ln,l=[1,1,y]}else if(a==="rotate"||a==="rotateZ"||a==="rotateX"||a==="rotateY"){var x=Yr(i),C=x.unit,E=x.value,M=C==="rad"?E:E*Math.PI/180;a==="rotate"||a==="rotateZ"?(s="rotateZ",o=sv):a==="rotateX"?o=iv:a==="rotateY"&&(o=ov),l=M}else if(a==="matrix3d")o=xi,l=br(i).map(function(_){return parseFloat(_)});else if(a==="matrix"){var w=br(i).map(function(_){return parseFloat(_)});o=xi,l=[w[0],w[1],0,0,w[2],w[3],0,0,0,0,1,0,w[4],w[5],0,1]}else s="";return{name:a,functionName:s,value:i,matrixFunction:o,functionValue:l}})}/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */var wi=function(t,e){return wi=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var a in r)r.hasOwnProperty(a)&&(n[a]=r[a])},wi(t,e)};function uv(t,e){wi(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}var fu=typeof Map=="function"?void 0:function(){var t=0;return function(e){return e.__DIFF_KEY__||(e.__DIFF_KEY__=++t)}}(),du=function(t){uv(e,t);function e(n){return n===void 0&&(n=[]),t.call(this,n,fu)||this}return e}(Ed);function cn(t,e){return _n(t,e,fu)}/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */function cv(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;for(var r=Array(t),a=0,e=0;e<n;e++)for(var i=arguments[e],o=0,s=i.length;o<s;o++,a++)r[a]=i[o];return r}function ye(t){return Dt(t,ae)}function fv(t,e){return t.every(function(n,r){return ye(n-e[r])===0})}function dv(t,e){return!ye(t[0]-e[0])&&!ye(t[1]-e[1])}function fn(t){return t.length<3?0:Math.abs(Od(t.map(function(e,n){var r=t[n+1]||t[0];return e[0]*r[1]-r[0]*e[1]})))/2}function _i(t,e){var n=e.width,r=e.height,a=e.left,i=e.top,o=ir(t),s=o.minX,l=o.minY,u=o.maxX,f=o.maxY,d=n/(u-s),c=r/(f-l);return t.map(function(p){return[a+(p[0]-s)*d,i+(p[1]-l)*c]})}function ir(t){var e=t.map(function(r){return r[0]}),n=t.map(function(r){return r[1]});return{minX:Math.min.apply(Math,e),minY:Math.min.apply(Math,n),maxX:Math.max.apply(Math,e),maxY:Math.max.apply(Math,n)}}function pa(t,e,n){var r=t[0],a=t[1],i=ir(e),o=i.minX,s=i.maxX,l=[[o,a],[s,a]],u=ha(l[0],l[1]),f=Di(e),d=[];if(f.forEach(function(v){var h=ha(v[0],v[1]),g=v[0];if(fv(u,h))d.push({pos:t,line:v,type:"line"});else{var m=vu(fo(u,h),[l,v]);m.forEach(function(b){v.some(function(S){return dv(S,b)})?d.push({pos:b,line:v,type:"point"}):ye(g[1]-a)!==0&&d.push({pos:b,line:v,type:"intersection"})})}}),!n&&Ke(d,function(v){return v[0]===r}))return!0;var c=0,p={};return d.forEach(function(v){var h=v.pos,g=v.type,m=v.line;if(!(h[0]>r))if(g==="intersection")++c;else{if(g==="line")return;if(g==="point"){var b=Ke(m,function(x){return x[1]!==a}),S=p[h[0]],y=b[1]>a?1:-1;S?S!==y&&++c:p[h[0]]=y}}}),c%2===1}function ha(t,e){var n=t[0],r=t[1],a=e[0],i=e[1],o=a-n,s=i-r;Math.abs(o)<ae&&(o=0),Math.abs(s)<ae&&(s=0);var l=0,u=0,f=0;return o?s?(l=-s/o,u=1,f=-l*n-r):(u=1,f=-r):s&&(l=-1,f=n),[l,u,f]}function fo(t,e){var n=t[0],r=t[1],a=t[2],i=e[0],o=e[1],s=e[2],l=n===0&&i===0,u=r===0&&o===0,f=[];if(l&&u)return[];if(l){var d=-a/r,c=-s/o;return d!==c?[]:[[-1/0,d],[1/0,d]]}else if(u){var p=-a/n,v=-s/i;return p!==v?[]:[[p,-1/0],[p,1/0]]}else if(n===0){var h=-a/r,g=-(o*h+s)/i;f=[[g,h]]}else if(i===0){var h=-s/o,g=-(r*h+a)/n;f=[[g,h]]}else if(r===0){var g=-a/n,h=-(i*g+s)/o;f=[[g,h]]}else if(o===0){var g=-s/i,h=-(n*g+a)/r;f=[[g,h]]}else{var g=(r*s-o*a)/(o*n-r*i),h=-(n*g+a)/r;f=[[g,h]]}return f.map(function(m){return[m[0],m[1]]})}function vu(t,e){var n=e.map(function(d){return[0,1].map(function(c){return[Math.min(d[0][c],d[1][c]),Math.max(d[0][c],d[1][c])]})}),r=[];if(t.length===2){var a=t[0],i=a[0],o=a[1];if(ye(i-t[1][0])){if(!ye(o-t[1][1])){var u=Math.max.apply(Math,n.map(function(d){return d[0][0]})),f=Math.min.apply(Math,n.map(function(d){return d[0][1]}));if(ye(u-f)>0)return[];r=[[u,o],[f,o]]}}else{var s=Math.max.apply(Math,n.map(function(d){return d[1][0]})),l=Math.min.apply(Math,n.map(function(d){return d[1][1]}));if(ye(s-l)>0)return[];r=[[i,s],[i,l]]}}return r.length||(r=t.filter(function(d){var c=d[0],p=d[1];return n.every(function(v){return 0<=ye(c-v[0][0])&&0<=ye(v[0][1]-c)&&0<=ye(p-v[1][0])&&0<=ye(v[1][1]-p)})})),r.map(function(d){return[ye(d[0]),ye(d[1])]})}function Di(t){return cv(t.slice(1),[t[0]]).map(function(e,n){return[t[n],e]})}function vv(t,e){var n=t.slice(),r=e.slice();gi(n)===-1&&n.reverse(),gi(r)===-1&&r.reverse();var a=Di(n),i=Di(r),o=a.map(function(f){return ha(f[0],f[1])}),s=i.map(function(f){return ha(f[0],f[1])}),l=[];o.forEach(function(f,d){var c=a[d],p=[];s.forEach(function(v,h){var g=fo(f,v),m=vu(g,[c,i[h]]);p.push.apply(p,m.map(function(b){return{index1:d,index2:h,pos:b,type:"intersection"}}))}),p.sort(function(v,h){return Me(c[0],v.pos)-Me(c[0],h.pos)}),l.push.apply(l,p),pa(c[1],r)&&l.push({index1:d,index2:-1,pos:c[1],type:"inside"})}),i.forEach(function(f,d){if(!!pa(f[1],n)){var c=!1,p=Ue(l,function(v){var h=v.index2;return h===d?(c=!0,!1):!!c});p===-1&&(c=!1,p=Ue(l,function(v){var h=v.index1,g=v.index2;return h===-1&&g+1===d?(c=!0,!1):!!c})),p===-1?l.push({index1:-1,index2:d,pos:f[1],type:"inside"}):l.splice(p,0,{index1:-1,index2:d,pos:f[1],type:"inside"})}});var u={};return l.filter(function(f){var d=f.pos,c=d[0]+"x"+d[1];return u[c]?!1:(u[c]=!0,!0)})}function pu(t,e){var n=vv(t,e);return n.map(function(r){var a=r.pos;return a})}function pv(t,e){var n=pu(t,e);return fn(n)}/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var Mi=function(){return Mi=Object.assign||function(e){for(var n,r=1,a=arguments.length;r<a;r++){n=arguments[r];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},Mi.apply(this,arguments)};function hv(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;for(var r=Array(t),a=0,e=0;e<n;e++)for(var i=arguments[e],o=0,s=i.length;o<s;o++,a++)r[a]=i[o];return r}var gv=function(){function t(){this._events={}}var e=t.prototype;return e.on=function(n,r){if(Ge(n))for(var a in n)this.on(a,n[a]);else this._addEvent(n,r,{});return this},e.off=function(n,r){if(!n)this._events={};else if(Ge(n))for(var a in n)this.off(a);else if(!r)this._events[n]=[];else{var i=this._events[n];if(i){var o=Ue(i,function(s){return s.listener===r});o>-1&&i.splice(o,1)}}return this},e.once=function(n,r){var a=this;return r&&this._addEvent(n,r,{once:!0}),new Promise(function(i){a._addEvent(n,i,{once:!0})})},e.emit=function(n,r){var a=this;r===void 0&&(r={});var i=this._events[n];if(!n||!i)return!0;var o=!1;return r.eventType=n,r.stop=function(){o=!0},r.currentTarget=this,hv(i).forEach(function(s){s.listener(r),s.once&&a.off(n,s.listener)}),!o},e.trigger=function(n,r){return r===void 0&&(r={}),this.emit(n,r)},e._addEvent=function(n,r,a){var i=this._events;i[n]=i[n]||[];var o=i[n];o.push(Mi({listener:r},a))},t}(),Hr=gv,mv="function",bv="string";function yv(t){return typeof t===bv}function Sv(t){return typeof t===mv}function Cv(){return Date.now?Date.now():new Date().getTime()}/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */var ki=function(t,e){return ki=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var a in r)r.hasOwnProperty(a)&&(n[a]=r[a])},ki(t,e)};function Ev(t,e){ki(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}var Or=function(){return Or=Object.assign||function(e){for(var n,r=1,a=arguments.length;r<a;r++){n=arguments[r];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},Or.apply(this,arguments)};function xv(t){var e=t.container;return e===document.body?[e.scrollLeft||document.documentElement.scrollLeft,e.scrollTop||document.documentElement.scrollTop]:[e.scrollLeft,e.scrollTop]}function Ua(t){if(t){if(yv(t))return document.querySelector(t)}else return null;if(Sv(t))return t();if(t instanceof Element)return t;if("current"in t)return t.current;if("value"in t)return t.value}var wv=function(t){Ev(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r._startRect=null,r._startPos=[],r._prevTime=0,r._timer=0,r._prevScrollPos=[0,0],r._isWait=!1,r._flag=!1,r}var n=e.prototype;return n.dragStart=function(r,a){var i=Ua(a.container);if(!i){this._flag=!1;return}var o=0,s=0,l=0,u=0;if(i===document.body)l=window.innerWidth,u=window.innerHeight;else{var f=i.getBoundingClientRect();o=f.top,s=f.left,l=f.width,u=f.height}this._flag=!0,this._startPos=[r.clientX,r.clientY],this._startRect={top:o,left:s,width:l,height:u},this._prevScrollPos=this._getScrollPosition([0,0],a)},n.drag=function(r,a){if(clearTimeout(this._timer),!!this._flag){var i=r.clientX,o=r.clientY,s=a.threshold,l=s===void 0?0:s,u=this,f=u._startRect,d=u._startPos,c=[0,0];return f.top>o-l?(d[1]>f.top||o<d[1])&&(c[1]=-1):f.top+f.height<o+l&&(d[1]<f.top+f.height||o>d[1])&&(c[1]=1),f.left>i-l?(d[0]>f.left||i<d[0])&&(c[0]=-1):f.left+f.width<i+l&&(d[0]<f.left+f.width||i>d[0])&&(c[0]=1),!c[0]&&!c[1]?!1:this._continueDrag(Or(Or({},a),{direction:c,inputEvent:r,isDrag:!0}))}},n.checkScroll=function(r){var a=this;if(this._isWait)return!1;var i=r.prevScrollPos,o=i===void 0?this._prevScrollPos:i,s=r.direction,l=r.throttleTime,u=l===void 0?0:l,f=r.inputEvent,d=r.isDrag,c=this._getScrollPosition(s||[0,0],r),p=c[0]-o[0],v=c[1]-o[1],h=s||[p?Math.abs(p)/p:0,v?Math.abs(v)/v:0];return this._prevScrollPos=c,!p&&!v?!1:(this.trigger("move",{offsetX:h[0]?p:0,offsetY:h[1]?v:0,inputEvent:f}),u&&d&&(clearTimeout(this._timer),this._timer=window.setTimeout(function(){a._continueDrag(r)},u)),!0)},n.dragEnd=function(){this._flag=!1,clearTimeout(this._timer)},n._getScrollPosition=function(r,a){var i=a.container,o=a.getScrollPosition,s=o===void 0?xv:o;return s({container:Ua(i),direction:r})},n._continueDrag=function(r){var a=this,i,o,s=r.container,l=r.direction,u=r.throttleTime,f=r.useScroll,d=r.isDrag,c=r.inputEvent;if(!(!this._flag||d&&this._isWait)){var p=Cv(),v=Math.max(u+this._prevTime-p,0);if(v>0)return clearTimeout(this._timer),this._timer=window.setTimeout(function(){a._continueDrag(r)},v),!1;this._prevTime=p;var h=this._getScrollPosition(l,r);this._prevScrollPos=h,d&&(this._isWait=!0);var g={container:Ua(s),direction:l,inputEvent:c};return(o=(i=r).requestScroll)===null||o===void 0||o.call(i,g),this.trigger("scroll",g),this._isWait=!1,f||this.checkScroll(Or(Or({},r),{prevScrollPos:h,direction:l,inputEvent:c}))}},e}(Hr),hu=wv;/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */var Ti=function(t,e){return Ti=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var a in r)r.hasOwnProperty(a)&&(n[a]=r[a])},Ti(t,e)};function _v(t,e){Ti(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}var ne=function(){return ne=Object.assign||function(e){for(var n,r=1,a=arguments.length;r<a;r++){n=arguments[r];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},ne.apply(this,arguments)};function Dv(t,e){var n=e[0]-t[0],r=e[1]-t[1],a=Math.atan2(r,n);return a>=0?a:a+Math.PI*2}function Ka(t){return Dv([t[0].clientX,t[0].clientY],[t[1].clientX,t[1].clientY])/Math.PI*180}function Mv(t){return t.touches&&t.touches.length>=2}function qn(t){return t?t.touches?Tv(t.touches):[gu(t)]:[]}function kv(t){return t&&(t.type.indexOf("mouse")>-1||"button"in t)}function ws(t,e,n){var r=n.length,a=dn(t,r),i=a.clientX,o=a.clientY,s=a.originalClientX,l=a.originalClientY,u=dn(e,r),f=u.clientX,d=u.clientY,c=dn(n,r),p=c.clientX,v=c.clientY,h=i-f,g=o-d,m=i-p,b=o-v;return{clientX:s,clientY:l,deltaX:h,deltaY:g,distX:m,distY:b}}function Za(t){return Math.sqrt(Math.pow(t[0].clientX-t[1].clientX,2)+Math.pow(t[0].clientY-t[1].clientY,2))}function Tv(t){for(var e=Math.min(t.length,2),n=[],r=0;r<e;++r)n.push(gu(t[r]));return n}function gu(t){return{clientX:t.clientX,clientY:t.clientY}}function dn(t,e){e===void 0&&(e=t.length);for(var n={clientX:0,clientY:0,originalClientX:0,originalClientY:0},r=0;r<e;++r){var a=t[r];n.originalClientX+="originalClientX"in a?a.originalClientX:a.clientX,n.originalClientY+="originalClientY"in a?a.originalClientY:a.clientY,n.clientX+=a.clientX,n.clientY+=a.clientY}return e?{clientX:n.clientX/e,clientY:n.clientY/e,originalClientX:n.originalClientX/e,originalClientY:n.originalClientY/e}:n}var Qa=function(){function t(n){this.prevClients=[],this.startClients=[],this.movement=0,this.length=0,this.startClients=n,this.prevClients=n,this.length=n.length}var e=t.prototype;return e.getAngle=function(n){return n===void 0&&(n=this.prevClients),Ka(n)},e.getRotation=function(n){return n===void 0&&(n=this.prevClients),Ka(n)-Ka(this.startClients)},e.getPosition=function(n,r){n===void 0&&(n=this.prevClients);var a=ws(n||this.prevClients,this.prevClients,this.startClients),i=a.deltaX,o=a.deltaY;return this.movement+=Math.sqrt(i*i+o*o),this.prevClients=n,a},e.getPositions=function(n){n===void 0&&(n=this.prevClients);var r=this.prevClients;return this.startClients.map(function(a,i){return ws([n[i]],[r[i]],[a])})},e.getMovement=function(n){var r=this.movement;if(!n)return r;var a=dn(n,this.length),i=dn(this.prevClients,this.length),o=a.clientX-i.clientX,s=a.clientY-i.clientY;return Math.sqrt(o*o+s*s)+r},e.getDistance=function(n){return n===void 0&&(n=this.prevClients),Za(n)},e.getScale=function(n){return n===void 0&&(n=this.prevClients),Za(n)/Za(this.startClients)},e.move=function(n,r){this.startClients.forEach(function(a){a.clientX-=n,a.clientY-=r}),this.prevClients.forEach(function(a){a.clientX-=n,a.clientY-=r})},t}(),_s=["textarea","input"],Rv=function(t){_v(e,t);function e(r,a){a===void 0&&(a={});var i=t.call(this)||this;i.options={},i.flag=!1,i.pinchFlag=!1,i.data={},i.isDrag=!1,i.isPinch=!1,i.isMouse=!1,i.isTouch=!1,i.clientStores=[],i.targets=[],i.prevTime=0,i.doubleFlag=!1,i._dragFlag=!1,i._isMouseEvent=!1,i._isSecondaryButton=!1,i._preventMouseEvent=!1,i.onDragStart=function(c,p){if(p===void 0&&(p=!0),!(!i.flag&&c.cancelable===!1)){var v=i.options,h=v.container,g=v.pinchOutside,m=v.preventWheelClick,b=v.preventRightClick,S=v.preventDefault,y=v.checkInput,x=v.preventClickEventOnDragStart,C=v.preventClickEventOnDrag,E=v.preventClickEventByCondition,M=i.isTouch,w=!i.flag;if(i._isSecondaryButton=c.which===3||c.button===2,m&&(c.which===2||c.button===1)||b&&(c.which===3||c.button===2))return i.stop(),!1;if(w){var _=document.activeElement,I=c.target;if(I){var D=I.tagName.toLowerCase(),k=_s.indexOf(D)>-1,O=I.isContentEditable;if(k||O){if(y||_===I||_&&O&&_.isContentEditable&&_.contains(I))return!1}else if((S||c.type==="touchstart")&&_){var B=_.tagName.toLowerCase();(_.isContentEditable||_s.indexOf(B)>-1)&&_.blur()}(x||C||E)&&fe(window,"click",i._onClick,!0)}i.clientStores=[new Qa(qn(c))],i.flag=!0,i.isDrag=!1,i._dragFlag=!0,i.data={},i.doubleFlag=da()-i.prevTime<200,i._isMouseEvent=kv(c),!i._isMouseEvent&&i._preventMouseEvent&&(i._preventMouseEvent=!1);var $=i._preventMouseEvent||i.emit("dragStart",ne(ne({data:i.data,datas:i.data,inputEvent:c,isMouseEvent:i._isMouseEvent,isSecondaryButton:i._isSecondaryButton,isTrusted:p,isDouble:i.doubleFlag},i.getCurrentStore().getPosition()),{preventDefault:function(){c.preventDefault()},preventDrag:function(){i._dragFlag=!1}}));$===!1&&i.stop(),i._isMouseEvent&&i.flag&&S&&c.preventDefault()}if(!i.flag)return!1;var P=0;if(w?(i._attchDragEvent(),M&&g&&(P=setTimeout(function(){fe(h,"touchstart",i.onDragStart,{passive:!1})}))):M&&g&&le(h,"touchstart",i.onDragStart),i.flag&&Mv(c)){if(clearTimeout(P),w&&c.touches.length!==c.changedTouches.length)return;i.pinchFlag||i.onPinchStart(c)}}},i.onDrag=function(c,p){if(!!i.flag){var v=i.options.preventDefault;!i._isMouseEvent&&v&&c.preventDefault();var h=qn(c),g=i.moveClients(h,c,!1);if(i._dragFlag){if(i.pinchFlag||g.deltaX||g.deltaY){var m=i._preventMouseEvent||i.emit("drag",ne(ne({},g),{isScroll:!!p,inputEvent:c}));if(m===!1){i.stop();return}}i.pinchFlag&&i.onPinch(c,h)}i.getCurrentStore().getPosition(h,!0)}},i.onDragEnd=function(c){if(!!i.flag){var p=i.options,v=p.pinchOutside,h=p.container,g=p.preventClickEventOnDrag,m=p.preventClickEventOnDragStart,b=p.preventClickEventByCondition,S=i.isDrag;(g||m||b)&&requestAnimationFrame(function(){i._allowClickEvent()}),!b&&!m&&g&&!S&&i._allowClickEvent(),i.isTouch&&v&&le(h,"touchstart",i.onDragStart),i.pinchFlag&&i.onPinchEnd(c);var y=c!=null&&c.touches?qn(c):[],x=y.length;x===0||!i.options.keepDragging?i.flag=!1:i._addStore(new Qa(y));var C=i._getPosition(),E=da(),M=!S&&i.doubleFlag;i.prevTime=S||M?0:E,i.flag||(i._dettachDragEvent(),i._preventMouseEvent||i.emit("dragEnd",ne({data:i.data,datas:i.data,isDouble:M,isDrag:S,isClick:!S,isMouseEvent:i._isMouseEvent,isSecondaryButton:i._isSecondaryButton,inputEvent:c},C)),i.clientStores=[],i._isMouseEvent||(i._preventMouseEvent=!0,requestAnimationFrame(function(){requestAnimationFrame(function(){i._preventMouseEvent=!1})})))}},i.onBlur=function(){i.onDragEnd()},i._allowClickEvent=function(){le(window,"click",i._onClick,!0)},i._onClick=function(c){i._allowClickEvent(),i._preventMouseEvent=!1;var p=i.options.preventClickEventByCondition;p!=null&&p(c)||(c.stopPropagation(),c.preventDefault())},i._onContextMenu=function(c){var p=i.options;p.preventRightClick?i.onDragEnd(c):c.preventDefault()},i._passCallback=function(){};var o=[].concat(r);i.options=ne({checkInput:!1,container:o.length>1?window:o[0],preventRightClick:!0,preventWheelClick:!0,preventClickEventOnDragStart:!1,preventClickEventOnDrag:!1,preventClickEventByCondition:null,preventDefault:!0,checkWindowBlur:!1,keepDragging:!1,pinchThreshold:0,events:["touch","mouse"]},a);var s=i.options,l=s.container,u=s.events,f=s.checkWindowBlur;if(i.isTouch=u.indexOf("touch")>-1,i.isMouse=u.indexOf("mouse")>-1,i.targets=o,i.isMouse&&(o.forEach(function(c){fe(c,"mousedown",i.onDragStart),fe(c,"mousemove",i._passCallback)}),fe(l,"contextmenu",i._onContextMenu)),f&&fe(window,"blur",i.onBlur),i.isTouch){var d={passive:!1};o.forEach(function(c){fe(c,"touchstart",i.onDragStart,d),fe(c,"touchmove",i._passCallback,d)})}return i}var n=e.prototype;return n.stop=function(){this.isDrag=!1,this.data={},this.clientStores=[],this.pinchFlag=!1,this.doubleFlag=!1,this.prevTime=0,this.flag=!1,this._allowClickEvent(),this._dettachDragEvent()},n.getMovement=function(r){return this.getCurrentStore().getMovement(r)+this.clientStores.slice(1).reduce(function(a,i){return a+i.movement},0)},n.isDragging=function(){return this.isDrag},n.isFlag=function(){return this.flag},n.isPinchFlag=function(){return this.pinchFlag},n.isDoubleFlag=function(){return this.doubleFlag},n.isPinching=function(){return this.isPinch},n.scrollBy=function(r,a,i,o){o===void 0&&(o=!0),this.flag&&(this.clientStores[0].move(r,a),o&&this.onDrag(i,!0))},n.move=function(r,a){var i=r[0],o=r[1],s=this.getCurrentStore(),l=s.prevClients;return this.moveClients(l.map(function(u){var f=u.clientX,d=u.clientY;return{clientX:f+i,clientY:d+o,originalClientX:f,originalClientY:d}}),a,!0)},n.triggerDragStart=function(r){this.onDragStart(r,!1)},n.setEventData=function(r){var a=this.data;for(var i in r)a[i]=r[i];return this},n.setEventDatas=function(r){return this.setEventData(r)},n.getCurrentEvent=function(r){return ne(ne({data:this.data,datas:this.data},this._getPosition()),{movement:this.getMovement(),isDrag:this.isDrag,isPinch:this.isPinch,isScroll:!1,inputEvent:r})},n.getEventData=function(){return this.data},n.getEventDatas=function(){return this.data},n.unset=function(){var r=this,a=this.targets,i=this.options.container;this.off(),le(window,"blur",this.onBlur),this.isMouse&&(a.forEach(function(o){le(o,"mousedown",r.onDragStart)}),le(i,"contextmenu",this._onContextMenu)),this.isTouch&&(a.forEach(function(o){le(o,"touchstart",r.onDragStart)}),le(i,"touchstart",this.onDragStart)),this._allowClickEvent(),this._dettachDragEvent()},n.onPinchStart=function(r){var a=this.options.pinchThreshold;if(!(this.isDrag&&this.getMovement()>a)){var i=new Qa(qn(r));this.pinchFlag=!0,this._addStore(i);var o=this.emit("pinchStart",ne(ne({data:this.data,datas:this.data,angle:i.getAngle(),touches:this.getCurrentStore().getPositions()},i.getPosition()),{inputEvent:r}));o===!1&&(this.pinchFlag=!1)}},n.onPinch=function(r,a){if(!(!this.flag||!this.pinchFlag||a.length<2)){var i=this.getCurrentStore();this.isPinch=!0,this.emit("pinch",ne(ne({data:this.data,datas:this.data,movement:this.getMovement(a),angle:i.getAngle(a),rotation:i.getRotation(a),touches:i.getPositions(a),scale:i.getScale(a),distance:i.getDistance(a)},i.getPosition(a)),{inputEvent:r}))}},n.onPinchEnd=function(r){if(!!this.pinchFlag){var a=this.isPinch;this.isPinch=!1,this.pinchFlag=!1;var i=this.getCurrentStore();this.emit("pinchEnd",ne(ne({data:this.data,datas:this.data,isPinch:a,touches:i.getPositions()},i.getPosition()),{inputEvent:r}))}},n.getCurrentStore=function(){return this.clientStores[0]},n.moveClients=function(r,a,i){var o=this._getPosition(r,i),s=this.isDrag;(o.deltaX||o.deltaY)&&(this.isDrag=!0);var l=!1;return!s&&this.isDrag&&(l=!0),ne(ne({data:this.data,datas:this.data},o),{movement:this.getMovement(r),isDrag:this.isDrag,isPinch:this.isPinch,isScroll:!1,isMouseEvent:this._isMouseEvent,isSecondaryButton:this._isSecondaryButton,inputEvent:a,isFirstDrag:l})},n._addStore=function(r){this.clientStores.splice(0,0,r)},n._getPosition=function(r,a){var i=this.getCurrentStore(),o=i.getPosition(r,a),s=this.clientStores.slice(1).reduce(function(f,d){var c=d.getPosition();return f.distX+=c.distX,f.distY+=c.distY,f},o),l=s.distX,u=s.distY;return ne(ne({},o),{distX:l,distY:u})},n._attchDragEvent=function(){var r=this.options.container,a={passive:!1};this.isMouse&&(fe(r,"mousemove",this.onDrag),fe(r,"mouseup",this.onDragEnd)),this.isTouch&&(fe(r,"touchmove",this.onDrag,a),fe(r,"touchend",this.onDragEnd,a),fe(r,"touchcancel",this.onDragEnd,a))},n._dettachDragEvent=function(){var r=this.options.container;this.isMouse&&(le(r,"mousemove",this.onDrag),le(r,"mouseup",this.onDragEnd)),this.isTouch&&(le(r,"touchstart",this.onDragStart),le(r,"touchmove",this.onDrag),le(r,"touchend",this.onDragEnd),le(r,"touchcancel",this.onDragEnd))},e}(Hr),mu=Rv;function Iv(t){for(var e=5381,n=t.length;n;)e=e*33^t.charCodeAt(--n);return e>>>0}var Ov=Iv;function Pv(t){return Ov(t).toString(36)}function Bv(t){if(t&&t.getRootNode){var e=t.getRootNode();if(e.nodeType===11)return e}}function Av(t,e,n){return n.original?e:e.replace(/([^};{\s}][^};{]*|^\s*){/mg,function(r,a){var i=a.trim();return(i?br(i):[""]).map(function(o){var s=o.trim();return s.indexOf("@")===0?s:s.indexOf(":global")>-1?s.replace(/\:global/g,""):s.indexOf(":host")>-1?""+s.replace(/\:host/g,"."+t):s?"."+t+" "+s:"."+t}).join(", ")+" {"})}function zv(t,e,n,r){var a=document.createElement("style");return a.setAttribute("type","text/css"),a.setAttribute("data-styled-id",t),n.nonce&&a.setAttribute("nonce",n.nonce),a.innerHTML=Av(t,e,n),(r||document.head||document.body).appendChild(a),a}function bu(t){var e="rCS"+Pv(t),n=0,r;return{className:e,inject:function(a,i){i===void 0&&(i={});var o=Bv(a),s=n===0,l;return(o||s)&&(l=zv(e,t,i,o)),s&&(r=l),o||++n,{destroy:function(){o?(o.removeChild(l),l=null):(n>0&&--n,n===0&&r&&(r.parentNode.removeChild(r),r=null))}}}}}/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */var Ri=function(t,e){return Ri=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var a in r)r.hasOwnProperty(a)&&(n[a]=r[a])},Ri(t,e)};function yu(t,e){Ri(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}var Ii=function(){return Ii=Object.assign||function(e){for(var n,r=1,a=arguments.length;r<a;r++){n=arguments[r];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},Ii.apply(this,arguments)};function Gv(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,r=Object.getOwnPropertySymbols(t);a<r.length;a++)e.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(t,r[a])&&(n[r[a]]=t[r[a]]);return n}var Fv=function(t){yu(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.injectResult=null,r.tag="div",r}var n=e.prototype;return n.render=function(){var r=this.props,a=r.className,i=a===void 0?"":a;r.cspNonce;var o=r.portalContainer,s=Gv(r,["className","cspNonce","portalContainer"]),l=this.injector.className,u=this.tag,f={};return Xd.indexOf("simple")>-1&&o&&(f={portalContainer:o}),ke(u,Ii({ref:Ne(this,"element"),"data-styled-id":l,className:i+" "+l},f,s))},n.componentDidMount=function(){this.injectResult=this.injector.inject(this.element,{nonce:this.props.cspNonce})},n.componentWillUnmount=function(){this.injectResult.destroy(),this.injectResult=null},n.getElement=function(){return this.element},e}(ao);function Su(t,e){var n=bu(e);return function(r){yu(a,r);function a(){var i=r!==null&&r.apply(this,arguments)||this;return i.injector=n,i.tag=t,i}return a}(Fv)}var Oi=function(t,e){return Oi=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(n[a]=r[a])},Oi(t,e)};function Tn(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");Oi(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}var T=function(){return T=Object.assign||function(e){for(var n,r=1,a=arguments.length;r<a;r++){n=arguments[r];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},T.apply(this,arguments)};function $v(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,r=Object.getOwnPropertySymbols(t);a<r.length;a++)e.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(t,r[a])&&(n[r[a]]=t[r[a]]);return n}function Lv(t,e,n,r){var a=arguments.length,i=a<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(i=(a<3?o(i):a>3?o(e,n,i):o(e,n))||i);return a>3&&i&&Object.defineProperty(e,n,i),i}function yt(t,e,n){if(n||arguments.length===2)for(var r=0,a=e.length,i;r<a;r++)(i||!(r in e))&&(i||(i=Array.prototype.slice.call(e,0,r)),i[r]=e[r]);return t.concat(i||Array.prototype.slice.call(e))}function Rn(t,e){var n;return T({events:{},props:(n={},n[t]=Boolean,n),name:t},e)}function qv(t,e){return'data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" width="'.concat(32*t,'px" height="').concat(32*t,'px" viewBox="0 0 32 32" ><path d="M 16,5 L 12,10 L 14.5,10 L 14.5,22 L 12,22 L 16,27 L 20,22 L 17.5,22 L 17.5,10 L 20, 10 L 16,5 Z" stroke-linejoin="round" stroke-width="1.2" fill="black" stroke="white" style="transform:rotate(').concat(e,'deg);transform-origin: 16px 16px"></path></svg>')}function Nv(t){var e=qv(1,t),n=Math.round(t/45)*45%180,r="ns-resize";return n===135?r="nwse-resize":n===45?r="nesw-resize":n===90&&(r="ew-resize"),"cursor:".concat(r,";cursor: url('").concat(e,"') 16 16, ").concat(r,";")}var ga=Qd(),Cu=ga.browser.webkit,Eu=Cu&&function(){var t=typeof window=="undefined"?{userAgent:""}:window.navigator,e=/applewebkit\/([^\s]+)/g.exec(t.userAgent.toLowerCase());return e?parseFloat(e[1])<605:!1}(),Vv=ga.browser.name==="firefox",Yv=parseInt(ga.browser.webkitVersion,10)>=612||parseInt(ga.browser.version,10)>=15,vo="moveable-",Wv=`
{
	position: absolute;
	width: 1px;
	height: 1px;
	left: 0;
	top: 0;
    z-index: 3000;
    --moveable-color: #4af;
    --zoom: 1;
    --zoompx: 1px;
    will-change: transform;
    outline: 1px solid transparent;
}
.control-box {
    z-index: 0;
}
.line, .control {
    position: absolute;
	left: 0;
    top: 0;
    will-change: transform;
}
.control {
	width: 14px;
	height: 14px;
	border-radius: 50%;
	border: 2px solid #fff;
	box-sizing: border-box;
    background: #4af;
    background: var(--moveable-color);
	margin-top: -7px;
    margin-left: -7px;
    border: 2px solid #fff;
    z-index: 10;
}
.padding {
    position: absolute;
    top: 0px;
    left: 0px;
    width: 100px;
    height: 100px;
    transform-origin: 0 0;
}
.line {
	width: 1px;
    height: 1px;
    background: #4af;
    background: var(--moveable-color);
	transform-origin: 0px 50%;
}
.line.edge {
    z-index: 1;
    background: transparent;
}
.line.dashed {
    box-sizing: border-box;
    background: transparent;
}
.line.dashed.horizontal {
    border-top: 1px dashed #4af;
    border-top-color: #4af;
    border-top-color: var(--moveable-color);
}
.line.dashed.vertical {
    border-left: 1px dashed #4af;
    border-left-color: #4af;
    border-left-color: var(--moveable-color);
}
.line.vertical {
    transform: translateX(-50%);
}
.line.horizontal {
    transform: translateY(-50%);
}
.line.vertical.bold {
    width: 2px;
}
.line.horizontal.bold {
    height: 2px;
}

.control.origin {
	border-color: #f55;
	background: #fff;
	width: 12px;
	height: 12px;
	margin-top: -6px;
    margin-left: -6px;
	pointer-events: none;
}
`.concat([0,15,30,45,60,75,90,105,120,135,150,165].map(function(t){return`
.direction[data-rotation="`.concat(t,'"], :global .view-control-rotation').concat(t,` {
	`).concat(Nv(t),`
}
`)}).join(`
`),`
.group {
    z-index: -1;
}
.area {
    position: absolute;
}
.area-pieces {
    position: absolute;
    top: 0;
    left: 0;
    display: none;
}
.area.avoid, .area.pass {
    pointer-events: none;
}
.area.avoid+.area-pieces {
    display: block;
}
.area-piece {
    position: absolute;
}

`).concat(Eu?`:global svg *:before {
	content:"";
	transform-origin: inherit;
}`:"",`
`),Hv=[[0,1,2],[1,0,3],[2,0,3],[3,1,2]],Pi=1e-4,be=1e-7,Nn=1e-9,Bi=Math.pow(10,10),Ds=-Bi,Xv=["n","w","s","e"],po=["n","w","s","e","nw","ne","sw","se"],jv={n:[0,-1],e:[1,0],s:[0,1],w:[-1,0],nw:[-1,-1],ne:[1,-1],sw:[-1,1],se:[1,1]},ho={n:[0,1],e:[1,3],s:[3,2],w:[2,0],nw:[0],ne:[1],sw:[2],se:[3]},xu={n:0,s:180,w:270,e:90,nw:315,ne:45,sw:225,se:135},wu=["isMoveableElement","updateRect","updateTarget","destroy","dragStart","isInside","hitTest","setState","getRect","request","isDragging","getManager","forceUpdate","waitToChangeTarget","updateSelectors","getTargets","stopDrag"];function In(t,e,n,r,a,i){var o,s;i===void 0&&(i="draggable");var l=(s=(o=e.gestos[i])===null||o===void 0?void 0:o.move(n,t.inputEvent))!==null&&s!==void 0?s:{},u=l.originalDatas||l.datas,f=u[i]||(u[i]={});return T(T({},a?Xu(e,l):l),{isPinch:!!r,parentEvent:!0,datas:f,originalDatas:t.originalDatas})}var Lr=function(){function t(n){var r;n===void 0&&(n="draggable"),this.ableName=n,this.prevX=0,this.prevY=0,this.startX=0,this.startY=0,this.isDrag=!1,this.isFlag=!1,this.datas={draggable:{}},this.datas=(r={},r[n]={},r)}var e=t.prototype;return e.dragStart=function(n,r){this.isDrag=!1,this.isFlag=!1;var a=r.originalDatas;return this.datas=a,a[this.ableName]||(a[this.ableName]={}),T(T({},this.move(n,r.inputEvent)),{type:"dragstart"})},e.drag=function(n,r){return this.move([n[0]-this.prevX,n[1]-this.prevY],r)},e.move=function(n,r){var a,i,o=!1;if(!this.isFlag)this.prevX=n[0],this.prevY=n[1],this.startX=n[0],this.startY=n[1],a=n[0],i=n[1],this.isFlag=!0;else{var s=this.isDrag;a=this.prevX+n[0],i=this.prevY+n[1],(n[0]||n[1])&&(this.isDrag=!0),!s&&this.isDrag&&(o=!0)}return this.prevX=a,this.prevY=i,{type:"drag",clientX:a,clientY:i,inputEvent:r,isFirstDrag:o,isDrag:this.isDrag,distX:a-this.startX,distY:i-this.startY,deltaX:n[0],deltaY:n[1],datas:this.datas[this.ableName],originalDatas:this.datas,parentEvent:!0,parentGesto:this}},t}();function _u(t,e){var n=e.clientX,r=e.clientY,a=e.datas,i=t.state,o=i.moveableClientRect,s=i.rootMatrix,l=i.is3d,u=i.pos1,f=o.left,d=o.top,c=l?4:3,p=pt(yr(s,[n-f,r-d],c),u),v=p[0],h=p[1],g=We({datas:a,distX:v,distY:h}),m=g[0],b=g[1];return[m,b]}function _r(t,e){var n=e.datas,r=t.state,a=r.allMatrix,i=r.beforeMatrix,o=r.is3d,s=r.left,l=r.top,u=r.origin,f=r.offsetMatrix,d=r.targetMatrix,c=r.transformOrigin,p=o?4:3;n.is3d=o,n.matrix=a,n.targetMatrix=d,n.beforeMatrix=i,n.offsetMatrix=f,n.transformOrigin=c,n.inverseMatrix=Fe(a,p),n.inverseBeforeMatrix=Fe(i,p),n.absoluteOrigin=Cr(Ot([s,l],u),p),n.startDragBeforeDist=ve(n.inverseBeforeMatrix,n.absoluteOrigin,p),n.startDragDist=ve(n.inverseMatrix,n.absoluteOrigin,p)}function Uv(t){return zr(t.datas.beforeTransform,[50,50],100,100).direction}function Ma(t,e){var n=t.datas,r=t.originalDatas.beforeRenderable,a=n.transformIndex,i=r.nextTransforms,o=i.length,s=r.nextTransformAppendedIndexes,l=0;a===-1?(e==="translate"?l=0:e==="rotate"&&(l=Ue(i,function(c){return c.match(/scale\(/g)})),l===-1&&(l=i.length),n.transformIndex=l):Ke(s,function(c){return c.index===a&&c.functionName===e})?l=a:l=a+s.filter(function(c){return c.index<a}).length;var u=Cp(i,l),f=u.targetFunction,d=e==="rotate"?"rotateZ":e;n.beforeFunctionTexts=u.beforeFunctionTexts,n.afterFunctionTexts=u.afterFunctionTexts,n.beforeTransform=u.beforeFunctionMatrix,n.beforeTransform2=u.beforeFunctionMatrix2,n.targetTansform=u.targetFunctionMatrix,n.afterTransform=u.afterFunctionMatrix,n.afterTransform2=u.afterFunctionMatrix2,n.targetAllTransform=u.allFunctionMatrix,f.functionName===d?(n.afterFunctionTexts.splice(0,1),n.isAppendTransform=!1):o>l&&(n.isAppendTransform=!0,r.nextTransformAppendedIndexes=yt(yt([],s,!0),[{functionName:e,index:l,isAppend:!0}],!1))}function ka(t,e,n){return"".concat(t.beforeFunctionTexts.join(" ")," ").concat(t.isAppendTransform?n:e," ").concat(t.afterFunctionTexts.join(" "))}function Kv(t){var e=t.datas,n=t.distX,r=t.distY,a=Mu({datas:e,distX:n,distY:r}),i=a[0],o=a[1],s=Du(e,nv([i,o],4));return ve(s,Cr([0,0,0],4),4)}function Du(t,e,n){var r=t.beforeTransform,a=t.afterTransform,i=t.beforeTransform2,o=t.afterTransform2,s=t.targetAllTransform,l=n?qt(s,e,4):qt(e,s,4),u=qt(Fe(n?i:r,4),l,4),f=qt(u,Fe(n?o:a,4),4);return f}function Mu(t){var e=t.datas,n=t.distX,r=t.distY,a=e.inverseBeforeMatrix,i=e.is3d,o=e.startDragBeforeDist,s=e.absoluteOrigin,l=i?4:3;return pt(ve(a,Ot(s,[n,r]),l),o)}function We(t,e){var n=t.datas,r=t.distX,a=t.distY,i=n.inverseBeforeMatrix,o=n.inverseMatrix,s=n.is3d,l=n.startDragBeforeDist,u=n.startDragDist,f=n.absoluteOrigin,d=s?4:3;return pt(ve(e?i:o,Ot(f,[r,a]),d),e?l:u)}function Zv(t,e){var n=t.datas,r=t.distX,a=t.distY,i=n.beforeMatrix,o=n.matrix,s=n.is3d,l=n.startDragBeforeDist,u=n.startDragDist,f=n.absoluteOrigin,d=s?4:3;return pt(ve(e?i:o,Ot(e?l:u,[r,a]),d),f)}function Qv(t,e,n,r,a,i){return r===void 0&&(r=e),a===void 0&&(a=n),i===void 0&&(i=[0,0]),t?t.map(function(o,s){var l=Yr(o),u=l.value,f=l.unit,d=s?a:r,c=s?n:e;if(o==="%"||isNaN(u)){var p=d?i[s]/d:0;return c*p}else if(f!=="%")return u;return c*u/100}):i}function ku(t){var e=[];return t[1]>=0&&(t[0]>=0&&e.push(3),t[0]<=0&&e.push(2)),t[1]<=0&&(t[0]>=0&&e.push(1),t[0]<=0&&e.push(0)),e}function Jv(t,e){return ku(e).map(function(n){return t[n]})}function Qt(t,e){var n=(e[0]+1)/2,r=(e[1]+1)/2,a=[dr(t[0][0],t[1][0],n,1-n),dr(t[0][1],t[1][1],n,1-n)],i=[dr(t[2][0],t[3][0],n,1-n),dr(t[2][1],t[3][1],n,1-n)];return[dr(a[0],i[0],r,1-r),dr(a[1],i[1],r,1-r)]}function tp(t,e,n,r,a,i){var o=or(e,n,r,a),s=Qt(o,i),l=t[0]-s[0],u=t[1]-s[1];return[l,u]}function On(t,e,n,r){return qt(t,ma(e,r,n),r)}function ep(t,e,n){var r=t.transformOrigin,a=t.offsetMatrix,i=t.is3d,o=e.beforeTransform,s=e.afterTransform,l=i?4:3,u=Da([n]);return On(a,Ve(qt(qt(o,u,4),s,4),4,l),r,l)}function rp(t,e){var n=t.transformOrigin,r=t.offsetMatrix,a=t.is3d,i=t.targetMatrix,o=a?4:3;return On(r,qt(i,lo(e,o),o),n,o)}function Ta(t){var e=Xr(t);return{setTransform:function(n,r){r===void 0&&(r=-1),e.startTransforms=re(n)?n:ar(n),Ai(t,r)},setTransformIndex:function(n){Ai(t,n)}}}function Ra(t,e){var n=Xr(t),r=n.startTransforms;Ai(t,Ue(r,function(a){return a.indexOf("".concat(e,"("))===0}))}function Ai(t,e){var n=Xr(t),r=t.datas;if(r.transformIndex=e,e!==-1){var a=n.startTransforms[e];if(!!a){var i=pr([a]);r.startValue=i[0].functionValue}}}function go(t,e){var n=Xr(t);n.nextTransforms=ar(e)}function Xr(t){return t.originalDatas.beforeRenderable}function Tu(t){var e=t.originalDatas.beforeRenderable;return e.nextTransforms}function Vn(t){return Tu(t).join(" ")}function Yn(t){return Xr(t).nextStyle}function Ru(t,e,n,r,a){go(a,e);var i=he.drag(t,In(a,t.state,n,r,!1)),o=i?i.transform:e;return T(T({transform:e,drag:i},ge({transform:o},a)),{afterTransform:o})}function Iu(t,e,n,r,a){var i=t.state,o=i.left,s=i.top,l=t.props.groupable,u=ep(t.state,a,e),f=l?o:0,d=l?s:0,c=Pu(t,n,u),p=pt(r,c);return pt(p,[f,d])}function np(t,e,n,r,a){var i=Iu(t,"scale(".concat(e.join(", "),")"),n,r,a);return i}function Ou(t,e,n){return[-1+t[0]/(e/2),-1+t[1]/(n/2)]}function Pu(t,e,n){n===void 0&&(n=t.state.allMatrix);var r=t.state,a=r.width,i=r.height,o=r.is3d,s=o?4:3,l=[a/2*(1+e[0]),i/2*(1+e[1])];return oe(n,l,s)}function ap(t,e,n){var r=n.fixedDirection,a=n.fixedPosition;return Iu(t,"rotate(".concat(e,"deg)"),r,a,n)}function ip(t,e,n,r,a,i){var o=t.props.groupable,s=t.state,l=s.transformOrigin,u=s.offsetMatrix,f=s.is3d,d=s.width,c=s.height,p=s.left,v=s.top,h=i.fixedDirection,g=i.nextTargetMatrix||s.targetMatrix,m=f?4:3,b=Qv(a,e,n,d,c,l),S=o?p:0,y=o?v:0,x=On(u,g,b,m),C=tp(r,x,e,n,m,h);return pt(C,[S,y])}function Bu(t,e){return Qt(Se(t.state),e)}function op(t,e){var n=t.targetGesto,r=t.controlGesto,a;return n!=null&&n.isFlag()&&(a=n.getEventData()[e]),!a&&(r==null?void 0:r.isFlag())&&(a=r.getEventData()[e]),a||{}}function sp(t,e){return[t[0]*e[0],t[1]*e[1]]}function bt(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return vd.apply(void 0,yt([vo],t,!1))}function Au(t){t()}function lp(t){return!t||t==="none"?[1,0,0,1,0,0]:Ge(t)?t:Da(t)}function ma(t,e,n){return Ei(e,mn(n,e),t,mn(n.map(function(r){return-r}),e))}function up(t,e,n){if(e==="%"){var r=mo(t.ownerSVGElement);return r[n?"width":"height"]/100}return 1}function cp(t){var e=ba(Ze(t,":before"));return e.map(function(n,r){var a=Yr(n),i=a.value,o=a.unit;return i*up(t,o,r===0)})}function ba(t){var e=t.transformOrigin;return e?e.split(" "):["0","0"]}function zu(t,e){e===void 0&&(e=Ze(t));var n=e.transform;if(n&&n!=="none")return e.transform;if("transform"in t){var r=t.transform,a=r.baseVal;if(!a)return"";var i=a.length;if(!i)return"";for(var o=[],s=function(u){var f=a[u].matrix;o.push("matrix(".concat(["a","b","c","d","e","f"].map(function(d){return f[d]}).join(", "),")"))},l=0;l<i;++l)s(l);return o.join(" ")}return""}function bn(t,e,n,r,a){var i,o,s,l=document.documentElement||document.body,u=!1,f,d;if(!t||n)f=t;else{var c=(i=t==null?void 0:t.assignedSlot)===null||i===void 0?void 0:i.parentElement,p=t.parentElement;c?(u=!0,d=p,f=c):f=p}for(var v=!1,h=t===e||f===e,g="relative",m=1,b=parseFloat((o=a)===null||o===void 0?void 0:o.zoom)||1,S=a==null?void 0:a.position;f&&f!==l;){e===f&&(h=!0);var y=Ze(f),x=f.tagName.toLowerCase(),C=zu(f,y),E=y.willChange,M=parseFloat(y.zoom)||1;if(g=y.position,r&&M!==1){m=M;break}if(!n&&r&&b!==1&&S&&S!=="absolute"||x==="svg"||g!=="static"||C&&C!=="none"||E==="transform")break;var w=(s=t==null?void 0:t.assignedSlot)===null||s===void 0?void 0:s.parentNode,_=f.parentNode;w&&(u=!0,d=_);var I=w||_;if(I&&I.nodeType===11){f=I.host,v=!0;break}f=I,g="relative"}return{offsetZoom:m,hasSlot:u,parentSlotElement:d,isCustomElement:v,isStatic:g==="static",isEnd:h||!f||f===l,offsetParent:f||l}}function fp(t,e,n){var r,a=t.tagName.toLowerCase(),i=t.offsetLeft,o=t.offsetTop,s=Vr(i),l=!s,u,f;return!l&&a!=="svg"?(u=Eu?cp(t):ba(n).map(function(d){return parseFloat(d)}),f=u.slice(),l=!0,r=pp(t,u,t===e&&e.tagName.toLowerCase()==="g"),i=r[0],o=r[1],u[0]=r[2],u[1]=r[3]):(u=ba(n).map(function(d){return parseFloat(d)}),f=u.slice()),{tagName:a,isSVG:s,hasOffset:l,offset:[i||0,o||0],origin:u,targetOrigin:f}}function Gu(t,e,n){n===void 0&&(n=Ze(t));var r=Ze(document.body),a=r.position;if(!e&&(!a||a==="static"))return[0,0];var i=parseInt(r.marginLeft,10),o=parseInt(r.marginTop,10);return n.position==="absolute"&&((n.top!=="auto"||n.bottom!=="auto")&&(o=0),(n.left!=="auto"||n.right!=="auto")&&(i=0)),[i,o]}function zi(t){t.forEach(function(e){var n=e.matrix;n&&(e.matrix=Ve(n,3,4))})}function dp(t){for(var e=t.parentElement,n=!1;e;){var r=Ze(e).transform;if(r&&r!=="none"){n=!0;break}if(e===document.body)break;e=e.parentElement}return{fixedContainer:e||document.body,hasTransform:n}}function Ia(t,e){return e===void 0&&(e=t.length>9),"".concat(e?"matrix3d":"matrix","(").concat(cu(t,!e).join(","),")")}function mo(t){var e=t.clientWidth,n=t.clientHeight;if(!t)return{x:0,y:0,width:0,height:0,clientWidth:e,clientHeight:n};var r=t.viewBox,a=r&&r.baseVal||{x:0,y:0,width:0,height:0};return{x:a.x,y:a.y,width:a.width||e,height:a.height||n,clientWidth:e,clientHeight:n}}function vp(t,e){var n=mo(t),r=n.width,a=n.height,i=n.clientWidth,o=n.clientHeight,s=i/r,l=o/a,u=t.preserveAspectRatio.baseVal,f=u.align,d=u.meetOrSlice,c=[0,0],p=[s,l],v=[0,0];if(f!==1){var h=(f-2)%3,g=Math.floor((f-2)/3);c[0]=r*h/2,c[1]=a*g/2;var m=d===2?Math.max(l,s):Math.min(s,l);p[0]=m,p[1]=m,v[0]=(i-r)/2*h,v[1]=(o-a)/2*g}var b=lo(p,e);return b[e*(e-1)]=v[0],b[e*(e-1)+1]=v[1],ma(b,e,c)}function pp(t,e,n){if(!t.getBBox||!n&&t.tagName.toLowerCase()==="g")return[0,0,0,0];var r=t.getBBox(),a=mo(t.ownerSVGElement),i=r.x-a.x,o=r.y-a.y;return[i,o,e[0]-i,e[1]-o]}function oe(t,e,n){return ve(t,Cr(e,n),n)}function or(t,e,n,r){return[[0,0],[e,0],[0,n],[e,n]].map(function(a){return oe(t,a,r)})}function Te(t){var e=t.map(function(u){return u[0]}),n=t.map(function(u){return u[1]}),r=Math.min.apply(Math,e),a=Math.min.apply(Math,n),i=Math.max.apply(Math,e),o=Math.max.apply(Math,n),s=i-r,l=o-a;return{left:r,top:a,right:i,bottom:o,width:s,height:l}}function Ms(t,e,n,r){var a=or(t,e,n,r);return Te(a)}function hp(t,e,n,r,a){var i,o=t.target,s=t.origin,l=e.matrix,u=$u(o),f=u.offsetWidth,d=u.offsetHeight,c=n.getBoundingClientRect(),p=[0,0];n===document.body&&(p=Gu(o,!0));for(var v=o.getBoundingClientRect(),h=v.left-c.left+n.scrollLeft-(n.clientLeft||0)+p[0],g=v.top-c.top+n.scrollTop-(n.clientTop||0)+p[1],m=v.width,b=v.height,S=Ei(r,a,l),y=Ms(S,f,d,r),x=y.left,C=y.top,E=y.width,M=y.height,w=oe(S,s,r),_=pt(w,[x,C]),I=[h+_[0]*m/E,g+_[1]*b/M],D=[0,0],k=0;++k<10;){var O=Fe(a,r);i=pt(oe(O,I,r),oe(O,w,r)),D[0]=i[0],D[1]=i[1];var B=Ei(r,a,mn(D,r),l),$=Ms(B,f,d,r),P=$.left,W=$.top,q=P-h,z=W-g;if(Math.abs(q)<2&&Math.abs(z)<2)break;I[0]-=q,I[1]-=z}return D.map(function(j){return Math.round(j)})}function gp(t,e,n){var r=t.length===16,a=r?4:3,i=e.map(function(l){return oe(t,l,a)}),o=n.left,s=n.top;return i.map(function(l){return[l[0]+o,l[1]+s]})}function zr(t,e,n,r){var a=t.length===16,i=a?4:3,o=or(t,n,r,i),s=o[0],l=s[0],u=s[1],f=o[1],d=f[0],c=f[1],p=o[2],v=p[0],h=p[1],g=o[3],m=g[0],b=g[1],S=oe(t,e,i),y=S[0],x=S[1],C=Math.min(l,d,v,m),E=Math.min(u,c,h,b),M=Math.max(l,d,v,m),w=Math.max(u,c,h,b);l=l-C||0,d=d-C||0,v=v-C||0,m=m-C||0,u=u-E||0,c=c-E||0,h=h-E||0,b=b-E||0,y=y-C||0,x=x-E||0;var _=gi(or(t,100,100,i));return{left:C,top:E,right:M,bottom:w,origin:[y,x],pos1:[l,u],pos2:[d,c],pos3:[v,h],pos4:[m,b],direction:_}}function Ae(t){return Math.sqrt(t[0]*t[0]+t[1]*t[1])}function Fu(t,e){return Ae([e[0]-t[0],e[1]-t[1]])}function an(t,e,n,r){n===void 0&&(n=1),r===void 0&&(r=Jt(t,e));var a=Fu(t,e);return{transform:"translateY(-50%) translate(".concat(t[0],"px, ").concat(t[1],"px) rotate(").concat(r,"rad) scaleY(").concat(n,")"),width:"".concat(a,"px")}}function bo(t,e){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];var a=n.length,i=n.reduce(function(s,l){return s+l[0]},0)/a,o=n.reduce(function(s,l){return s+l[1]},0)/a;return{transform:"translateZ(0px) translate(".concat(i,"px, ").concat(o,"px) rotate(").concat(t,"rad) scale(").concat(e,")")}}function Er(t,e){var n=t[e];return Ge(n)?T(T({},t),n):t}function $u(t,e){e===void 0&&(e=t?Ze(t):null);var n=t&&!Vr(t.offsetWidth),r=0,a=0,i=0,o=0,s=0,l=0,u=0,f=0,d=0,c=0,p=0,v=0,h=1/0,g=1/0,m=1/0,b=1/0,S=0,y=0,x=!1;if(t)if(!n&&t.tagName.toLowerCase()!=="svg"){var C=t.getBBox();x=!0,r=C.width,a=C.height,s=r,l=a,u=r,f=a,i=r,o=a}else{var E=t.style,M=e.boxSizing==="border-box",w=parseFloat(e.borderLeftWidth)||0,_=parseFloat(e.borderRightWidth)||0,I=parseFloat(e.borderTopWidth)||0,D=parseFloat(e.borderBottomWidth)||0,k=parseFloat(e.paddingLeft)||0,O=parseFloat(e.paddingRight)||0,B=parseFloat(e.paddingTop)||0,$=parseFloat(e.paddingBottom)||0,P=k+O,W=B+$,q=w+_,z=I+D,j=P+q,st=W+z,J=e.position,ot=0,K=0;if("clientLeft"in t){var rt=null;if(J==="absolute"){var ft=bn(t,document.body);rt=ft.offsetParent}else rt=t.parentElement;if(rt){var ht=Ze(rt);ot=parseFloat(ht.width),K=parseFloat(ht.height)}}d=Math.max(P,Ht(e.minWidth,ot)||0),c=Math.max(W,Ht(e.minHeight,K)||0),h=Ht(e.maxWidth,ot),g=Ht(e.maxHeight,K),isNaN(h)&&(h=1/0),isNaN(g)&&(g=1/0),S=Ht(E.width,0)||0,y=Ht(E.height,0)||0,s=parseFloat(e.width)||0,l=parseFloat(e.height)||0,u=Math.abs(s-S)<1?va(d,S||s,h):s,f=Math.abs(l-y)<1?va(c,y||l,g):l,r=u,a=f,i=u,o=f,M?(m=h,b=g,p=d,v=c,u=r-j,f=a-st):(m=h+j,b=g+st,p=d+j,v=c+st,r=u+j,a=f+st),i=u+P,o=f+W}return{svg:x,offsetWidth:r,offsetHeight:a,clientWidth:i,clientHeight:o,contentWidth:u,contentHeight:f,inlineCSSWidth:S,inlineCSSHeight:y,cssWidth:s,cssHeight:l,minWidth:d,minHeight:c,maxWidth:h,maxHeight:g,minOffsetWidth:p,minOffsetHeight:v,maxOffsetWidth:m,maxOffsetHeight:b}}function Lu(t,e){return Jt(e>0?t[0]:t[1],e>0?t[1]:t[0])}function Wn(){return{left:0,top:0,width:0,height:0,right:0,bottom:0,clientLeft:0,clientTop:0,clientWidth:0,clientHeight:0,scrollWidth:0,scrollHeight:0}}function qu(t,e){var n=t===document.body||t===document.documentElement,r={clientLeft:t.clientLeft,clientTop:t.clientTop,clientWidth:t.clientWidth,clientHeight:t.clientHeight,scrollWidth:t.scrollWidth,scrollHeight:t.scrollHeight,overflow:!1};return n&&(r.clientHeight=Math.max(e.height,r.clientHeight),r.scrollHeight=Math.max(e.height,r.scrollHeight)),r.overflow=Ze(t).overflow!=="visible",T(T({},e),r)}function Ja(t,e,n,r){var a=t.left,i=t.right,o=t.top,s=t.bottom,l=e.top,u=e.left,f={left:u+a,top:l+o,right:u+i,bottom:l+s,width:i-a,height:s-o};return n&&r?qu(n,f):f}function on(t,e){var n=0,r=0,a=0,i=0;if(t){var o=t.getBoundingClientRect();n=o.left,r=o.top,a=o.width,i=o.height}var s={left:n,top:r,width:a,height:i,right:n+a,bottom:r+i};return t&&e?qu(t,s):s}function Nu(t,e,n,r){var a;if(t)a=t;else if(e)a=[0,0];else{var i=n.target;a=Vu(i,r)}return a}function Vu(t,e){if(!!t){var n=t.getAttribute("data-rotation")||"",r=t.getAttribute("data-direction");if(e.deg=n,!!r){var a=[0,0];return r.indexOf("w")>-1&&(a[0]=-1),r.indexOf("e")>-1&&(a[0]=1),r.indexOf("n")>-1&&(a[1]=-1),r.indexOf("s")>-1&&(a[1]=1),a}}}function yo(t,e){return[Ot(e,t[0]),Ot(e,t[1]),Ot(e,t[2]),Ot(e,t[3])]}function Se(t){var e=t.left,n=t.top,r=t.pos1,a=t.pos2,i=t.pos3,o=t.pos4;return yo([r,a,i,o],[e,n])}function mp(t){return Math.round(t%1===-.5?t-1:t)}function Pr(t,e){var n;(n=t[e])===null||n===void 0||n.unset(),t[e]=null}function ge(t,e){if(e){var n=Xr(e);n.nextStyle=T(T({},n.nextStyle),t)}return{style:t,cssText:Wr(t).map(function(r){return"".concat(ea(r,"-"),": ").concat(t[r],";")}).join("")}}function Yu(t,e,n){var r=e.afterTransform||e.transform;return T(T({},ge(T(T(T({},t.style),e.style),{transform:r}),n)),{afterTransform:r,transform:t.transform})}function Mt(t,e,n,r){var a=e.datas;a.datas||(a.datas={});var i=T(T({},n),{target:t.state.target,clientX:e.clientX,clientY:e.clientY,inputEvent:e.inputEvent,currentTarget:t,moveable:t,datas:a.datas,isFirstDrag:!!e.isFirstDrag,stopAble:function(){a.isEventStart=!1},stopDrag:function(){var o;(o=e.stop)===null||o===void 0||o.call(e)}});return a.isStartEvent?r||(a.lastEvent=i):a.isStartEvent=!0,i}function Ee(t,e,n){var r=e.datas,a="isDrag"in n?n.isDrag:e.isDrag;return r.datas||(r.datas={}),T(T({isDrag:a},n),{moveable:t,target:t.state.target,clientX:e.clientX,clientY:e.clientY,inputEvent:e.inputEvent,currentTarget:t,lastEvent:r.lastEvent,isDouble:e.isDouble,datas:r.datas,isFirstDrag:!!e.isFirstDrag})}function Oa(t,e,n){t._emitter.on(e,n)}function ut(t,e,n,r){return t.triggerEvent(e,n,r)}function Ze(t,e){return window.getComputedStyle(t,e)}function Hn(t,e,n){var r={},a={};return t.filter(function(i){var o=i.name;if(r[o]||!e.some(function(s){return i[s]}))return!1;if(!n&&i.ableGroup){if(a[i.ableGroup])return!1;a[i.ableGroup]=!0}return r[o]=!0,!0})}function Gi(t,e){return t===e||t==null&&e==null}function bp(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var n=t.length-1,r=0;r<n;++r){var a=t[r];if(!Vr(a))return a}return t[n]}function Wu(t,e){var n=[],r=[];return t.forEach(function(a,i){var o=e(a,i,t),s=r.indexOf(o),l=n[s]||[];s===-1&&(r.push(o),n.push(l)),l.push(a)}),n}function yp(t,e){var n=[],r={};return t.forEach(function(a,i){var o=e(a,i,t),s=r[o];s||(s=[],r[o]=s,n.push(s)),s.push(a)}),n}function Hu(t){return t.reduce(function(e,n){return e.concat(n)},[])}function qr(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return t.sort(function(n,r){return Math.abs(r)-Math.abs(n)}),t[0]}function yr(t,e,n){return ve(Fe(t,n),Cr(e,n),n)}function Xu(t,e){var n,r=t.is3d,a=t.rootMatrix,i=r?4:3;return n=yr(a,[e.distX,e.distY],i),e.distX=n[0],e.distY=n[1],e}function Xn(t,e,n,r,a){return pt(oe(t,Ot(n,e),a),r)}function Be(t,e,n){return n?"".concat(t/e*100,"%"):"".concat(t,"px")}function ya(t){return Math.abs(t)<=be?0:t}function So(t){return function(e){if(!e.isDragging(t))return"";var n=op(e,t),r=n.deg;return r?bt("view-control-rotation".concat(r)):""}}function Co(t,e){return e===void 0&&(e=[t]),function(n,r){if(r.isRequest)return e.some(function(i){return r.requestAble===i})?r.parentDirection:!1;var a=r.inputEvent.target;return ie(a,bt("direction"))&&(!t||ie(a,bt(t)))}}function Sp(t){var e={};for(var n in t)e[t[n]]=n;return e}function Cp(t,e){var n=t.slice(0,e<0?void 0:e),r=t.slice(0,e<0?void 0:e+1),a=t[e]||"",i=e<0?[]:t.slice(e),o=e<0?[]:t.slice(e+1),s=pr(n),l=pr(r),u=pr([a]),f=pr(i),d=pr(o),c=Rr(s),p=Rr(l),v=Rr(f),h=Rr(d),g=qt(c,v,4);return{transforms:t,beforeFunctionMatrix:c,beforeFunctionMatrix2:p,targetFunctionMatrix:Rr(u),afterFunctionMatrix:v,afterFunctionMatrix2:h,allFunctionMatrix:g,beforeFunctions:s,beforeFunctions2:l,targetFunction:u[0],afterFunctions:f,afterFunctions2:d,beforeFunctionTexts:n,beforeFunctionTexts2:r,targetFunctionText:a,afterFunctionTexts:i,afterFunctionTexts2:o}}function Ep(t){return!t||!Ge(t)||t instanceof Element?!1:re(t)||"length"in t}function xr(t,e){return t?t instanceof Element?t:me(t)?e?document.querySelector(t):t:Wl(t)?t():"current"in t?t.current:t:null}function Eo(t,e){if(!t)return[];var n=Ep(t)?[].slice.call(t):[t];return n.reduce(function(r,a){return me(a)&&e?yt(yt([],r,!0),[].slice.call(document.querySelectorAll(a)),!0):(re(a)?r.push(Eo(a,e)):r.push(xr(a,e)),r)},[])}function xp(t,e,n){var r=Jt(t,e)/Math.PI*180;return r=n>=0?r:180-r,r=r>=0?r:360+r,r}function ks(t,e){var n=t.rootMatrix,r=t.is3d,a=r?4:3,i=Fe(n,a);return r||(i=Ve(i,3,4)),i[12]=0,i[13]=0,i[14]=0,na(i,e)}function ju(t,e,n,r,a){var i=t[0],o=t[1],s=0,l=0;if(a&&i&&o){var u=Jt([0,0],e),f=Jt([0,0],r),d=Ae(e),c=Math.cos(u-f)*d;if(!r[0])l=c,s=l*n;else if(!r[1])s=c,l=s/n;else{var p=r[0]*2*i,v=r[1]*2*o,h=Ae([p+e[0],v+e[1]])-Ae([p,v]),g=Jt([0,0],[n,1]);s=Math.cos(g)*h,l=Math.sin(g)*h}}else s=r[0]*e[0],l=r[1]*e[1];return[s,l]}function Uu(t,e,n,r){var a,i=n.ratio,o=n.startOffsetWidth,s=n.startOffsetHeight,l=0,u=0,f=r.distX,d=r.distY,c=r.parentDistance,p=r.parentDist,v=r.parentScale,h=n.fixedDirection,g=[0,1].map(function(C){return Math.abs(t[C]-h[C])}),m=[0,1].map(function(C){var E=g[C];return E!==0&&(E=2/E),E});if(p)l=p[0],u=p[1],e&&(l?u||(u=l/i):l=u*i);else if(v)l=(v[0]-1)*o,u=(v[1]-1)*s;else if(c){var b=o*g[0],S=s*g[1],y=Ae([b,S]);l=c/y*b*m[0],u=c/y*S*m[1]}else{var x=We({datas:n,distX:f,distY:d});x=m.map(function(C,E){return x[E]*C}),a=ju([o,s],x,i,t,e),l=a[0],u=a[1]}return{distWidth:l,distHeight:u}}function Fi(t,e){if(e){if(t==="left")return{x:"0%",y:"50%"};if(t==="top")return{x:"50%",y:"50%"};if(t==="center")return{x:"50%",y:"50%"};if(t==="right")return{x:"100%",y:"50%"};if(t==="bottom")return{x:"50%",y:"100%"};var n=t.split(" "),r=n[0],a=n[1],i=Fi(r||""),o=Fi(a||""),s=T(T({},i),o),l={x:"50%",y:"50%"};return s.x&&(l.x=s.x),s.y&&(l.y=s.y),s.value&&(s.x&&!s.y&&(l.y=s.value),!s.x&&s.y&&(l.x=s.value)),l}return t==="left"?{x:"0%"}:t==="right"?{x:"100%"}:t==="top"?{y:"0%"}:t==="bottom"?{y:"100%"}:t?t==="center"?{value:"50%"}:{value:t}:{}}function wp(t,e,n){var r=Fi(t,!0),a=r.x,i=r.y;return[Ht(a,e)||0,Ht(i,n)||0]}function _p(t,e,n){var r=t.map(function(i){return pt(i,e)}),a=r.map(function(i){return kn(i,n)});return{prev:r,next:a,result:a.map(function(i){return Ot(i,e)})}}var Dp=Rn("pinchable",{events:{onPinchStart:"pinchStart",onPinch:"pinch",onPinchEnd:"pinchEnd",onPinchGroupStart:"pinchGroupStart",onPinchGroup:"pinchGroup",onPinchGroupEnd:"pinchGroupEnd"},dragStart:function(){return!0},pinchStart:function(t,e){var n=e.datas,r=e.targets,a=e.angle,i=e.originalDatas,o=t.props,s=o.pinchable,l=o.ables;if(!s)return!1;var u="onPinch".concat(r?"Group":"","Start"),f="drag".concat(r?"Group":"","ControlStart"),d=(s===!0?t.controlAbles:l.filter(function(h){return s.indexOf(h.name)>-1})).filter(function(h){return h.canPinch&&h[f]}),c=Mt(t,e,{});r&&(c.targets=r);var p=ut(t,u,c);n.isPinch=p!==!1,n.ables=d;var v=n.isPinch;return v?(d.forEach(function(h){if(i[h.name]=i[h.name]||{},!!h[f]){var g=T(T({},e),{datas:i[h.name],parentRotate:a,isPinch:!0});h[f](t,g)}}),t.state.snapRenderInfo={request:e.isRequest,direction:[0,0]},v):!1},pinch:function(t,e){var n=e.datas,r=e.scale,a=e.distance,i=e.originalDatas,o=e.inputEvent,s=e.targets,l=e.angle;if(!!n.isPinch){var u=a*(1-1/r),f=Mt(t,e,{});s&&(f.targets=s);var d="onPinch".concat(s?"Group":"");ut(t,d,f);var c=n.ables,p="drag".concat(s?"Group":"","Control");return c.forEach(function(v){!v[p]||v[p](t,T(T({},e),{datas:i[v.name],inputEvent:o,parentDistance:u,parentRotate:l,isPinch:!0}))}),f}},pinchEnd:function(t,e){var n=e.datas,r=e.isPinch,a=e.inputEvent,i=e.targets,o=e.originalDatas;if(!!n.isPinch){var s="onPinch".concat(i?"Group":"","End"),l=Ee(t,e,{isDrag:r});i&&(l.targets=i),ut(t,s,l);var u=n.ables,f="drag".concat(i?"Group":"","ControlEnd");return u.forEach(function(d){!d[f]||d[f](t,T(T({},e),{isDrag:r,datas:o[d.name],inputEvent:a,isPinch:!0}))}),r}},pinchGroupStart:function(t,e){return this.pinchStart(t,T(T({},e),{targets:t.props.targets}))},pinchGroup:function(t,e){return this.pinch(t,T(T({},e),{targets:t.props.targets}))},pinchGroupEnd:function(t,e){return this.pinchEnd(t,T(T({},e),{targets:t.props.targets}))}});function ze(t,e,n){var r=n.originalDatas;r.groupable=r.groupable||{};var a=r.groupable;a.childDatas=a.childDatas||[];var i=a.childDatas;return t.moveables.map(function(o,s){return i[s]=i[s]||{},i[s][e]=i[s][e]||{},T(T({},n),{datas:i[s][e],originalDatas:i[s]})})}function ti(t,e,n,r,a,i,o){var s=!!n.match(/Start$/g),l=!!n.match(/End$/g),u=a.isPinch,f=a.datas,d=ze(t,e.name,a),c=t.moveables,p=d.map(function(v,h){var g=c[h],m=g.state,b=m.gestos,S=v;if(s)S=new Lr(o).dragStart(r,v);else{if(b[o]||(b[o]=f.childGestos[h]),!b[o])return;S=In(v,m,r,u,i,o)}var y=e[n](g,T(T({},S),{parentFlag:!0}));return l&&(b[o]=null),y});return s&&(f.childGestos=c.map(function(v){return v.state.gestos[o]})),p}function je(t,e,n,r,a,i){a===void 0&&(a=function(f,d){return d});var o=!!n.match(/End$/g),s=ze(t,e.name,r),l=t.moveables,u=s.map(function(f,d){var c=l[d],p=f;p=a(c,f);var v=e[n](c,T(T({},p),{parentFlag:!0}));return v&&i&&i(c,f,v,d),o&&(c.state.gestos={}),v});return u}var Mp=["left","right","center"],kp=["top","bottom","middle"],sr={start:"left",end:"right",center:"center"},lr={start:"top",end:"bottom",center:"middle"};function jr(t,e){var n=t.props,r=n.snappable,a=n.bounds,i=n.innerBounds,o=n.verticalGuidelines,s=n.horizontalGuidelines,l=n.snapGridWidth,u=n.snapGridHeight,f=t.state,d=f.guidelines,c=f.enableSnap;return!r||!c||e&&r!==!0&&r.indexOf(e)<0?!1:!!(l||u||a||i||d&&d.length||o&&o.length||s&&s.length)}function xo(t){return t===!1?{}:t===!0||!t?{left:!0,right:!0,top:!0,bottom:!0}:t}function Tp(t,e){var n=xo(t),r={};for(var a in n)a in e&&n[a]&&(r[a]=e[a]);return r}function wo(t,e){var n=Tp(t,e),r=kp.filter(function(i){return i in n}),a=Mp.filter(function(i){return i in n});return{horizontal:r.map(function(i){return n[i]}),vertical:a.map(function(i){return n[i]})}}function Rp(t,e,n){var r=oe(t,[e.clientLeft,e.clientTop],n);return[e.left+r[0],e.top+r[1]]}function Ip(t){var e=t[0],n=t[1],r=n[0]-e[0],a=n[1]-e[1];Math.abs(r)<ae&&(r=0),Math.abs(a)<ae&&(a=0);var i=0,o=0,s=0;return r?a?(i=-a/r,o=1,s=i*e[0]-e[1]):(o=1,s=-e[1]):(i=-1,s=e[0]),[i,o,s].map(function(l){return Dt(l,ae)})}function Pa(t,e,n,r){var a=t.props,i=bp(r,a.snapThreshold,5);return Ku(t.state.guidelines,e,n,i)}function Ku(t,e,n,r){return{vertical:Rs(t,"vertical",e,r),horizontal:Rs(t,"horizontal",n,r)}}function Op(t,e,n){var r=n[0],a=n[1],i=e[0],o=e[1],s=pt(n,e),l=s[0],u=s[1],f=u>0,d=l>0;l=ya(l),u=ya(u);var c={isSnap:!1,offset:0,pos:0},p={isSnap:!1,offset:0,pos:0};if(l===0&&u===0)return{vertical:c,horizontal:p};var v=Pa(t,l?[r]:[],u?[a]:[]),h=v.vertical,g=v.horizontal;h.posInfos.filter(function(O){var B=O.pos;return d?B>=i:B<=i}),g.posInfos.filter(function(O){var B=O.pos;return f?B>=o:B<=o}),h.isSnap=h.posInfos.length>0,g.isSnap=g.posInfos.length>0;var m=$i(h),b=m.isSnap,S=m.guideline,y=$i(g),x=y.isSnap,C=y.guideline,E=x?C.pos[1]:0,M=b?S.pos[0]:0;if(l===0)x&&(p.isSnap=!0,p.pos=C.pos[1],p.offset=a-p.pos);else if(u===0)b&&(c.isSnap=!0,c.pos=M,c.offset=r-M);else{var w=u/l,_=n[1]-w*r,I=0,D=0,k=!1;b?(D=M,I=w*D+_,k=!0):x&&(I=E,D=(I-_)/w,k=!0),k&&(c.isSnap=!0,c.pos=D,c.offset=r-D,p.isSnap=!0,p.pos=I,p.offset=a-I)}return{vertical:c,horizontal:p}}function Ts(t,e,n){var r=wo(t.props.snapDirections,e);return Pa(t,r.vertical,r.horizontal,n)}function $i(t){var e=t.isSnap;if(!e)return{isSnap:!1,offset:0,dist:-1,pos:0,guideline:null};var n=t.posInfos[0],r=n.guidelineInfos[0],a=r.offset,i=r.dist,o=r.guideline;return{isSnap:e,offset:a,dist:i,pos:n.pos,guideline:o}}function Rs(t,e,n,r){if(!t||!t.length)return{isSnap:!1,index:-1,posInfos:[]};var a=e==="vertical",i=a?0:1,o=n.map(function(l,u){var f=t.map(function(d){var c=d.pos,p=l-c[i];return{offset:p,dist:Math.abs(p),guideline:d}}).filter(function(d){var c=d.guideline,p=d.dist,v=c.type;return!(v!==e||p>r)}).sort(function(d,c){return d.dist-c.dist});return{pos:l,index:u,guidelineInfos:f}}).filter(function(l){return l.guidelineInfos.length>0}).sort(function(l,u){return l.guidelineInfos[0].dist-u.guidelineInfos[0].dist}),s=o.length>0;return{isSnap:s,index:s?o[0].index:-1,posInfos:o}}function Pp(t,e,n,r){r===void 0&&(r=1);var a=[];if(n[0]&&n[1])a=[n,[-n[0],n[1]],[n[0],-n[1]]].map(function(s){return Qt(e,s)});else if(!n[0]&&!n[1])for(var i=[e[0],e[1],e[3],e[2],e[0]],o=0;o<4;++o)a.push(i[o]),a.push([(i[o][0]+i[o+1][0])/2,(i[o][1]+i[o+1][1])/2]);else t.props.keepRatio?a=[[-1,-1],[-1,1],[1,-1],[1,1],n].map(function(s){return Qt(e,s)}):(a=Jv(e,n),a.length>1&&a.push([(a[0][0]+a[1][0])/2,(a[0][1]+a[1][1])/2]));return Pa(t,a.map(function(s){return s[0]}),a.map(function(s){return s[1]}),r)}function Zu(t,e){var n=Math.abs(t.offset),r=Math.abs(e.offset);return t.isBound&&e.isBound?r-n:t.isBound?-1:e.isBound?1:t.isSnap&&e.isSnap?r-n:t.isSnap?-1:e.isSnap||n<be?1:r<be?-1:n-r}function Sa(t,e){return t.slice().sort(function(n,r){var a=n.sign[e],i=r.sign[e],o=n.offset[e],s=r.offset[e];if(a){if(!i)return-1}else return 1;return Zu({isBound:n.isBound,isSnap:n.isSnap,offset:o},{isBound:r.isBound,isSnap:r.isSnap,offset:s})})[0]}function Bp(t,e,n){var r=[];if(n)Math.abs(e[0])!==1||Math.abs(e[1])!==1?r.push([e,[-1,-1]],[e,[-1,1]],[e,[1,-1]],[e,[1,1]]):r.push([e,[t[0],-t[1]]],[e,[-t[0],t[1]]]),r.push([e,t]);else if(t[0]&&t[1]||!t[0]&&!t[1]){var a=t[0]?t:[1,1];[1,-1].forEach(function(o){[1,-1].forEach(function(s){var l=[o*a[0],s*a[1]];e[0]===l[0]&&e[1]===l[1]||r.push([e,l])})})}else if(t[0]){var i=Math.abs(e[0])===1?[1]:[1,-1];i.forEach(function(o){r.push([[e[0],-1],[o*t[0],-1]],[[e[0],0],[o*t[0],0]],[[e[0],1],[o*t[0],1]])})}else if(t[1]){var i=Math.abs(e[1])===1?[1]:[1,-1];i.forEach(function(s){r.push([[-1,e[1]],[-1,s*t[1]]],[[0,e[1]],[0,s*t[1]]],[[1,e[1]],[1,s*t[1]]])})}return r}function Qu(t,e){var n=hi([e[0][0],e[1][0]]),r=hi([e[0][1],e[1][1]]);return{vertical:n<=t[0],horizontal:r<=t[1]}}function _o(t,e){var n=e[0],r=e[1],a=r[0]-n[0],i=r[1]-n[1];Math.abs(a)<be&&(a=0),Math.abs(i)<be&&(i=0);var o,s;if(!a)o=n[0],s=t[0];else if(!i)o=n[1],s=t[1];else{var l=i/a;o=l*(t[0]-n[0])+n[1],s=t[1]}return o-s}function Ju(t,e,n,r){return r===void 0&&(r=be),t.every(function(a){var i=_o(a,e),o=i<=0;return o===n||Math.abs(i)<=r})}function Is(t,e,n,r,a){return a===void 0&&(a=0),r&&e-a<=t||!r&&t<=n+a?{isBound:!0,offset:r?e-t:n-t}:{isBound:!1,offset:0}}function Ap(t,e){var n=e.line,r=e.centerSign,a=e.verticalSign,i=e.horizontalSign,o=e.lineConstants,s=t.props.innerBounds;if(!s)return{isAllBound:!1,isBound:!1,isVerticalBound:!1,isHorizontalBound:!1,offset:[0,0]};var l=s.left,u=s.top,f=s.width,d=s.height,c=[[l,u],[l,u+d]],p=[[l,u],[l+f,u]],v=[[l+f,u],[l+f,u+d]],h=[[l,u+d],[l+f,u+d]];if(Ju([[l,u],[l+f,u],[l,u+d],[l+f,u+d]],n,r))return{isAllBound:!1,isBound:!1,isVerticalBound:!1,isHorizontalBound:!1,offset:[0,0]};var g=rr(n,o,p,a),m=rr(n,o,h,a),b=rr(n,o,c,i),S=rr(n,o,v,i),y=g.isBound&&m.isBound,x=g.isBound||m.isBound,C=b.isBound&&S.isBound,E=b.isBound||S.isBound,M=qr(g.offset,m.offset),w=qr(b.offset,S.offset),_=[0,0],I=!1,D=!1;return Math.abs(w)<Math.abs(M)?(_=[M,0],I=x,D=y):(_=[0,w],I=E,D=C),{isAllBound:D,isVerticalBound:x,isHorizontalBound:E,isBound:I,offset:_}}function rr(t,e,n,r,a,i){var o=e[0],s=e[1],l=t[0],u=n[0],f=n[1],d=ya(f[1]-u[1]),c=ya(f[0]-u[0]),p=s,v=o,h=-o/s;if(c){if(!d){if(i&&!p)return{isBound:!1,offset:0};if(v){var S=(u[1]-l[1])/h+l[0];return Is(S,u[0],f[0],r,a)}else{var m=u[1]-l[1],b=Math.abs(m)<=(a||0);return{isBound:b,offset:b?m:0}}}}else{if(i&&!v)return{isBound:!1,offset:0};if(p){var g=h*(u[0]-l[0])+l[1];return Is(g,u[1],f[1],r,a)}else{var m=u[0]-l[0],b=Math.abs(m)<=(a||0);return{isBound:b,offset:b?m:0}}}return{isBound:!1,offset:0}}function tc(t,e,n){return e.map(function(r){var a=Ap(t,r),i=a.isBound,o=a.offset,s=a.isVerticalBound,l=a.isHorizontalBound,u=r.multiple,f=We({datas:n,distX:o[0],distY:o[1]}).map(function(d,c){return d*(u[c]?2/u[c]:0)});return{sign:u,isBound:i,isVerticalBound:s,isHorizontalBound:l,isSnap:!1,offset:f}})}function zp(t,e,n){var r,a=Do(t,e,[0,0],!1).map(function(c){return T(T({},c),{multiple:c.multiple.map(function(p){return Math.abs(p)*2})})}),i=tc(t,a,n),o=Sa(i,0),s=Sa(i,1),l=0,u=0,f=o.isVerticalBound||s.isVerticalBound,d=o.isHorizontalBound||s.isHorizontalBound;return(f||d)&&(r=Zv({datas:n,distX:-o.offset[0],distY:-s.offset[1]}),l=r[0],u=r[1]),{vertical:{isBound:f,offset:l},horizontal:{isBound:d,offset:u}}}function Gp(t,e){var n=[],r=t[0],a=t[1];return r&&a?n.push([[0,a*2],t,[-r,a]],[[r*2,0],t,[r,-a]]):r?(n.push([[r*2,0],[r,1],[r,-1]]),e&&n.push([[0,-1],[r,-1],[-r,-1]],[[0,1],[r,1],[-r,1]])):a?(n.push([[0,a*2],[1,a],[-1,a]]),e&&n.push([[-1,0],[-1,a],[-1,-a]],[[1,0],[1,a],[1,-a]])):n.push([[-1,0],[-1,-1],[-1,1]],[[1,0],[1,-1],[1,1]],[[0,-1],[-1,-1],[1,-1]],[[0,1],[-1,1],[1,1]]),n}function Do(t,e,n,r){var a=t.state,i=a.allMatrix,o=a.is3d,s=or(i,100,100,o?4:3),l=Qt(s,[0,0]);return Gp(n,r).map(function(u){var f=u[0],d=u[1],c=u[2],p=[Qt(s,d),Qt(s,c)],v=Ip(p),h=Qu(l,p),g=h.vertical,m=h.horizontal,b=_o(l,p)<=0;return{multiple:f,centerSign:b,verticalSign:g,horizontalSign:m,lineConstants:v,line:[Qt(e,d),Qt(e,c)]}})}function Os(t,e,n,r){var a=r?t.map(function(i){return kn(i,r)}):t;return[[a[0],a[1]],[a[1],a[3]],[a[3],a[2]],[a[2],a[0]]].some(function(i){var o=_o(n,i)<=0;return!Ju(e,i,o)})}function Fp(t){var e=t[0],n=t[1],r=n[0]-e[0],a=n[1]-e[1];if(!r)return Math.abs(e[0]);if(!a)return Math.abs(e[1]);var i=a/r;return Math.abs((-i*e[0]+e[1])/Math.sqrt(Math.pow(i,2)+1))}function $p(t){var e=t[0],n=t[1],r=n[0]-e[0],a=n[1]-e[1];if(!r)return[e[0],0];if(!a)return[0,e[1]];var i=a/r,o=-i*e[0]+e[1];return[-o/(i+1/i),o/(i*i+1)]}function Lp(t,e,n,r,a){var i=t.props.innerBounds,o=a*Math.PI/180;if(!i)return[];var s=i.left,l=i.top,u=i.width,f=i.height,d=s-r[0],c=s+u-r[0],p=l-r[1],v=l+f-r[1],h=[[d,p],[c,p],[d,v],[c,v]],g=Qt(n,[0,0]);if(!Os(n,h,g,0))return[];var m=[],b=h.map(function(S){return[Ae(S),Jt([0,0],S)]});return[[n[0],n[1]],[n[1],n[3]],[n[3],n[2]],[n[2],n[0]]].forEach(function(S){var y=Jt([0,0],$p(S)),x=Fp(S);m.push.apply(m,b.filter(function(C){var E=C[0];return E&&x<=E}).map(function(C){var E=C[0],M=C[1],w=Math.acos(E?x/E:0),_=M+w,I=M-w;return[o+_-y,o+I-y]}).reduce(function(C,E){return C.push.apply(C,E),C},[]).filter(function(C){return!Os(e,h,g,C)}).map(function(C){return Dt(C*180/Math.PI,be)}))}),m}function qp(t){var e=t.props.innerBounds;if(!e)return{vertical:[],horizontal:[]};var n=t.getRect(),r=n.pos1,a=n.pos2,i=n.pos3,o=n.pos4,s=[r,a,i,o],l=Qt(s,[0,0]),u=e.left,f=e.top,d=e.width,c=e.height,p=[[u,f],[u,f+c]],v=[[u,f],[u+d,f]],h=[[u+d,f],[u+d,f+c]],g=[[u,f+c],[u+d,f+c]],m=Do(t,s,[0,0],!1),b=[],S=[],y={top:!1,bottom:!1,left:!1,right:!1};return m.forEach(function(x){var C=x.line,E=x.lineConstants,M=Qu(l,C),w=M.horizontal,_=M.vertical,I=rr(C,E,v,_,1,!0),D=rr(C,E,g,_,1,!0),k=rr(C,E,p,w,1,!0),O=rr(C,E,h,w,1,!0);I.isBound&&!y.top&&(b.push(f),y.top=!0),D.isBound&&!y.bottom&&(b.push(f+c),y.bottom=!0),k.isBound&&!y.left&&(S.push(u),y.left=!0),O.isBound&&!y.right&&(S.push(u+d),y.right=!0)}),{horizontal:b,vertical:S}}function Mo(t,e,n){var r=t||{},a=r.position,i=a===void 0?"client":a,o=r.left,s=o===void 0?-1/0:o,l=r.top,u=l===void 0?-1/0:l,f=r.right,d=f===void 0?1/0:f,c=r.bottom,p=c===void 0?1/0:c,v={position:i,left:s,top:u,right:d,bottom:p};return{vertical:Ps(v,e,!0),horizontal:Ps(v,n,!1)}}function Ba(t,e){var n=t.state,r=n.containerClientRect,a=r.clientHeight,i=r.clientWidth,o=r.clientLeft,s=r.clientTop,l=n.snapOffset,u=l.left,f=l.top,d=l.right,c=l.bottom,p=e||t.props.bounds||{},v=p.position||"client",h=v==="css",g=p.left,m=g===void 0?-1/0:g,b=p.top,S=b===void 0?-1/0:b,y=p.right,x=y===void 0?h?-1/0:1/0:y,C=p.bottom,E=C===void 0?h?-1/0:1/0:C;return h&&(x=i+d-u-x,E=a+c-f-E),{left:m+u-o,right:x+u-o,top:S+f-s,bottom:E+f-s}}function Np(t,e,n){var r=Ba(t),a=r.left,i=r.top,o=r.right,s=r.bottom,l=n[0],u=n[1],f=pt(n,e),d=f[0],c=f[1];Math.abs(d)<be&&(d=0),Math.abs(c)<be&&(c=0);var p=c>0,v=d>0,h={isBound:!1,offset:0,pos:0},g={isBound:!1,offset:0,pos:0};if(d===0&&c===0)return{vertical:h,horizontal:g};if(d===0)p?s<u&&(g.pos=s,g.offset=u-s):i>u&&(g.pos=i,g.offset=u-i);else if(c===0)v?o<l&&(h.pos=o,h.offset=l-o):a>l&&(h.pos=a,h.offset=l-a);else{var m=c/d,b=n[1]-m*l,S=0,y=0,x=!1;v&&o<=l?(S=m*o+b,y=o,x=!0):!v&&l<=a&&(S=m*a+b,y=a,x=!0),x&&(S<i||S>s)&&(x=!1),x||(p&&s<=u?(S=s,y=(S-b)/m,x=!0):!p&&u<=i&&(S=i,y=(S-b)/m,x=!0)),x&&(h.isBound=!0,h.pos=y,h.offset=l-y,g.isBound=!0,g.pos=S,g.offset=u-S)}return{vertical:h,horizontal:g}}function Ps(t,e,n){var r=t[n?"left":"top"],a=t[n?"right":"bottom"],i=Math.min.apply(Math,e),o=Math.max.apply(Math,e),s=[];return r+1>i&&s.push({isBound:!0,offset:i-r,pos:r}),a-1<o&&s.push({isBound:!0,offset:o-a,pos:a}),s.length||s.push({isBound:!1,offset:0,pos:0}),s.sort(function(l,u){return Math.abs(u.offset)-Math.abs(l.offset)})}function Bs(t,e,n){var r=n?t.map(function(a){return kn(a,n)}):t;return r.some(function(a){return a[0]<e.left&&Math.abs(a[0]-e.left)>.1||a[0]>e.right&&Math.abs(a[0]-e.right)>.1||a[1]<e.top&&Math.abs(a[1]-e.top)>.1||a[1]>e.bottom&&Math.abs(a[1]-e.bottom)>.1})}function Vp(t,e,n){var r=Ae(t),a=Math.sqrt(r*r-e*e)||0;return[a,-a].sort(function(i,o){return Math.abs(i-t[n?0:1])-Math.abs(o-t[n?0:1])}).map(function(i){return Jt([0,0],n?[i,e]:[e,i])})}function Yp(t,e,n,r,a){if(!t.props.bounds)return[];var i=a*Math.PI/180,o=Ba(t),s=o.left,l=o.top,u=o.right,f=o.bottom,d=s-r[0],c=u-r[0],p=l-r[1],v=f-r[1],h={left:d,top:p,right:c,bottom:v};if(!Bs(n,h,0))return[];var g=[];return[[d,0],[c,0],[p,1],[v,1]].forEach(function(m){var b=m[0],S=m[1];n.forEach(function(y){var x=Jt([0,0],y);g.push.apply(g,Vp(y,b,S).map(function(C){return i+C-x}).filter(function(C){return!Bs(e,h,C)}).map(function(C){return Dt(C*180/Math.PI,be)}))})}),g}function Wp(t,e){var n,r=t.direction,a=t.classNames,i=t.size,o=t.pos,s=t.zoom,l=t.key,u=r==="horizontal",f=u?"Y":"X";return e.createElement("div",{key:l,className:a.join(" "),style:(n={},n[u?"width":"height"]="".concat(i),n.transform="translate(".concat(o[0],", ").concat(o[1],") translate").concat(f,"(-50%) scale").concat(f,"(").concat(s,")"),n)})}function ko(t,e){return Wp(T(T({},t),{classNames:yt([bt("line","guideline",t.direction)],t.classNames,!0).filter(function(n){return n}),size:t.size||"".concat(t.sizeValue,"px"),pos:t.pos||t.posValue.map(function(n){return"".concat(Dt(n,.1),"px")})}),e)}function As(t,e,n,r,a,i,o,s){var l=t.props.zoom;return n.map(function(u,f){var d=u.type,c=u.pos,p=[0,0];return p[o]=r,p[o?0:1]=-a+c,ko({key:"".concat(e,"TargetGuideline").concat(f),classNames:[bt("target","bold",d)],posValue:p,sizeValue:i,zoom:l,direction:e},s)})}function zs(t,e,n,r,a,i){var o=t.props,s=o.zoom,l=o.isDisplayInnerSnapDigit,u=e==="horizontal"?sr:lr,f=a[u.start],d=a[u.end];return n.filter(function(c){var p=c.hide,v=c.elementRect;if(p)return!1;if(l&&v){var h=v.rect;if(h[u.start]<=f&&d<=h[u.end])return!1}return!0}).map(function(c,p){var v=c.pos,h=c.size,g=c.element,m=c.className,b=[-r[0]+v[0],-r[1]+v[1]];return ko({key:"".concat(e,"-default-guideline-").concat(p),classNames:g?[bt("bold"),m]:[bt("normal"),m],direction:e,posValue:b,sizeValue:h,zoom:s},i)})}function sn(t,e,n,r,a,i,o,s){var l,u=t.props,f=u.snapDigit,d=f===void 0?0:f,c=u.isDisplaySnapDigit,p=c===void 0?!0:c,v=u.snapDistFormat,h=v===void 0?function(x,C){return x}:v,g=u.zoom,m=e==="horizontal"?"X":"Y",b=e==="vertical"?"height":"width",S=Math.abs(a),y=p?parseFloat(S.toFixed(d)):0;return s.createElement("div",{key:"".concat(e,"-").concat(n,"-guideline-").concat(r),className:bt("guideline-group",e),style:(l={left:"".concat(i[0],"px"),top:"".concat(i[1],"px")},l[b]="".concat(S,"px"),l)},ko({direction:e,classNames:[bt(n),o],size:"100%",posValue:[0,0],sizeValue:S,zoom:g},s),s.createElement("div",{className:bt("size-value","gap"),style:{transform:"translate".concat(m,"(-50%) scale(").concat(g,")")}},y>0?h(y,e):""))}function Hp(t,e,n,r){var a=t==="vertical"?0:1,i=t==="vertical"?1:0,o=a?sr:lr,s=n[o.start],l=n[o.end];return Wu(e,function(u){return u.pos[a]}).map(function(u){var f=[],d=[],c=[];return u.forEach(function(p){var v,h,g=p.element,m=p.elementRect.rect;if(m[o.end]<s)f.push(p);else if(l<m[o.start])d.push(p);else if(m[o.start]<=s&&l<=m[o.end]&&r){var b=p.pos,S={element:g,rect:T(T({},m),(v={},v[o.end]=m[o.start],v))},y={element:g,rect:T(T({},m),(h={},h[o.start]=m[o.end],h))},x=[0,0],C=[0,0];x[a]=b[a],x[i]=b[i],C[a]=b[a],C[i]=b[i]+p.size,f.push({type:t,pos:x,size:0,elementRect:S}),d.push({type:t,pos:C,size:0,elementRect:y})}}),f.sort(function(p,v){return v.pos[i]-p.pos[i]}),d.sort(function(p,v){return p.pos[i]-v.pos[i]}),{total:u,start:f,end:d,inner:c}})}function Xp(t,e,n,r,a){var i=t.props.isDisplayInnerSnapDigit,o=[];return["vertical","horizontal"].forEach(function(s){var l=e.filter(function(g){return g.type===s}),u=s==="vertical"?1:0,f=u?0:1,d=Hp(s,l,r,i),c=u?lr:sr,p=u?sr:lr,v=r[c.start],h=r[c.end];d.forEach(function(g){var m=g.total,b=g.start,S=g.end,y=g.inner,x=n[f]+m[0].pos[f]-r[p.start],C=r;b.forEach(function(E){var M=E.elementRect.rect,w=C[c.start]-M[c.end];if(w>0){var _=[0,0];_[u]=n[u]+C[c.start]-v-w,_[f]=x,o.push(sn(t,s,"dashed",o.length,w,_,E.className,a))}C=M}),C=r,S.forEach(function(E){var M=E.elementRect.rect,w=M[c.start]-C[c.end];if(w>0){var _=[0,0];_[u]=n[u]+C[c.end]-v,_[f]=x,o.push(sn(t,s,"dashed",o.length,w,_,E.className,a))}C=M}),y.forEach(function(E){var M=E.elementRect.rect,w=v-M[c.start],_=M[c.end]-h,I=[0,0],D=[0,0];I[u]=n[u]-w,I[f]=x,D[u]=n[u]+h-v,D[f]=x,o.push(sn(t,s,"dashed",o.length,w,I,E.className,a)),o.push(sn(t,s,"dashed",o.length,_,D,E.className,a))})})}),o}function jp(t,e,n,r,a){var i=[];return["horizontal","vertical"].forEach(function(o){var s=e.filter(function(g){return g.type===o}).slice(0,1),l=o==="vertical"?0:1,u=l?0:1,f=l?lr:sr,d=l?sr:lr,c=r[f.start],p=r[f.end],v=r[d.start],h=r[d.end];s.forEach(function(g){var m=g.gap,b=g.gapRects,S=Math.max.apply(Math,yt([v],b.map(function(C){var E=C.rect;return E[d.start]}),!1)),y=Math.min.apply(Math,yt([h],b.map(function(C){var E=C.rect;return E[d.end]}),!1)),x=(S+y)/2;S===y||x===(v+h)/2||b.forEach(function(C){var E=C.rect,M=C.className,w=[n[0],n[1]];if(E[f.end]<c)w[l]+=E[f.end]-c;else if(p<E[f.start])w[l]+=E[f.start]-c-m;else return;w[u]+=x-v,i.push(sn(t,l?"vertical":"horizontal","gap",i.length,m,w,M,a))})})}),i}function Up(t,e,n,r){var a=e[0]-t[0],i=e[1]-t[1];if(Math.abs(a)<ae&&(a=0),Math.abs(i)<ae&&(i=0),!a)return r?[0,0]:[0,n];if(!i)return r?[n,0]:[0,0];var o=i/a,s=t[1]-o*t[0];if(r){var l=o*(e[0]+n)+s;return[n,l-e[1]]}else{var u=(e[1]+n-s)/o;return[u-e[0],n]}}function Li(t,e,n,r,a){var i=Up(t,e,n,r);if(!i)return{isOutside:!1,offset:[0,0]};var o=Me(t,e),s=Me(i,t),l=Me(i,e),u=s>o||l>o,f=We({datas:a,distX:i[0],distY:i[1]}),d=f[0],c=f[1];return{offset:[d,c],isOutside:u}}function Ca(t,e){return t.isBound?t.offset:e.isSnap?$i(e).offset:0}function Kp(t,e,n,r,a){var i=e[0],o=e[1],s=n[0],l=n[1],u=r[0],f=r[1],d=a[0],c=a[1],p=-d,v=-c;if(t&&i&&o){p=0,v=0;var h=[];if(s&&l?h.push([0,c],[d,0]):s?h.push([d,0]):l?h.push([0,c]):u&&f?h.push([0,c],[d,0]):u?h.push([d,0]):f&&h.push([0,c]),h.length){h.sort(function(S,y){return Ae(pt([i,o],S))-Ae(pt([i,o],y))});var g=h[0];if(g[0]&&Math.abs(i)>ae)p=-g[0],v=o*Math.abs(i+p)/Math.abs(i)-o;else if(g[1]&&Math.abs(o)>ae){var m=o;v=-g[1],p=i*Math.abs(o+v)/Math.abs(m)-i}if(t&&l&&s)if(Math.abs(p)>ae&&Math.abs(p)<Math.abs(d)){var b=Math.abs(d)/Math.abs(p);p*=b,v*=b}else if(Math.abs(v)>ae&&Math.abs(v)<Math.abs(c)){var b=Math.abs(c)/Math.abs(v);p*=b,v*=b}else p=qr(-d,p),v=qr(-c,v)}}else p=i||s?-d:0,v=o||l?-c:0;return[p,v]}function Zp(t,e,n,r,a,i){if(!jr(t,"draggable"))return[{isSnap:!1,isBound:!1,offset:0},{isSnap:!1,isBound:!1,offset:0}];var o=yo(i.absolutePoses,[e,n]),s=Te(o),l=s.left,u=s.right,f=s.top,d=s.bottom,c={horizontal:o.map(function(O){return O[1]}),vertical:o.map(function(O){return O[0]})},p=xo(t.props.snapDirections),v=wo(p,{left:l,right:u,top:f,bottom:d,center:(l+u)/2,middle:(f+d)/2}),h=Aa(t,a,v,c),g=h.vertical,m=h.horizontal,b=zp(t,o,i),S=b.vertical,y=b.horizontal,x=g.isSnap,C=m.isSnap,E=g.isBound||S.isBound,M=m.isBound||y.isBound,w=qr(g.offset,S.offset),_=qr(m.offset,y.offset),I=Kp(r,[e,n],[E,M],[x,C],[w,_]),D=I[0],k=I[1];return[{isBound:E,isSnap:x,offset:D},{isBound:M,isSnap:C,offset:k}]}function Aa(t,e,n,r){r===void 0&&(r=n);var a=Mo(Ba(t),r.vertical,r.horizontal),i=a.horizontal,o=a.vertical,s=e?{horizontal:{isSnap:!1,index:-1},vertical:{isSnap:!1,index:-1}}:Pa(t,n.vertical,n.horizontal),l=s.horizontal,u=s.vertical,f=Ca(i[0],l),d=Ca(o[0],u),c=Math.abs(f),p=Math.abs(d);return{horizontal:{isBound:i[0].isBound,isSnap:l.isSnap,snapIndex:l.index,offset:f,dist:c,bounds:i,snap:l},vertical:{isBound:o[0].isBound,isSnap:u.isSnap,snapIndex:u.index,offset:d,dist:p,bounds:o,snap:u}}}function Gs(t,e,n,r,a){var i=Mo(e,n,r),o=i.horizontal,s=i.vertical,l=Ku(t,n,r,a),u=l.horizontal,f=l.vertical,d=Ca(o[0],u),c=Ca(s[0],f),p=Math.abs(d),v=Math.abs(c);return{horizontal:{isBound:o[0].isBound,isSnap:u.isSnap,snapIndex:u.index,offset:d,dist:p,bounds:o,snap:u},vertical:{isBound:s[0].isBound,isSnap:f.isSnap,snapIndex:f.index,offset:c,dist:v,bounds:s,snap:f}}}function Qp(t,e,n,r){var a=Jt(t,e)/Math.PI*180,i=n.vertical,o=i.isBound,s=i.isSnap,l=i.dist,u=n.horizontal,f=u.isBound,d=u.isSnap,c=u.dist,p=a%180,v=p<3||p>177,h=p>87&&p<93;return c<l&&(o||s&&!h&&(!r||!v))?"vertical":f||d&&!v&&(!r||!h)?"horizontal":""}function Jp(t,e,n,r,a,i){return n.map(function(o){var s=o[0],l=o[1],u=Qt(e,s),f=Qt(e,l),d=r?th(t,u,f,a):Aa(t,a,{vertical:[f[0]],horizontal:[f[1]]}),c=d.horizontal,p=c.offset,v=c.isBound,h=c.isSnap,g=d.vertical,m=g.offset,b=g.isBound,S=g.isSnap,y=pt(l,s);if(!m&&!p)return{isBound:b||v,isSnap:S||h,sign:y,offset:[0,0]};var x=Qp(u,f,d,r);if(!x)return{sign:y,isBound:!1,isSnap:!1,offset:[0,0]};var C=x==="vertical",E=[0,0];return!r&&Math.abs(l[0])===1&&Math.abs(l[1])===1&&s[0]!==l[0]&&s[1]!==l[1]?E=We({datas:i,distX:-m,distY:-p}):E=Li(u,f,-(C?m:p),C,i).offset,E=E.map(function(M,w){return M*(y[w]?2/y[w]:0)}),{sign:y,isBound:C?b:v,isSnap:C?S:h,offset:E}})}function Fs(t,e){return t.isBound?t.offset:e.isSnap?e.offset:0}function th(t,e,n,r){var a=Np(t,e,n),i=a.horizontal,o=a.vertical,s=r?{horizontal:{isSnap:!1},vertical:{isSnap:!1}}:Op(t,e,n),l=s.horizontal,u=s.vertical,f=Fs(i,l),d=Fs(o,u),c=Math.abs(f),p=Math.abs(d);return{horizontal:{isBound:i.isBound,isSnap:l.isSnap,offset:f,dist:c},vertical:{isBound:o.isBound,isSnap:u.isSnap,offset:d,dist:p}}}function eh(t,e,n,r,a){var i=[-n[0],-n[1]],o=t.state,s=o.width,l=o.height,u=t.props.bounds,f=1/0,d=1/0;if(u){var c=[[n[0],-n[1]],[-n[0],n[1]]],p=u.left,v=p===void 0?-1/0:p,h=u.top,g=h===void 0?-1/0:h,m=u.right,b=m===void 0?1/0:m,S=u.bottom,y=S===void 0?1/0:S;c.forEach(function(x){var C=x[0]!==i[0],E=x[1]!==i[1],M=Qt(e,x),w=Jt(r,M)*360/Math.PI;if(E){var _=M.slice();(Math.abs(w-360)<2||Math.abs(w-180)<2)&&(_[1]=r[1]);var I=Li(r,_,(r[1]<M[1]?y:g)-M[1],!1,a),D=I.offset,k=D[1],O=I.isOutside;isNaN(k)||(d=l+(O?1:-1)*Math.abs(k))}if(C){var _=M.slice();(Math.abs(w-90)<2||Math.abs(w-270)<2)&&(_[0]=r[0]);var B=Li(r,_,(r[0]<M[0]?b:v)-M[0],!0,a),$=B.offset[0],P=B.isOutside;isNaN($)||(f=s+(P?1:-1)*Math.abs($))}})}return{maxWidth:f,maxHeight:d}}function qi(t){var e=t.state,n=e.containerClientRect,r=e.hasFixed,a=n.overflow,i=n.scrollHeight,o=n.scrollWidth,s=n.clientHeight,l=n.clientWidth,u=n.clientLeft,f=n.clientTop,d=t.props,c=d.snapGap,p=c===void 0?!0:c,v=d.verticalGuidelines,h=d.horizontalGuidelines,g=d.snapThreshold,m=g===void 0?5:g,b=d.snapGridWidth,S=b===void 0?0:b,y=d.snapGridHeight,x=y===void 0?0:y,C=d.maxSnapElementGuidelineDistance,E=C===void 0?1/0:C,M=Te(Se(t.state)),w=M.top,_=M.left,I=M.bottom,D=M.right,k={top:w,left:_,bottom:I,right:D,center:(_+D)/2,middle:(w+I)/2},O=ah(t),B=yt([],O,!0);p&&B.push.apply(B,rh(t,k,m)),B.push.apply(B,nh(S,x,a?o:l,a?i:s,u,f));var $=T({},e.snapOffset||{left:0,top:0,bottom:0,right:0});if(r){var P=n.left,W=n.top;$.left+=P,$.top+=W,$.right+=P,$.bottom+=W}return B.push.apply(B,rc(h||!1,v||!1,a?o:l,a?i:s,u,f,$)),B=B.filter(function(q){var z=q.element,j=q.elementRect,st=q.type;if(!z||!j)return!0;var J=j.rect;return ec(k,J,st,E)}),B}function rh(t,e,n){var r=t.props,a=r.maxSnapElementGuidelineDistance,i=a===void 0?1/0:a,o=r.maxSnapElementGapDistance,s=o===void 0?1/0:o,l=t.state.elementRects,u=[];return[["vertical",sr,lr],["horizontal",lr,sr]].forEach(function(f){var d=f[0],c=f[1],p=f[2],v=e[c.start],h=e[c.end],g=e[c.center],m=e[p.start],b=e[p.end];function S(C){var E=C.rect;return E[c.end]<v+n?v-E[c.end]:h-n<E[c.start]?E[c.start]-h:-1}var y=l.filter(function(C){var E=C.rect;return E[p.start]>b||E[p.end]<m?!1:S(C)>0}).sort(function(C,E){return S(C)-S(E)}),x=[];y.forEach(function(C){y.forEach(function(E){if(C!==E){var M=C.rect,w=E.rect,_=M[p.start],I=M[p.end],D=w[p.start],k=w[p.end];_>k||D>I||x.push([C,E])}})}),x.forEach(function(C){var E=C[0],M=C[1],w=E.rect,_=M.rect,I=w[c.start],D=w[c.end],k=_[c.start],O=_[c.end],B=0,$=0,P=!1,W=!1,q=!1;if(D<=v&&h<=k){if(W=!0,B=(k-D-(h-v))/2,$=D+B+(h-v)/2,Math.abs($-g)>n)return}else if(D<k&&O<v+n){if(P=!0,B=k-D,$=O+B,Math.abs($-v)>n)return}else if(D<k&&h-n<I){if(q=!0,B=k-D,$=I-B,Math.abs($-h)>n)return}else return;!B||!ec(e,_,d,i)||B>s||u.push({type:d,pos:d==="vertical"?[$,0]:[0,$],element:M.element,size:0,className:M.className,isStart:P,isCenter:W,isEnd:q,gap:B,hide:!0,gapRects:[E,M]})})}),u}function nh(t,e,n,r,a,i){a===void 0&&(a=0),i===void 0&&(i=0);var o=[];if(e)for(var s=0;s<=r;s+=e)o.push({type:"horizontal",pos:[0,Dt(s-i,.1)],size:n,hide:!0});if(t)for(var s=0;s<=n;s+=t)o.push({type:"vertical",pos:[Dt(s-a,.1),0],size:r,hide:!0});return o}function ec(t,e,n,r){return n==="horizontal"?Math.abs(t.right-e.left)<=r||Math.abs(t.left-e.right)<=r||t.left<=e.right&&e.left<=t.right:n==="vertical"?Math.abs(t.bottom-e.top)<=r||Math.abs(t.top-e.bottom)<=r||t.top<=e.bottom&&e.top<=t.bottom:!0}function ah(t){var e=t.state,n=t.props.elementGuidelines,r=n===void 0?[]:n;if(!r.length)return e.elementRects=[],[];var a=(e.elementRects||[]).filter(function(c){return!c.refresh}),i=r.map(function(c){return Ge(c)&&"element"in c?T(T({},c),{element:xr(c.element,!0)}):{element:xr(c,!0)}}).filter(function(c){return c.element}),o=cn(a.map(function(c){return c.element}),i.map(function(c){return c.element})),s=o.maintained,l=o.added,u=[];s.forEach(function(c){var p=c[0],v=c[1];u[v]=a[p]}),ih(t,l.map(function(c){return i[c]})).map(function(c,p){u[l[p]]=c}),e.elementRects=u;var f=xo(t.props.elementSnapDirections),d=[];return u.forEach(function(c){var p=c.element,v=c.top,h=v===void 0?f.top:v,g=c.left,m=g===void 0?f.left:g,b=c.right,S=b===void 0?f.right:b,y=c.bottom,x=y===void 0?f.bottom:y,C=c.center,E=C===void 0?f.center:C,M=c.middle,w=M===void 0?f.middle:M,_=c.className,I=c.rect,D=wo({top:h,right:S,left:m,bottom:x,center:E,middle:w},I),k=D.horizontal,O=D.vertical,B=I.top,$=I.left,P=I.right-$,W=I.bottom-B,q=[P,W];O.forEach(function(z){d.push({type:"vertical",element:p,pos:[Dt(z,.1),B],size:W,sizes:q,className:_,elementRect:c})}),k.forEach(function(z){d.push({type:"horizontal",element:p,pos:[$,Dt(z,.1)],size:P,sizes:q,className:_,elementRect:c})})}),d}function rc(t,e,n,r,a,i,o){a===void 0&&(a=0),i===void 0&&(i=0),o===void 0&&(o={left:0,top:0,right:0,bottom:0});var s=[],l=o.left,u=o.top,f=o.bottom,d=o.right,c=n+d-l,p=r+f-u;return t&&t.forEach(function(v){var h=Ge(v)?v:{pos:v};s.push({type:"horizontal",pos:[l,Dt(h.pos-i+u,.1)],size:c,className:h.className})}),e&&e.forEach(function(v){var h=Ge(v)?v:{pos:v};s.push({type:"vertical",pos:[Dt(h.pos-a+l,.1),u],size:p,className:h.className})}),s}function ih(t,e){if(!e.length)return[];var n=t.state,r=n.containerClientRect,a=n.targetClientRect,i=a.top,o=a.left,s=n.rootMatrix,l=n.is3d,u=l?4:3,f=Rp(s,r,u),d=f[0],c=f[1],p=Se(n),v=ir(p),h=v.minX,g=v.minY,m=pt([h,g],yr(s,[o-d,i-c],u)).map(function(y){return mp(y)}),b=m[0],S=m[1];return e.map(function(y){var x=y.element.getBoundingClientRect(),C=x.left-d,E=x.top-c,M=E+x.height,w=C+x.width,_=yr(s,[C,E],u),I=_[0],D=_[1],k=yr(s,[w,M],u),O=k[0],B=k[1];return T(T({},y),{rect:{left:I+b,right:O+b,top:D+S,bottom:B+S,center:(I+O)/2+b,middle:(D+B)/2+S}})})}function jn(t){var e=t.state,n=e.container,r=t.props.snapContainer||n;if(e.snapContainer===r&&e.guidelines&&e.guidelines.length)return!1;var a=e.containerClientRect,i={left:0,top:0,bottom:0,right:0};if(n!==r){var o=xr(r,!0);if(o){var s=on(o),l=ks(e,[s.left-a.left,s.top-a.top]),u=ks(e,[s.right-a.right,s.bottom-a.bottom]);i.left=Dt(l[0],1e-5),i.top=Dt(l[1],1e-5),i.right=Dt(u[0],1e-5),i.bottom=Dt(u[1],1e-5)}}return e.snapContainer=r,e.snapOffset=i,e.guidelines=qi(t),e.enableSnap=!0,!0}function nc(t,e,n,r,a,i){var o=or(t,e,n,i?4:3),s=Qt(o,r);return yo(o,pt(a,s))}function oh(t,e,n,r,a,i){var o=i.fixedDirection,s=Bp(n,o,r),l=Do(t,e,n,r),u=yt(yt([],Jp(t,e,s,r,a,i),!0),tc(t,l,i),!0),f=Sa(u,0),d=Sa(u,1);return{width:{isBound:f.isBound,offset:f.offset[0]},height:{isBound:d.isBound,offset:d.offset[1]}}}function sh(t,e,n,r,a,i,o,s,l){var u=Qt(e,o),f=Aa(t,s,{vertical:[u[0]],horizontal:[u[1]]}),d=f.horizontal.offset,c=f.vertical.offset;if(Dt(c,Pi)||Dt(d,Pi)){var p=We({datas:l,distX:-c,distY:-d}),v=p[0],h=p[1],g=Math.min(a||1/0,n+o[0]*v),m=Math.min(i||1/0,r+o[1]*h);return[g-n,m-r]}return[0,0]}function ac(t,e,n,r,a,i,o,s){for(var l=Se(t.state),u=t.props.keepRatio,f=0,d=0,c=0;c<2;++c){var p=e(f,d),v=oh(t,p,a,u,o,s),h=v.width,g=v.height,m=h.isBound,b=g.isBound,S=h.offset,y=g.offset;if(c===1&&(m||(S=0),b||(y=0)),c===0&&o&&!m&&!b)return[0,0];if(u){var x=Math.abs(S)*(n?1/n:1),C=Math.abs(y)*(r?1/r:1),E=m&&b?x<C:b||!m&&x<C;E?S=n*y/r:y=r*S/n}f+=S,d+=y}if(a[0]&&a[1]){var M=eh(t,l,a,i,s),w=M.maxWidth,_=M.maxHeight,I=sh(t,e(f,d).map(function(O){return O.map(function(B){return Dt(B,Pi)})}),n+f,r+d,w,_,a,o,s),S=I[0],y=I[1];f+=S,d+=y}return[f,d]}function lh(t,e,n){if(!jr(t,"rotatable"))return{isSnap:!1,rotation:n};var r=e.pos1,a=e.pos2,i=e.pos3,o=e.pos4,s=e.origin,l=n*Math.PI/180,u=[r,a,i,o].map(function(p){return pt(p,s)}),f=u.map(function(p){return kn(p,l)}),d=yt(yt([],Yp(t,u,f,s,n),!0),Lp(t,u,f,s,n),!0);d.sort(function(p,v){return Math.abs(p-n)-Math.abs(v-n)});var c=d.length>0;return{isSnap:c,rotation:c?d[0]:n}}function uh(t,e,n,r,a,i,o){if(!jr(t,"resizable"))return[0,0];var s=o.fixedDirection,l=o.nextAllMatrix,u=t.state,f=u.allMatrix,d=u.is3d;return ac(t,function(c,p){return nc(l||f,e+c,n+p,s,a,d)},e,n,r,a,i,o)}function ch(t,e,n,r,a){if(!jr(t,"scalable"))return[0,0];var i=a.startOffsetWidth,o=a.startOffsetHeight,s=a.fixedPosition,l=a.fixedDirection,u=a.is3d,f=ac(t,function(d,c){return nc(rp(a,Ot(e,[d/i,c/o])),i,o,l,s,u)},i,o,n,s,r,a);return[f[0]/i,f[1]/o]}function fh(t,e){e.absolutePoses=Se(t.state)}function $s(t){var e=[];return t.forEach(function(n){n.guidelineInfos.forEach(function(r){var a=r.guideline;e.indexOf(a)>-1||e.push(a)})}),e}function Ls(t,e,n,r,a,i){var o=Mo(Ba(t,i),e,n),s=o.vertical,l=o.horizontal;s.forEach(function(c){c.isBound&&r.push({type:"bounds",pos:c.pos})}),l.forEach(function(c){c.isBound&&a.push({type:"bounds",pos:c.pos})});var u=qp(t),f=u.vertical,d=u.horizontal;f.forEach(function(c){Ue(r,function(p){var v=p.type,h=p.pos;return v==="bounds"&&h===c})>=0||r.push({type:"bounds",pos:c})}),d.forEach(function(c){Ue(a,function(p){var v=p.type,h=p.pos;return v==="bounds"&&h===c})>=0||a.push({type:"bounds",pos:c})})}var dh=Co("",["resizable","scalable"]),vh={name:"snappable",dragRelation:"strong",props:{snappable:[Boolean,Array],snapContainer:Object,snapDirections:[Boolean,Object],elementSnapDirections:[Boolean,Object],snapGap:Boolean,snapGridWidth:Number,snapGridHeight:Number,isDisplaySnapDigit:Boolean,isDisplayInnerSnapDigit:Boolean,snapDigit:Number,snapThreshold:Number,snapRenderThreshold:Number,horizontalGuidelines:Array,verticalGuidelines:Array,elementGuidelines:Array,bounds:Object,innerBounds:Object,snapDistFormat:Function,maxSnapElementGuidelineDistance:Number,maxSnapElementGapDistance:Number},events:{onSnap:"snap"},css:[`:host {
    --bounds-color: #d66;
}
.guideline {
    pointer-events: none;
    z-index: 2;
}
.guideline.bounds {
    background: #d66;
    background: var(--bounds-color);
}
.guideline-group {
    position: absolute;
    top: 0;
    left: 0;
}
.guideline-group .size-value {
    position: absolute;
    color: #f55;
    font-size: 12px;
    font-weight: bold;
}
.guideline-group.horizontal .size-value {
    transform-origin: 50% 100%;
    transform: translateX(-50%);
    left: 50%;
    bottom: 5px;
}
.guideline-group.vertical .size-value {
    transform-origin: 0% 50%;
    top: 50%;
    transform: translateY(-50%);
    left: 5px;
}
.guideline.gap {
    background: #f55;
}
.size-value.gap {
    color: #f55;
}
`],render:function(t,e){var n=t.state,r=n.top,a=n.left,i=n.pos1,o=n.pos2,s=n.pos3,l=n.pos4,u=n.snapRenderInfo,f=t.props.snapRenderThreshold,d=f===void 0?1:f;if(!u||!jr(t,""))return[];n.guidelines=qi(t);var c=Math.min(i[0],o[0],s[0],l[0]),p=Math.min(i[1],o[1],s[1],l[1]),v=u.externalPoses||[],h=Se(t.state),g=[],m=[],b=[],S=[],y=[],x=Te(h),C=x.width,E=x.height,M=x.top,w=x.left,_=x.bottom,I=x.right,D={left:w,right:I,top:M,bottom:_,center:(w+I)/2,middle:(M+_)/2},k=v.length>0,O=k?Te(v):{};if(!u.request){if(u.direction&&y.push(Pp(t,h,u.direction,d)),u.snap){var B=Te(h);u.center&&(B.middle=(B.top+B.bottom)/2,B.center=(B.left+B.right)/2),y.push(Ts(t,B,d))}k&&(u.center&&(O.middle=(O.top+O.bottom)/2,O.center=(O.left+O.right)/2),y.push(Ts(t,O,d))),y.forEach(function(q){var z=q.vertical.posInfos,j=q.horizontal.posInfos;g.push.apply(g,z.filter(function(st){var J=st.guidelineInfos;return J.some(function(ot){var K=ot.guideline;return!K.hide})}).map(function(st){return{type:"snap",pos:st.pos}})),m.push.apply(m,j.filter(function(st){var J=st.guidelineInfos;return J.some(function(ot){var K=ot.guideline;return!K.hide})}).map(function(st){return{type:"snap",pos:st.pos}})),b.push.apply(b,$s(z)),S.push.apply(S,$s(j))})}Ls(t,[w,I],[M,_],g,m),k&&Ls(t,[O.left,O.right],[O.top,O.bottom],g,m,u.externalBounds);var $=yt(yt([],b,!0),S,!0),P=$.filter(function(q){return q.element&&!q.gapRects}),W=$.filter(function(q){return q.gapRects}).sort(function(q,z){return q.gap-z.gap});return ut(t,"onSnap",{guidelines:$.filter(function(q){var z=q.element;return!z}),elements:P,gaps:W},!0),yt(yt(yt(yt(yt(yt([],Xp(t,P,[c,p],D,e),!0),jp(t,W,[c,p],D,e),!0),zs(t,"horizontal",S,[a,r],D,e),!0),zs(t,"vertical",b,[a,r],D,e),!0),As(t,"horizontal",m,c,r,C,0,e),!0),As(t,"vertical",g,p,a,E,1,e),!0)},dragStart:function(t,e){t.state.snapRenderInfo={request:e.isRequest,snap:!0,center:!0},jn(t)},drag:function(t){var e=t.state;jn(t)||(e.guidelines=qi(t))},pinchStart:function(t){this.unset(t)},dragEnd:function(t){this.unset(t)},dragControlCondition:function(t,e){if(dh(t,e)||Vi(t,e))return!0;if(!e.isRequest&&e.inputEvent)return ie(e.inputEvent.target,bt("snap-control"))},dragControlStart:function(t){t.state.snapRenderInfo=null,jn(t)},dragControl:function(t){this.drag(t)},dragControlEnd:function(t){this.unset(t)},dragGroupStart:function(t,e){this.dragStart(t,e)},dragGroup:function(t){this.drag(t)},dragGroupEnd:function(t){this.unset(t)},dragGroupControlStart:function(t){t.state.snapRenderInfo=null,jn(t)},dragGroupControl:function(t){this.drag(t)},dragGroupControlEnd:function(t){this.unset(t)},unset:function(t){var e=t.state;e.enableSnap=!1,e.guidelines=[],e.snapRenderInfo=null,e.elementRects=[]}};function ic(t,e,n,r){var a=t.getState(),i=a.renderPoses,o=a.rotation,s=a.direction,l=Er(t.props,e).zoom,u=s>0?1:-1,f=o/Math.PI*180,d={},c=t.renderState;c.renderDirectionMap||(c.renderDirectionMap={});var p=c.renderDirectionMap;return n.forEach(function(v){var h=v.dir;d[h]=!0}),n.map(function(v){var h=v.data,g=v.classNames,m=v.dir,b=ho[m];if(!b||!d[m])return null;p[m]=!0;var S=(Dt(f,15)+u*xu[m]+720)%180,y={};return Wr(h).forEach(function(x){y["data-".concat(x)]=h[x]}),r.createElement("div",T({className:bt.apply(void 0,yt(["control","direction",m,e],g,!1)),"data-rotation":S,"data-direction":m},y,{key:"direction-".concat(m),style:bo.apply(void 0,yt([o,l],b.map(function(x){return i[x]}),!1))}))})}function oc(t,e,n,r){var a=Er(t.props,n).renderDirections,i=a===void 0?e:a;if(!i)return[];var o=i===!0?po:i;return ic(t,n,o.map(function(s){return{data:{},classNames:[],dir:s}}),r)}function ph(t,e){var n=t.renderState;n.renderDirectionMap||(n.renderDirectionMap={});var r=t.getState(),a=r.renderPoses,i=r.rotation,o=r.direction,s=n.renderDirectionMap,l=t.props.zoom,u=o>0?1:-1,f=i/Math.PI*180;return Wr(s).map(function(d){var c=ho[d];if(!c)return null;var p=(Dt(f,15)+u*xu[d]+720)%180;return e.createElement("div",{className:bt("around-control"),"data-rotation":p,"data-direction":d,key:"direction-around-".concat(d),style:bo.apply(void 0,yt([i,l],c.map(function(v){return a[v]}),!1))})})}function yn(t,e,n,r,a,i){for(var o=[],s=6;s<arguments.length;s++)o[s-6]=arguments[s];var l=Jt(n,r),u=e?Dt(l/Math.PI*180,15)%180:-1;return t.createElement("div",{key:"line-".concat(i),className:bt.apply(void 0,yt(["line","direction",e?"edge":"",e],o,!1)),"data-rotation":u,"data-line-key":i,"data-direction":e,style:an(n,r,a,l)})}function sc(t,e,n,r,a){var i=n===!0?Xv:n;return i.map(function(o,s){var l=ho[o],u=l[0],f=l[1];if(f!=null)return yn(t,o,r[u],r[f],a,"".concat(e,"Edge").concat(s),e)}).filter(Boolean)}function lc(t){return function(e,n){var r=Er(e.props,t).edge;return r&&(r===!0||r.length)?yt(yt([],sc(n,t,r,e.getState().renderPoses,e.props.zoom),!0),hh(e,t,n),!0):uc(e,t,n)}}function uc(t,e,n){return oc(t,po,e,n)}function hh(t,e,n){return oc(t,["nw","ne","sw","se"],e,n)}var he={name:"draggable",props:{draggable:Boolean,throttleDrag:Number,throttleDragRotate:Number,startDragRotate:Number,edgeDraggable:Boolean},events:{onDragStart:"dragStart",onDrag:"drag",onDragEnd:"dragEnd",onDragGroupStart:"dragGroupStart",onDragGroup:"dragGroup",onDragGroupEnd:"dragGroupEnd"},requestStyle:function(){return["left","top","right","bottom"]},render:function(t,e){var n=t.props,r=n.throttleDragRotate,a=n.zoom,i=t.getState(),o=i.dragInfo,s=i.beforeOrigin;if(!r||!o)return[];var l=o.dist;if(!l[0]&&!l[1])return[];var u=Ae(l),f=Jt(l,[0,0]);return[e.createElement("div",{className:bt("line","horizontal","dragline","dashed"),key:"dragRotateGuideline",style:{width:"".concat(u,"px"),transform:"translate(".concat(s[0],"px, ").concat(s[1],"px) rotate(").concat(f,"rad) scaleY(").concat(a,")")}})]},dragStart:function(t,e){var n=e.datas,r=e.parentEvent,a=e.parentGesto,i=t.state,o=i.gestos,s=i.style;if(o.draggable)return!1;o.draggable=a||t.targetGesto,n.datas={},n.left=parseFloat(s.left||"")||0,n.top=parseFloat(s.top||"")||0,n.bottom=parseFloat(s.bottom||"")||0,n.right=parseFloat(s.right||"")||0,n.startValue=[0,0],_r(t,e),Ra(e,"translate"),fh(t,n),n.prevDist=[0,0],n.prevBeforeDist=[0,0],n.isDrag=!1,n.deltaOffset=[0,0];var l=Mt(t,e,T({set:function(f){n.startValue=f}},Ta(e))),u=r||ut(t,"onDragStart",l);return u!==!1?(n.isDrag=!0,t.state.dragInfo={startRect:t.getRect(),dist:[0,0]}):(o.draggable=null,n.isPinch=!1),n.isDrag?l:!1},drag:function(t,e){if(!!e){Ma(e,"translate");var n=e.datas,r=e.parentEvent,a=e.parentFlag,i=e.isPinch,o=e.isRequest,s=e.deltaOffset,l=e.distX,u=e.distY,f=n.isDrag,d=n.prevDist,c=n.prevBeforeDist,p=n.startValue;if(!!f){s&&(l+=s[0],u+=s[1]);var v=t.props,h=v.parentMoveable,g=r?0:v.throttleDrag||0,m=r?0:v.throttleDragRotate||0,b=0,S=!1,y=!1,x=!1,C=!1;if(!r&&m>0&&(l||u)){var E=v.startDragRotate||0,M=Dt(E+Jt([0,0],[l,u])*180/Math.PI,m)-E,w=u*Math.abs(Math.cos((M-90)/180*Math.PI)),_=l*Math.abs(Math.cos(M/180*Math.PI)),I=Ae([_,w]);b=M*Math.PI/180,l=I*Math.cos(b),u=I*Math.sin(b)}if(!i&&!r&&!a){var D=Zp(t,l,u,m,o||s,n),k=D[0],O=D[1];S=k.isSnap,y=k.isBound,x=O.isSnap,C=O.isBound;var B=k.offset,$=O.offset;l+=B,u+=$}var P=Ot(Mu({datas:n,distX:l,distY:u}),p),W=Ot(Kv({datas:n,distX:l,distY:u}),p);bs(W,be),bs(P,be),m||(!S&&!y&&(W[0]=Dt(W[0],g),P[0]=Dt(P[0],g)),!x&&!C&&(W[1]=Dt(W[1],g),P[1]=Dt(P[1],g)));var q=pt(P,p),z=pt(W,p),j=pt(z,d),st=pt(q,c);n.prevDist=z,n.prevBeforeDist=q,n.passDelta=j,n.passDist=z;var J=n.left+q[0],ot=n.top+q[1],K=n.right-q[0],rt=n.bottom-q[1],ft=ka(n,"translate(".concat(W[0],"px, ").concat(W[1],"px)"),"translate(".concat(z[0],"px, ").concat(z[1],"px)"));if(go(e,ft),t.state.dragInfo.dist=r?[0,0]:z,!(!r&&!h&&j.every(function(nt){return!nt})&&st.some(function(nt){return!nt}))){var ht=t.state,F=ht.width,N=ht.height,Z=Mt(t,e,T({transform:ft,dist:z,delta:j,translate:W,beforeDist:q,beforeDelta:st,beforeTranslate:P,left:J,top:ot,right:K,bottom:rt,width:F,height:N,isPinch:i},ge({transform:ft},e)));return!r&&ut(t,"onDrag",Z),Z}}}},dragAfter:function(t,e){var n=e.datas,r=n.deltaOffset;return r[0]||r[1]?(n.deltaOffset=[0,0],this.drag(t,T(T({},e),{deltaOffset:r}))):!1},dragEnd:function(t,e){var n=e.parentEvent,r=e.datas;if(t.state.dragInfo=null,!!r.isDrag){r.isDrag=!1;var a=Ee(t,e,{});return!n&&ut(t,"onDragEnd",a),a}},dragGroupStart:function(t,e){var n=e.datas,r=e.clientX,a=e.clientY,i=this.dragStart(t,e);if(!i)return!1;var o=ti(t,this,"dragStart",[r||0,a||0],e,!1,"draggable"),s=T(T({},i),{targets:t.props.targets,events:o}),l=ut(t,"onDragGroupStart",s);return n.isDrag=l!==!1,n.isDrag?i:!1},dragGroup:function(t,e){var n=e.datas;if(!!n.isDrag){var r=this.drag(t,e),a=e.datas.passDelta,i=ti(t,this,"drag",a,e,!1,"draggable");if(!!r){var o=T({targets:t.props.targets,events:i},r);return ut(t,"onDragGroup",o),o}}},dragGroupEnd:function(t,e){var n=e.isDrag,r=e.datas;if(!!r.isDrag){this.dragEnd(t,e);var a=ti(t,this,"dragEnd",[0,0],e,!1,"draggable");return ut(t,"onDragGroupEnd",Ee(t,e,{targets:t.props.targets,events:a})),n}},request:function(t){var e={},n=t.getRect(),r=0,a=0;return{isControl:!1,requestStart:function(){return{datas:e}},request:function(i){return"x"in i?r=i.x-n.left:"deltaX"in i&&(r+=i.deltaX),"y"in i?a=i.y-n.top:"deltaY"in i&&(a+=i.deltaY),{datas:e,distX:r,distY:a}},requestEnd:function(){return{datas:e,isDrag:!0}}}},unset:function(t){t.state.gestos.draggable=null,t.state.dragInfo=null}},qs=Co("resizable"),Ni={name:"resizable",ableGroup:"size",canPinch:!0,props:{resizable:Boolean,throttleResize:Number,renderDirections:Array,keepRatio:Boolean,resizeFormat:Function,keepRatioFinally:Boolean,edge:Boolean,checkResizableError:Boolean},events:{onResizeStart:"resizeStart",onBeforeResize:"beforeResize",onResize:"resize",onResizeEnd:"resizeEnd",onResizeGroupStart:"resizeGroupStart",onBeforeResizeGroup:"beforeResizeGroup",onResizeGroup:"resizeGroup",onResizeGroupEnd:"resizeGroupEnd"},render:lc("resizable"),dragControlCondition:qs,viewClassName:So("resizable"),dragControlStart:function(t,e){var n,r=e.inputEvent,a=e.isPinch,i=e.isGroup,o=e.parentDirection,s=e.parentGesto,l=e.datas,u=e.parentFixedDirection,f=e.parentEvent,d=Nu(o,a,r,l),c=t.state,p=c.target,v=c.width,h=c.height,g=c.gestos;if(!d||!p||g.resizable)return!1;g.resizable=s||t.controlGesto,!a&&_r(t,e),l.datas={},l.direction=d,l.startOffsetWidth=v,l.startOffsetHeight=h,l.prevWidth=0,l.prevHeight=0,l.minSize=[0,0],l.startWidth=c.inlineCSSWidth||c.cssWidth,l.startHeight=c.inlineCSSHeight||c.cssHeight,l.maxSize=[1/0,1/0],i||(l.minSize=[c.minOffsetWidth,c.minOffsetHeight],l.maxSize=[c.maxOffsetWidth,c.maxOffsetHeight]);var m=t.props.transformOrigin||"% %";l.transformOrigin=m&&me(m)?m.split(" "):m,l.startOffsetMatrix=c.offsetMatrix,l.startTransformOrigin=c.transformOrigin,l.isWidth=(n=e==null?void 0:e.parentIsWidth)!==null&&n!==void 0?n:!d[0]&&!d[1]||d[0]||!d[1];function b(w){l.ratio=w&&isFinite(w)?w:0}l.startPositions=Se(t.state);function S(w){l.fixedDirection=w,l.fixedPosition=Qt(l.startPositions,w)}function y(w){var _=t.state,I=_.width,D=_.height;l.fixedPosition=w,l.fixedDirection=Ou(w,I,D)}function x(w){l.minSize=[Ht("".concat(w[0]),0)||0,Ht("".concat(w[1]),0)||0]}function C(w){var _=[w[0]||1/0,w[1]||1/0];(!vi(_[0])||isFinite(_[0]))&&(_[0]=Ht("".concat(_[0]),0)||1/0),(!vi(_[1])||isFinite(_[1]))&&(_[1]=Ht("".concat(_[1]),0)||1/0),l.maxSize=_}b(v/h),S(u||[-d[0],-d[1]]),l.setFixedDirection=S,l.setFixedPosition=y,l.setMin=x,l.setMax=C;var E=Mt(t,e,{direction:d,startRatio:l.ratio,set:function(w){var _=w[0],I=w[1];l.startWidth=_,l.startHeight=I},setMin:x,setMax:C,setRatio:b,setFixedDirection:S,setFixedPosition:y,setOrigin:function(w){l.transformOrigin=w},dragStart:he.dragStart(t,new Lr().dragStart([0,0],e))}),M=f||ut(t,"onResizeStart",E);return l.startFixedDirection=l.fixedDirection,l.startFixedPosition=l.fixedPosition,M!==!1&&(l.isResize=!0,t.state.snapRenderInfo={request:e.isRequest,direction:d}),l.isResize?E:!1},dragControl:function(t,e){var n,r=e.datas,a=e.parentFlag,i=e.isPinch,o=e.parentKeepRatio,s=e.dragClient,l=e.parentDist,u=e.isRequest,f=e.isGroup,d=e.parentEvent,c=e.resolveMatrix,p=r.isResize,v=r.transformOrigin,h=r.startWidth,g=r.startHeight,m=r.prevWidth,b=r.prevHeight,S=r.minSize,y=r.maxSize,x=r.ratio,C=r.startOffsetWidth,E=r.startOffsetHeight,M=r.isWidth;if(!p)return;if(c){var w=t.state.is3d,_=r.startOffsetMatrix,I=r.startTransformOrigin,D=w?4:3,k=Da(Tu(e)),O=Math.sqrt(k.length);D!==O&&(k=Ve(k,O,D));var B=On(_,k,I,D),$=or(B,C,E,D);r.startPositions=$,r.nextTargetMatrix=k,r.nextAllMatrix=B}var P=Er(t.props,"resizable"),W=P.resizeFormat,q=P.throttleResize,z=q===void 0?a?0:1:q,j=P.parentMoveable,st=P.keepRatioFinally,J=r.direction,ot=J,K=0,rt=0;!J[0]&&!J[1]&&(ot=[1,1]);var ft=x&&(o!=null?o:P.keepRatio)||!1;function ht(){var X=r.fixedDirection,at=Uu(ot,ft,r,e);K=at.distWidth,rt=at.distHeight;var mt=ot[0]-X[0]||ft?Math.max(C+K,be):C,Pt=ot[1]-X[1]||ft?Math.max(E+rt,be):E;return ft&&C&&E&&(M?Pt=mt/x:mt=Pt*x),[mt,Pt]}var F=ht(),N=F[0],Z=F[1];d||(r.setFixedDirection(r.fixedDirection),ut(t,"onBeforeResize",Mt(t,e,{startFixedDirection:r.startFixedDirection,startFixedPosition:r.startFixedPosition,setFixedDirection:function(X){var at;return r.setFixedDirection(X),at=ht(),N=at[0],Z=at[1],[N,Z]},setFixedPosition:function(X){var at;return r.setFixedPosition(X),at=ht(),N=at[0],Z=at[1],[N,Z]},boundingWidth:N,boundingHeight:Z,setSize:function(X){N=X[0],Z=X[1]}},!0)));var nt=s;s||(!a&&i?nt=Bu(t,[0,0]):nt=r.fixedPosition);var dt=[0,0];i||(dt=uh(t,N,Z,J,nt,u,r)),l&&(!l[0]&&(dt[0]=0),!l[1]&&(dt[1]=0));function it(){var X;W&&(X=W([N,Z]),N=X[0],Z=X[1]),N=Dt(N,z),Z=Dt(Z,z)}if(ft){ot[0]&&ot[1]&&dt[0]&&dt[1]&&(Math.abs(dt[0])>Math.abs(dt[1])?dt[1]=0:dt[0]=0);var gt=!dt[0]&&!dt[1];gt&&it(),ot[0]&&!ot[1]||dt[0]&&!dt[1]||gt&&M?(N+=dt[0],Z=N/x):(!ot[0]&&ot[1]||!dt[0]&&dt[1]||gt&&!M)&&(Z+=dt[1],N=Z*x)}else N+=dt[0],Z+=dt[1],N=Math.max(0,N),Z=Math.max(0,Z);n=Ul([N,Z],S,y,ft?x:!1),N=n[0],Z=n[1],it(),ft&&(f||st)&&(M?Z=N/x:N=Z*x),K=N-C,rt=Z-E;var St=[K-m,rt-b];r.prevWidth=K,r.prevHeight=rt;var _t=ip(t,N,Z,nt,v,r);if(!(!j&&St.every(function(X){return!X})&&_t.every(function(X){return!X}))){var Ct=he.drag(t,In(e,t.state,_t,!!i,!1,"draggable")),kt=Ct.transform,Rt=h+K,jt=g+rt,pe=Mt(t,e,T({width:Rt,height:jt,offsetWidth:Math.round(N),offsetHeight:Math.round(Z),startRatio:x,boundingWidth:N,boundingHeight:Z,direction:J,dist:[K,rt],delta:St,isPinch:!!i,drag:Ct},Yu({style:{width:"".concat(Rt,"px"),height:"".concat(jt,"px")},transform:kt},Ct,e)));return!d&&ut(t,"onResize",pe),pe}},dragControlAfter:function(t,e){var n=e.datas,r=n.isResize,a=n.startOffsetWidth,i=n.startOffsetHeight,o=n.prevWidth,s=n.prevHeight;if(!(!r||t.props.checkResizableError===!1)){var l=t.state,u=l.width,f=l.height,d=u-(a+o),c=f-(i+s),p=Math.abs(d)>3,v=Math.abs(c)>3;if(p&&(n.startWidth+=d,n.startOffsetWidth+=d,n.prevWidth+=d),v&&(n.startHeight+=c,n.startOffsetHeight+=c,n.prevHeight+=c),p||v)return this.dragControl(t,e)}},dragControlEnd:function(t,e){var n=e.datas,r=e.parentEvent;if(!!n.isResize){n.isResize=!1;var a=Ee(t,e,{});return!r&&ut(t,"onResizeEnd",a),a}},dragGroupControlCondition:qs,dragGroupControlStart:function(t,e){var n=e.datas,r=this.dragControlStart(t,T(T({},e),{isGroup:!0}));if(!r)return!1;var a=ze(t,"resizable",e);function i(v,h){var g=n.fixedDirection,m=n.fixedPosition,b=h.datas.startPositions||Se(v.state),S=Qt(b,g),y=ve($r(-t.rotation/180*Math.PI,3),[S[0]-m[0],S[1]-m[1],1],3),x=y[0],C=y[1];return h.datas.originalX=x,h.datas.originalY=C,h}var o=n.startOffsetWidth,s=n.startOffsetHeight;function l(){var v=n.minSize;a.forEach(function(h){var g=h.datas,m=g.minSize,b=g.startOffsetWidth,S=g.startOffsetHeight,y=o*(b?m[0]/b:0),x=s*(S?m[1]/S:0);v[0]=Math.max(v[0],y),v[1]=Math.max(v[1],x)})}function u(){var v=n.maxSize;a.forEach(function(h){var g=h.datas,m=g.maxSize,b=g.startOffsetWidth,S=g.startOffsetHeight,y=o*(b?m[0]/b:0),x=s*(S?m[1]/S:0);v[0]=Math.min(v[0],y),v[1]=Math.min(v[1],x)})}var f=je(t,this,"dragControlStart",e,function(v,h){return i(v,h)});l(),u();var d=function(v){r.setFixedDirection(v),f.forEach(function(h,g){h.setFixedDirection(v),i(h.moveable,a[g])})};n.setFixedDirection=d;var c=T(T({},r),{targets:t.props.targets,events:f.map(function(v){return T(T({},v),{setMin:function(h){v.setMin(h),l()},setMax:function(h){v.setMax(h),u()}})}),setFixedDirection:d,setMin:function(v){r.setMin(v),l()},setMax:function(v){r.setMax(v),u()}}),p=ut(t,"onResizeGroupStart",c);return n.isResize=p!==!1,n.isResize?r:!1},dragGroupControl:function(t,e){var n=e.datas;if(!!n.isResize){var r=Er(t.props,"resizable");Oa(t,"onBeforeResize",function(p){ut(t,"onBeforeResizeGroup",Mt(t,e,T(T({},p),{targets:r.targets}),!0))});var a=this.dragControl(t,T(T({},e),{isGroup:!0}));if(!!a){var i=a.boundingWidth,o=a.boundingHeight,s=a.dist,l=r.keepRatio,u=[i/(i-s[0]),o/(o-s[1])],f=n.fixedPosition,d=je(t,this,"dragControl",e,function(p,v){var h=ve($r(t.rotation/180*Math.PI,3),[v.datas.originalX*u[0],v.datas.originalY*u[1],1],3),g=h[0],m=h[1];return T(T({},v),{parentDist:null,parentScale:u,dragClient:Ot(f,[g,m]),parentKeepRatio:l})}),c=T({targets:r.targets,events:d},a);return ut(t,"onResizeGroup",c),c}}},dragGroupControlEnd:function(t,e){var n=e.isDrag,r=e.datas;if(!!r.isResize){this.dragControlEnd(t,e);var a=je(t,this,"dragControlEnd",e),i=Ee(t,e,{targets:t.props.targets,events:a});return ut(t,"onResizeGroupEnd",i),n}},request:function(t){var e={},n=0,r=0,a=t.getRect();return{isControl:!0,requestStart:function(i){var o;return{datas:e,parentDirection:i.direction||[1,1],parentIsWidth:(o=i==null?void 0:i.horizontal)!==null&&o!==void 0?o:!0}},request:function(i){return"offsetWidth"in i?n=i.offsetWidth-a.offsetWidth:"deltaWidth"in i&&(n+=i.deltaWidth),"offsetHeight"in i?r=i.offsetHeight-a.offsetHeight:"deltaHeight"in i&&(r+=i.deltaHeight),{datas:e,parentDist:[n,r],parentKeepRatio:i.keepRatio}},requestEnd:function(){return{datas:e,isDrag:!0}}}},unset:function(t){t.state.gestos.resizable=null}};function ei(t,e,n,r,a){var i=t.props.groupable,o=t.state,s=o.is3d?4:3,l=e.origin,u=oe(t.state.rootMatrix,pt([l[0],l[1]],i?[0,0]:[o.left,o.top]),s),f=Ot([a.left,a.top],u);e.startAbsoluteOrigin=f,e.prevDeg=Jt(f,[n,r])/Math.PI*180,e.defaultDeg=e.prevDeg,e.prevSnapDeg=0,e.loop=0,e.startDist=Me(f,[n,r])}function aa(t,e,n){var r=n.defaultDeg,a=n.prevDeg,i=a%360,o=Math.floor(a/360);i<0&&(i+=360),i>t&&i>270&&t<90?++o:i<t&&i<90&&t>270&&--o;var s=e*(o*360+t-r);return n.prevDeg=r+s,s}function ri(t,e,n,r){return aa(Jt(r.startAbsoluteOrigin,[t,e])/Math.PI*180,n,r)}function ni(t,e,n,r,a,i){var o=t.props.throttleRotate,s=o===void 0?0:o,l=n.prevSnapDeg,u=0,f=!1;if(i){var d=lh(t,e,r);f=d.isSnap,u=a+d.rotation}f||(u=Dt(a+r,s));var c=u-a;return n.prevSnapDeg=c,[c-l,c,u]}function cc(t,e,n){var r=e[0],a=e[1],i=e[2],o=e[3];if(t==="none")return[];if(re(t))return t.map(function(h){return cc(h,[r,a,i,o],n)[0]});var s=(t||"top").split("-"),l=s[0],u=s[1],f=[r,a];l==="left"?f=[i,r]:l==="right"?f=[a,o]:l==="bottom"&&(f=[o,i]);var d=[(f[0][0]+f[1][0])/2,(f[0][1]+f[1][1])/2],c=Lu(f,n);if(u){var p=u==="top"||u==="left",v=l==="bottom"||l==="left";d=f[p&&!v||!p&&v?0:1]}return[[d,c]]}function Vi(t,e){if(e.isRequest)return e.requestAble==="rotatable";var n=e.inputEvent.target;if(ie(n,bt("rotation-control"))||ie(n,bt("around-control"))||ie(n,bt("control"))&&ie(n,bt("rotatable")))return!0;var r=t.props.rotationTarget;return r?Eo(r,!0).some(function(a){return a?n===a||n.contains(a):!1}):!1}var gh=po.map(function(t){var e="",n="",r="center",a="center";return t.indexOf("n")>-1&&(e="top: -20px;",a="bottom"),t.indexOf("s")>-1&&(e="top: 0px;",a="top"),t.indexOf("w")>-1&&(n="left: -20px;",r="right"),t.indexOf("e")>-1&&(n="left: 0px;",r="left"),'.around-control[data-direction*="'.concat(t,`"] {
        `).concat(n).concat(e,`
        transform-origin: `).concat(r," ").concat(a,`;
    }`)}).join(`
`),mh=`.rotation {
    position: absolute;
    height: 40px;
    width: 1px;
    transform-origin: 50% 100%;
    height: calc(40px * var(--zoom));
    top: auto;
    left: 0;
    bottom: 100%;
    will-change: transform;
}
.rotation .rotation-line {
    display: block;
    width: 100%;
    height: 100%;
    transform-origin: 50% 50%;
}
.rotation .rotation-control {
    border-color: #4af;
    border-color: var(--moveable-color);
    background:#fff;
    cursor: alias;
}
:global .view-rotation-dragging, .rotatable.direction.control {
    cursor: alias;
}
.around-control {
    position: absolute;
    will-change: transform;
    width: 20px;
    height: 20px;
    left: -10px;
    top: -10px;
    box-sizing: border-box;
    background: transparent;
    z-index: 8;
    cursor: alias;
    transform-origin: center center;
}
.rotatable.direction.control.move {
    cursor: move;
}
`.concat(gh,`
`),bh={name:"rotatable",canPinch:!0,props:{rotatable:Boolean,rotationPosition:String,throttleRotate:Number,renderDirections:Object,rotationTarget:Object,rotateAroundControls:Boolean,edge:Boolean,resolveAblesWithRotatable:Object},events:{onRotateStart:"rotateStart",onBeforeRotate:"beforeRotate",onRotate:"rotate",onRotateEnd:"rotateEnd",onRotateGroupStart:"rotateGroupStart",onBeforeRotateGroup:"beforeRotateGroup",onRotateGroup:"rotateGroup",onRotateGroupEnd:"rotateGroupEnd"},css:[mh],viewClassName:function(t){return t.isDragging("rotatable")?bt("view-rotation-dragging"):""},render:function(t,e){var n=Er(t.props,"rotatable"),r=n.rotatable,a=n.rotationPosition,i=n.zoom,o=n.renderDirections,s=n.rotateAroundControls,l=n.resolveAblesWithRotatable,u=t.getState(),f=u.renderPoses,d=u.direction;if(!r)return null;var c=cc(a,f,d),p=[];if(c.forEach(function(m,b){var S=m[0],y=m[1];p.push(e.createElement("div",{key:"rotation".concat(b),className:bt("rotation"),style:{transform:"translate(-50%) translate(".concat(S[0],"px, ").concat(S[1],"px) rotate(").concat(y,"rad)")}},e.createElement("div",{className:bt("line rotation-line"),style:{transform:"scaleX(".concat(i,")")}}),e.createElement("div",{className:bt("control rotation-control"),style:{transform:"translate(0.5px) scale(".concat(i,")")}})))}),o){var v=Wr(l||{}),h={};v.forEach(function(m){l[m].forEach(function(b){h[b]=m})});var g=[];re(o)&&(g=o.map(function(m){var b=h[m];return{data:b?{resolve:b}:{},classNames:b?["move"]:[],dir:m}})),p.push.apply(p,ic(t,"rotatable",g,e))}return s&&p.push.apply(p,ph(t,e)),p},dragControlCondition:Vi,dragControlStart:function(t,e){var n,r,a=e.datas,i=e.clientX,o=e.clientY,s=e.parentRotate,l=e.parentFlag,u=e.isPinch,f=e.isRequest,d=t.state,c=d.target,p=d.left,v=d.top,h=d.direction,g=d.beforeDirection,m=d.targetTransform,b=d.moveableClientRect,S=d.offsetMatrix,y=d.targetMatrix,x=d.allMatrix,C=d.width,E=d.height;if(!f&&!c)return!1;var M=t.getRect();a.rect=M,a.transform=m,a.left=p,a.top=v;var w=function(K){var rt=t.state,ft=rt.allMatrix,ht=rt.is3d,F=rt.width,N=rt.height,Z=Ou(K,F,N);a.fixedDirection=Z,a.fixedPosition=oe(ft,K,ht?4:3),j&&j.setFixedPosition(K)},_=function(K){a.fixedDirection=K,a.fixedPosition=Pu(t,K),j&&j.setFixedDirection(K)},I=i,D=o;if(f||u||l){var k=s||0;a.beforeInfo={origin:M.beforeOrigin,prevDeg:k,defaultDeg:k,prevSnapDeg:0,startDist:0},a.afterInfo=T(T({},a.beforeInfo),{origin:M.origin}),a.absoluteInfo=T(T({},a.beforeInfo),{origin:M.origin,startValue:k})}else{var O=(r=e.inputEvent)===null||r===void 0?void 0:r.target;if(O){var B=O.getAttribute("data-direction")||"",$=jv[B];if($){a.isControl=!0,a.isAroundControl=ie(O,bt("around-control")),a.controlDirection=$;var P=O.getAttribute("data-resolve");P&&(a.resolveAble=P);var W=gp(d.rootMatrix,d.renderPoses,b);n=Qt(W,$),I=n[0],D=n[1]}}a.beforeInfo={origin:M.beforeOrigin},a.afterInfo={origin:M.origin},a.absoluteInfo={origin:M.origin,startValue:M.rotation};var q=w;w=function(K){var rt=d.is3d?4:3,ft=Ot(uu(y,rt),K),ht=ft[0],F=ft[1],N=ve(S,Cr([ht,F],rt)),Z=ve(x,Cr([K[0],K[1]],rt));q(K);var nt=d.posDelta;a.beforeInfo.origin=pt(N,nt),a.afterInfo.origin=pt(Z,nt),a.absoluteInfo.origin=pt(Z,nt),ei(t,a.beforeInfo,I,D,b),ei(t,a.afterInfo,I,D,b),ei(t,a.absoluteInfo,I,D,b)},_=function(K){var rt=Qt([[0,0],[C,0],[0,E],[C,E]],K);w(rt)}}a.startClientX=I,a.startClientY=D,a.direction=h,a.beforeDirection=g,a.startValue=0,a.datas={},Ra(e,"rotate");var z=!1,j=!1;if(a.isControl&&a.resolveAble){var st=a.resolveAble;st==="resizable"&&(j=Ni.dragControlStart(t,T(T({},new Lr("resizable").dragStart([0,0],e)),{parentPosition:a.controlPosition,parentFixedPosition:a.fixedPosition})))}j||(z=he.dragStart(t,new Lr().dragStart([0,0],e))),w(d.transformOrigin);var J=Mt(t,e,T(T({set:function(K){a.startValue=K*Math.PI/180},setFixedDirection:_,setFixedPosition:w},Ta(e)),{dragStart:z,resizeStart:j})),ot=ut(t,"onRotateStart",J);return a.isRotate=ot!==!1,d.snapRenderInfo={request:e.isRequest},a.isRotate?J:!1},dragControl:function(t,e){var n,r,a,i=e.datas,o=e.clientDistX,s=e.clientDistY,l=e.parentRotate,u=e.parentFlag,f=e.isPinch,d=e.groupDelta,c=i.beforeDirection,p=i.beforeInfo,v=i.afterInfo,h=i.absoluteInfo,g=i.isRotate,m=i.startValue,b=i.rect,S=i.startClientX,y=i.startClientY;if(!!g){Ma(e,"rotate");var x=Uv(e),C=c*x,E=t.props.parentMoveable,M=0,w,_,I=0,D,k,O=0,B,$,P=180/Math.PI*m,W=h.startValue,q=!1,z=S+o,j=y+s;if(!u&&"parentDist"in e){var st=e.parentDist;w=st,D=st,B=st}else f||u?(w=aa(l,c,p),D=aa(l,C,v),B=aa(l,C,h)):(w=ri(z,j,c,p),D=ri(z,j,C,v),B=ri(z,j,C,h),q=!0);if(_=P+w,k=P+D,$=W+B,ut(t,"onBeforeRotate",Mt(t,e,{beforeRotation:_,rotation:k,absoluteRotation:$,setRotation:function(nt){D=nt-P,w=D,B=D}},!0)),n=ni(t,b,p,w,P,q),M=n[0],w=n[1],_=n[2],r=ni(t,b,v,D,P,q),I=r[0],D=r[1],k=r[2],a=ni(t,b,h,B,W,q),O=a[0],B=a[1],$=a[2],!(!O&&!I&&!M&&!E)){var J=ka(i,"rotate(".concat(k,"deg)"),"rotate(".concat(D,"deg)")),ot=ap(t,D,i),K=pt(Ot(d||[0,0],ot),i.prevInverseDist||[0,0]);i.prevInverseDist=ot,i.requestValue=null;var rt=Ru(t,J,K,f,e),ft=rt,ht=Me([z,j],h.startAbsoluteOrigin)-h.startDist,F=void 0;if(i.resolveAble==="resizable"){var N=Ni.dragControl(t,T(T({},In(e,t.state,[e.deltaX,e.deltaY],!!f,!1,"resizable")),{resolveMatrix:!0,parentDistance:ht}));N&&(F=N,ft=Yu(ft,N,e))}var Z=Mt(t,e,T(T({delta:I,dist:D,rotate:k,rotation:k,beforeDist:w,beforeDelta:M,beforeRotate:_,beforeRotation:_,absoluteDist:B,absoluteDelta:O,absoluteRotate:$,absoluteRotation:$,isPinch:!!f,resize:F},rt),ft));return ut(t,"onRotate",Z),Z}}},dragControlEnd:function(t,e){var n=e.datas;if(!!n.isRotate){n.isRotate=!1;var r=Ee(t,e,{});return ut(t,"onRotateEnd",r),r}},dragGroupControlCondition:Vi,dragGroupControlStart:function(t,e){var n=e.datas,r=t.state,a=r.left,i=r.top,o=r.beforeOrigin,s=this.dragControlStart(t,e);if(!s)return!1;s.set(n.beforeDirection*t.rotation);var l=je(t,this,"dragControlStart",e,function(d,c){var p=d.state,v=p.left,h=p.top,g=p.beforeOrigin,m=Ot(pt([v,h],[a,i]),pt(g,o));return c.datas.startGroupClient=m,c.datas.groupClient=m,T(T({},c),{parentRotate:0})}),u=T(T({},s),{targets:t.props.targets,events:l}),f=ut(t,"onRotateGroupStart",u);return n.isRotate=f!==!1,n.isRotate?s:!1},dragGroupControl:function(t,e){var n=e.datas;if(!!n.isRotate){Oa(t,"onBeforeRotate",function(u){ut(t,"onBeforeRotateGroup",Mt(t,e,T(T({},u),{targets:t.props.targets}),!0))});var r=this.dragControl(t,e);if(!!r){var a=n.beforeDirection,i=r.beforeDist,o=i/180*Math.PI,s=je(t,this,"dragControl",e,function(u,f){var d=f.datas.startGroupClient,c=f.datas.groupClient,p=c[0],v=c[1],h=kn(d,o*a),g=h[0],m=h[1],b=[g-p,m-v];return f.datas.groupClient=[g,m],T(T({},f),{parentRotate:i,groupDelta:b})});t.rotation=a*r.beforeRotation;var l=T({targets:t.props.targets,events:s,set:function(u){t.rotation=u},setGroupRotation:function(u){t.rotation=u}},r);return ut(t,"onRotateGroup",l),l}}},dragGroupControlEnd:function(t,e){var n=e.isDrag,r=e.datas;if(!!r.isRotate){this.dragControlEnd(t,e);var a=je(t,this,"dragControlEnd",e),i=Ee(t,e,{targets:t.props.targets,events:a});return ut(t,"onRotateGroupEnd",i),n}},request:function(t){var e={},n=0,r=t.getRotation();return{isControl:!0,requestStart:function(){return{datas:e}},request:function(a){return"deltaRotate"in a?n+=a.deltaRotate:"rotate"in a&&(n=a.rotate-r),{datas:e,parentDist:n}},requestEnd:function(){return{datas:e,isDrag:!0}}}}},Ns=Co("scalable"),yh={name:"scalable",ableGroup:"size",canPinch:!0,props:{scalable:Boolean,throttleScale:Number,renderDirections:String,keepRatio:Boolean,edge:Boolean},events:{onScaleStart:"scaleStart",onBeforeScale:"beforeScale",onScale:"scale",onScaleEnd:"scaleEnd",onScaleGroupStart:"scaleGroupStart",onBeforeScaleGroup:"beforeScaleGroup",onScaleGroup:"scaleGroup",onScaleGroupEnd:"scaleGroupEnd"},render:lc("scalable"),dragControlCondition:Ns,viewClassName:So("scalable"),dragControlStart:function(t,e){var n=e.datas,r=e.isPinch,a=e.inputEvent,i=e.parentDirection,o=Nu(i,r,a,n),s=t.state,l=s.width,u=s.height,f=s.targetTransform,d=s.target,c=s.pos1,p=s.pos2,v=s.pos4;if(!o||!d)return!1;r||_r(t,e),n.datas={},n.transform=f,n.prevDist=[1,1],n.direction=o,n.startOffsetWidth=l,n.startOffsetHeight=u,n.startValue=[1,1];var h=Me(c,p),g=Me(p,v),m=!o[0]&&!o[1]||o[0]||!o[1];n.scaleWidth=h,n.scaleHeight=g,n.scaleXRatio=h/l,n.scaleYRatio=g/u,Ra(e,"scale"),n.isWidth=m;function b(C){n.ratio=C&&isFinite(C)?C:0}n.startPositions=Se(t.state);function S(C){n.fixedDirection=C,n.fixedPosition=Qt(n.startPositions,C)}n.setFixedDirection=S,b(Me(c,p)/Me(p,v)),S([-o[0],-o[1]]);var y=Mt(t,e,T(T({direction:o,set:function(C){n.startValue=C},setRatio:b,setFixedDirection:S},Ta(e)),{dragStart:he.dragStart(t,new Lr().dragStart([0,0],e))})),x=ut(t,"onScaleStart",y);return n.startFixedDirection=n.fixedDirection,x!==!1&&(n.isScale=!0,t.state.snapRenderInfo={request:e.isRequest,direction:o}),n.isScale?y:!1},dragControl:function(t,e){Ma(e,"scale");var n=e.datas,r=e.parentKeepRatio,a=e.parentFlag,i=e.isPinch,o=e.dragClient,s=e.isRequest,l=n.prevDist,u=n.direction,f=n.startOffsetWidth,d=n.startOffsetHeight,c=n.isScale,p=n.startValue,v=n.isWidth,h=n.ratio;if(!c)return!1;var g=t.props,m=g.throttleScale,b=g.parentMoveable,S=u;!u[0]&&!u[1]&&(S=[1,1]);var y=h&&(r!=null?r:g.keepRatio)||!1,x=t.state;function C(){var j=Uu(S,y,n,e),st=j.distWidth,J=j.distHeight,ot=f?(f+st)/f:1,K=d?(d+J)/d:1;return ot=S[0]||y?ot*p[0]:p[0],K=S[1]||y?K*p[1]:p[1],ot===0&&(ot=(l[0]>0?1:-1)*Nn),K===0&&(K=(l[1]>0?1:-1)*Nn),[ot,K]}var E=C();if(!i&&t.props.groupable){var M=x.snapRenderInfo||{},w=M.direction;re(w)&&(w[0]||w[1])&&(x.snapRenderInfo={direction:u,request:e.isRequest})}ut(t,"onBeforeScale",Mt(t,e,{scale:E,setFixedDirection:function(j){return n.setFixedDirection(j),E=C(),E},startFixedDirection:n.startFixedDirection,setScale:function(j){E=j}},!0));var _=[E[0]/p[0],E[1]/p[1]],I=o,D=[0,0];if(o||(!a&&i?I=Bu(t,[0,0]):I=n.fixedPosition),i||(D=ch(t,_,u,s,n)),y){S[0]&&S[1]&&D[0]&&D[1]&&(Math.abs(D[0]*f)>Math.abs(D[1]*d)?D[1]=0:D[0]=0);var k=!D[0]&&!D[1];if(k&&(v?_[0]=Dt(_[0]*p[0],m)/p[0]:_[1]=Dt(_[1]*p[1],m)/p[1]),S[0]&&!S[1]||D[0]&&!D[1]||k&&v){_[0]+=D[0];var O=f*_[0]*p[0]/h;_[1]=O/d/p[1]}else if(!S[0]&&S[1]||!D[0]&&D[1]||k&&!v){_[1]+=D[1];var B=d*_[1]*p[1]*h;_[0]=B/f/p[0]}}else _[0]+=D[0],_[1]+=D[1],D[0]||(_[0]=Dt(_[0]*p[0],m)/p[0]),D[1]||(_[1]=Dt(_[1]*p[1],m)/p[1]);_[0]===0&&(_[0]=(l[0]>0?1:-1)*Nn),_[1]===0&&(_[1]=(l[1]>0?1:-1)*Nn);var $=[_[0]/l[0],_[1]/l[1]];E=sp(_,p);var P=np(t,_,n.fixedDirection,I,n),W=pt(P,n.prevInverseDist||[0,0]);if(n.prevDist=_,n.prevInverseDist=P,E[0]===l[0]&&E[1]===l[1]&&W.every(function(j){return!j})&&!b)return!1;var q=ka(n,"scale(".concat(E.join(", "),")"),"scale(".concat(_.join(", "),")")),z=Mt(t,e,T({offsetWidth:f,offsetHeight:d,direction:u,scale:E,dist:_,delta:$,isPinch:!!i},Ru(t,q,W,i,e)));return ut(t,"onScale",z),z},dragControlEnd:function(t,e){var n=e.datas;if(!n.isScale)return!1;n.isScale=!1;var r=Ee(t,e,{});return ut(t,"onScaleEnd",r),r},dragGroupControlCondition:Ns,dragGroupControlStart:function(t,e){var n=e.datas,r=this.dragControlStart(t,e);if(!r)return!1;var a=ze(t,"resizable",e);function i(f,d){var c=n.fixedDirection,p=n.fixedPosition,v=d.datas.startPositions||Se(f.state),h=Qt(v,c),g=ve($r(-t.rotation/180*Math.PI,3),[h[0]-p[0],h[1]-p[1],1],3),m=g[0],b=g[1];return d.datas.originalX=m,d.datas.originalY=b,d}n.moveableScale=t.scale;var o=je(t,this,"dragControlStart",e,function(f,d){return i(f,d)}),s=function(f){r.setFixedDirection(f),o.forEach(function(d,c){d.setFixedDirection(f),i(d.moveable,a[c])})};n.setFixedDirection=s;var l=T(T({},r),{targets:t.props.targets,events:o,setFixedDirection:s}),u=ut(t,"onScaleGroupStart",l);return n.isScale=u!==!1,n.isScale?l:!1},dragGroupControl:function(t,e){var n=e.datas;if(!!n.isScale){Oa(t,"onBeforeScale",function(d){ut(t,"onBeforeScaleGroup",Mt(t,e,T(T({},d),{targets:t.props.targets}),!0))});var r=this.dragControl(t,e);if(!!r){var a=n.moveableScale;t.scale=[r.scale[0]*a[0],r.scale[1]*a[1]];var i=t.props.keepRatio,o=r.dist,s=r.scale,l=n.fixedPosition,u=je(t,this,"dragControl",e,function(d,c){var p=ve($r(t.rotation/180*Math.PI,3),[c.datas.originalX*o[0],c.datas.originalY*o[1],1],3),v=p[0],h=p[1];return T(T({},c),{parentDist:null,parentScale:s,parentKeepRatio:i,dragClient:Ot(l,[v,h])})}),f=T({targets:t.props.targets,events:u},r);return ut(t,"onScaleGroup",f),f}}},dragGroupControlEnd:function(t,e){var n=e.isDrag,r=e.datas;if(!!r.isScale){this.dragControlEnd(t,e);var a=je(t,this,"dragControlEnd",e),i=Ee(t,e,{targets:t.props.targets,events:a});return ut(t,"onScaleGroupEnd",i),n}},request:function(){var t={},e=0,n=0;return{isControl:!0,requestStart:function(r){return{datas:t,parentDirection:r.direction||[1,1]}},request:function(r){return e+=r.deltaWidth,n+=r.deltaHeight,{datas:t,parentDist:[e,n],parentKeepRatio:r.keepRatio}},requestEnd:function(){return{datas:t,isDrag:!0}}}}};function tr(t,e){return t.map(function(n,r){return dr(n,e[r],1,2)})}function Vs(t,e,n){var r=Jt(t,e),a=Jt(t,n),i=a-r;return i>=0?i:i+2*Math.PI}function Sh(t,e){var n=Vs(t[0],t[1],t[2]),r=Vs(e[0],e[1],e[2]),a=Math.PI;return!(n>=a&&r<=a||n<=a&&r>=a)}var Ch={name:"warpable",ableGroup:"size",props:{warpable:Boolean,renderDirections:Array,edge:Boolean},events:{onWarpStart:"warpStart",onWarp:"warp",onWarpEnd:"warpEnd"},viewClassName:So("warpable"),render:function(t,e){var n=t.props,r=n.resizable,a=n.scalable,i=n.warpable,o=n.zoom;if(r||a||!i)return[];var s=t.state,l=s.pos1,u=s.pos2,f=s.pos3,d=s.pos4,c=tr(l,u),p=tr(u,l),v=tr(l,f),h=tr(f,l),g=tr(f,d),m=tr(d,f),b=tr(u,d),S=tr(d,u);return yt([e.createElement("div",{className:bt("line"),key:"middeLine1",style:an(c,g,o)}),e.createElement("div",{className:bt("line"),key:"middeLine2",style:an(p,m,o)}),e.createElement("div",{className:bt("line"),key:"middeLine3",style:an(v,b,o)}),e.createElement("div",{className:bt("line"),key:"middeLine4",style:an(h,S,o)})],uc(t,"warpable",e),!0)},dragControlCondition:function(t,e){if(e.isRequest)return!1;var n=e.inputEvent.target;return ie(n,bt("direction"))&&ie(n,bt("warpable"))},dragControlStart:function(t,e){var n=e.datas,r=e.inputEvent,a=t.props.target,i=r.target,o=Vu(i,n);if(!o||!a)return!1;var s=t.state,l=s.transformOrigin,u=s.is3d,f=s.targetTransform,d=s.targetMatrix,c=s.width,p=s.height,v=s.left,h=s.top;n.datas={},n.targetTransform=f,n.warpTargetMatrix=u?d:Ve(d,3,4),n.targetInverseMatrix=lu(Fe(n.warpTargetMatrix,4),3,4),n.direction=o,n.left=v,n.top=h,n.poses=[[0,0],[c,0],[0,p],[c,p]].map(function(b){return pt(b,l)}),n.nextPoses=n.poses.map(function(b){var S=b[0],y=b[1];return ve(n.warpTargetMatrix,[S,y,0,1],4)}),n.startValue=Xt(4),n.prevMatrix=Xt(4),n.absolutePoses=Se(s),n.posIndexes=ku(o),_r(t,e),Ra(e,"matrix3d"),s.snapRenderInfo={request:e.isRequest,direction:o};var g=Mt(t,e,T({set:function(b){n.startValue=b}},Ta(e))),m=ut(t,"onWarpStart",g);return m!==!1&&(n.isWarp=!0),n.isWarp},dragControl:function(t,e){var n=e.datas,r=e.isRequest,a=e.distX,i=e.distY,o=n.targetInverseMatrix,s=n.prevMatrix,l=n.isWarp,u=n.startValue,f=n.poses,d=n.posIndexes,c=n.absolutePoses;if(!l)return!1;if(Ma(e,"matrix3d"),jr(t,"warpable")){var p=d.map(function(w){return c[w]});p.length>1&&p.push([(p[0][0]+p[1][0])/2,(p[0][1]+p[1][1])/2]);var v=Aa(t,r,{horizontal:p.map(function(w){return w[1]+i}),vertical:p.map(function(w){return w[0]+a})}),h=v.horizontal,g=v.vertical;i-=h.offset,a-=g.offset}var m=We({datas:n,distX:a,distY:i},!0),b=n.nextPoses.slice();if(d.forEach(function(w){b[w]=Ot(b[w],m)}),!Hv.every(function(w){return Sh(w.map(function(_){return f[_]}),w.map(function(_){return b[_]}))}))return!1;var S=uo(f[0],f[2],f[1],f[3],b[0],b[2],b[1],b[3]);if(!S.length)return!1;var y=qt(o,S,4),x=Du(n,y,!0),C=qt(Fe(s,4),x,4);n.prevMatrix=x;var E=qt(u,x,4),M=ka(n,"matrix3d(".concat(E.join(", "),")"),"matrix3d(".concat(x.join(", "),")"));return go(e,M),ut(t,"onWarp",Mt(t,e,T({delta:C,matrix:E,dist:x,multiply:qt,transform:M},ge({transform:M},e)))),!0},dragControlEnd:function(t,e){var n=e.datas,r=e.isDrag;return n.isWarp?(n.isWarp=!1,ut(t,"onWarpEnd",Ee(t,e,{})),r):!1}},Eh=bt("area-pieces"),Un=bt("area-piece"),fc=bt("avoid"),xh=bt("view-dragging");function ai(t){var e=t.areaElement;if(!!e){var n=t.state,r=n.width,a=n.height;Kl(e,fc),e.style.cssText+="left: 0px; top: 0px; width: ".concat(r,"px; height: ").concat(a,"px")}}function Ys(t){return t.createElement("div",{key:"area_pieces",className:Eh},t.createElement("div",{className:Un}),t.createElement("div",{className:Un}),t.createElement("div",{className:Un}),t.createElement("div",{className:Un}))}var dc={name:"dragArea",props:{dragArea:Boolean,passDragArea:Boolean},events:{onClick:"click",onClickGroup:"clickGroup"},render:function(t,e){var n=t.props,r=n.target,a=n.dragArea,i=n.groupable,o=n.passDragArea,s=t.getState(),l=s.width,u=s.height,f=s.renderPoses,d=o?bt("area","pass"):bt("area");if(i)return[e.createElement("div",{key:"area",ref:Ne(t,"areaElement"),className:d}),Ys(e)];if(!r||!a)return[];var c=uo([0,0],[l,0],[0,u],[l,u],f[0],f[1],f[2],f[3]),p=c.length?Ia(c,!0):"none";return[e.createElement("div",{key:"area",ref:Ne(t,"areaElement"),className:d,style:{top:"0px",left:"0px",width:"".concat(l,"px"),height:"".concat(u,"px"),transformOrigin:"0 0",transform:p}}),Ys(e)]},dragStart:function(t,e){var n=e.datas,r=e.clientX,a=e.clientY,i=e.inputEvent;if(!i)return!1;n.isDragArea=!1;var o=t.areaElement,s=t.state,l=s.moveableClientRect,u=s.renderPoses,f=s.rootMatrix,d=s.is3d,c=l.left,p=l.top,v=Te(u),h=v.left,g=v.top,m=v.width,b=v.height,S=d?4:3,y=yr(f,[r-c,a-p],S),x=y[0],C=y[1];x-=h,C-=g;var E=[{left:h,top:g,width:m,height:C-10},{left:h,top:g,width:x-10,height:b},{left:h,top:g+C+10,width:m,height:b-C-10},{left:h+x+10,top:g,width:m-x-10,height:b}],M=[].slice.call(o.nextElementSibling.children);E.forEach(function(w,_){M[_].style.cssText="left: ".concat(w.left,"px;top: ").concat(w.top,"px; width: ").concat(w.width,"px; height: ").concat(w.height,"px;")}),eo(o,fc),s.disableNativeEvent=!0},drag:function(t,e){var n=e.datas,r=e.inputEvent;if(this.enableNativeEvent(t),!r)return!1;n.isDragArea||(n.isDragArea=!0,ai(t))},dragEnd:function(t,e){this.enableNativeEvent(t);var n=e.inputEvent,r=e.datas;if(!n)return!1;r.isDragArea||ai(t)},dragGroupStart:function(t,e){return this.dragStart(t,e)},dragGroup:function(t,e){return this.drag(t,e)},dragGroupEnd:function(t,e){return this.dragEnd(t,e)},unset:function(t){ai(t),t.state.disableNativeEvent=!1},enableNativeEvent:function(t){var e=t.state;e.disableNativeEvent&&jl(function(){e.disableNativeEvent=!1})}},wh=Rn("origin",{render:function(t,e){var n=t.props.zoom,r=t.getState(),a=r.beforeOrigin,i=r.rotation;return[e.createElement("div",{className:bt("control","origin"),style:bo(i,n,a),key:"beforeOrigin"})]}});function _h(t){var e=t.scrollContainer;return[e.scrollLeft,e.scrollTop]}var Dh={name:"scrollable",canPinch:!0,props:{scrollable:Boolean,scrollContainer:Object,scrollThreshold:Number,scrollThrottleTime:Number,getScrollPosition:Function},events:{onScroll:"scroll",onScrollGroup:"scrollGroup"},dragRelation:"strong",dragStart:function(t,e){var n=t.props,r=n.scrollContainer,a=r===void 0?t.getContainer():r,i=new hu,o=xr(a,!0);e.datas.dragScroll=i;var s=e.isControl?"controlGesto":"targetGesto",l=e.targets;i.on("scroll",function(u){var f=u.container,d=u.direction,c=Mt(t,e,{scrollContainer:f,direction:d}),p=l?"onScrollGroup":"onScroll";l&&(c.targets=l),ut(t,p,c)}).on("move",function(u){var f=u.offsetX,d=u.offsetY,c=u.inputEvent;t[s].scrollBy(f,d,c.inputEvent,!1)}),i.dragStart(e,{container:o})},checkScroll:function(t,e){var n=e.datas.dragScroll;if(!!n){var r=t.props,a=r.scrollContainer,i=a===void 0?t.getContainer():a,o=r.scrollThreshold,s=o===void 0?0:o,l=r.scrollThrottleTime,u=l===void 0?0:l,f=r.getScrollPosition,d=f===void 0?_h:f;return n.drag(e,{container:i,threshold:s,throttleTime:u,getScrollPosition:function(c){return d({scrollContainer:c.container,direction:c.direction})}}),!0}},drag:function(t,e){return this.checkScroll(t,e)},dragEnd:function(t,e){e.datas.dragScroll.dragEnd(),e.datas.dragScroll=null},dragControlStart:function(t,e){return this.dragStart(t,T(T({},e),{isControl:!0}))},dragControl:function(t,e){return this.drag(t,e)},dragControlEnd:function(t,e){return this.dragEnd(t,e)},dragGroupStart:function(t,e){return this.dragStart(t,T(T({},e),{targets:t.props.targets}))},dragGroup:function(t,e){return this.drag(t,T(T({},e),{targets:t.props.targets}))},dragGroupEnd:function(t,e){return this.dragEnd(t,T(T({},e),{targets:t.props.targets}))},dragGroupControlStart:function(t,e){return this.dragStart(t,T(T({},e),{targets:t.props.targets,isControl:!0}))},dragGroupContro:function(t,e){return this.drag(t,T(T({},e),{targets:t.props.targets}))},dragGroupControEnd:function(t,e){return this.dragEnd(t,T(T({},e),{targets:t.props.targets}))}},vc={name:"",props:{target:Object,dragTarget:Object,container:Object,portalContainer:Object,rootContainer:Object,useResizeObserver:Boolean,zoom:Number,transformOrigin:Array,edge:Object,ables:Array,className:String,pinchThreshold:Number,pinchOutside:Boolean,triggerAblesSimultaneously:Boolean,checkInput:Boolean,cspNonce:String,translateZ:Number,hideDefaultLines:Boolean,props:Object,flushSync:Function,stopPropagation:Boolean,preventClickEventOnDrag:Boolean,preventClickDefault:Boolean,viewContainer:Object,persistData:Object,useAccuratePosition:Boolean,firstRenderState:Object},events:{onChangeTargets:"changeTargets"}},Mh=Rn("padding",{render:function(t,e){var n=t.props;if(n.dragArea)return[];var r=n.padding||{},a=r.left,i=a===void 0?0:a,o=r.top,s=o===void 0?0:o,l=r.right,u=l===void 0?0:l,f=r.bottom,d=f===void 0?0:f,c=t.getState(),p=c.renderPoses,v=c.pos1,h=c.pos2,g=c.pos3,m=c.pos4,b=[v,h,g,m],S=[];return i>0&&S.push([0,2]),s>0&&S.push([0,1]),u>0&&S.push([1,3]),d>0&&S.push([2,3]),S.map(function(y,x){var C=y[0],E=y[1],M=b[C],w=b[E],_=p[C],I=p[E],D=uo([0,0],[100,0],[0,100],[100,100],M,w,_,I);if(!!D.length)return e.createElement("div",{key:"padding".concat(x),className:bt("padding"),style:{transform:Ia(D,!0)}})})}}),Ws=["nw","ne","se","sw"];function Kn(t,e){var n=t[0]+t[1],r=n>e?e/n:1;return t[0]*=r,t[1]=e-t[1]*r,t}var kh=[1,2,5,6],Th=[0,3,4,7],hr=[1,-1,-1,1],gr=[1,1,-1,-1];function To(t,e,n,r,a,i,o,s){a===void 0&&(a=0),i===void 0&&(i=0),o===void 0&&(o=n),s===void 0&&(s=r);var l=[],u=!1,f=t.filter(function(c){return!c.virtual}),d=f.map(function(c){var p=c.horizontal,v=c.vertical,h=c.pos;if(v&&!u&&(u=!0,l.push("/")),u){var g=Math.max(0,v===1?h[1]-i:s-h[1]);return l.push(Be(g,r,e)),g}else{var g=Math.max(0,p===1?h[0]-a:o-h[0]);return l.push(Be(g,n,e)),g}});return{radiusPoses:f,styles:l,raws:d}}function pc(t){for(var e=[0,0],n=[0,0],r=t.length,a=0;a<r;++a){var i=t[a];!i.sub||(i.horizontal&&(e[1]===0&&(e[0]=a),e[1]=a-e[0]+1,n[0]=a+1),i.vertical&&(n[1]===0&&(n[0]=a),n[1]=a-n[0]+1))}return{horizontalRange:e,verticalRange:n}}function hc(t,e,n,r,a,i,o){var s,l,u,f;i===void 0&&(i=[0,0]),o===void 0&&(o=!1);var d=t.indexOf("/"),c=(d>-1?t.slice(0,d):t).length,p=t.slice(0,c),v=t.slice(c+1),h=p.length,g=v.length,m=g>0,b=p[0],S=b===void 0?"0px":b,y=p[1],x=y===void 0?S:y,C=p[2],E=C===void 0?S:C,M=p[3],w=M===void 0?x:M,_=v[0],I=_===void 0?S:_,D=v[1],k=D===void 0?m?I:x:D,O=v[2],B=O===void 0?m?I:E:O,$=v[3],P=$===void 0?m?k:w:$,W=[S,x,E,w].map(function(ot){return Ht(ot,e)}),q=[I,k,B,P].map(function(ot){return Ht(ot,n)}),z=W.slice(),j=q.slice();s=Kn([z[0],z[1]],e),z[0]=s[0],z[1]=s[1],l=Kn([z[3],z[2]],e),z[3]=l[0],z[2]=l[1],u=Kn([j[0],j[3]],n),j[0]=u[0],j[3]=u[1],f=Kn([j[1],j[2]],n),j[1]=f[0],j[2]=f[1];var st=o?z:z.slice(0,Math.max(i[0],h)),J=o?j:j.slice(0,Math.max(i[1],g));return yt(yt([],st.map(function(ot,K){var rt=Ws[K];return{virtual:K>=h,horizontal:hr[K],vertical:0,pos:[r+ot,a+(gr[K]===-1?n:0)],sub:!0,raw:W[K],direction:rt}}),!0),J.map(function(ot,K){var rt=Ws[K];return{virtual:K>=g,horizontal:0,vertical:gr[K],pos:[r+(hr[K]===-1?e:0),a+ot],sub:!0,raw:q[K],direction:rt}}),!0)}function Rh(t,e,n,r,a){a===void 0&&(a=e.length);var i=pc(t.slice(r)),o=i.horizontalRange,s=i.verticalRange,l=n-r,u=0;if(l===0)u=a;else if(l>0&&l<o[1])u=o[1]-l;else if(l>=s[0])u=s[0]+s[1]-l;else return;t.splice(n,u),e.splice(n,u)}function Ih(t,e,n,r,a,i,o,s,l,u,f){u===void 0&&(u=0),f===void 0&&(f=0);var d=pc(t.slice(n)),c=d.horizontalRange,p=d.verticalRange;if(r>-1)for(var v=hr[r]===1?i-u:s-i,h=c[1];h<=r;++h){var g=gr[h]===1?f:l,m=0;if(r===h?m=i:h===0?m=u+v:hr[h]===-1&&(m=s-(e[n][0]-u)),t.splice(n+h,0,{horizontal:hr[h],vertical:0,pos:[m,g]}),e.splice(n+h,0,[m,g]),h===0)break}else if(a>-1){var b=gr[a]===1?o-f:l-o;if(c[1]===0&&p[1]===0){var S=[u+b,f];t.push({horizontal:hr[0],vertical:0,pos:S}),e.push(S)}for(var y=p[0],h=p[1];h<=a;++h){var m=hr[h]===1?u:s,g=0;if(a===h?g=o:h===0?g=f+b:gr[h]===1?g=e[n+y][1]:gr[h]===-1&&(g=l-(e[n+y][1]-f)),t.push({horizontal:0,vertical:gr[h],pos:[m,g]}),e.push([m,g]),h===0)break}}}function Oh(t,e){e===void 0&&(e=t.map(function(a){return a.raw}));var n=t.map(function(a,i){return a.horizontal?e[i]:null}).filter(function(a){return a!=null}),r=t.map(function(a,i){return a.vertical?e[i]:null}).filter(function(a){return a!=null});return{horizontals:n,verticals:r}}var Ph=[[0,-1,"n"],[1,0,"e"]],Bh=[[-1,-1,"nw"],[0,-1,"n"],[1,-1,"ne"],[1,0,"e"],[1,1,"se"],[0,1,"s"],[-1,1,"sw"],[-1,0,"w"]];function Ro(t,e,n){var r=t.props.clipRelative,a=t.state,i=a.width,o=a.height,s=e,l=s.type,u=s.poses,f=l==="rect",d=l==="circle";if(l==="polygon")return n.map(function(C){return"".concat(Be(C[0],i,r)," ").concat(Be(C[1],o,r))});if(f||l==="inset"){var c=n[1][1],p=n[3][0],v=n[7][0],h=n[5][1];if(f)return[c,p,h,v].map(function(C){return"".concat(C,"px")});var g=[c,i-p,o-h,v].map(function(C,E){return Be(C,E%2?i:o,r)});if(n.length>8){var m=pt(n[4],n[0]),b=m[0],S=m[1];g.push.apply(g,yt(["round"],To(u.slice(8).map(function(C,E){return T(T({},C),{pos:n[E]})}),r,b,S,v,c,p,h).styles,!1))}return g}else if(d||l==="ellipse"){var y=n[0],x=Be(Math.abs(n[1][1]-y[1]),d?Math.sqrt((i*i+o*o)/2):o,r),g=d?[x]:[Be(Math.abs(n[2][0]-y[0]),i,r),x];return g.push("at",Be(y[0],i,r),Be(y[1],o,r)),g}}function Ea(t,e,n,r){var a=[r,(r+e)/2,e],i=[t,(t+n)/2,n];return Bh.map(function(o){var s=o[0],l=o[1],u=o[2],f=a[s+1],d=i[l+1];return{vertical:Math.abs(l),horizontal:Math.abs(s),direction:u,pos:[f,d]}})}function gc(t){var e=[1/0,-1/0],n=[1/0,-1/0];return t.forEach(function(r){var a=r.pos;e[0]=Math.min(e[0],a[0]),e[1]=Math.max(e[1],a[0]),n[0]=Math.min(n[0],a[1]),n[1]=Math.max(n[1],a[1])}),[Math.abs(e[1]-e[0]),Math.abs(n[1]-n[0])]}function Hs(t,e,n,r,a){var i,o,s,l,u,f,d;if(!!t){var c=a;if(!c){var p=getComputedStyle(t),v=p.clipPath;c=v!=="none"?v:p.clip}if(!((!c||c==="none"||c==="auto")&&(c=r,!c))){var h=Xl(c),g=h.prefix,m=g===void 0?c:g,b=h.value,S=b===void 0?"":b,y=m==="circle",x=" ";if(m==="polygon"){var C=br(S||"0% 0%, 100% 0%, 100% 100%, 0% 100%");x=",";var E=C.map(function(Ct){var kt=Ct.split(" "),Rt=kt[0],jt=kt[1];return{vertical:1,horizontal:1,pos:[Ht(Rt,e),Ht(jt,n)]}}),M=ir(E.map(function(Ct){return Ct.pos}));return{type:m,clipText:c,poses:E,splitter:x,left:M.minX,right:M.maxX,top:M.minY,bottom:M.maxY}}else if(y||m==="ellipse"){var w="",_="",I=0,D=0,C=ar(S);if(y){var k="";i=C[0],k=i===void 0?"50%":i,o=C[2],w=o===void 0?"50%":o,s=C[3],_=s===void 0?"50%":s,I=Ht(k,Math.sqrt((e*e+n*n)/2)),D=I}else{var O="",B="";l=C[0],O=l===void 0?"50%":l,u=C[1],B=u===void 0?"50%":u,f=C[3],w=f===void 0?"50%":f,d=C[4],_=d===void 0?"50%":d,I=Ht(O,e),D=Ht(B,n)}var $=[Ht(w,e),Ht(_,n)],E=yt([{vertical:1,horizontal:1,pos:$,direction:"nesw"}],Ph.slice(0,y?1:2).map(function(Rt){return{vertical:Math.abs(Rt[1]),horizontal:Rt[0],direction:Rt[2],sub:!0,pos:[$[0]+Rt[0]*I,$[1]+Rt[1]*D]}}),!0);return{type:m,clipText:c,radiusX:I,radiusY:D,left:$[0]-I,top:$[1]-D,right:$[0]+I,bottom:$[1]+D,poses:E,splitter:x}}else if(m==="inset"){var C=ar(S||"0 0 0 0"),P=C.indexOf("round"),W=(P>-1?C.slice(0,P):C).length,q=C.slice(W+1),z=C.slice(0,W),j=z[0],st=z[1],J=st===void 0?j:st,ot=z[2],K=ot===void 0?j:ot,rt=z[3],ft=rt===void 0?J:rt,ht=[j,K].map(function(Rt){return Ht(Rt,n)}),F=ht[0],N=ht[1],Z=[ft,J].map(function(Rt){return Ht(Rt,e)}),nt=Z[0],dt=Z[1],it=e-dt,gt=n-N,St=hc(q,it-nt,gt-F,nt,F),E=yt(yt([],Ea(F,it,gt,nt),!0),St,!0);return{type:"inset",clipText:c,poses:E,top:F,left:nt,right:it,bottom:gt,radius:q,splitter:x}}else if(m==="rect"){var C=br(S||"0px, ".concat(e,"px, ").concat(n,"px, 0px"));x=",";var _t=C.map(function(at){var mt=Yr(at).value;return mt}),F=_t[0],dt=_t[1],N=_t[2],nt=_t[3],E=Ea(F,dt,N,nt);return{type:"rect",clipText:c,poses:E,top:F,right:dt,bottom:N,left:nt,values:C,splitter:x}}}}}function Ah(t,e,n,r,a){var i=t[e],o=i.direction,s=i.sub,l=t.map(function(){return[0,0]}),u=o?o.split(""):[];if(r&&e<8){var f=u.filter(function(k){return k==="w"||k==="e"}),d=u.filter(function(k){return k==="n"||k==="s"}),c=f[0],p=d[0];l[e]=n;var v=gc(t),h=v[0],g=v[1],m=h&&g?h/g:0;if(m&&a){var b=(e+4)%8,S=t[b].pos,y=[0,0];o.indexOf("w")>-1?y[0]=-1:o.indexOf("e")>-1&&(y[0]=1),o.indexOf("n")>-1?y[1]=-1:o.indexOf("s")>-1&&(y[1]=1);var x=ju([h,g],n,m,y,!0),C=h+x[0],E=g+x[1],M=S[1],w=S[1],_=S[0],I=S[0];y[0]===-1?_=I-C:y[0]===1?I=_+C:(_=_-C/2,I=I+C/2),y[1]===-1?M=w-E:(y[1]===1||(M=w-E/2),w=M+E);var D=Ea(M,I,w,_);t.forEach(function(k,O){l[O][0]=D[O].pos[0]-k.pos[0],l[O][1]=D[O].pos[1]-k.pos[1]})}else t.forEach(function(k,O){var B=k.direction;!B||(B.indexOf(c)>-1&&(l[O][0]=n[0]),B.indexOf(p)>-1&&(l[O][1]=n[1]))}),c&&(l[1][0]=n[0]/2,l[5][0]=n[0]/2),p&&(l[3][1]=n[1]/2,l[7][1]=n[1]/2)}else o&&!s?u.forEach(function(k){var O=k==="n"||k==="s";t.forEach(function(B,$){var P=B.direction,W=B.horizontal,q=B.vertical;!P||P.indexOf(k)===-1||(l[$]=[O||!W?0:n[0],!O||!q?0:n[1]])})}):l[e]=n;return l}function zh(t,e){var n=_u(t,e),r=n[0],a=n[1],i=e.datas,o=i.clipPath,s=i.clipIndex,l=o,u=l.type,f=l.poses,d=l.splitter,c=f.map(function(b){return b.pos});if(u==="polygon")c.splice(s,0,[r,a]);else if(u==="inset"){var p=kh.indexOf(s),v=Th.indexOf(s),h=f.length;if(Ih(f,c,8,p,v,r,a,c[4][0],c[4][1],c[0][0],c[0][1]),h===f.length)return}else return;var g=Ro(t,o,c),m="".concat(u,"(").concat(g.join(d),")");ut(t,"onClip",Mt(t,e,T({clipEventType:"added",clipType:u,poses:c,clipStyles:g,clipStyle:m,distX:0,distY:0},ge({clipPath:m},e))))}function Gh(t,e){var n=e.datas,r=n.clipPath,a=n.clipIndex,i=r,o=i.type,s=i.poses,l=i.splitter,u=s.map(function(p){return p.pos}),f=u.length;if(o==="polygon")s.splice(a,1),u.splice(a,1);else if(o==="inset"){if(a<8||(Rh(s,u,a,8,f),f===s.length))return}else return;var d=Ro(t,r,u),c="".concat(o,"(").concat(d.join(l),")");ut(t,"onClip",Mt(t,e,T({clipEventType:"removed",clipType:o,poses:u,clipStyles:d,clipStyle:c,distX:0,distY:0},ge({clipPath:c},e))))}var Fh={name:"clippable",props:{clippable:Boolean,defaultClipPath:String,customClipPath:String,keepRatio:Boolean,clipRelative:Boolean,clipArea:Boolean,dragWithClip:Boolean,clipTargetBounds:Boolean,clipVerticalGuidelines:Array,clipHorizontalGuidelines:Array,clipSnapThreshold:Boolean},events:{onClipStart:"clipStart",onClip:"clip",onClipEnd:"clipEnd"},css:[`.control.clip-control {
    background: #6d6;
    cursor: pointer;
}
.control.clip-control.clip-radius {
    background: #d66;
}
.line.clip-line {
    background: #6e6;
    cursor: move;
    z-index: 1;
}
.clip-area {
    position: absolute;
    top: 0;
    left: 0;
}
.clip-ellipse {
    position: absolute;
    cursor: move;
    border: 1px solid #6d6;
    border: var(--zoompx) solid #6d6;
    border-radius: 50%;
    transform-origin: 0px 0px;
}`,`:host {
    --bounds-color: #d66;
}`,`.guideline {
    pointer-events: none;
    z-index: 2;
}`,`.line.guideline.bounds {
    background: #d66;
    background: var(--bounds-color);
}`],render:function(t,e){var n=t.props,r=n.customClipPath,a=n.defaultClipPath,i=n.clipArea,o=n.zoom,s=t.getState(),l=s.target,u=s.width,f=s.height,d=s.allMatrix,c=s.is3d,p=s.left,v=s.top,h=s.pos1,g=s.pos2,m=s.pos3,b=s.pos4,S=s.clipPathState,y=s.snapBoundInfos,x=s.rotation;if(!l)return[];var C=Hs(l,u,f,a||"inset",S||r);if(!C)return[];var E=c?4:3,M=C.type,w=C.poses,_=w.map(function(it){var gt=oe(d,it.pos,E);return[gt[0]-p,gt[1]-v]}),I=[],D=[],k=M==="rect",O=M==="inset",B=M==="polygon";if(k||O||B){var $=O?_.slice(0,8):_;D=$.map(function(it,gt){var St=gt===0?$[$.length-1]:$[gt-1],_t=Jt(St,it),Ct=Fu(St,it);return e.createElement("div",{key:"clipLine".concat(gt),className:bt("line","clip-line","snap-control"),"data-clip-index":gt,style:{width:"".concat(Ct,"px"),transform:"translate(".concat(St[0],"px, ").concat(St[1],"px) rotate(").concat(_t,"rad) scaleY(").concat(o,")")}})})}if(I=_.map(function(it,gt){return e.createElement("div",{key:"clipControl".concat(gt),className:bt("control","clip-control","snap-control"),"data-clip-index":gt,style:{transform:"translate(".concat(it[0],"px, ").concat(it[1],"px) rotate(").concat(x,"rad) scale(").concat(o,")")}})}),O&&I.push.apply(I,_.slice(8).map(function(it,gt){return e.createElement("div",{key:"clipRadiusControl".concat(gt),className:bt("control","clip-control","clip-radius","snap-control"),"data-clip-index":8+gt,style:{transform:"translate(".concat(it[0],"px, ").concat(it[1],"px) rotate(").concat(x,"rad) scale(").concat(o,")")}})})),M==="circle"||M==="ellipse"){var P=C.left,W=C.top,q=C.radiusX,z=C.radiusY,j=pt(oe(d,[P,W],E),oe(d,[0,0],E)),st=j[0],J=j[1],ot="none";if(!i){for(var K=Math.max(10,q/5,z/5),rt=[],ft=0;ft<=K;++ft){var ht=Math.PI*2/K*ft;rt.push([q+(q-o)*Math.cos(ht),z+(z-o)*Math.sin(ht)])}rt.push([q,-2]),rt.push([-2,-2]),rt.push([-2,z*2+2]),rt.push([q*2+2,z*2+2]),rt.push([q*2+2,-2]),rt.push([q,-2]),ot="polygon(".concat(rt.map(function(it){return"".concat(it[0],"px ").concat(it[1],"px")}).join(", "),")")}I.push(e.createElement("div",{key:"clipEllipse",className:bt("clip-ellipse","snap-control"),style:{width:"".concat(q*2,"px"),height:"".concat(z*2,"px"),clipPath:ot,transform:"translate(".concat(-p+st,"px, ").concat(-v+J,"px) ").concat(Ia(d))}}))}if(i){var F=Te(yt([h,g,m,b],_,!0)),N=F.width,Z=F.height,nt=F.left,dt=F.top;if(B||k||O){var rt=O?_.slice(0,8):_;I.push(e.createElement("div",{key:"clipArea",className:bt("clip-area","snap-control"),style:{width:"".concat(N,"px"),height:"".concat(Z,"px"),transform:"translate(".concat(nt,"px, ").concat(dt,"px)"),clipPath:"polygon(".concat(rt.map(function(gt){return"".concat(gt[0]-nt,"px ").concat(gt[1]-dt,"px")}).join(", "),")")}}))}}return y&&["vertical","horizontal"].forEach(function(it){var gt=y[it],St=it==="horizontal";gt.isSnap&&D.push.apply(D,gt.snap.posInfos.map(function(_t,Ct){var kt=_t.pos,Rt=pt(oe(d,St?[0,kt]:[kt,0],E),[p,v]),jt=pt(oe(d,St?[u,kt]:[kt,f],E),[p,v]);return yn(e,"",Rt,jt,o,"clip".concat(it,"snap").concat(Ct),"guideline")})),gt.isBound&&D.push.apply(D,gt.bounds.map(function(_t,Ct){var kt=_t.pos,Rt=pt(oe(d,St?[0,kt]:[kt,0],E),[p,v]),jt=pt(oe(d,St?[u,kt]:[kt,f],E),[p,v]);return yn(e,"",Rt,jt,o,"clip".concat(it,"bounds").concat(Ct),"guideline","bounds","bold")}))}),yt(yt([],I,!0),D,!0)},dragControlCondition:function(t,e){return e.inputEvent&&(e.inputEvent.target.getAttribute("class")||"").indexOf("clip")>-1},dragStart:function(t,e){var n=t.props,r=n.dragWithClip,a=r===void 0?!0:r;return a?!1:this.dragControlStart(t,e)},drag:function(t,e){return this.dragControl(t,T(T({},e),{isDragTarget:!0}))},dragEnd:function(t,e){return this.dragControlEnd(t,e)},dragControlStart:function(t,e){var n=t.state,r=t.props,a=r.defaultClipPath,i=r.customClipPath,o=n.target,s=n.width,l=n.height,u=e.inputEvent?e.inputEvent.target:null,f=u&&u.getAttribute("class")||"",d=e.datas,c=Hs(o,s,l,a||"inset",i);if(!c)return!1;var p=c.clipText,v=c.type,h=c.poses,g=ut(t,"onClipStart",Mt(t,e,{clipType:v,clipStyle:p,poses:h.map(function(m){return m.pos})}));return g===!1?(d.isClipStart=!1,!1):(d.isControl=f&&f.indexOf("clip-control")>-1,d.isLine=f.indexOf("clip-line")>-1,d.isArea=f.indexOf("clip-area")>-1||f.indexOf("clip-ellipse")>-1,d.clipIndex=u?parseInt(u.getAttribute("data-clip-index"),10):-1,d.clipPath=c,d.isClipStart=!0,n.clipPathState=p,_r(t,e),!0)},dragControl:function(t,e){var n,r,a=e.datas,i=e.originalDatas,o=e.isDragTarget;if(!a.isClipStart)return!1;var s=a,l=s.isControl,u=s.isLine,f=s.isArea,d=s.clipIndex,c=s.clipPath;if(!c)return!1;var p=Er(t.props,"clippable"),v=p.keepRatio,h=0,g=0,m=i.draggable,b=We(e);o&&m?(n=m.prevBeforeDist,h=n[0],g=n[1]):(h=b[0],g=b[1]);var S=[h,g],y=t.state,x=y.width,C=y.height,E=!f&&!l&&!u,M=c.type,w=c.poses,_=c.splitter,I=w.map(function(At){return At.pos});E&&(h=-h,g=-g);var D=!l||w[d].direction==="nesw",k=M==="inset"||M==="rect",O=w.map(function(){return[0,0]});if(l&&!D){var B=w[d],$=B.horizontal,P=B.vertical,W=[h*Math.abs($),g*Math.abs(P)];O=Ah(w,d,W,k,v)}else D&&(O=I.map(function(){return[h,g]}));var q=I.map(function(At,Zt){return Ot(At,O[Zt])}),z=yt([],q,!0);y.snapBoundInfos=null;var j=c.type==="circle",st=c.type==="ellipse";if(j||st){var J=Te(q),ot=Math.abs(J.bottom-J.top),K=Math.abs(st?J.right-J.left:ot),rt=q[0][1]+ot,ft=q[0][0]-K,ht=q[0][0]+K;j&&(z.push([ht,J.bottom]),O.push([1,0])),z.push([J.left,rt]),O.push([0,1]),z.push([ft,J.bottom]),O.push([1,0])}var F=rc((p.clipHorizontalGuidelines||[]).map(function(At){return Ht("".concat(At),C)}),(p.clipVerticalGuidelines||[]).map(function(At){return Ht("".concat(At),x)}),x,C),N=[],Z=[];if(j||st)N=[z[4][0],z[2][0]],Z=[z[1][1],z[3][1]];else if(k){var nt=[z[0],z[2],z[4],z[6]],dt=[O[0],O[2],O[4],O[6]];N=nt.filter(function(At,Zt){return dt[Zt][0]}).map(function(At){return At[0]}),Z=nt.filter(function(At,Zt){return dt[Zt][1]}).map(function(At){return At[1]})}else N=z.filter(function(At,Zt){return O[Zt][0]}).map(function(At){return At[0]}),Z=z.filter(function(At,Zt){return O[Zt][1]}).map(function(At){return At[1]});var it=[0,0],gt=Gs(F,p.clipTargetBounds&&{left:0,top:0,right:x,bottom:C},N,Z,5),St=gt.horizontal,_t=gt.vertical,Ct=St.offset,kt=_t.offset;if(St.isBound&&(it[1]+=Ct),_t.isBound&&(it[0]+=kt),(st||j)&&O[0][0]===0&&O[0][1]===0){var J=Te(q),Rt=J.bottom-J.top,jt=st?J.right-J.left:Rt,pe=_t.isBound?Math.abs(kt):_t.snapIndex===0?-kt:kt,X=St.isBound?Math.abs(Ct):St.snapIndex===0?-Ct:Ct;jt-=pe,Rt-=X,j&&(Rt=Zu(_t,St)>0?Rt:jt,jt=Rt);var at=z[0];z[1][1]=at[1]-Rt,z[2][0]=at[0]+jt,z[3][1]=at[1]+Rt,z[4][0]=at[0]-jt}else if(k&&v&&l){var mt=gc(w),Pt=mt[0],Gt=mt[1],It=Pt&&Gt?Pt/Gt:0,Tt=w[d],Ft=Tt.direction||"",R=z[1][1],rt=z[5][1],ft=z[7][0],ht=z[3][0];Ct<=kt?Ct=kt/It:kt=Ct*It,Ft.indexOf("w")>-1?ft-=kt:Ft.indexOf("e")>-1?ht-=kt:(ft+=kt/2,ht-=kt/2),Ft.indexOf("n")>-1?R-=Ct:Ft.indexOf("s")>-1?rt-=Ct:(R+=Ct/2,rt-=Ct/2);var Y=Ea(R,ht,rt,ft);z.forEach(function(Ur,Fa){var Kr;Kr=Y[Fa].pos,Ur[0]=Kr[0],Ur[1]=Kr[1]})}else z.forEach(function(At,Zt){var Bn=O[Zt];Bn[0]&&(At[0]-=kt),Bn[1]&&(At[1]-=Ct)});var A=Ro(t,c,q),et="".concat(M,"(").concat(A.join(_),")");if(y.clipPathState=et,j||st)N=[z[4][0],z[2][0]],Z=[z[1][1],z[3][1]];else if(k){var nt=[z[0],z[2],z[4],z[6]];N=nt.map(function(Zt){return Zt[0]}),Z=nt.map(function(Zt){return Zt[1]})}else N=z.map(function(At){return At[0]}),Z=z.map(function(At){return At[1]});if(y.snapBoundInfos=Gs(F,p.clipTargetBounds&&{left:0,top:0,right:x,bottom:C},N,Z,1),m){var vt=y.is3d,wt=y.allMatrix,Yt=vt?4:3,se=it;o&&(se=[S[0]+it[0]-b[0],S[1]+it[1]-b[1]]),m.deltaOffset=qt(wt,[se[0],se[1],0,0],Yt)}return ut(t,"onClip",Mt(t,e,T({clipEventType:"changed",clipType:M,poses:q,clipStyle:et,clipStyles:A,distX:h,distY:g},ge((r={},r[M==="rect"?"clip":"clipPath"]=et,r),e)))),!0},dragControlEnd:function(t,e){this.unset(t);var n=e.isDrag,r=e.datas,a=e.isDouble,i=r.isLine,o=r.isClipStart,s=r.isControl;return o?(ut(t,"onClipEnd",Ee(t,e,{})),a&&(s?Gh(t,e):i&&zh(t,e)),a||n):!1},unset:function(t){t.state.clipPathState="",t.state.snapBoundInfos=null}},$h={name:"originDraggable",props:{originDraggable:Boolean,originRelative:Boolean},events:{onDragOriginStart:"dragOriginStart",onDragOrigin:"dragOrigin",onDragOriginEnd:"dragOriginEnd"},css:[`:host[data-able-origindraggable] .control.origin {
    pointer-events: auto;
}`],dragControlCondition:function(t,e){return e.isRequest?e.requestAble==="originDraggable":ie(e.inputEvent.target,bt("origin"))},dragControlStart:function(t,e){var n=e.datas;_r(t,e);var r=Mt(t,e,{dragStart:he.dragStart(t,new Lr().dragStart([0,0],e))}),a=ut(t,"onDragOriginStart",r);return n.startOrigin=t.state.transformOrigin,n.startTargetOrigin=t.state.targetOrigin,n.prevOrigin=[0,0],n.isDragOrigin=!0,a===!1?(n.isDragOrigin=!1,!1):r},dragControl:function(t,e){var n=e.datas,r=e.isPinch,a=e.isRequest;if(!n.isDragOrigin)return!1;var i=We(e),o=i[0],s=i[1],l=t.state,u=l.width,f=l.height,d=l.offsetMatrix,c=l.targetMatrix,p=l.is3d,v=t.props.originRelative,h=v===void 0?!0:v,g=p?4:3,m=[o,s];if(a){var b=e.distOrigin;(b[0]||b[1])&&(m=b)}var S=Ot(n.startOrigin,m),y=Ot(n.startTargetOrigin,m),x=pt(m,n.prevOrigin),C=On(d,c,S,g),E=t.getRect(),M=Te(or(C,u,f,g)),w=[E.left-M.left,E.top-M.top];n.prevOrigin=m;var _=[Be(y[0],u,h),Be(y[1],f,h)].join(" "),I=he.drag(t,In(e,t.state,w,!!r,!1)),D=Mt(t,e,T(T({width:u,height:f,origin:S,dist:m,delta:x,transformOrigin:_,drag:I},ge({transformOrigin:_,transform:I.transform},e)),{afterTransform:I.transform}));return ut(t,"onDragOrigin",D),D},dragControlEnd:function(t,e){var n=e.datas;return n.isDragOrigin?(ut(t,"onDragOriginEnd",Ee(t,e,{})),!0):!1},dragGroupControlCondition:function(t,e){return this.dragControlCondition(t,e)},dragGroupControlStart:function(t,e){var n=this.dragControlStart(t,e);return!!n},dragGroupControl:function(t,e){var n=this.dragControl(t,e);return n?(t.transformOrigin=n.transformOrigin,!0):!1},request:function(t){var e={},n=t.getRect(),r=0,a=0,i=n.transformOrigin,o=[0,0];return{isControl:!0,requestStart:function(){return{datas:e}},request:function(s){return"deltaOrigin"in s?(o[0]+=s.deltaOrigin[0],o[1]+=s.deltaOrigin[1]):"origin"in s?(o[0]=s.origin[0]-i[0],o[1]=s.origin[1]-i[1]):("x"in s?r=s.x-n.left:"deltaX"in s&&(r+=s.deltaX),"y"in s?a=s.y-n.top:"deltaY"in s&&(a+=s.deltaY)),{datas:e,distX:r,distY:a,distOrigin:o}},requestEnd:function(){return{datas:e,isDrag:!0}}}}};function Lh(t,e,n,r){var a=t.filter(function(l){var u=l.virtual,f=l.horizontal;return f&&!u}).length,i=t.filter(function(l){var u=l.virtual,f=l.vertical;return f&&!u}).length,o=-1;if(e===0&&(a===0?o=0:a===1&&(o=1)),e===2&&(a<=2?o=2:a<=3&&(o=3)),e===3&&(i===0?o=4:i<4&&(o=7)),e===1&&(i<=1?o=5:i<=2&&(o=6)),!(o===-1||!t[o].virtual)){var s=t[o];qh(t,o),o<4?s.pos[0]=n:s.pos[1]=r}}function qh(t,e){e<4?t.slice(0,e+1).forEach(function(n){n.virtual=!1}):(t[0].virtual&&(t[0].virtual=!1),t.slice(4,e+1).forEach(function(n){n.virtual=!1}))}function Nh(t,e){e<4?t.slice(e,4).forEach(function(n){n.virtual=!0}):t.slice(e).forEach(function(n){n.virtual=!0})}function Xs(t,e,n,r,a){r===void 0&&(r=[0,0]);var i=[];return!t||t==="0px"?i=[]:i=ar(t),hc(i,e,n,0,0,r,a)}function js(t,e,n,r,a){var i=t.state,o=i.width,s=i.height,l=To(a,t.props.roundRelative,o,s),u=l.raws,f=l.styles,d=l.radiusPoses,c=Oh(d,u),p=c.horizontals,v=c.verticals,h=f.join(" ");i.borderRadiusState=h;var g=Mt(t,e,T({horizontals:p,verticals:v,borderRadius:h,width:o,height:s,delta:r,dist:n},ge({borderRadius:h},e)));return ut(t,"onRound",g),g}function Us(t){var e=t.getState().style,n=e.borderRadius||"";if(!n&&t.props.groupable){var r=t.getTargets()[0];r&&(n=getComputedStyle(r).borderRadius,e.borderRadius=n)}return n}var Vh={name:"roundable",props:{roundable:Boolean,roundRelative:Boolean,minRoundControls:Array,maxRoundControls:Array,roundClickable:Boolean,roundPadding:Number,isDisplayShadowRoundControls:Boolean},events:{onRoundStart:"roundStart",onRound:"round",onRoundEnd:"roundEnd",onRoundGroupStart:"roundGroupStart",onRoundGroup:"roundGroup",onRoundGroupEnd:"roundGroupEnd"},css:[`.control.border-radius {
    background: #d66;
    cursor: pointer;
    z-index: 3;
}`,`.control.border-radius.vertical {
    background: #d6d;
    z-index: 2;
}`,`.control.border-radius.virtual {
    opacity: 0.5;
    z-index: 1;
}`,`:host.round-line-clickable .line.direction {
    cursor: pointer;
}`],className:function(t){var e=t.props.roundClickable;return e===!0||e==="line"?bt("round-line-clickable"):""},requestStyle:function(){return["borderRadius"]},render:function(t,e){var n=t.getState(),r=n.target,a=n.width,i=n.height,o=n.allMatrix,s=n.is3d,l=n.left,u=n.top,f=n.borderRadiusState,d=t.props,c=d.minRoundControls,p=c===void 0?[0,0]:c,v=d.maxRoundControls,h=v===void 0?[4,4]:v,g=d.zoom,m=d.roundPadding,b=m===void 0?0:m,S=d.isDisplayShadowRoundControls,y=d.groupable;if(!r)return null;var x=f||Us(t),C=s?4:3,E=Xs(x,a,i,p,!0);if(!E)return null;var M=0,w=0,_=y?[0,0]:[l,u];return E.map(function(I,D){var k=I.horizontal,O=I.vertical,B=I.direction||"",$=yt([],I.pos,!0);w+=Math.abs(k),M+=Math.abs(O),k&&B.indexOf("n")>-1&&($[1]-=b),O&&B.indexOf("w")>-1&&($[0]-=b),k&&B.indexOf("s")>-1&&($[1]+=b),O&&B.indexOf("e")>-1&&($[0]+=b);var P=pt(oe(o,$,C),_),W=I.vertical?M<=h[1]&&(S||!I.virtual):w<=h[0]&&(S||!I.virtual);return e.createElement("div",{key:"borderRadiusControl".concat(D),className:bt("control","border-radius",I.vertical?"vertical":"",I.virtual?"virtual":""),"data-radius-index":D,style:{display:W?"block":"none",transform:"translate(".concat(P[0],"px, ").concat(P[1],"px) scale(").concat(g,")")}})})},dragControlCondition:function(t,e){if(!e.inputEvent||e.isRequest)return!1;var n=e.inputEvent.target.getAttribute("class")||"";return n.indexOf("border-radius")>-1||n.indexOf("moveable-line")>-1&&n.indexOf("moveable-direction")>-1},dragGroupControlCondition:function(t,e){return this.dragControlCondition(t,e)},dragControlStart:function(t,e){var n=e.inputEvent,r=e.datas,a=n.target,i=a.getAttribute("class")||"",o=i.indexOf("border-radius")>-1,s=i.indexOf("moveable-line")>-1&&i.indexOf("moveable-direction")>-1,l=o?parseInt(a.getAttribute("data-radius-index"),10):-1,u=-1;if(s){var f=a.getAttribute("data-line-key")||"";f&&(u=parseInt(f.replace(/render-line-/g,""),10),isNaN(u)&&(u=-1))}if(!o&&!s)return!1;var d=Mt(t,e,{}),c=ut(t,"onRoundStart",d);if(c===!1)return!1;r.lineIndex=u,r.controlIndex=l,r.isControl=o,r.isLine=s,_r(t,e);var p=t.props,v=p.roundRelative,h=p.minRoundControls,g=h===void 0?[0,0]:h,m=t.state,b=m.width,S=m.height;r.isRound=!0,r.prevDist=[0,0];var y=Us(t),x=Xs(y||"",b,S,g,!0)||[];return r.controlPoses=x,m.borderRadiusState=To(x,v,b,S).styles.join(" "),d},dragControl:function(t,e){var n=e.datas,r=n.controlPoses;if(!n.isRound||!n.isControl||!r.length)return!1;var a=n.controlIndex,i=We(e),o=i[0],s=i[1],l=[o,s],u=pt(l,n.prevDist),f=t.props.maxRoundControls,d=f===void 0?[4,4]:f,c=t.state,p=c.width,v=c.height,h=r[a],g=h.vertical,m=h.horizontal,b=r.map(function(y){var x=y.horizontal,C=y.vertical,E=[x*m*l[0],C*g*l[1]];if(x){if(d[0]===1)return E;if(d[0]<4&&x!==m)return E}else{if(d[1]===0)return E[1]=C*m*l[0]/p*v,E;if(g){if(d[1]===1)return E;if(d[1]<4&&C!==g)return E}}return[0,0]});b[a]=l;var S=r.map(function(y,x){return T(T({},y),{pos:Ot(y.pos,b[x])})});return a<4?S.slice(0,a+1).forEach(function(y){y.virtual=!1}):S.slice(4,a+1).forEach(function(y){y.virtual=!1}),n.prevDist=[o,s],js(t,e,l,u,S)},dragControlEnd:function(t,e){var n=t.state;n.borderRadiusState="";var r=e.datas,a=e.isDouble;if(!r.isRound)return!1;var i=r.isControl,o=r.controlIndex,s=r.isLine,l=r.lineIndex,u=r.controlPoses,f=u.filter(function(m){var b=m.virtual;return b}).length,d=t.props.roundClickable,c=d===void 0?!0:d;if(a&&c){if(i&&(c===!0||c==="control"))Nh(u,o);else if(s&&(c===!0||c==="line")){var p=_u(t,e),v=p[0],h=p[1];Lh(u,l,v,h)}f!==u.filter(function(m){var b=m.virtual;return b}).length&&js(t,e,[0,0],[0,0],u)}var g=Ee(t,e,{});return ut(t,"onRoundEnd",g),n.borderRadiusState="",g},dragGroupControlStart:function(t,e){var n=this.dragControlStart(t,e);if(!n)return!1;var r=t.moveables,a=t.props.targets,i=ze(t,"roundable",e),o=T({targets:t.props.targets,events:i.map(function(s,l){return T(T({},s),{target:a[l],moveable:r[l],currentTarget:r[l]})})},n);return ut(t,"onRoundGroupStart",o),n},dragGroupControl:function(t,e){var n=this.dragControl(t,e);if(!n)return!1;var r=t.moveables,a=t.props.targets,i=ze(t,"roundable",e),o=T({targets:t.props.targets,events:i.map(function(s,l){return T(T(T({},s),{target:a[l],moveable:r[l],currentTarget:r[l]}),ge({borderRadius:n.borderRadius},s))})},n);return ut(t,"onRoundGroup",o),o},dragGroupControlEnd:function(t,e){var n=t.moveables,r=t.props.targets,a=ze(t,"roundable",e);Oa(t,"onRound",function(s){var l=T({targets:t.props.targets,events:a.map(function(u,f){return T(T(T({},u),{target:r[f],moveable:n[f],currentTarget:n[f]}),ge({borderRadius:s.borderRadius},u))})},s);ut(t,"onRoundGroup",l)});var i=this.dragControlEnd(t,e);if(!i)return!1;var o=T({targets:t.props.targets,events:a.map(function(s,l){var u;return T(T({},s),{target:r[l],moveable:n[l],currentTarget:n[l],lastEvent:(u=s.datas)===null||u===void 0?void 0:u.lastEvent})})},i);return ut(t,"onRoundGroupEnd",o),o},unset:function(t){t.state.borderRadiusState=""}};function Yh(t,e){var n=e?4:3,r=Xt(n),a="matrix".concat(e?"3d":"","(").concat(r.join(","),")");return t===a||t==="matrix(1,0,0,1,0,0)"}var mc={isPinch:!0,name:"beforeRenderable",props:{},events:{onBeforeRenderStart:"beforeRenderStart",onBeforeRender:"beforeRender",onBeforeRenderEnd:"beforeRenderEnd",onBeforeRenderGroupStart:"beforeRenderGroupStart",onBeforeRenderGroup:"beforeRenderGroup",onBeforeRenderGroupEnd:"beforeRenderGroupEnd"},dragRelation:"weak",setTransform:function(t,e){var n=t.state,r=n.is3d,a=n.target,i=n.targetMatrix,o=a==null?void 0:a.style.transform,s=r?"matrix3d(".concat(i.join(","),")"):"matrix(".concat(cu(i,!0),")"),l=!o||o==="none"?s:o;e.datas.startTransforms=Yh(l,r)?[]:ar(l)},resetStyle:function(t){var e=t.datas;e.nextStyle={},e.nextTransforms=t.datas.startTransforms,e.nextTransformAppendedIndexes=[]},fillDragStartParams:function(t,e){return Mt(t,e,{setTransform:function(n){e.datas.startTransforms=re(n)?n:ar(n)},isPinch:!!e.isPinch})},fillDragParams:function(t,e){return Mt(t,e,{isPinch:!!e.isPinch})},dragStart:function(t,e){this.setTransform(t,e),this.resetStyle(e),ut(t,"onBeforeRenderStart",this.fillDragStartParams(t,e))},drag:function(t,e){this.resetStyle(e),ut(t,"onBeforeRender",Mt(t,e,{isPinch:!!e.isPinch}))},dragEnd:function(t,e){ut(t,"onBeforeRenderEnd",Mt(t,e,{isPinch:!!e.isPinch,isDrag:e.isDrag}))},dragGroupStart:function(t,e){var n=this;this.dragStart(t,e);var r=ze(t,"beforeRenderable",e),a=t.moveables,i=r.map(function(o,s){var l=a[s];return n.setTransform(l,o),n.resetStyle(o),n.fillDragStartParams(l,o)});ut(t,"onBeforeRenderGroupStart",Mt(t,e,{isPinch:!!e.isPinch,targets:t.props.targets,setTransform:function(){},events:i}))},dragGroup:function(t,e){var n=this;this.drag(t,e);var r=ze(t,"beforeRenderable",e),a=t.moveables,i=r.map(function(o,s){var l=a[s];return n.resetStyle(o),n.fillDragParams(l,o)});ut(t,"onBeforeRenderGroup",Mt(t,e,{isPinch:!!e.isPinch,targets:t.props.targets,events:i}))},dragGroupEnd:function(t,e){this.dragEnd(t,e),ut(t,"onBeforeRenderGroupEnd",Mt(t,e,{isPinch:!!e.isPinch,isDrag:e.isDrag,targets:t.props.targets}))},dragControlStart:function(t,e){return this.dragStart(t,e)},dragControl:function(t,e){return this.drag(t,e)},dragControlEnd:function(t,e){return this.dragEnd(t,e)},dragGroupControlStart:function(t,e){return this.dragGroupStart(t,e)},dragGroupControl:function(t,e){return this.dragGroup(t,e)},dragGroupControlEnd:function(t,e){return this.dragGroupEnd(t,e)}},bc={name:"renderable",props:{},events:{onRenderStart:"renderStart",onRender:"render",onRenderEnd:"renderEnd",onRenderGroupStart:"renderGroupStart",onRenderGroup:"renderGroup",onRenderGroupEnd:"renderGroupEnd"},dragRelation:"weak",dragStart:function(t,e){ut(t,"onRenderStart",Mt(t,e,{isPinch:!!e.isPinch}))},drag:function(t,e){ut(t,"onRender",this.fillDragParams(t,e))},dragAfter:function(t,e){if(e.resultCount)return this.drag(t,e)},dragEnd:function(t,e){ut(t,"onRenderEnd",this.fillDragEndParams(t,e))},dragGroupStart:function(t,e){ut(t,"onRenderGroupStart",Mt(t,e,{isPinch:!!e.isPinch,targets:t.props.targets}))},dragGroup:function(t,e){var n=this,r=ze(t,"beforeRenderable",e),a=t.moveables,i=r.map(function(o,s){var l=a[s];return n.fillDragParams(l,o)});ut(t,"onRenderGroup",Mt(t,e,T(T({isPinch:!!e.isPinch,targets:t.props.targets,transform:Vn(e)},ge(Yn(e))),{events:i})))},dragGroupEnd:function(t,e){var n=this,r=ze(t,"beforeRenderable",e),a=t.moveables,i=r.map(function(o,s){var l=a[s];return n.fillDragEndParams(l,o)});ut(t,"onRenderGroupEnd",Mt(t,e,T({isPinch:!!e.isPinch,isDrag:e.isDrag,targets:t.props.targets,events:i,transform:Vn(e)},ge(Yn(e)))))},dragControlStart:function(t,e){return this.dragStart(t,e)},dragControl:function(t,e){return this.drag(t,e)},dragControlAfter:function(t,e){return this.dragAfter(t,e)},dragControlEnd:function(t,e){return this.dragEnd(t,e)},dragGroupControlStart:function(t,e){return this.dragGroupStart(t,e)},dragGroupControl:function(t,e){return this.dragGroup(t,e)},dragGroupControlEnd:function(t,e){return this.dragGroupEnd(t,e)},fillDragParams:function(t,e){return Mt(t,e,T({isPinch:!!e.isPinch,transform:Vn(e)},ge(Yn(e))))},fillDragEndParams:function(t,e){return Mt(t,e,T({isPinch:!!e.isPinch,isDrag:e.isDrag,transform:Vn(e)},ge(Yn(e))))}};function vn(t,e,n,r,a,i,o){var s=a==="Start",l=t.state.target,u=i.isRequest;if(!l||s&&r.indexOf("Control")>-1&&!u&&t.areaElement===i.inputEvent.target)return!1;var f="".concat(n).concat(r).concat(a),d="".concat(n).concat(r,"Condition"),c=a==="End",p=a==="After",v=s&&(!t.targetGesto||!t.controlGesto||!t.targetGesto.isFlag()||!t.controlGesto.isFlag());v&&t.updateRect(a,!0,!1),i.clientDistX=i.distX,i.clientDistY=i.distY,a===""&&!u&&Xu(t.state,i);var h=yt([],t[e],!0);if(u){var g=i.requestAble;h.some(function(D){return D.name===g})||h.push.apply(h,t.props.ables.filter(function(D){return D.name===g}))}if(!h.length||h.every(function(D){return D.dragRelation}))return!1;var m=yt(yt([mc],h,!0),[bc],!1).filter(function(D){return D[f]}),b=i.datas;v&&m.forEach(function(D){D.unset&&D.unset(t)});var S=i.inputEvent,y;c&&S&&(y=document.elementFromPoint(i.clientX,i.clientY)||S.target);var x=0,C=!1,E=function(){var D;C=!0,(D=i.stop)===null||D===void 0||D.call(i)},M=m.filter(function(D){var k=D.name,O=b[k]||(b[k]={});if(s&&(O.isEventStart=!D[d]||D[d](t,i)),O.isEventStart){var B=D[f](t,T(T({},i),{stop:E,resultCount:x,datas:O,originalDatas:b,inputTarget:y}));return t._emitter.off(),s&&B===!1&&(O.isEventStart=!1),x+=B||O.isEventStart?1:0,B}return!1}),w=M.length,_=!1;if(C&&(_=!0),!_&&s&&m.length&&!w&&(_=m.filter(function(D){var k=D.name,O=b[k];return O.isEventStart?D.dragRelation!=="strong":!1}).length),(c||_)&&(t.state.gestos={},t.moveables&&t.moveables.forEach(function(D){D.state.gestos={}}),m.forEach(function(D){D.unset&&D.unset(t)})),s&&!_&&!u&&w&&(i==null||i.preventDefault()),t.isUnmounted||_)return!1;if(!s&&w&&!o||c){var I=t.props.flushSync||Au;I(function(){t.updateRect(c?a:"",!0,!1),t.forceUpdate()})}return!s&&!c&&!p&&w&&!o&&vn(t,e,n,r,a+"After",i),!0}function Yi(t){return function(e){var n=t.props.dragTarget,r=e.inputEvent.target,a=t.areaElement;return n&&(r===n||n.contains(r))||r===a||!t.isMoveableElement(r)&&!t.controlBox.getElement().contains(r)||ie(r,"moveable-area")||ie(r,"moveable-padding")||ie(r,"moveable-edgeDraggable")}}function yc(t,e,n){var r=t.controlBox.getElement(),a=[],i=t.props.dragTarget;return a.push(r),(!t.props.dragArea||i)&&a.push(e),Io(t,a,"targetAbles",n,{dragStart:Yi(t),pinchStart:Yi(t)})}function Io(t,e,n,r,a){a===void 0&&(a={});var i=n==="targetAbles",o=t.props,s=o.pinchOutside,l=o.pinchThreshold,u=o.preventClickEventOnDrag,f=o.preventClickDefault,d=o.checkInput,c={preventDefault:!0,preventRightClick:!0,preventWheelClick:!0,container:window,pinchThreshold:l,pinchOutside:s,preventClickEventOnDrag:i?u:!1,preventClickEventOnDragStart:i?f:!1,preventClickEventByCondition:i?null:function(h){return t.controlBox.getElement().contains(h.target)},checkInput:i?d:!1},p=new mu(e,c),v=r==="Control";return["drag","pinch"].forEach(function(h){["Start","","End"].forEach(function(g){p.on("".concat(h).concat(g),function(m){var b,S=m.eventType;if(a[S]&&!a[S](m)){m.stop();return}var y=vn(t,n,h,r,g,m);y?(t.props.stopPropagation||g==="Start"&&v)&&((b=m==null?void 0:m.inputEvent)===null||b===void 0||b.stopPropagation()):m.stop()})})}),p}var Wh=function(){function t(n,r,a){var i=this;this.target=n,this.moveable=r,this.eventName=a,this.ables=[],this._onEvent=function(o){var s=i.eventName,l=i.moveable;l.state.disableNativeEvent||i.ables.forEach(function(u){u[s](l,{inputEvent:o})})},n.addEventListener(a.toLowerCase(),this._onEvent)}var e=t.prototype;return e.setAbles=function(n){this.ables=n},e.destroy=function(){this.target.removeEventListener(this.eventName.toLowerCase(),this._onEvent),this.target=null,this.moveable=null},t}();function Hh(t){if(t&&t.getRootNode){var e=t.getRootNode();if(e.nodeType===11)return e}}function Ks(t,e,n){for(var r=t,a=[],i=document.documentElement||document.body,o=!n&&t===e||t===i,s=o,l=!1,u=3,f,d,c,p=!1,v=bn(e,e,!0).offsetParent,h=1;r&&!s;){s=o;var g=getComputedStyle(r),m=g.position,b=zu(r,g),S=av(lp(b)),y=m==="fixed",x={hasTransform:!1,fixedContainer:null};y&&(p=!0,x=dp(r),v=x.fixedContainer);var C=S.length;!l&&C===16&&(l=!0,u=4,zi(a),c&&(c=Ve(c,3,4))),l&&C===9&&(S=Ve(S,3,4));var E=fp(r,t,g),M=E.tagName,w=E.hasOffset,_=E.isSVG,I=E.origin,D=E.targetOrigin,k=E.offset,O=k[0],B=k[1];M==="svg"&&c&&(a.push({type:"target",target:r,matrix:vp(r,u)}),a.push({type:"offset",target:r,matrix:Xt(u)}));var $=void 0,P=!1,W=!1,q=parseFloat(g.zoom)||1;if(y)$=x.fixedContainer,P=!0;else{var z=bn(r,e,!1,!0,g),j=z.offsetZoom;if($=z.offsetParent,P=z.isEnd,W=z.isStatic,h*=j,j!==1&&W)O-=$.offsetLeft,B-=$.offsetTop;else if(Vv){var st=z.parentSlotElement;if(st){for(var J=$,ot=0,K=0;J&&Hh(J);)ot+=J.offsetLeft,K+=J.offsetTop,J=J.offsetParent;O-=ot,B-=K}}}Cu&&!Yv&&w&&!_&&W&&(m==="relative"||m==="static")&&(O-=$.offsetLeft,B-=$.offsetTop,o=o||P);var rt=0,ft=0,ht=0,F=0;if(y)w&&x.hasTransform&&(ht=$.clientLeft,F=$.clientTop);else if(w&&v!==$&&(rt=$.clientLeft,ft=$.clientTop),w&&$===i){var N=Gu(r,!1,g);O+=N[0],B+=N[1]}if(a.push({type:"target",target:r,matrix:ma(S,u,I)}),w){var Z=r===t,nt=Z?0:r.scrollLeft,dt=Z?0:r.scrollTop;a.push({type:"offset",target:r,matrix:mn([O-nt+rt-ht,B-dt+ft-F],u)})}else a.push({type:"offset",target:r,origin:I});if(q!==1&&a.push({type:"zoom",target:r,matrix:ma(lo([q,q],u),u,[0,0])}),c||(c=S),f||(f=I),d||(d=D),s||y)break;r=$,o=P,(!n||r===i)&&(s=o)}return c||(c=Xt(u)),f||(f=[0,0]),d||(d=[0,0]),{zoom:h,offsetContainer:v,matrixes:a,targetMatrix:c,transformOrigin:f,targetOrigin:d,is3d:l,hasFixed:p}}function Xh(t,e,n,r){var a;n===void 0&&(n=e);var i=Ks(t,e),o=i.matrixes,s=i.is3d,l=i.targetMatrix,u=i.transformOrigin,f=i.targetOrigin,d=i.offsetContainer,c=i.hasFixed,p=i.zoom,v=Ks(d,n,!0),h=v.matrixes,g=v.is3d,m=v.offsetContainer,b=v.zoom,S=r||g||s,y=S?4:3,x=t.tagName.toLowerCase()!=="svg"&&"ownerSVGElement"in t,C=l,E=Xt(y),M=Xt(y),w=Xt(y),_=Xt(y),I=o.length;h.reverse(),o.reverse(),!s&&S&&(C=Ve(C,3,4),zi(o)),!g&&S&&zi(h),h.forEach(function(W){M=qt(M,W.matrix,y)});var D=n||document.body,k=((a=h[0])===null||a===void 0?void 0:a.target)||bn(D,D,!0).offsetParent,O=h.slice(1).reduce(function(W,q){return qt(W,q.matrix,y)},Xt(y));o.forEach(function(W,q){if(I-2===q&&(w=E.slice()),I-1===q&&(_=E.slice()),!W.matrix){var z=o[q+1],j=hp(W,z,k,y,qt(O,E,y));W.matrix=mn(j,y)}E=qt(E,W.matrix,y)});var B=!x&&s;C||(C=Xt(B?4:3));var $=Ia(x&&C.length===16?Ve(C,4,3):C,B),P=M;return M=lu(M,y,y),{hasZoom:p!==1||b!==1,hasFixed:c,rootMatrix:M,originalRootMatrix:P,beforeMatrix:w,offsetMatrix:_,allMatrix:E,targetMatrix:C,targetTransform:$,transformOrigin:u,targetOrigin:f,is3d:S,offsetContainer:d,offsetRootContainer:m}}function jh(t,e,n,r){n===void 0&&(n=e);var a=0,i=0,o=0,s={},l=$u(t);if(t&&(a=l.offsetWidth,i=l.offsetHeight),t){var u=Xh(t,e,n,r),f=zr(u.allMatrix,u.transformOrigin,a,i);s=T(T({},u),f);var d=zr(u.allMatrix,[50,50],100,100);o=Lu([d.pos1,d.pos2],d.direction)}var c=r?4:3;return T(T(T({hasZoom:!1,width:a,height:i,rotation:o},l),{originalRootMatrix:Xt(c),rootMatrix:Xt(c),beforeMatrix:Xt(c),offsetMatrix:Xt(c),allMatrix:Xt(c),targetMatrix:Xt(c),targetTransform:"",transformOrigin:[0,0],targetOrigin:[0,0],is3d:!!r,left:0,top:0,right:0,bottom:0,origin:[0,0],pos1:[0,0],pos2:[0,0],pos3:[0,0],pos4:[0,0],direction:1,hasFixed:!1,offsetContainer:null,offsetRootContainer:null}),s)}function Wi(t,e,n,r,a,i){i===void 0&&(i=[]);var o=1,s=[0,0],l=Wn(),u=Wn(),f=Wn(),d=Wn(),c=[0,0],p={},v=jh(e,n,a,!0);if(e){var h=getComputedStyle(e);i.forEach(function(D){p[D]=h[D]});var g=v.is3d?4:3,m=zr(v.offsetMatrix,Ot(v.transformOrigin,uu(v.targetMatrix,g)),v.width,v.height);o=m.direction,s=Ot(m.origin,[m.left-v.left,m.top-v.top]),d=on(v.offsetRootContainer);var b=bn(r,r,!0).offsetParent||v.offsetRootContainer;if(v.hasZoom){var S=zr(qt(v.originalRootMatrix,v.allMatrix),v.transformOrigin,v.width,v.height),y=zr(v.originalRootMatrix,ba(getComputedStyle(b)).map(function(D){return parseFloat(D)}),b.offsetWidth,b.offsetHeight);if(l=Ja(S,d),f=Ja(y,d,b,!0),t){var x=S.left,C=S.top;u=Ja({left:x,top:C,bottom:C,right:C},d)}}else{l=on(e),f=on(b,!0),t&&(u=on(t));var E=f.left,M=f.top,w=f.clientLeft,_=f.clientTop,I=[l.left-E,l.top-M];c=pt(yr(v.rootMatrix,I,4),[w+v.left,_+v.top])}}return T({targetClientRect:l,containerClientRect:f,moveableClientRect:u,rootContainerClientRect:d,beforeDirection:o,beforeOrigin:s,originalBeforeOrigin:s,target:e,style:p,offsetDelta:c},v)}function Zs(t){var e=t.pos1,n=t.pos2,r=t.pos3,a=t.pos4;if(!e||!n||!r||!a)return null;var i=ir([e,n,r,a]),o=[i.minX,i.minY],s=pt(t.origin,o);return e=pt(e,o),n=pt(n,o),r=pt(r,o),a=pt(a,o),T(T({},t),{left:t.left,top:t.top,posDelta:o,pos1:e,pos2:n,pos3:r,pos4:a,origin:s,beforeOrigin:s,isPersisted:!0})}var Nr=function(t){Tn(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.state=T({container:null,gestos:{},renderPoses:[[0,0],[0,0],[0,0],[0,0]],disableNativeEvent:!1,posDelta:[0,0]},Wi(null)),r.renderState={},r.enabledAbles=[],r.targetAbles=[],r.controlAbles=[],r.rotation=0,r.scale=[1,1],r.isMoveableMounted=!1,r.isUnmounted=!1,r.events={mouseEnter:null,mouseLeave:null},r._emitter=new Hr,r._prevTarget=null,r._prevDragArea=!1,r._isPropTargetChanged=!1,r._hasFirstTarget=!1,r._observer=null,r._observerId=0,r._rootContainer=null,r._viewContainer=null,r._viewClassNames=[],r.checkUpdateRect=function(){if(!r.isDragging()){var a=r.props.parentMoveable;if(a){a.checkUpdateRect();return}Id(r._observerId),r._observerId=jl(function(){r.isDragging()||r.updateRect()})}},r._onPreventClick=function(a){a.stopPropagation(),a.preventDefault()},r}var n=e.prototype;return n.render=function(){var r=this.props,a=this.getState(),i=r.parentPosition,o=r.className,s=r.target,l=r.zoom,u=r.cspNonce,f=r.translateZ,d=r.cssStyled,c=r.portalContainer,p=r.groupable;this._checkUpdateRootContainer(),this.checkUpdate(),this.updateRenderPoses();var v=i||[0,0],h=v[0],g=v[1],m=a.left,b=a.top,S=a.target,y=a.direction,x=a.hasFixed,C=a.offsetDelta,E=r.targets,M=this.isDragging(),w={};this.getEnabledAbles().forEach(function(O){w["data-able-".concat(O.name.toLowerCase())]=!0});var _=this._getAbleClassName(),I=E&&E.length&&(S||p)||s||!this._hasFirstTarget&&this.state.isPersisted,D=this.controlBox||this.props.firstRenderState||this.props.persistData,k=[m-h,b-g];return!p&&r.useAccuratePosition&&(k[0]+=C[0],k[1]+=C[1]),ke(d,T({cspNonce:u,ref:Ne(this,"controlBox"),className:"".concat(bt("control-box",y===-1?"reverse":"",M?"dragging":"")," ").concat(_," ").concat(o)},w,{onClick:this._onPreventClick,portalContainer:c,style:{position:x?"fixed":"absolute",display:I?"block":"none",visibility:D?"visible":"hidden",transform:"translate3d(".concat(k[0],"px, ").concat(k[1],"px, ").concat(f,")"),"--zoom":l,"--zoompx":"".concat(l,"px")}}),this.renderAbles(),this._renderLines())},n.componentDidMount=function(){this.isMoveableMounted=!0,this.isUnmounted=!1,this.controlBox.getElement();var r=this.props,a=r.parentMoveable,i=r.container,o=r.wrapperMoveable;this._checkUpdateRootContainer(),this._checkUpdateViewContainer(),this._updateTargets(),this._updateNativeEvents(),this._updateEvents(),this.updateCheckInput(),this._updateObserver(this.props),!i&&!a&&!o&&!this.state.isPersisted&&(this.updateRect("",!1,!1),this.forceUpdate())},n.componentDidUpdate=function(r){this._checkUpdateRootContainer(),this._checkUpdateViewContainer(),this._updateNativeEvents(),this._updateEvents(),this._updateTargets(),this.updateCheckInput(),this._updateObserver(r)},n.componentWillUnmount=function(){this.isMoveableMounted=!1,this.isUnmounted=!0,this._emitter.off();var r=this._viewContainer;r&&this._changeAbleViewClassNames([]),Pr(this,"targetGesto"),Pr(this,"controlGesto");var a=this.events;for(var i in a){var o=a[i];o&&o.destroy()}},n.getTargets=function(){var r=this.props.target;return r?[r]:[]},n.getAble=function(r){var a=this.props.ables||[];return Ke(a,function(i){return i.name===r})},n.getContainer=function(){var r=this.props,a=r.parentMoveable,i=r.wrapperMoveable,o=r.container;return o||i&&i.getContainer()||a&&a.getContainer()||this.controlBox.getElement().parentElement},n.isMoveableElement=function(r){var a;return r&&(((a=r.getAttribute)===null||a===void 0?void 0:a.call(r,"class"))||"").indexOf(vo)>-1},n.dragStart=function(r){var a=this.targetGesto,i=this.controlGesto;return a&&Yi(this)({inputEvent:r})?a.isFlag()||a.triggerDragStart(r):i&&this.isMoveableElement(r.target)&&(i.isFlag()||i.triggerDragStart(r)),this},n.hitTest=function(r){var a=this.state,i=a.target,o=a.pos1,s=a.pos2,l=a.pos3,u=a.pos4,f=a.targetClientRect;if(!i)return 0;var d;if(r instanceof Element){var c=r.getBoundingClientRect();d={left:c.left,top:c.top,width:c.width,height:c.height}}else d=T({width:0,height:0},r);var p=d.left,v=d.top,h=d.width,g=d.height,m=_i([o,s,u,l],f),b=pv(m,[[p,v],[p+h,v],[p+h,v+g],[p,v+g]]),S=fn(m);return!b||!S?0:Math.min(100,b/S*100)},n.isInside=function(r,a){var i=this.state,o=i.target,s=i.pos1,l=i.pos2,u=i.pos3,f=i.pos4,d=i.targetClientRect;return o?pa([r,a],_i([s,l,f,u],d)):!1},n.updateRect=function(r,a,i){i===void 0&&(i=!0);var o=this.props,s=o.parentMoveable,l=this.state,u=l.target||this.props.target,f=this.getContainer(),d=s?s._rootContainer:this._rootContainer,c=Wi(this.controlBox&&this.controlBox.getElement(),u,f,f,d||f,this._getRequestStyles());if(!u&&this._hasFirstTarget&&o.persistData){var p=Zs(o.persistData);for(var v in p)c[v]=p[v]}this.updateState(c,s?!1:i)},n.isDragging=function(r){var a,i,o=this.targetGesto,s=this.controlGesto;if(o!=null&&o.isFlag()){if(!r)return!0;var l=o.getEventData();return!!(!((a=l[r])===null||a===void 0)&&a.isEventStart)}if(s!=null&&s.isFlag()){if(!r)return!0;var l=s.getEventData();return!!(!((i=l[r])===null||i===void 0)&&i.isEventStart)}return!1},n.updateTarget=function(r){this.updateRect(r,!0)},n.getRect=function(){var r=this.state,a=Se(this.state),i=a[0],o=a[1],s=a[2],l=a[3],u=Te(a),f=r.width,d=r.height,c=u.width,p=u.height,v=u.left,h=u.top,g=[r.left,r.top],m=Ot(g,r.origin),b=Ot(g,r.beforeOrigin),S=r.transformOrigin;return{width:c,height:p,left:v,top:h,pos1:i,pos2:o,pos3:s,pos4:l,offsetWidth:f,offsetHeight:d,beforeOrigin:b,origin:m,transformOrigin:S,rotation:this.getRotation()}},n.getManager=function(){return this},n.stopDrag=function(r){var a,i;(!r||r==="target")&&((a=this.targetGesto)===null||a===void 0||a.stop()),(!r||r==="control")&&((i=this.controlGesto)===null||i===void 0||i.stop())},n.getRotation=function(){var r=this.state,a=r.pos1,i=r.pos2,o=r.direction;return xp(a,i,o)},n.request=function(r,a,i){a===void 0&&(a={});var o=this.props,s=o.ables,l=o.groupable,u=s.filter(function(g){return g.name===r})[0];if(this.isDragging()||!u||!u.request)return{request:function(){return this},requestEnd:function(){return this}};var f=this,d=u.request(this),c=i||a.isInstant,p=d.isControl?"controlAbles":"targetAbles",v="".concat(l?"Group":"").concat(d.isControl?"Control":""),h={request:function(g){return vn(f,p,"drag",v,"",T(T({},d.request(g)),{requestAble:r,isRequest:!0}),c),this},requestEnd:function(){return vn(f,p,"drag",v,"End",T(T({},d.requestEnd()),{requestAble:r,isRequest:!0}),c),this}};return vn(f,p,"drag",v,"Start",T(T({},d.requestStart(a)),{requestAble:r,isRequest:!0}),c),c?h.request(a).requestEnd():h},n.destroy=function(){this.componentWillUnmount()},n.updateRenderPoses=function(){var r=this.getState(),a=this.props,i=r.originalBeforeOrigin,o=r.transformOrigin,s=r.allMatrix,l=r.is3d,u=r.pos1,f=r.pos2,d=r.pos3,c=r.pos4,p=r.left,v=r.top,h=r.isPersisted,g=a.padding||{},m=g.left,b=m===void 0?0:m,S=g.top,y=S===void 0?0:S,x=g.bottom,C=x===void 0?0:x,E=g.right,M=E===void 0?0:E,w=l?4:3,_=[];h?_=o:this.controlBox&&a.groupable?_=i:_=Ot(i,[p,v]),r.renderPoses=[Ot(u,Xn(s,[-b,-y],o,_,w)),Ot(f,Xn(s,[M,-y],o,_,w)),Ot(d,Xn(s,[-b,C],o,_,w)),Ot(c,Xn(s,[M,C],o,_,w))]},n.checkUpdate=function(){this._isPropTargetChanged=!1;var r=this.props,a=r.target,i=r.container,o=r.parentMoveable,s=this.state,l=s.target,u=s.container;if(!(!l&&!a)){this.updateAbles();var f=!Gi(l,a),d=f||!Gi(u,i);if(!!d){var c=i||this.controlBox;c&&this.unsetAbles(),this.updateState({target:a,container:i}),!o&&c&&this.updateRect("End",!1,!1),this._isPropTargetChanged=f}}},n.waitToChangeTarget=function(){return new Promise(function(){})},n.triggerEvent=function(r,a){this._emitter.trigger(r,a);var i=this.props[r];return i&&i(a)},n.useCSS=function(r,a){var i=this.props.customStyledMap,o=r+a;return i[o]||(i[o]=Su(r,a)),i[o]},n.getState=function(){var r,a=this.props;(a.target||((r=a.targets)===null||r===void 0?void 0:r.length))&&(this._hasFirstTarget=!0);var i=this.controlBox,o=a.persistData,s=a.firstRenderState;if(s&&!i)return s;if(!this._hasFirstTarget&&o){var l=Zs(o);if(l)return this.updateState(l,!1),this.state}return this.state.isPersisted=!1,this.state},n.updateSelectors=function(){},n.unsetAbles=function(){var r=this;this.targetAbles.forEach(function(a){a.unset&&a.unset(r)})},n.updateAbles=function(r,a){r===void 0&&(r=this.props.ables),a===void 0&&(a="");var i=this.props,o=i.triggerAblesSimultaneously,s=this.getEnabledAbles(r),l="drag".concat(a,"Start"),u="pinch".concat(a,"Start"),f="drag".concat(a,"ControlStart"),d=Hn(s,[l,u],o),c=Hn(s,[f],o);this.enabledAbles=s,this.targetAbles=d,this.controlAbles=c},n.updateState=function(r,a){if(a){if(this.isUnmounted)return;this.setState(r)}else{var i=this.state;for(var o in r)i[o]=r[o]}},n.getEnabledAbles=function(r){r===void 0&&(r=this.props.ables);var a=this.props;return r.filter(function(i){return i&&(i.always&&a[i.name]!==!1||a[i.name])})},n.renderAbles=function(){var r=this,a=this.props,i=a.triggerAblesSimultaneously,o={createElement:ke};return this.renderState={},yp(Hu(Hn(this.getEnabledAbles(),["render"],i).map(function(s){var l=s.render;return l(r,o)||[]})).filter(function(s){return s}),function(s){var l=s.key;return l}).map(function(s){return s[0]})},n.updateCheckInput=function(){this.targetGesto&&(this.targetGesto.options.checkInput=this.props.checkInput)},n._getRequestStyles=function(){var r=this.getEnabledAbles().reduce(function(a,i){var o,s,l=(s=(o=i.requestStyle)===null||o===void 0?void 0:o.call(i))!==null&&s!==void 0?s:[];return yt(yt([],a,!0),l,!0)},[]);return r},n._updateObserver=function(r){var a,i=this.props,o=i.target;if(!window.ResizeObserver||!o||!i.useResizeObserver){(a=this._observer)===null||a===void 0||a.disconnect();return}if(!(r.target===o&&this._observer)){var s=new ResizeObserver(this.checkUpdateRect);s.observe(o,{box:"border-box"}),this._observer=s}},n._updateEvents=function(){var r=this.controlBox.getElement(),a=this.targetAbles.length,i=this.controlAbles.length,o=this.props,s=o.dragTarget||o.target,l=!a&&this.targetGesto||this._isTargetChanged(!0);l&&(Pr(this,"targetGesto"),this.updateState({gesto:null})),i||Pr(this,"controlGesto"),s&&a&&!this.targetGesto&&(this.targetGesto=yc(this,s,"")),!this.controlGesto&&i&&(this.controlGesto=Io(this,r,"controlAbles","Control"))},n._updateTargets=function(){var r=this.props;this._prevTarget=r.dragTarget||r.target,this._prevDragArea=r.dragArea},n._renderLines=function(){var r=this.props,a=r,i=a.zoom,o=a.hideDefaultLines,s=a.hideChildMoveableDefaultLines,l=a.parentMoveable;if(o||l&&s)return[];var u=this.getState().renderPoses,f={createElement:ke};return[[0,1],[1,3],[3,2],[2,0]].map(function(d,c){var p=d[0],v=d[1];return yn(f,"",u[p],u[v],i,"render-line-".concat(c))})},n._isTargetChanged=function(r){var a=this.props,i=a.dragTarget||a.target,o=this._prevTarget,s=this._prevDragArea,l=a.dragArea,u=!l&&o!==i,f=(r||l)&&s!==l;return u||f},n._updateNativeEvents=function(){var r=this,a=this.props,i=a.dragArea?this.areaElement:this.state.target,o=this.events,s=Wr(o);if(this._isTargetChanged())for(var l in o){var u=o[l];u&&u.destroy(),o[l]=null}if(!!i){var f=this.enabledAbles;s.forEach(function(d){var c=Hn(f,[d]),p=c.length>0,v=o[d];if(!p){v&&(v.destroy(),o[d]=null);return}v||(v=new Wh(i,r,d),o[d]=v),v.setAbles(c)})}},n._checkUpdateRootContainer=function(){var r=this.props.rootContainer;!this._rootContainer&&r&&(this._rootContainer=xr(r,!0))},n._checkUpdateViewContainer=function(){var r=this.props.viewContainer;!this._viewContainer&&r&&(this._viewContainer=xr(r,!0));var a=this._viewContainer;a&&this._changeAbleViewClassNames(yt(yt([],this._getAbleViewClassNames(),!0),[this.isDragging()?xh:""],!1))},n._changeAbleViewClassNames=function(r){var a=this._viewContainer,i=Wu(r.filter(Boolean),function(f){return f}).map(function(f){var d=f[0];return d}),o=this._viewClassNames,s=_n(o,i),l=s.removed,u=s.added;l.forEach(function(f){Kl(a,o[f])}),u.forEach(function(f){eo(a,i[f])}),this._viewClassNames=i},n._getAbleViewClassNames=function(){var r=this;return(this.getEnabledAbles().map(function(a){var i;return((i=a.viewClassName)===null||i===void 0?void 0:i.call(a,r))||""}).join(" ")+" ".concat(this._getAbleClassName("-view"))).split(/\s+/g)},n._getAbleClassName=function(r){var a=this;r===void 0&&(r="");var i=this.getEnabledAbles(),o=this.targetGesto,s=this.controlGesto,l=o!=null&&o.isFlag()?o.getEventData():{},u=s!=null&&s.isFlag()?s.getEventData():{};return i.map(function(f){var d,c,p,v=f.name,h=((d=f.className)===null||d===void 0?void 0:d.call(f,a))||"";return(((c=l[v])===null||c===void 0?void 0:c.isEventStart)||((p=u[v])===null||p===void 0?void 0:p.isEventStart))&&(h+=" ".concat(bt("".concat(v).concat(r,"-dragging")))),h.trim()}).filter(Boolean).join(" ")},e.defaultProps={target:null,dragTarget:null,container:null,rootContainer:null,origin:!0,parentMoveable:null,wrapperMoveable:null,isWrapperMounted:!1,parentPosition:null,portalContainer:null,useResizeObserver:!1,ables:[],pinchThreshold:20,dragArea:!1,passDragArea:!1,transformOrigin:"",className:"",zoom:1,triggerAblesSimultaneously:!1,padding:{},pinchOutside:!0,checkInput:!1,groupable:!1,hideDefaultLines:!1,cspNonce:"",translateZ:0,cssStyled:null,customStyledMap:{},props:{},stopPropagation:!1,preventClickDefault:!1,preventClickEventOnDrag:!0,flushSync:Au,firstRenderState:null,persistData:null,viewContainer:null,useAccuratePosition:!1},e}(io),Oo={name:"groupable",props:{defaultGroupRotate:Number,defaultGroupOrigin:String,groupable:Boolean,groupableProps:Object,targetGroups:Object,hideChildMoveableDefaultLines:Boolean},events:{},render:function(t,e){var n,r=t.props,a=r.targets||[];t.moveables=[];var i=t.getState(),o=i.left,s=i.top,l=i.isPersisted,u=[o,s],f=r.zoom||1,d=t.renderGroupRects,c=((n=r.persistData)===null||n===void 0?void 0:n.children)||[];return l?a=c.map(function(){return null}):c=[],yt(yt([],a.map(function(p,v){return e.createElement(Nr,{key:"moveable"+v,ref:Nl(t,"moveables",v),target:p,origin:!1,cssStyled:r.cssStyled,customStyledMap:r.customStyledMap,useResizeObserver:r.useResizeObserver,hideChildMoveableDefaultLines:r.hideChildMoveableDefaultLines,parentMoveable:t,parentPosition:u,persistData:c[v],zoom:f})}),!0),Hu(d.map(function(p,v){var h=p.pos1,g=p.pos2,m=p.pos3,b=p.pos4,S=[h,g,m,b];return[[0,1],[1,3],[3,2],[2,0]].map(function(y,x){var C=y[0],E=y[1];return yn(e,"",pt(S[C],u),pt(S[E],u),f,"group-rect-".concat(v,"-").concat(x))})})),!0)}},Uh=Rn("clickable",{props:{clickable:Boolean},events:{onClick:"click",onClickGroup:"clickGroup"},always:!0,dragRelation:"weak",dragStart:function(){},dragControlStart:function(){},dragGroupStart:function(t,e){e.datas.inputTarget=e.inputEvent&&e.inputEvent.target},dragEnd:function(t,e){var n=t.props.target,r=e.inputEvent,a=e.inputTarget,i=t.isMoveableElement(a),o=!i&&t.controlBox.getElement().contains(a);if(!(!r||!a||e.isDrag||t.isMoveableElement(a)||o)){var s=n.contains(a);ut(t,"onClick",Mt(t,e,{isDouble:e.isDouble,inputTarget:a,isTarget:n===a,moveableTarget:t.props.target,containsTarget:s}))}},dragGroupEnd:function(t,e){var n=e.inputEvent,r=e.inputTarget;if(!(!n||!r||e.isDrag||t.isMoveableElement(r)||e.datas.inputTarget===r)){var a=t.props.targets,i=a.indexOf(r),o=i>-1,s=!1;i===-1&&(i=Ue(a,function(l){return l.contains(r)}),s=i>-1),ut(t,"onClickGroup",Mt(t,e,{isDouble:e.isDouble,targets:a,inputTarget:r,targetIndex:i,isTarget:o,containsTarget:s,moveableTarget:a[i]}))}},dragControlEnd:function(t,e){this.dragEnd(t,e)},dragGroupControlEnd:function(t,e){this.dragEnd(t,e)}});function Tr(t){var e=t.originalDatas.draggable;return e||(t.originalDatas.draggable={},e=t.originalDatas.draggable),T(T({},t),{datas:e})}var Kh=Rn("edgeDraggable",{css:[`.edge.edgeDraggable.line {
    cursor: move;
}`],render:function(t,e){var n=t.props,r=n.edgeDraggable;return r?sc(e,"edgeDraggable",r,t.getState().renderPoses,n.zoom):[]},dragCondition:function(t,e){var n,r=t.props,a=(n=e.inputEvent)===null||n===void 0?void 0:n.target;return!r.edgeDraggable||!a?!1:!r.draggable&&ie(a,bt("direction"))&&ie(a,bt("edge"))&&ie(a,bt("edgeDraggable"))},dragStart:function(t,e){return he.dragStart(t,Tr(e))},drag:function(t,e){return he.drag(t,Tr(e))},dragEnd:function(t,e){return he.dragEnd(t,Tr(e))},dragGroupCondition:function(t,e){var n,r=t.props,a=(n=e.inputEvent)===null||n===void 0?void 0:n.target;return!r.edgeDraggable||!a?!1:!r.draggable&&ie(a,bt("direction"))&&ie(a,bt("line"))},dragGroupStart:function(t,e){return he.dragGroupStart(t,Tr(e))},dragGroup:function(t,e){return he.dragGroup(t,Tr(e))},dragGroupEnd:function(t,e){return he.dragGroupEnd(t,Tr(e))},unset:function(t){return he.unset(t)}}),Sc={name:"individualGroupable",props:{individualGroupable:Boolean},events:{}},Po=[mc,vc,vh,Dp,he,Kh,Ni,yh,Ch,bh,Dh,Mh,wh,$h,Fh,Vh,Oo,Sc,Uh,dc,bc],Zh=Po.reduce(function(t,e){return T(T({},t),"events"in e?e.events:{})},{}),Qh=Po.reduce(function(t,e){return T(T({},t),e.props)},{}),Jh=Sp(Zh),tg=Object.keys(Jh),eg=Object.keys(Qh);function Qs(t,e){var n=t[0],r=t[1],a=t[2];return(n*e[0]+r*e[1]+a)/Math.sqrt(n*n+r*r)}function Zn(t,e){var n=t[0],r=t[1];return-n*e[0]-r*e[1]}function Js(t,e){return Math.max.apply(Math,t.map(function(n){var r=n[0],a=n[1],i=n[2],o=n[3];return Math.max(r[e],a[e],i[e],o[e])}))}function tl(t,e){return Math.min.apply(Math,t.map(function(n){var r=n[0],a=n[1],i=n[2],o=n[3];return Math.min(r[e],a[e],i[e],o[e])}))}function rg(t,e){var n,r=[0,0],a=[0,0],i=[0,0],o=[0,0],s=0,l=0;if(!t.length)return{pos1:r,pos2:a,pos3:i,pos4:o,minX:0,minY:0,maxX:0,maxY:0,width:s,height:l,rotation:e};var u=Dt(e,be);if(u%90){var f=u/180*Math.PI,d=Math.tan(f),c=-1/d,p=[Bi,Ds],v=[[0,0],[0,0]],h=[Bi,Ds],g=[[0,0],[0,0]];t.forEach(function(q){q.forEach(function(z){var j=Qs([-d,1,0],z),st=Qs([-c,1,0],z);p[0]>j&&(v[0]=z,p[0]=j),p[1]<j&&(v[1]=z,p[1]=j),h[0]>st&&(g[0]=z,h[0]=st),h[1]<st&&(g[1]=z,h[1]=st)})});var m=v[0],b=v[1],S=g[0],y=g[1],x=[-d,1,Zn([-d,1],m)],C=[-d,1,Zn([-d,1],b)],E=[-c,1,Zn([-c,1],S)],M=[-c,1,Zn([-c,1],y)];n=[[x,E],[x,M],[C,E],[C,M]].map(function(q){var z=q[0],j=q[1];return fo(z,j)[0]}),r=n[0],a=n[1],i=n[2],o=n[3],s=h[1]-h[0],l=p[1]-p[0]}else{var w=tl(t,0),_=tl(t,1),I=Js(t,0),D=Js(t,1);if(r=[w,_],a=[I,_],i=[w,D],o=[I,D],s=I-w,l=D-_,u%180){var k=[i,r,o,a];r=k[0],a=k[1],i=k[2],o=k[3],s=D-_,l=I-w}}if(u%360>180){var k=[o,i,a,r];r=k[0],a=k[1],i=k[2],o=k[3]}var O=ir([r,a,i,o]),B=O.minX,$=O.minY,P=O.maxX,W=O.maxY;return{pos1:r,pos2:a,pos3:i,pos4:o,width:s,height:l,minX:B,minY:$,maxX:P,maxY:W,rotation:e}}function Cc(t,e){var n=e.map(function(r){if(re(r)){var a=Cc(t,r),i=a.length;return i>1?a:i===1?a[0]:null}else{var o=Ke(t,function(s){var l=s.manager;return l.props.target===r});return o?(o.finded=!0,o.manager):null}}).filter(Boolean);return n.length===1&&re(n[0])?n[0]:n}var ng=function(t){Tn(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.differ=new du,r.moveables=[],r.transformOrigin="50% 50%",r.renderGroupRects=[],r._hasFirstTargets=!1,r}var n=e.prototype;return n.componentDidMount=function(){t.prototype.componentDidMount.call(this)},n.checkUpdate=function(){this._isPropTargetChanged=!1,this.updateAbles()},n.getTargets=function(){return this.props.targets},n.updateRect=function(r,a,i){var o;i===void 0&&(i=!0);var s=this.state;if(!this.controlBox||s.isPersisted)return;this.moveables.forEach(function(ft){ft.updateRect(r,!1,!1)});var l=this.props,u=this.moveables,f=s.target||l.target,d=u.map(function(ft){return{finded:!1,manager:ft}}),c=Cc(d,this.props.targetGroups||[]);c.push.apply(c,d.filter(function(ft){var ht=ft.finded;return!ht}).map(function(ft){var ht=ft.manager;return ht}));var p=[],v=!a||r!==""&&l.updateGroup,h=l.defaultGroupRotate||0;if(!this._hasFirstTargets){var g=(o=this.props.persistData)===null||o===void 0?void 0:o.rotation;g!=null&&(h=g)}function m(ft,ht,F){var N=ft.map(function(_t){if(re(_t)){var Ct=m(_t,ht),kt=[Ct.pos1,Ct.pos2,Ct.pos3,Ct.pos4];return p.push(Ct),{poses:kt,rotation:Ct.rotation}}else return{poses:Se(_t.state),rotation:_t.getRotation()}}),Z=N.map(function(_t){var Ct=_t.rotation;return Ct}),nt=0,dt=Z[0],it=Z.every(function(_t){return Math.abs(dt-_t)<.1});v?nt=it?dt:h:nt=!F&&it?dt:ht;var gt=N.map(function(_t){var Ct=_t.poses;return Ct}),St=rg(gt,nt);return St}var b=m(c,this.rotation,!0);v&&(this.rotation=b.rotation,this.transformOrigin=l.defaultGroupOrigin||"50% 50%",this.scale=[1,1]),this.renderGroupRects=p;var S=this.transformOrigin,y=this.rotation,x=this.scale,C=b.width,E=b.height,M=b.minX,w=b.minY,_=_p([[0,0],[C,0],[0,E],[C,E]],wp(S,C,E),this.rotation/180*Math.PI),I=ir(_.result),D=I.minX,k=I.minY,O=" rotate(".concat(y,"deg)")+" scale(".concat(x[0]>=0?1:-1,", ").concat(x[1]>=0?1:-1,")"),B="translate(".concat(-D,"px, ").concat(-k,"px)").concat(O);this.controlBox.getElement().style.transform="translate3d(".concat(M,"px, ").concat(w,"px, ").concat(this.props.translateZ||0,")"),f.style.cssText+="left:0px;top:0px;"+"transform-origin:".concat(S,";")+"width:".concat(C,"px;height:").concat(E,"px;")+"transform: ".concat(B),s.width=C,s.height=E;var $=this.getContainer(),P=Wi(this.controlBox.getElement(),f,this.controlBox.getElement(),this.getContainer(),this._rootContainer||$,[]),W=[P.left,P.top],q=Se(P),z=q[0],j=q[1],st=q[2],J=q[3],ot=ir([z,j,st,J]),K=[ot.minX,ot.minY],rt=x[0]*x[1]>0?1:-1;P.pos1=pt(z,K),P.pos2=pt(j,K),P.pos3=pt(st,K),P.pos4=pt(J,K),P.left=M-P.left+K[0],P.top=w-P.top+K[1],P.origin=pt(Ot(W,P.origin),K),P.beforeOrigin=pt(Ot(W,P.beforeOrigin),K),P.originalBeforeOrigin=Ot(W,P.originalBeforeOrigin),P.transformOrigin=pt(Ot(W,P.transformOrigin),K),f.style.transform="translate(".concat(-D-K[0],"px, ").concat(-k-K[1],"px)")+O,this.updateState(T(T({},P),{posDelta:K,direction:rt,beforeDirection:rt}),i)},n.getRect=function(){return T(T({},t.prototype.getRect.call(this)),{children:this.moveables.map(function(r){return r.getRect()})})},n.triggerEvent=function(r,a,i){if(i||r.indexOf("Group")>-1)return t.prototype.triggerEvent.call(this,r,a);this._emitter.trigger(r,a)},n.updateAbles=function(){t.prototype.updateAbles.call(this,yt(yt([],this.props.ables,!0),[Oo],!1),"Group")},n._updateTargets=function(){t.prototype._updateTargets.call(this),this._prevTarget=this.props.dragTarget||this.areaElement},n._updateEvents=function(){var r=this.state,a=this.props,i=this._prevTarget,o=a.dragTarget||this.areaElement;i!==o&&(Pr(this,"targetGesto"),Pr(this,"controlGesto"),r.target=null),r.target||(r.target=this.areaElement,this.controlBox.getElement().style.display="block"),r.target&&(this.targetGesto||(this.targetGesto=yc(this,o,"Group")),this.controlGesto||(this.controlGesto=Io(this,this.controlBox.getElement(),"controlAbles","GroupControl")));var s=!Gi(r.container,a.container);s&&(r.container=a.container);var l=this.differ.update(a.targets),u=l.added,f=l.changed,d=l.removed,c=u.length||d.length;(s||c||f.length)&&(this.updateRect(),this._hasFirstTargets=!0),this._isPropTargetChanged=!!c},n._updateObserver=function(){},e.defaultProps=T(T({},Nr.defaultProps),{transformOrigin:["50%","50%"],groupable:!0,dragArea:!0,keepRatio:!0,targets:[],defaultGroupRotate:0,defaultGroupOrigin:"50% 50%"}),e}(Nr),ag=function(t){Tn(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.moveables=[],r}var n=e.prototype;return n.render=function(){var r=this,a,i=this.props,o=i.cspNonce,s=i.cssStyled,l=i.persistData,u=i.targets||[],f=u.length,d=this.isUnmounted||!f,c=(a=l==null?void 0:l.children)!==null&&a!==void 0?a:[];return d&&!f&&c.length?u=c.map(function(){return null}):d||(c=[]),ke(s,{cspNonce:o,ref:Ne(this,"controlBox"),className:bt("control-box")},u.map(function(p,v){return ke(Nr,T({key:"moveable"+v,ref:Nl(r,"moveables",v)},r.props,{target:p,wrapperMoveable:r,isWrapperMounted:r.isMoveableMounted,persistData:c[v]}))}))},n.componentDidUpdate=function(){},n.getTargets=function(){return this.props.targets},n.updateRect=function(r,a,i){i===void 0&&(i=!0),this.moveables.forEach(function(o){o.updateRect(r,a,i)})},n.getRect=function(){return T(T({},t.prototype.getRect.call(this)),{children:this.moveables.map(function(r){return r.getRect()})})},n.request=function(){return{request:function(){return this},requestEnd:function(){return this}}},n.dragStart=function(){return this},n.hitTest=function(){return 0},n.isInside=function(){return!1},n.isDragging=function(){return!1},n.updateRenderPoses=function(){},n.checkUpdate=function(){},n.triggerEvent=function(){},n.updateAbles=function(){},n._updateEvents=function(){},n._updateObserver=function(){},e}(Nr);function Ec(t,e){var n=[];return t.forEach(function(r){if(!!r){if(me(r)){e[r]&&n.push.apply(n,e[r]);return}re(r)?n.push.apply(n,Ec(r,e)):n.push(r)}}),n}function xc(t,e){var n=[];return t.forEach(function(r){if(!!r){if(me(r)){e[r]&&n.push.apply(n,e[r]);return}re(r)?n.push(xc(r,e)):n.push(r)}}),n}function wc(t,e){return t.length!==e.length||t.some(function(n,r){var a=e[r];return!n&&!a?!1:n!=a?re(n)&&re(a)?wc(n,a):!0:!1})}var ig=function(t){Tn(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.refTargets=[],r.selectorMap={},r._differ=new du,r._elementTargets=[],r._onChangeTargets=null,r}var n=e.prototype;return e.makeStyled=function(){var r={},a=this.getTotalAbles();a.forEach(function(o){var s=o.css;!s||s.forEach(function(l){r[l]=!0})});var i=Wr(r).join(`
`);this.defaultStyled=Su("div",pd(vo,Wv+i))},e.getTotalAbles=function(){return yt([vc,Oo,Sc,dc],this.defaultAbles,!0)},n.render=function(){var r,a=this.constructor;a.defaultStyled||a.makeStyled();var i=this.props,o=i.ables,s=i.props,l=$v(i,["ables","props"]),u=this._updateRefs(!0),f=Ec(u,this.selectorMap),d=f.length>1,c=a.getTotalAbles(),p=yt(yt([],c,!0),o||[],!0),v=T(T(T({},l),s||{}),{ables:p,cssStyled:a.defaultStyled,customStyledMap:a.customStyledMap});this._elementTargets=f;var h=null,g=this.moveable,m=l.persistData;if(m!=null&&m.children&&(d=!0),d){if(l.individualGroupable)return ke(ag,T({key:"individual-group",ref:Ne(this,"moveable")},v,{target:null,targets:f}));var b=xc(u,this.selectorMap);if(g&&!g.props.groupable&&!g.props.individualGroupable){var S=g.props.target;S&&f.indexOf(S)>-1&&(h=T({},g.state))}return ke(ng,T({key:"group",ref:Ne(this,"moveable")},v,(r=l.groupableProps)!==null&&r!==void 0?r:{},{target:null,targets:f,targetGroups:b,firstRenderState:h}))}else{var y=f[0];if(g&&(g.props.groupable||g.props.individualGroupable)){var x=g.moveables||[],C=Ke(x,function(E){return E.props.target===y});C&&(h=T({},C.state))}return ke(Nr,T({key:"single",ref:Ne(this,"moveable")},v,{target:y,firstRenderState:h}))}},n.componentDidMount=function(){this._checkChangeTargets(),this._updateRefs()},n.componentDidUpdate=function(){this._checkChangeTargets()},n.componentWillUnmount=function(){this.selectorMap={},this.refTargets=[]},n.getTargets=function(){var r,a;return(a=(r=this.moveable)===null||r===void 0?void 0:r.getTargets())!==null&&a!==void 0?a:[]},n.updateSelectors=function(){this.selectorMap={},this._updateRefs()},n.waitToChangeTarget=function(){var r=this,a;return this._onChangeTargets=function(){r._onChangeTargets=null,a()},new Promise(function(i){a=i})},n.waitToChangeTargets=function(){return this.waitToChangeTarget()},n.getManager=function(){return this.moveable},n._updateRefs=function(r){var a=this.refTargets,i=Eo(this.props.target||this.props.targets),o=typeof document!="undefined",s=wc(a,i),l=this.selectorMap,u={};return this.refTargets.forEach(function f(d){if(me(d)){var c=l[d];c?u[d]=l[d]:o&&(s=!0,u[d]=[].slice.call(document.querySelectorAll(d)))}else re(d)&&d.forEach(f)}),this.refTargets=i,this.selectorMap=u,!r&&s&&this.forceUpdate(),i},n._checkChangeTargets=function(){var r,a,i,o=this._differ.update(this._elementTargets),s=o.added,l=o.removed,u=s.length||l.length;u&&((a=(r=this.props).onChangeTargets)===null||a===void 0||a.call(r,{moveable:this.moveable,targets:this._elementTargets}),(i=this._onChangeTargets)===null||i===void 0||i.call(this)),this._updateRefs()},e.defaultAbles=[],e.customStyledMap={},e.defaultStyled=null,Lv([hd(wu)],e.prototype,"moveable",void 0),e}(io),og=function(t){Tn(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.defaultAbles=Po,e}(ig),sg=og;/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var Hi=function(t,e){return Hi=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var a in r)r.hasOwnProperty(a)&&(n[a]=r[a])},Hi(t,e)};function Bo(t,e){Hi(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}var Sn=function(){return Sn=Object.assign||function(e){for(var n,r=1,a=arguments.length;r<a;r++){n=arguments[r];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},Sn.apply(this,arguments)};function lg(t,e,n,r){var a=arguments.length,i=a<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(i=(a<3?o(i):a>3?o(e,n,i):o(e,n))||i);return a>3&&i&&Object.defineProperty(e,n,i),i}var ug=function(t){Bo(e,t);function e(r){var a=t.call(this,r)||this;return a.state={},a.state=a.props,a}var n=e.prototype;return n.render=function(){return Hd(ke(sg,Sn({ref:Ne(this,"moveable")},this.state)),this.state.parentElement)},e}(ao),xa=eg,_c=wu,Dc=tg,cg=function(t){Bo(e,t);function e(r,a){a===void 0&&(a={});var i=t.call(this)||this;i.tempElement=document.createElement("div");var o=Sn({},a),s={};Dc.forEach(function(u){s[pi("on ".concat(u))]=function(f){return i.trigger(u,f)}}),xs(ke(ug,Sn({ref:Ne(i,"innerMoveable"),parentElement:r},o,s)),i.tempElement);var l=o.target;return re(l)&&l.length>1&&i.updateRect(),i}var n=e.prototype;return n.setState=function(r,a){this.innerMoveable.setState(r,a)},n.forceUpdate=function(r){this.innerMoveable.forceUpdate(r)},n.dragStart=function(r){var a=this.innerMoveable;a.$_timer&&this.forceUpdate(),this.getMoveable().dragStart(r)},n.destroy=function(){xs(null,this.tempElement),this.off(),this.tempElement=null,this.innerMoveable=null},n.getMoveable=function(){return this.innerMoveable.moveable},e=lg([di(_c,function(r,a){r[a]||(r[a]=function(){for(var i=[],o=0;o<arguments.length;o++)i[o]=arguments[o];var s=this.getMoveable();if(!(!s||!s[a]))return s[a].apply(s,i)})}),di(xa,function(r,a){Object.defineProperty(r,a,{get:function(){return this.getMoveable().props[a]},set:function(i){var o;this.setState((o={},o[a]=i,o))},enumerable:!0,configurable:!0})})],e),e}(Hr),fg=function(t){Bo(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e}(cg),pn=function(){return pn=Object.assign||function(e){for(var n,r=1,a=arguments.length;r<a;r++){n=arguments[r];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},pn.apply(this,arguments)},Mc={};_c.forEach(function(t){Mc[t]=function(){for(var e,n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];return(e=this.$_moveable)[t].apply(e,n)}});var kc={};xa.forEach(function(t){kc[t]=function(e){this.$_moveable[t]=e}});var Ao=Oe({name:"moveable",methods:Mc,props:xa,watch:kc,mounted:function(){var t=this,e={},n=this.$props;xa.forEach(function(o){var s=n[o];Vr(s)||(e[o]=n[o])});var r=this.$refs,a=r.moveableElement,i=new fg(a,pn(pn({},e),{portalContainer:a}));Dc.forEach(function(o){i.on(o,function(s){t.$emit(o,pn({},s))})}),this.$_moveable=i},beforeUnmount:function(){this.$_moveable.destroy()}});const dg={ref:"moveableElement"};function vg(t,e,n,r,a,i){return ct(),Lt("div",dg,null,512)}Ao.render=vg;Ao.__file="src/Moveable.vue";var Xi=function(t,e){return Xi=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(n[a]=r[a])},Xi(t,e)};function pg(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");Xi(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}function hg(t,e){return e={exports:{}},t(e,e.exports),e.exports}var Pn=hg(function(t,e){function n(l){if(l&&typeof l=="object"){var u=l.which||l.keyCode||l.charCode;u&&(l=u)}if(typeof l=="number")return o[l];var f=String(l),d=r[f.toLowerCase()];if(d)return d;var d=a[f.toLowerCase()];if(d)return d;if(f.length===1)return f.charCodeAt(0)}n.isEventKey=function(u,f){if(u&&typeof u=="object"){var d=u.which||u.keyCode||u.charCode;if(d==null)return!1;if(typeof f=="string"){var c=r[f.toLowerCase()];if(c)return c===d;var c=a[f.toLowerCase()];if(c)return c===d}else if(typeof f=="number")return f===d;return!1}},e=t.exports=n;var r=e.code=e.codes={backspace:8,tab:9,enter:13,shift:16,ctrl:17,alt:18,"pause/break":19,"caps lock":20,esc:27,space:32,"page up":33,"page down":34,end:35,home:36,left:37,up:38,right:39,down:40,insert:45,delete:46,command:91,"left command":91,"right command":93,"numpad *":106,"numpad +":107,"numpad -":109,"numpad .":110,"numpad /":111,"num lock":144,"scroll lock":145,"my computer":182,"my calculator":183,";":186,"=":187,",":188,"-":189,".":190,"/":191,"`":192,"[":219,"\\":220,"]":221,"'":222},a=e.aliases={windows:91,"\u21E7":16,"\u2325":18,"\u2303":17,"\u2318":91,ctl:17,control:17,option:18,pause:19,break:19,caps:20,return:13,escape:27,spc:32,spacebar:32,pgup:33,pgdn:34,ins:45,del:46,cmd:91};/*!
 * Programatically add the following
 */for(i=97;i<123;i++)r[String.fromCharCode(i)]=i-32;for(var i=48;i<58;i++)r[i-48]=i;for(i=1;i<13;i++)r["f"+i]=i+111;for(i=0;i<10;i++)r["numpad "+i]=i+96;var o=e.names=e.title={};for(i in r)o[r[i]]=i;for(var s in a)r[s]=a[s]});Pn.code;Pn.codes;Pn.aliases;var gg=Pn.names;Pn.title;var el={"+":"plus","left command":"meta","right command":"meta"},rl={shift:1,ctrl:2,alt:3,meta:4};function Tc(t,e){var n=(gg[t]||e||"").toLowerCase();for(var r in el)n=n.replace(r,el[r]);return n.replace(/\s/g,"")}function Rc(t,e){e===void 0&&(e=Tc(t.keyCode,t.key));var n=mg(t);return n.indexOf(e)===-1&&n.push(e),n.filter(Boolean)}function mg(t){var e=[t.shiftKey&&"shift",t.ctrlKey&&"ctrl",t.altKey&&"alt",t.metaKey&&"meta"];return e.filter(Boolean)}function nl(t){var e=t.slice();return e.sort(function(n,r){var a=rl[n]||5,i=rl[r]||5;return a-i}),e}var al,bg=function(t){pg(e,t);function e(r){r===void 0&&(r=window);var a=t.call(this)||this;return a.container=r,a.ctrlKey=!1,a.altKey=!1,a.shiftKey=!1,a.metaKey=!1,a.clear=function(){return a.ctrlKey=!1,a.altKey=!1,a.shiftKey=!1,a.metaKey=!1,a},a.keydownEvent=function(i){a.triggerEvent("keydown",i)},a.keyupEvent=function(i){a.triggerEvent("keyup",i)},a.blur=function(){a.clear(),a.trigger("blur")},fe(r,"blur",a.blur),fe(r,"keydown",a.keydownEvent),fe(r,"keyup",a.keyupEvent),a}var n=e.prototype;return Object.defineProperty(e,"global",{get:function(){return al||(al=new e)},enumerable:!1,configurable:!0}),e.setGlobal=function(){return this.global},n.destroy=function(){var r=this.container;this.clear(),this.off(),le(r,"blur",this.blur),le(r,"keydown",this.keydownEvent),le(r,"keyup",this.keyupEvent)},n.keydown=function(r,a){return this.addEvent("keydown",r,a)},n.offKeydown=function(r,a){return this.removeEvent("keydown",r,a)},n.offKeyup=function(r,a){return this.removeEvent("keyup",r,a)},n.keyup=function(r,a){return this.addEvent("keyup",r,a)},n.addEvent=function(r,a,i){return re(a)?this.on("".concat(r,".").concat(nl(a).join(".")),i):me(a)?this.on("".concat(r,".").concat(a),i):this.on(r,a),this},n.removeEvent=function(r,a,i){return re(a)?this.off("".concat(r,".").concat(nl(a).join(".")),i):me(a)?this.off("".concat(r,".").concat(a),i):this.off(r,a),this},n.triggerEvent=function(r,a){this.ctrlKey=a.ctrlKey,this.shiftKey=a.shiftKey,this.altKey=a.altKey,this.metaKey=a.metaKey;var i=Tc(a.keyCode,a.key),o=i==="ctrl"||i==="shift"||i==="meta"||i==="alt",s={key:i,isToggle:o,inputEvent:a,keyCode:a.keyCode,ctrlKey:a.ctrlKey,altKey:a.altKey,shiftKey:a.shiftKey,metaKey:a.metaKey};this.trigger(r,s),this.trigger("".concat(r,".").concat(i),s);var l=Rc(a,i);l.length>1&&this.trigger("".concat(r,".").concat(l.join(".")),s)},e}(Hr),Ic=bg,ji=function(t,e){return ji=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(n[a]=r[a])},ji(t,e)};function Oc(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");ji(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}var ce=function(){return ce=Object.assign||function(e){for(var n,r=1,a=arguments.length;r<a;r++){n=arguments[r];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},ce.apply(this,arguments)};function yg(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,r=Object.getOwnPropertySymbols(t);a<r.length;a++)e.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(t,r[a])&&(n[r[a]]=t[r[a]]);return n}function Sg(t,e,n,r){var a=arguments.length,i=a<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(i=(a<3?o(i):a>3?o(e,n,i):o(e,n))||i);return a>3&&i&&Object.defineProperty(e,n,i),i}function ia(t,e,n){if(n||arguments.length===2)for(var r=0,a=e.length,i;r<a;r++)(i||!(r in e))&&(i||(i=Array.prototype.slice.call(e,0,r)),i[r]=e[r]);return t.concat(i||Array.prototype.slice.call(e))}function Cg(t){if("touches"in t){var e=t.touches[0]||t.changedTouches[0];return{clientX:e.clientX,clientY:e.clientY}}else return{clientX:t.clientX,clientY:t.clientY}}function Eg(t){if(typeof Map=="undefined")return t.filter(function(n,r){return t.indexOf(n)===r});var e=new Map;return t.filter(function(n){return e.has(n)?!1:(e.set(n,!0),!0)})}function il(t,e){return document.elementFromPoint&&document.elementFromPoint(t,e)||null}function Pc(t,e,n){var r=t.tag,a=t.children,i=t.attributes,o=t.className,s=t.style,l=e||document.createElement(r);for(var u in i)l.setAttribute(u,i[u]);var f=l.children;if(a.forEach(function(c,p){Pc(c,f[p],l)}),o&&o.split(" ").forEach(function(c){ie(l,c)||eo(l,c)}),s){var d=l.style;for(var u in s)d[u]=s[u]}return!e&&n&&n.appendChild(l),l}function xg(t,e){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];var a=e||{},i=a.className,o=i===void 0?"":i,s=a.style,l=s===void 0?{}:s,u=yg(a,["className","style"]);return{tag:t,className:o,style:l,attributes:u,children:n}}function ii(t,e,n){t!==e&&n(t,e)}function ol(t,e,n){var r;n===void 0&&(n=t.data.boundArea);var a=t.distX,i=a===void 0?0:a,o=t.distY,s=o===void 0?0:o,l=t.data,u=l.startX,f=l.startY;if(e>0){var d=Math.sqrt((i*i+s*s)/(1+e*e)),c=e*d;i=(i>=0?1:-1)*c,s=(s>=0?1:-1)*d}var p=Math.abs(i),v=Math.abs(s),h=i<0?u-n.left:n.right-u,g=s<0?f-n.top:n.bottom-f;r=Ul([p,v],[0,0],[h,g],!!e),p=r[0],v=r[1],i=(i>=0?1:-1)*p,s=(s>=0?1:-1)*v;var m=Math.min(0,i),b=Math.min(0,s),S=u+m,y=f+b;return{left:S,top:y,right:S+p,bottom:y+v,width:p,height:v}}function oi(t){var e=t.getBoundingClientRect(),n=e.left,r=e.top,a=e.width,i=e.height;return{pos1:[n,r],pos2:[n+a,r],pos3:[n,r+i],pos4:[n+a,r+i]}}function sl(t,e,n){var r=cn(t,e),a=r.list,i=r.prevList,o=r.added,s=r.removed,l=r.maintained;return ia(ia(ia([],o.map(function(u){return a[u]}),!0),s.map(function(u){return i[u]}),!0),n?l.map(function(u){var f=u[1];return a[f]}):[],!0)}function ll(t){for(var e=0,n=t.length,r=1;r<n;++r)e=Math.max(Me(t[r],t[r-1]),e);return e}var Bc=bu(`
:host {
    position: fixed;
    display: none;
    border: 1px solid #4af;
    background: rgba(68, 170, 255, 0.5);
    pointer-events: none;
    will-change: transform;
    z-index: 100;
}
`),wg="selecto-selection ".concat(Bc.className),zo=["boundContainer","selectableTargets","selectByClick","selectFromInside","continueSelect","continueSelectWithoutDeselect","toggleContinueSelect","toggleContinueSelectWithoutDeselect","keyContainer","hitRate","scrollOptions","checkInput","preventDefault","ratio","getElementRect","preventDragFromInside","rootContainer","dragCondition","clickBySelectEnd"],ul=ia(["dragContainer","cspNonce","preventClickEventOnDrag","preventClickEventOnDragStart","preventRightClick"],zo,!0),_g=["dragStart","drag","dragEnd","selectStart","select","selectEnd","keydown","keyup","scroll"],Dg=["clickTarget","getSelectableElements","setSelectedTargets","getElementPoints","getSelectedTargets","findSelectableTargets","triggerDragStart","checkScroll","selectTargetsByPoints","setSelectedTargetsByPoints"],Mg=function(t){Oc(e,t);function e(r){r===void 0&&(r={});var a=t.call(this)||this;a.selectedTargets=[],a.dragScroll=new hu,a._onDragStart=function(s,l){var u=s.data,f=s.clientX,d=s.clientY,c=s.inputEvent,p=a.options,v=p.selectFromInside,h=p.selectByClick,g=p.rootContainer,m=p.boundContainer,b=p.preventDragFromInside,S=b===void 0?!0:b,y=p.clickBySelectEnd,x=p.dragCondition;if(x&&!x(s)){s.stop();return}u.data={},u.innerWidth=window.innerWidth,u.innerHeight=window.innerHeight,a.findSelectableTargets(u),u.startSelectedTargets=a.selectedTargets,u.scaleMatrix=co(),u.containerX=0,u.containerY=0;var C={left:-1/0,top:-1/0,right:1/0,bottom:1/0};if(g){var E=a.container.getBoundingClientRect();u.containerX=E.left,u.containerY=E.top,u.scaleMatrix=lv(a.container,g)}if(m){var M=Ge(m)&&"element"in m?ce({left:!0,top:!0,bottom:!0,right:!0},m):{element:m,left:!0,top:!0,bottom:!0,right:!0},w=M.element,_=void 0;if(w){me(w)?_=document.querySelector(w):w===!0?_=a.container:_=w;var I=_.getBoundingClientRect();M.left&&(C.left=I.left),M.top&&(C.top=I.top),M.right&&(C.right=I.right),M.bottom&&(C.bottom=I.bottom)}}u.boundArea=C;var D={left:f,top:d,right:f,bottom:d,width:0,height:0},k=[];if(!v||h&&!y){var O=a._findElement(l||il(f,d),u.selectableTargets);k=O?[O]:[]}var B=k.length>0,$=!v&&B;if($&&!h)return s.stop(),!1;var P=c.type,W=P==="mousedown"||P==="touchstart",q=!s.isClick&&W?a.emit("dragStart",ce(ce({},s),{data:u.data})):!0;if(!q)return s.stop(),!1;if(a.continueSelect?(k=sl(a.selectedTargets,k,a.continueSelectWithoutDeselect),u.startPassedTargets=a.selectedTargets):u.startPassedTargets=[],a._select(k,D,s,!0),u.startX=f,u.startY=d,u.selectFlag=!1,u.preventDragFromInside=!1,c.target){var z=na(u.scaleMatrix,[f-u.containerX,d-u.containerY]);a.target.style.cssText+="position: ".concat(g?"absolute":"fixed",";")+"left:0px;top:0px;"+"transform: translate(".concat(z[0],"px, ").concat(z[1],"px)")}if($&&h&&!y)c.preventDefault(),S&&(a._selectEnd(u.startSelectedTargets,u.startPassedTargets,D,s),u.preventDragFromInside=!0);else{u.selectFlag=!0,P==="touchstart"&&c.preventDefault();var j=a.options.scrollOptions;j&&j.container&&a.dragScroll.dragStart(s,j),y&&(u.selectFlag=!1,s.preventDrag())}return!0},a._onDrag=function(s){if(s.data.selectFlag){var l=a.scrollOptions;if((l==null?void 0:l.container)&&a.dragScroll.drag(s,l))return}a._checkSelected(s)},a._onDragEnd=function(s){var l=s.data,u=s.inputEvent,f=ol(s,a.options.ratio),d=l.selectFlag;if(u&&a.emit("dragEnd",ce(ce({isDouble:!!s.isDouble,isClick:!!s.isClick,isDrag:!1,isSelect:d},s),{data:l.data,rect:f})),a.target.style.cssText+="display: none;",d)l.selectFlag=!1,a.dragScroll.dragEnd();else if(a.selectByClick&&a.clickBySelectEnd){var c=a._findElement(il(s.clientX,s.clientY),l.selectableTargets);a._select(c?[c]:[],f,s)}l.preventDragFromInside||a._selectEnd(l.startSelectedTargets,l.startPassedTargets,f,s)},a._onKeyDown=function(s){var l=a.options,u=!1;if(!a._keydownContinueSelect){var f=a._sameCombiKey(s,l.toggleContinueSelect);a._keydownContinueSelect=f,u=f}if(!a._keydownContinueSelectWithoutDeselection){var f=a._sameCombiKey(s,l.toggleContinueSelectWithoutDeselect);a._keydownContinueSelectWithoutDeselection=f,u=u||f}!u||a.emit("keydown",{keydownContinueSelect:a._keydownContinueSelect,keydownContinueSelectWithoutDeselection:a._keydownContinueSelectWithoutDeselection})},a._onKeyUp=function(s){var l=a.options,u=!1;if(a._keydownContinueSelect){var f=a._sameCombiKey(s,l.toggleContinueSelect,!0);a._keydownContinueSelect=!f,u=f}if(a._keydownContinueSelectWithoutDeselection){var f=a._sameCombiKey(s,l.toggleContinueSelectWithoutDeselect,!0);a._keydownContinueSelectWithoutDeselection=!f,u=u||f}!u||a.emit("keyup",{keydownContinueSelect:a._keydownContinueSelect,keydownContinueSelectWithoutDeselection:a._keydownContinueSelectWithoutDeselection})},a._onBlur=function(){(a._keydownContinueSelect||a._keydownContinueSelectWithoutDeselection)&&(a._keydownContinueSelect=!1,a._keydownContinueSelectWithoutDeselection=!1,a.emit("keyup",{keydownContinueSelect:a._keydownContinueSelect,keydownContinueSelectWithoutDeselection:a._keydownContinueSelectWithoutDeselection}))},a._onDocumentSelectStart=function(s){if(!!a.gesto.isFlag()){var l=a.dragContainer;l===window&&(l=document.documentElement);var u=l instanceof Element?[l]:[].slice.call(l),f=s.target;u.some(function(d){if(d===f||d.contains(f))return s.preventDefault(),!0})}},a.target=r.portalContainer;var i=r.container;a.options=ce({portalContainer:null,container:null,dragContainer:null,selectableTargets:[],selectByClick:!0,selectFromInside:!0,clickBySelectEnd:!1,hitRate:100,continueSelect:!1,continueSelectWithoutDeselect:!1,toggleContinueSelect:null,toggleContinueSelectWithoutDeselect:null,keyContainer:null,scrollOptions:void 0,checkInput:!1,preventDefault:!1,boundContainer:!1,preventDragFromInside:!0,dragCondition:null,rootContainer:null,getElementRect:oi,cspNonce:"",ratio:0},r);var o=a.options.portalContainer;return o&&(i=o.parentElement),a.container=i||document.body,a.initElement(),a.initDragScroll(),a.setKeyController(),a}var n=e.prototype;return n.setSelectedTargets=function(r){var a=this.selectedTargets,i=cn(a,r),o=i.added,s=i.removed,l=i.prevList,u=i.list;return this.selectedTargets=r,{added:o.map(function(f){return u[f]}),removed:s.map(function(f){return l[f]}),beforeSelected:a,selected:r}},n.setSelectedTargetsByPoints=function(r,a){var i=Math.min(r[0],a[0]),o=Math.min(r[1],a[1]),s=Math.max(r[0],a[0]),l=Math.max(r[1],a[1]),u={left:i,top:o,right:s,bottom:l,width:s-i,height:l-o},f={ignoreClick:!0};this.findSelectableTargets(f);var d=this.hitTest(u,f),c=this.setSelectedTargets(d);return ce(ce({},c),{rect:u})},n.selectTargetsByPoints=function(r,a){var i=new MouseEvent("mousedown",{clientX:r[0],clientY:r[1],cancelable:!0,bubbles:!0}),o=new MouseEvent("mousemove",{clientX:a[0],clientY:a[1],cancelable:!0,bubbles:!0}),s=new MouseEvent("mousemove",{clientX:a[0],clientY:a[1],cancelable:!0,bubbles:!0}),l=this.gesto,u=l.onDragStart(i);u!==!1&&(l.onDrag(o),l.onDragEnd(s))},n.getSelectedTargets=function(){return this.selectedTargets},n.triggerDragStart=function(r){return this.gesto.triggerDragStart(r),this},n.destroy=function(){this.off(),this.keycon&&this.keycon.destroy(),this.gesto.unset(),this.injectResult.destroy(),le(document,"selectstart",this._onDocumentSelectStart),this.keycon=null,this.gesto=null,this.injectResult=null,this.target=null,this.container=null,this.options=null},n.getElementPoints=function(r){var a=this.getElementRect||oi,i=a(r),o=[i.pos1,i.pos2,i.pos4,i.pos3];if(a!==oi){var s=r.getBoundingClientRect();return _i(o,s)}return o},n.getSelectableElements=function(){var r=[];return this.options.selectableTargets.forEach(function(a){if(Ge(a))r.push(a);else{var i=[].slice.call(document.querySelectorAll(a));i.forEach(function(o){r.push(o)})}}),r},n.checkScroll=function(){if(!!this.gesto.isFlag()){var r=this.scrollOptions;r!=null&&r.container&&this.dragScroll.checkScroll(ce({inputEvent:this.gesto.getCurrentEvent()},r))}},n.findSelectableTargets=function(r){var a=this;r===void 0&&(r=this.gesto.getEventData());var i=this.getSelectableElements(),o=i.map(function(s){return a.getElementPoints(s)});r.selectableTargets=i,r.selectablePoints=o,this._refreshGroups(r)},n.clickTarget=function(r,a){var i=Cg(r),o=i.clientX,s=i.clientY,l={data:{selectFlag:!1},clientX:o,clientY:s,inputEvent:r,isClick:!0,stop:function(){return!1}};return this._onDragStart(l,a)&&this._onDragEnd(l),this},n.setKeyController=function(){var r=this.options,a=r.keyContainer,i=r.toggleContinueSelect,o=r.toggleContinueSelectWithoutDeselect;this.keycon&&(this.keycon.destroy(),this.keycon=null),(i||o)&&(this.keycon=new Ic(a||window),this.keycon.keydown(this._onKeyDown).keyup(this._onKeyUp).on("blur",this._onBlur))},n.setKeyEvent=function(){var r=this.options,a=r.toggleContinueSelect,i=r.toggleContinueSelectWithoutDeselect;!a&&!i||this.keycon||this.setKeyController()},n.setKeyContainer=function(r){var a=this,i=this.options;ii(i.keyContainer,r,function(){i.keyContainer=r,a.setKeyController()})},n.getContinueSelect=function(){var r=this.options,a=r.continueSelect,i=r.toggleContinueSelect;return!i||!this._keydownContinueSelect?a:!a},n.getContinueSelectWithoutDeselect=function(){var r=this.options,a=r.continueSelectWithoutDeselect,i=r.toggleContinueSelectWithoutDeselect;return!i||!this._keydownContinueSelectWithoutDeselection?a:!a},n.setToggleContinueSelect=function(r){var a=this,i=this.options;ii(i.toggleContinueSelect,r,function(){i.toggleContinueSelect=r,a.setKeyEvent()})},n.setToggleContinueSelectWithoutDeselect=function(r){var a=this,i=this.options;ii(i.toggleContinueSelectWithoutDeselect,r,function(){i.toggleContinueSelectWithoutDeselect=r,a.setKeyEvent()})},n.setPreventDefault=function(r){this.gesto.options.preventDefault=r},n.setCheckInput=function(r){this.gesto.options.checkInput=r},n.initElement=function(){this.target=Pc(xg("div",{className:wg}),this.target,this.container);var r=this.target,a=this.options,i=a.dragContainer,o=a.checkInput,s=a.preventDefault,l=a.preventClickEventOnDragStart,u=a.preventClickEventOnDrag,f=a.preventClickEventByCondition,d=a.preventRightClick,c=d===void 0?!0:d;this.dragContainer=typeof i=="string"?[].slice.call(document.querySelectorAll(i)):i||this.target.parentNode,this.gesto=new mu(this.dragContainer,{checkWindowBlur:!0,container:window,checkInput:o,preventDefault:s,preventClickEventOnDragStart:l,preventClickEventOnDrag:u,preventClickEventByCondition:f,preventRightClick:c}).on({dragStart:this._onDragStart,drag:this._onDrag,dragEnd:this._onDragEnd}),fe(document,"selectstart",this._onDocumentSelectStart),this.injectResult=Bc.inject(r,{nonce:this.options.cspNonce})},n.hitTest=function(r,a){var i=this.options,o=i.hitRate,s=i.selectByClick,l=r.left,u=r.top,f=r.right,d=r.bottom,c=a.innerGroups,p=a.innerWidth,v=a.innerHeight,h=a.clientX,g=a.clientY,m=a.ignoreClick,b=[[l,u],[f,u],[f,d],[l,d]],S=Yr("".concat(o)),y=function($){var P=m?!1:pa([h,g],$);if(s&&P)return!0;var W=pu(b,$);if(!W.length)return!1;var q=fn(W),z=0;if(q===0&&fn($)===0?(z=ll($),q=ll(W)):z=fn($),S.unit==="px")return q>=S.value;var j=va(Math.round(q/z*100),0,100);return j>=Math.min(100,S.value)};if(!c){var x=a.selectableTargets,C=a.selectablePoints;return x.filter(function($,P){return y(C[P])})}for(var E=[],M=Math.floor(l/p),w=Math.floor(f/p),_=Math.floor(u/v),I=Math.floor(d/v),D=M;D<=w;++D){var k=c[D];if(!!k)for(var O=function($){var P=k[$];if(!P)return"continue";var W=P.points,q=P.targets;W.forEach(function(z,j){y(z)&&E.push(q[j])})},B=_;B<=I;++B)O(B)}return Eg(E)},n.initDragScroll=function(){var r=this;this.dragScroll.on("scroll",function(a){var i=a.container,o=a.direction;r.emit("scroll",{container:i,direction:o})}).on("move",function(a){var i=a.offsetX,o=a.offsetY,s=a.inputEvent,l=r.gesto;if(!(!l||!l.isFlag())){var u=r.gesto.getEventData(),f=u.boundArea;u.startX-=i,u.startY-=o,u.selectablePoints.forEach(function(d){d.forEach(function(c){c[0]-=i,c[1]-=o})}),r._refreshGroups(u),f.left-=i,f.right-=i,f.top-=o,f.bottom-=o,r.gesto.scrollBy(i,o,s.inputEvent,!1),r._checkSelected(r.gesto.getCurrentEvent())}})},n._select=function(r,a,i,o){var s=i.inputEvent,l=i.data,u=this.setSelectedTargets(r);o&&this.emit("selectStart",ce(ce({},u),{rect:a,inputEvent:s,data:l.data})),(u.added.length||u.removed.length)&&this.emit("select",ce(ce({},u),{rect:a,inputEvent:s,data:l.data}))},n._selectEnd=function(r,a,i,o){var s=o.inputEvent,l=o.isDouble,u=o.data,f=cn(r,this.selectedTargets),d=f.added,c=f.removed,p=f.prevList,v=f.list,h=cn(a,this.selectedTargets),g=h.added,m=h.removed,b=h.prevList,S=h.list,y=s&&s.type,x=y==="mousedown"||y==="touchstart";this.emit("selectEnd",{startSelected:r,beforeSelected:a,selected:this.selectedTargets,added:d.map(function(C){return v[C]}),removed:c.map(function(C){return p[C]}),afterAdded:g.map(function(C){return S[C]}),afterRemoved:m.map(function(C){return b[C]}),isDragStart:x,isClick:!!o.isClick,isDouble:!!l,rect:i,inputEvent:s,data:u.data})},n._checkSelected=function(r,a){a===void 0&&(a=ol(r,this.options.ratio));var i=r.data,o=a.top,s=a.left,l=a.width,u=a.height,f=i.selectFlag,d=i.containerX,c=i.containerY,p=i.scaleMatrix,v=na(p,[s-d,o-c]),h=na(p,[l,u]),g=[];if(f){this.target.style.cssText+="display: block;left:0px;top:0px;"+"transform: translate(".concat(v[0],"px, ").concat(v[1],"px);")+"width:".concat(h[0],"px;height:").concat(h[1],"px;");var m=this.hitTest(a,i);g=sl(i.startPassedTargets,m,this.continueSelect&&this.continueSelectWithoutDeselect)}var b=this.emit("drag",ce(ce({},r),{data:i.data,isSelect:f,rect:a}));if(b===!1){this.target.style.cssText+="display: none;",r.stop();return}f&&this._select(g,a,r)},n._sameCombiKey=function(r,a,i){if(!a)return!1;var o=Rc(r.inputEvent,r.key),s=[].concat(a),l=re(s[0])?s:[s];if(i){var u=r.key;return l.some(function(f){return f.some(function(d){return d===u})})}return l.some(function(f){return f.every(function(d){return o.indexOf(d)>-1})})},n._findElement=function(r,a){for(var i=r;i&&!(a.indexOf(i)>-1);)i=i.parentElement;return i},n._refreshGroups=function(r){var a=r.innerWidth,i=r.innerHeight;if(!a||!i)r.innerGroups=null;else{var o=r.selectableTargets,s=r.selectablePoints,l={};s.forEach(function(u,f){var d=1/0,c=-1/0,p=1/0,v=-1/0;u.forEach(function(y){var x=Math.floor(y[0]/a),C=Math.floor(y[1]/i);d=Math.min(x,d),c=Math.max(x,c),p=Math.min(C,p),v=Math.max(C,v)});for(var h=d;h<=c;++h)for(var g=p;g<=v;++g){l[h]=l[h]||{},l[h][g]=l[h][g]||{points:[],targets:[]};var m=l[h][g],b=m.targets,S=m.points;b.push(o[f]),S.push(u)}}),r.innerGroups=l}},e=Sg([di(zo,function(r,a){var i={enumerable:!0,configurable:!0,get:function(){return this.options[a]}},o=pi("get ".concat(a));r[o]?i.get=function(){return this[o]()}:i.get=function(){return this.options[a]};var s=pi("set ".concat(a));r[s]?i.set=function(u){this[s](u)}:i.set=function(u){this.options[a]=u},Object.defineProperty(r,a,i)})],e),e}(Hr),kg=function(t){Oc(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e}(Mg),Tg=kg,hn=function(){return hn=Object.assign||function(e){for(var n,r=1,a=arguments.length;r<a;r++){n=arguments[r];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},hn.apply(this,arguments)},Ac={};Dg.forEach(function(t){Ac[t]=function(){for(var e,n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];return(e=this.$_selecto)[t].apply(e,n)}});var zc={};zo.forEach(function(t){zc[t]=function(e){return this.$_selecto[t]=e}});var Go={name:"selecto",methods:Ac,props:ul,watch:zc,mounted:function(){var t=this,e=this.$props,n={};ul.forEach(function(a){var i=e[a];Vr(i)||(n[a]=i)});var r=new Tg(hn(hn({},n),{portalContainer:this.$refs.selectoElement}));this.$_selecto=r,_g.forEach(function(a){r.on(a,function(i){t.$emit(a,hn({},i))})})},beforeUnmount:function(){this.$_selecto.destroy()}};const Rg={ref:"selectoElement"};function Ig(t,e,n,r,a,i){return ct(),Lt("div",Rg,null,512)}Go.render=Ig;Go.__file="src/Selecto.vue";var za={exports:{}};za.exports=Gc;za.exports.addWheelListener=Gc;za.exports.removeWheelListener=Og;function Gc(t,e,n){t.addEventListener("wheel",e,n)}function Og(t,e,n){t.removeEventListener("wheel",e,n)}var Ga={exports:{}},Pg=4,Bg=.001,Ag=1e-7,zg=10,ln=11,Qn=1/(ln-1),Gg=typeof Float32Array=="function";function Fc(t,e){return 1-3*e+3*t}function $c(t,e){return 3*e-6*t}function Lc(t){return 3*t}function wa(t,e,n){return((Fc(e,n)*t+$c(e,n))*t+Lc(e))*t}function qc(t,e,n){return 3*Fc(e,n)*t*t+2*$c(e,n)*t+Lc(e)}function Fg(t,e,n,r,a){var i,o,s=0;do o=e+(n-e)/2,i=wa(o,r,a)-t,i>0?n=o:e=o;while(Math.abs(i)>Ag&&++s<zg);return o}function $g(t,e,n,r){for(var a=0;a<Pg;++a){var i=qc(e,n,r);if(i===0)return e;var o=wa(e,n,r)-t;e-=o/i}return e}function Lg(t){return t}var qg=function(e,n,r,a){if(!(0<=e&&e<=1&&0<=r&&r<=1))throw new Error("bezier x values must be in [0, 1] range");if(e===n&&r===a)return Lg;for(var i=Gg?new Float32Array(ln):new Array(ln),o=0;o<ln;++o)i[o]=wa(o*Qn,e,r);function s(l){for(var u=0,f=1,d=ln-1;f!==d&&i[f]<=l;++f)u+=Qn;--f;var c=(l-i[f])/(i[f+1]-i[f]),p=u+c*Qn,v=qc(p,e,r);return v>=Bg?$g(l,p,e,r):v===0?p:Fg(l,u,u+Qn,e,r)}return function(u){return u===0?0:u===1?1:wa(s(u),n,a)}},rn=qg,cl={ease:rn(.25,.1,.25,1),easeIn:rn(.42,0,1,1),easeOut:rn(0,0,.58,1),easeInOut:rn(.42,0,.58,1),linear:rn(0,0,1,1)};Ga.exports=Ng;Ga.exports.makeAggregateRaf=Nc;Ga.exports.sharedScheduler=Nc();function Ng(t,e,n){var r=Object.create(null),a=Object.create(null);n=n||{};var i=typeof n.easing=="function"?n.easing:cl[n.easing];i||(n.easing&&console.warn("Unknown easing function in amator: "+n.easing),i=cl.ease);var o=typeof n.step=="function"?n.step:fl,s=typeof n.done=="function"?n.done:fl,l=Vg(n.scheduler),u=Object.keys(e);u.forEach(function(m){r[m]=t[m],a[m]=e[m]-t[m]});var f=typeof n.duration=="number"?n.duration:400,d=Math.max(1,f*.06),c,p=0;return c=l.next(h),{cancel:v};function v(){l.cancel(c),c=0}function h(){var m=i(p/d);p+=1,g(m),p<=d?(c=l.next(h),o(t)):(c=0,setTimeout(function(){s(t)},0))}function g(m){u.forEach(function(b){t[b]=a[b]*m+r[b]})}}function fl(){}function Vg(t){if(!t){var e=typeof window!="undefined"&&window.requestAnimationFrame;return e?Yg():Wg()}if(typeof t.next!="function")throw new Error("Scheduler is supposed to have next(cb) function");if(typeof t.cancel!="function")throw new Error("Scheduler is supposed to have cancel(handle) function");return t}function Yg(){return{next:window.requestAnimationFrame.bind(window),cancel:window.cancelAnimationFrame.bind(window)}}function Wg(){return{next:function(t){return setTimeout(t,1e3/60)},cancel:function(t){return clearTimeout(t)}}}function Nc(){var t=new Set,e=new Set,n=0;return{next:a,cancel:a,clearAll:r};function r(){t.clear(),e.clear(),cancelAnimationFrame(n),n=0}function a(s){e.add(s),i()}function i(){n||(n=requestAnimationFrame(o))}function o(){n=0;var s=e;e=t,t=s,t.forEach(function(l){l()}),t.clear()}}var Hg=function(e){jg(e);var n=Xg(e);return e.on=n.on,e.off=n.off,e.fire=n.fire,e};function Xg(t){var e=Object.create(null);return{on:function(n,r,a){if(typeof r!="function")throw new Error("callback is expected to be a function");var i=e[n];return i||(i=e[n]=[]),i.push({callback:r,ctx:a}),t},off:function(n,r){var a=typeof n=="undefined";if(a)return e=Object.create(null),t;if(e[n]){var i=typeof r!="function";if(i)delete e[n];else for(var o=e[n],s=0;s<o.length;++s)o[s].callback===r&&o.splice(s,1)}return t},fire:function(n){var r=e[n];if(!r)return t;var a;arguments.length>1&&(a=Array.prototype.splice.call(arguments,1));for(var i=0;i<r.length;++i){var o=r[i];o.callback.apply(o.ctx,a)}return t}}}function jg(t){if(!t)throw new Error("Eventify cannot use falsy object as events subject");for(var e=["on","fire","off"],n=0;n<e.length;++n)if(t.hasOwnProperty(e[n]))throw new Error("Subject cannot be eventified, since it already has property '"+e[n]+"'")}var Ug=Kg;function Kg(t,e,n){typeof n!="object"&&(n={});var r=typeof n.minVelocity=="number"?n.minVelocity:5,a=typeof n.amplitude=="number"?n.amplitude:.25,i=typeof n.cancelAnimationFrame=="function"?n.cancelAnimationFrame:Zg(),o=typeof n.requestAnimationFrame=="function"?n.requestAnimationFrame:Qg(),s,l,u=342,f,d,c,p,v,h,g,m;return{start:S,stop:x,cancel:b};function b(){i(f),i(m)}function S(){s=t(),p=g=d=v=0,l=new Date,i(f),i(m),f=o(y)}function y(){var E=Date.now(),M=E-l;l=E;var w=t(),_=w.x-s.x,I=w.y-s.y;s=w;var D=1e3/(1+M);d=.8*_*D+.2*d,v=.8*I*D+.2*v,f=o(y)}function x(){i(f),i(m);var E=t();c=E.x,h=E.y,l=Date.now(),(d<-r||d>r)&&(p=a*d,c+=p),(v<-r||v>r)&&(g=a*v,h+=g),m=o(C)}function C(){var E=Date.now()-l,M=!1,w=0,_=0;p&&(w=-p*Math.exp(-E/u),w>.5||w<-.5?M=!0:w=p=0),g&&(_=-g*Math.exp(-E/u),_>.5||_<-.5?M=!0:_=g=0),M&&(e(c+w,h+_),m=o(C))}}function Zg(){return typeof cancelAnimationFrame=="function"?cancelAnimationFrame:clearTimeout}function Qg(){return typeof requestAnimationFrame=="function"?requestAnimationFrame:function(t){return setTimeout(t,16)}}var Jg=t0;function t0(t){if(t)return{capture:vl,release:vl};var e,n,r,a=!1;return{capture:i,release:o};function i(s){a=!0,n=window.document.onselectstart,r=window.document.ondragstart,window.document.onselectstart=dl,e=s,e.ondragstart=dl}function o(){!a||(a=!1,window.document.onselectstart=n,e&&(e.ondragstart=r))}}function dl(t){return t.stopPropagation(),!1}function vl(){}var e0=r0;function r0(){this.x=0,this.y=0,this.scale=1}var Fo={exports:{}};Fo.exports=n0;Fo.exports.canAttach=Vc;function n0(t,e){if(!Vc(t))throw new Error("svg element is required for svg.panzoom to work");var n=t.ownerSVGElement;if(!n)throw new Error("Do not apply panzoom to the root <svg> element. Use its child instead (e.g. <g></g>). As of March 2016 only FireFox supported transform on the root element");e.disableKeyboardInteraction||n.setAttribute("tabindex",0);var r={getBBox:i,getScreenCTM:o,getOwner:a,applyTransform:l,initTransform:s};return r;function a(){return n}function i(){var u=t.getBBox();return{left:u.x,top:u.y,width:u.width,height:u.height}}function o(){var u=n.getCTM();return u||n.getScreenCTM()}function s(u){var f=t.getCTM();f===null&&(f=document.createElementNS("http://www.w3.org/2000/svg","svg").createSVGMatrix()),u.x=f.e,u.y=f.f,u.scale=f.a,n.removeAttributeNS(null,"viewBox")}function l(u){t.setAttribute("transform","matrix("+u.scale+" 0 0 "+u.scale+" "+u.x+" "+u.y+")")}}function Vc(t){return t&&t.ownerSVGElement&&t.getCTM}var $o={exports:{}};$o.exports=a0;$o.exports.canAttach=Yc;function a0(t,e){var n=Yc(t);if(!n)throw new Error("panzoom requires DOM element to be attached to the DOM tree");var r=t.parentElement;t.scrollTop=0,e.disableKeyboardInteraction||r.setAttribute("tabindex",0);var a={getBBox:o,getOwner:i,applyTransform:s};return a;function i(){return r}function o(){return{left:0,top:0,width:t.clientWidth,height:t.clientHeight}}function s(l){t.style.transformOrigin="0 0 0",t.style.transform="matrix("+l.scale+", 0, 0, "+l.scale+", "+l.x+", "+l.y+")"}}function Yc(t){return t&&t.parentElement&&t.style}var pl=za.exports,si=Ga.exports,i0=Hg,o0=Ug,Wc=Jg,s0=Wc(),l0=Wc(!0),u0=e0,hl=Fo.exports,gl=$o.exports,c0=1,f0=1.75,ml=300,bl=200,d0=Hc;function Hc(t,e){e=e||{};var n=e.controller;if(n||(hl.canAttach(t)?n=hl(t,e):gl.canAttach(t)&&(n=gl(t,e))),!n)throw new Error("Cannot create panzoom for the current type of dom element");var r=n.getOwner(),a={x:0,y:0},i=!1,o=new u0;n.initTransform&&n.initTransform(o);var s=typeof e.filterKey=="function"?e.filterKey:Gr,l=typeof e.pinchSpeed=="number"?e.pinchSpeed:1,u=e.bounds,f=typeof e.maxZoom=="number"?e.maxZoom:Number.POSITIVE_INFINITY,d=typeof e.minZoom=="number"?e.minZoom:0,c=typeof e.boundsPadding=="number"?e.boundsPadding:.05,p=typeof e.zoomDoubleClickSpeed=="number"?e.zoomDoubleClickSpeed:f0,v=e.beforeWheel||Gr,h=e.beforeMouseDown||Gr,g=typeof e.zoomSpeed=="number"?e.zoomSpeed:c0,m=yl(e.transformOrigin),b=e.enableTextSelection?l0:s0;v0(u),e.autocenter&&Z();var S,y=0,x=0,C=0,E=null,M=new Date,w,_=!1,I=!1,D,k,O,B,$,P;"smoothScroll"in e&&!e.smoothScroll?P=p0():P=o0(jt,et,e.smoothScroll);var W,q,z,j=!1;wt();var st={dispose:vt,moveBy:A,moveTo:pe,smoothMoveTo:Y,centerOn:R,zoomTo:Gn,zoomAbs:Ft,smoothZoom:zn,smoothZoomAbs:jc,showRectangle:F,pause:rt,resume:ft,isPaused:ht,getTransform:nt,getMinZoom:dt,setMinZoom:it,getMaxZoom:gt,setMaxZoom:St,getTransformOrigin:_t,setTransformOrigin:Ct,getZoomSpeed:kt,setZoomSpeed:Rt};i0(st);var J=typeof e.initialX=="number"?e.initialX:o.x,ot=typeof e.initialY=="number"?e.initialY:o.y,K=typeof e.initialZoom=="number"?e.initialZoom:o.scale;return(J!=o.x||ot!=o.y||K!=o.scale)&&Ft(J,ot,K),st;function rt(){Yt(),j=!0}function ft(){j&&(wt(),j=!1)}function ht(){return j}function F(G){var Q=r.getBoundingClientRect(),tt=N(Q.width,Q.height),lt=G.right-G.left,zt=G.bottom-G.top;if(!Number.isFinite(lt)||!Number.isFinite(zt))throw new Error("Invalid rectangle");var Nt=tt.x/lt,Vt=tt.y/zt,ue=Math.min(Nt,Vt);o.x=-(G.left+lt/2)*ue+tt.x/2,o.y=-(G.top+zt/2)*ue+tt.y/2,o.scale=ue}function N(G,Q){if(n.getScreenCTM){var tt=n.getScreenCTM(),lt=tt.a,zt=tt.d,Nt=tt.e,Vt=tt.f;a.x=G*lt-Nt,a.y=Q*zt-Vt}else a.x=G,a.y=Q;return a}function Z(){var G,Q,tt=0,lt=0,zt=mt();if(zt)tt=zt.left,lt=zt.top,G=zt.right-zt.left,Q=zt.bottom-zt.top;else{var Nt=r.getBoundingClientRect();G=Nt.width,Q=Nt.height}var Vt=n.getBBox();if(!(Vt.width===0||Vt.height===0)){var ue=Q/Vt.height,Mr=G/Vt.width,ur=Math.min(Mr,ue);o.x=-(Vt.left+Vt.width/2)*ur+G/2+tt,o.y=-(Vt.top+Vt.height/2)*ur+Q/2+lt,o.scale=ur}}function nt(){return o}function dt(){return d}function it(G){d=G}function gt(){return f}function St(G){f=G}function _t(){return m}function Ct(G){m=yl(G)}function kt(){return g}function Rt(G){if(!Number.isFinite(G))throw new Error("Zoom speed should be a number");g=G}function jt(){return{x:o.x,y:o.y}}function pe(G,Q){o.x=G,o.y=Q,at(),Dr("pan"),It()}function X(G,Q){pe(o.x+G,o.y+Q)}function at(){var G=mt();if(!!G){var Q=!1,tt=Pt(),lt=G.left-tt.right;return lt>0&&(o.x+=lt,Q=!0),lt=G.right-tt.left,lt<0&&(o.x+=lt,Q=!0),lt=G.top-tt.bottom,lt>0&&(o.y+=lt,Q=!0),lt=G.bottom-tt.top,lt<0&&(o.y+=lt,Q=!0),Q}}function mt(){if(!!u){if(typeof u=="boolean"){var G=r.getBoundingClientRect(),Q=G.width,tt=G.height;return{left:Q*c,top:tt*c,right:Q*(1-c),bottom:tt*(1-c)}}return u}}function Pt(){var G=n.getBBox(),Q=Gt(G.left,G.top);return{left:Q.x,top:Q.y,right:G.width*o.scale+Q.x,bottom:G.height*o.scale+Q.y}}function Gt(G,Q){return{x:G*o.scale+o.x,y:Q*o.scale+o.y}}function It(){i=!0,S=window.requestAnimationFrame(se)}function Tt(G,Q,tt){if(li(G)||li(Q)||li(tt))throw new Error("zoom requires valid numbers");var lt=o.scale*tt;if(lt<d){if(o.scale===d)return;tt=d/o.scale}if(lt>f){if(o.scale===f)return;tt=f/o.scale}var zt=N(G,Q);if(o.x=zt.x-tt*(zt.x-o.x),o.y=zt.y-tt*(zt.y-o.y),u&&c===1&&d===1)o.scale*=tt,at();else{var Nt=at();Nt||(o.scale*=tt)}Dr("zoom"),It()}function Ft(G,Q,tt){var lt=tt/o.scale;Tt(G,Q,lt)}function R(G){var Q=G.ownerSVGElement;if(!Q)throw new Error("ui element is required to be within the scene");var tt=G.getBoundingClientRect(),lt=tt.left+tt.width/2,zt=tt.top+tt.height/2,Nt=Q.getBoundingClientRect(),Vt=Nt.width/2-lt,ue=Nt.height/2-zt;A(Vt,ue,!0)}function Y(G,Q){A(G-o.x,Q-o.y,!0)}function A(G,Q,tt){if(!tt)return X(G,Q);W&&W.cancel();var lt={x:0,y:0},zt={x:G,y:Q},Nt=0,Vt=0;W=si(lt,zt,{step:function(ue){X(ue.x-Nt,ue.y-Vt),Nt=ue.x,Vt=ue.y}})}function et(G,Q){Fn(),pe(G,Q)}function vt(){Yt()}function wt(){r.addEventListener("mousedown",Wo,{passive:!1}),r.addEventListener("dblclick",Yo,{passive:!1}),r.addEventListener("touchstart",Ur,{passive:!1}),r.addEventListener("keydown",Zt,{passive:!1}),pl.addWheelListener(r,Ko,{passive:!1}),It()}function Yt(){pl.removeWheelListener(r,Ko),r.removeEventListener("mousedown",Wo),r.removeEventListener("keydown",Zt),r.removeEventListener("dblclick",Yo),r.removeEventListener("touchstart",Ur),S&&(window.cancelAnimationFrame(S),S=0),P.cancel(),jo(),Uo(),b.release(),$a()}function se(){i&&At()}function At(){i=!1,n.applyTransform(o),Dr("transform"),S=0}function Zt(G){var Q=0,tt=0,lt=0;if(G.keyCode===38?tt=1:G.keyCode===40?tt=-1:G.keyCode===37?Q=1:G.keyCode===39?Q=-1:G.keyCode===189||G.keyCode===109?lt=1:(G.keyCode===187||G.keyCode===107)&&(lt=-1),!s(G,Q,tt,lt)){if(Q||tt){G.preventDefault(),G.stopPropagation();var zt=r.getBoundingClientRect(),Nt=Math.min(zt.width,zt.height),Vt=.05,ue=Nt*Vt*Q,Mr=Nt*Vt*tt;A(ue,Mr)}if(lt){var ur=Zo(lt*100),Nt=m?Qr():Bn();Gn(Nt.x,Nt.y,ur)}}}function Bn(){var G=r.getBoundingClientRect();return{x:G.width/2,y:G.height/2}}function Ur(G){if(Fa(G),Zr(),G.touches.length===1)return Xc(G,G.touches[0]);G.touches.length===2&&($=Vo(G.touches[0],G.touches[1]),z=!0,Lo())}function Fa(G){e.onTouch&&!e.onTouch(G)||(G.stopPropagation(),G.preventDefault())}function Kr(G){Zr(),!(e.onDoubleClick&&!e.onDoubleClick(G))&&(G.preventDefault(),G.stopPropagation())}function Xc(G){x=new Date;var Q=G.touches[0],tt=He(Q);w=tt;var lt=N(tt.x,tt.y);D=lt.x,k=lt.y,O=D,B=k,P.cancel(),Lo()}function Lo(){_||(_=!0,document.addEventListener("touchmove",qo),document.addEventListener("touchend",An),document.addEventListener("touchcancel",An))}function qo(G){if(G.touches.length===1){G.stopPropagation();var Q=G.touches[0],tt=He(Q),lt=N(tt.x,tt.y),zt=lt.x-D,Nt=lt.y-k;zt!==0&&Nt!==0&&Qo(),D=lt.x,k=lt.y,A(zt,Nt)}else if(G.touches.length===2){z=!0;var Vt=G.touches[0],ue=G.touches[1],Mr=Vo(Vt,ue),ur=1+(Mr/$-1)*l,Jo=He(Vt),ts=He(ue);if(D=(Jo.x+ts.x)/2,k=(Jo.y+ts.y)/2,m){var tt=Qr();D=tt.x,k=tt.y}Gn(D,k,ur),$=Mr,G.stopPropagation(),G.preventDefault()}}function Zr(){C&&(clearTimeout(C),C=0)}function No(G){if(!!e.onClick){Zr();var Q=D-O,tt=k-B,lt=Math.sqrt(Q*Q+tt*tt);lt>5||(C=setTimeout(function(){C=0,e.onClick(G)},ml))}}function An(G){if(Zr(),G.touches.length>0){var Q=He(G.touches[0]),tt=N(Q.x,Q.y);D=tt.x,k=tt.y}else{var lt=new Date;if(lt-y<ml)if(m){var Q=Qr();zn(Q.x,Q.y,p)}else zn(w.x,w.y,p);else lt-x<bl&&No(G);y=lt,$a(),Uo()}}function Vo(G,Q){var tt=G.clientX-Q.clientX,lt=G.clientY-Q.clientY;return Math.sqrt(tt*tt+lt*lt)}function Yo(G){Kr(G);var Q=He(G);m&&(Q=Qr()),zn(Q.x,Q.y,p)}function Wo(G){if(Zr(),!h(G)){if(E=G,M=new Date,_)return G.stopPropagation(),!1;var Q=G.button===1&&window.event!==null||G.button===0;if(!!Q){P.cancel();var tt=He(G),lt=N(tt.x,tt.y);return O=D=lt.x,B=k=lt.y,document.addEventListener("mousemove",Ho),document.addEventListener("mouseup",Xo),b.capture(G.target||G.srcElement),!1}}}function Ho(G){if(!_){Qo();var Q=He(G),tt=N(Q.x,Q.y),lt=tt.x-D,zt=tt.y-k;D=tt.x,k=tt.y,A(lt,zt)}}function Xo(){var G=new Date;G-M<bl&&No(E),b.release(),$a(),jo()}function jo(){document.removeEventListener("mousemove",Ho),document.removeEventListener("mouseup",Xo),I=!1}function Uo(){document.removeEventListener("touchmove",qo),document.removeEventListener("touchend",An),document.removeEventListener("touchcancel",An),I=!1,z=!1,_=!1}function Ko(G){if(!v(G)){P.cancel();var Q=G.deltaY;G.deltaMode>0&&(Q*=100);var tt=Zo(Q);if(tt!==1){var lt=m?Qr():He(G);Gn(lt.x,lt.y,tt),G.preventDefault()}}}function He(G){var Q,tt,lt=r.getBoundingClientRect();return Q=G.clientX-lt.left,tt=G.clientY-lt.top,{x:Q,y:tt}}function zn(G,Q,tt){var lt=o.scale,zt={scale:lt},Nt={scale:tt*lt};P.cancel(),Fn(),q=si(zt,Nt,{step:function(Vt){Ft(G,Q,Vt.scale)},done:Uc})}function jc(G,Q,tt){var lt=o.scale,zt={scale:lt},Nt={scale:tt};P.cancel(),Fn(),q=si(zt,Nt,{step:function(Vt){Ft(G,Q,Vt.scale)}})}function Qr(){var G=r.getBoundingClientRect();return{x:G.width*m.x,y:G.height*m.y}}function Gn(G,Q,tt){return P.cancel(),Fn(),Tt(G,Q,tt)}function Fn(){q&&(q.cancel(),q=null)}function Zo(G){var Q=Math.sign(G),tt=Math.min(.25,Math.abs(g*G/128));return 1-Q*tt}function Qo(){I||(Dr("panstart"),I=!0,P.start())}function $a(){I&&(z||P.stop(),Dr("panend"))}function Uc(){Dr("zoomend")}function Dr(G){st.fire(G,st)}}function yl(t){if(!!t){if(typeof t=="object")return(!Br(t.x)||!Br(t.y))&&Sl(t),t;Sl()}}function Sl(t){throw console.error(t),new Error(["Cannot parse transform origin.","Some good examples:",'  "center center" can be achieved with {x: 0.5, y: 0.5}','  "top center" can be achieved with {x: 0.5, y: 0}','  "bottom right" can be achieved with {x: 1, y: 1}'].join(`
`))}function Gr(){}function v0(t){var e=typeof t;if(!(e==="undefined"||e==="boolean")){var n=Br(t.left)&&Br(t.top)&&Br(t.bottom)&&Br(t.right);if(!n)throw new Error("Bounds object is not valid. It can be: undefined, boolean (true|false) or an object {left, top, right, bottom}")}}function Br(t){return Number.isFinite(t)}function li(t){return Number.isNaN?Number.isNaN(t):t!==t}function p0(){return{start:Gr,stop:Gr,cancel:Gr}}function h0(){if(typeof document=="undefined")return;var t=document.getElementsByTagName("script");if(!t)return;for(var e,n=0;n<t.length;++n){var r=t[n];if(r.src&&r.src.match(/\bpanzoom(\.min)?\.js/)){e=r;break}}if(!e)return;var a=e.getAttribute("query");if(!a)return;var i=e.getAttribute("name")||"pz",o=Date.now();s();function s(){var f=document.querySelector(a);if(!f){var d=Date.now(),c=d-o;if(c<2e3){setTimeout(s,100);return}console.error("Cannot find the panzoom element",i);return}var p=l(e);console.log(p),window[i]=Hc(f,p)}function l(f){for(var d=f.attributes,c={},p=0;p<d.length;++p){var v=d[p],h=u(v);h&&(c[h.name]=h.value)}return c}function u(f){if(!!f.name){var d=f.name[0]==="p"&&f.name[1]==="z"&&f.name[2]==="-";if(!!d){var c=f.name.substr(3),p=JSON.parse(f.value);return{name:c,value:p}}}}}h0();const g0=Oe({name:"DuctEl"}),m0={viewBox:"29.11 -4.312 470.89 47.466",version:"1.1",xmlns:"http://www.w3.org/2000/svg",preserveAspectRatio:"none",width:"100%",height:"100%"},b0=ee("g",{style:{},transform:"matrix(0.894879, 0, 0, 0.632443, -173.045822, -2.156334)"},[ee("path",{d:"M 225.903 35.245 L 250 71.643 L 752.108 71.643 L 735.361 35.245 L 752.108 -3.408 L 250 -1.153 L 225.903 35.245 Z",style:{fill:"rgb(166, 166, 166)"}})],-1),y0=[b0];function S0(t,e,n,r,a,i){return ct(),Lt("svg",m0,y0)}var C0=$e(g0,[["render",S0]]);const E0=Oe({name:"FanEl",props:{active:{type:Boolean,required:!1,default:!1},inAlarm:{type:Boolean,required:!1,default:!1}}}),x0=wn('<g fill="#659dc5" transform="matrix(1, 0, 0, 1, -0.231, -4.151388)" data-v-48423e73><g class="fan" data-v-48423e73><g id="g8" data-v-48423e73><path class="fan-background" d="m12.297 5.154c-6.117 0-11.066 4.9492-11.066 11.066 0 6.117 4.9492 11.066 11.066 11.066 5.7137 0 10.408-4.3091 11.003-9.8647h7.525v-12.268h-18.148c-0.12601-0.0043-0.25236 0-0.37941 0z" fill-rule="evenodd" stroke="#000" stroke-width="1px" fill="inherit" data-v-48423e73></path></g><g id="g4148" transform="translate(12.464 16.395)" data-v-48423e73><g id="g4162" stroke="#000" stroke-width="1.5" fill="none" class="rotating-middle" data-v-48423e73><path id="use3009" d="m-1.8112-3.9787 3.6227-4.4971" data-v-48423e73></path><path id="use3011" d="m0.87376-4.2835 5.5741-1.5089" data-v-48423e73></path><path id="use3013" d="m3.2243-2.9521 5.3965 2.0557" data-v-48423e73></path><path id="use3015" d="m4.3433-0.4935 3.1575 4.835" data-v-48423e73></path><path id="use3017" d="m3.8043 2.1547-0.28747 5.7676" data-v-48423e73></path><path id="use3019" d="m1.8113 3.9787-3.6227 4.4971" data-v-48423e73></path><path id="use3021" d="m-0.87324 4.2837-5.5741 1.5089" data-v-48423e73></path><path id="use3023" d="m-3.2242 2.9527-5.3965-2.0559" data-v-48423e73></path><path id="use3025" d="m-4.3432 0.4935-3.158-4.8353" data-v-48423e73></path><path id="use3027" d="m-3.8032-2.1541 0.2875-5.7676" data-v-48423e73></path></g></g></g></g>',1),w0=[x0];function _0(t,e,n,r,a,i){return ct(),Lt("svg",{height:"100%",width:"100%",viewBox:"0 0 32 24",version:"1.1",xmlns:"http://www.w3.org/2000/svg",class:xn({active:t.active,"in-alarm":t.inAlarm})},w0,2)}var D0=$e(E0,[["render",_0],["__scopeId","data-v-48423e73"]]);const M0=Oe({name:"CoolingCoil",props:{active:{type:Boolean,required:!1,default:!1},inAlarm:{type:Boolean,required:!1,default:!1}}}),k0=wn('<g stroke="#000" transform="matrix(1, 0, 0, 1, -6.058399, -1.3729)" data-v-7495a0c9><rect id="rect4367" height="27.246" width="17.868" x="7.066" y="2.3772" fill="#659dc5" data-v-7495a0c9></rect><g transform="translate(24.9334,29.6232) rotate(180)" data-v-7495a0c9><rect id="rect4367" class="cooling-coil" height="27.246" width="17.875" x="0" y="0" fill="#659dc5" stroke="none" data-v-7495a0c9></rect></g><rect id="rect4367" height="27.246" width="17.868" x="7.066" y="2.3772" fill="none" data-v-7495a0c9></rect><path id="path3001" d="m7.322 2.3729 17.424 27.254" stroke-width="1px" fill="none" data-v-7495a0c9></path><path id="path3003" d="m24.929 2.3734-17.642 27.182" stroke-width="1px" fill="none" data-v-7495a0c9></path></g>',1),T0=[k0];function R0(t,e,n,r,a,i){return ct(),Lt("svg",{viewBox:"0 0 20 29",height:"100%",width:"100%",version:"1.1",xmlns:"http://www.w3.org/2000/svg",class:xn({active:t.active,"in-alarm":t.inAlarm})},T0,2)}var I0=$e(M0,[["render",R0],["__scopeId","data-v-7495a0c9"]]);const O0=Oe({name:"HeatingCoil",props:{active:{type:Boolean,required:!1,default:!1},inAlarm:{type:Boolean,required:!1,default:!1}}}),P0=wn('<defs id="defs3" data-v-255f5864><rect id="heating-coil-rect" height="27.246" width="17.868" x="0" y="0" data-v-255f5864></rect></defs><g stroke="#000000" id="g15" transform="translate(-6.129206,-1.5327875)" data-v-255f5864><use xlink:href="#heating-coil-rect" fill="#659dc5" stroke="none" x="7.066" y="2.3771999" id="use6" data-v-255f5864></use><g transform="rotate(180,12.4667,14.8116)" id="g10" data-v-255f5864><use xlink:href="#heating-coil-rect" class="heating-coil" x="0" y="0" fill="#659dc5" stroke="none" id="use8" data-v-255f5864></use></g><use xlink:href="#heating-coil-rect" stroke-width="1" fill="none" x="7.066" y="2.3771999" id="use12" data-v-255f5864></use><path id="path3003" stroke-linejoin="miter" d="M 24.929,2.3734 7.2868,29.555" stroke="#000000" stroke-linecap="butt" stroke-width="1px" fill="none" data-v-255f5864></path></g>',2),B0=[P0];function A0(t,e,n,r,a,i){return ct(),Lt("svg",{viewBox:"0 0 19.526541 28.758413",height:"100%",width:"100%",version:"1.1",xmlns:"http://www.w3.org/2000/svg",class:xn({active:t.active,"in-alarm":t.inAlarm})},B0,2)}var z0=$e(O0,[["render",A0],["__scopeId","data-v-255f5864"]]);const G0=Oe({name:"FilterEl"}),F0={viewBox:"0 0 13 29",height:"100%",width:"100%",version:"1.1",xmlns:"http://www.w3.org/2000/svg"},$0=ee("g",{stroke:"#000","stroke-width":"1",transform:"matrix(1, 0, 0, 1, -9.37, -1.3252)"},[ee("rect",{id:"rect4367",height:"27.35",width:"11.26",y:"2.3252",x:"10.37",fill:"#659dc5"}),ee("path",{id:"path3756","stroke-linejoin":"miter",d:"m11.892,2.6997,8.2165,4.4334-8.2165,4.4334,8.2165,4.4334-8.2165,4.4334,8.2165,4.4334-8.2165,4.4334","stroke-linecap":"round","stroke-miterlimit":"4","stroke-dasharray":"none","stroke-width":"1.2694304",fill:"none"})],-1),L0=[$0];function q0(t,e,n,r,a,i){return ct(),Lt("svg",F0,L0)}var N0=$e(G0,[["render",q0]]);const V0=Oe({name:"HumidifierEl",props:{active:{type:Boolean,required:!1,default:!1},inAlarm:{type:Boolean,required:!1,default:!1}}}),Y0=wn('<g class="duct-humidifier" transform="matrix(1, 0, 0, 1, -3.324199, -7.877)" data-v-451def2c><g id="g11" transform="translate(0 5.1505)" data-v-451def2c><g id="g13" stroke="#000" stroke-width=".5" class="water-drops" fill="#00f0ff" data-v-451def2c><path id="path4150" d="m14.291 6.7851c0.46542-0.0958 0.69019-0.27099 0.99164-0.49615 0.10429-0.07789 0.23068-0.12587 0.37088-0.12587 0.34281 0 0.62078 0.27918 0.62078 0.62199s-0.27796 0.61956-0.62078 0.61956c-0.13834 0-0.26988-0.0428-0.37088-0.1222-0.29895-0.23498-0.52493-0.40696-0.99168-0.49732z" data-v-451def2c></path><g id="g4236" transform="translate(0 .17167)" data-v-451def2c><path id="path4150-7" d="m18.179 5.3612c0.46542-0.0958 0.69019-0.27099 0.99164-0.49615 0.10429-0.07789 0.23068-0.12587 0.37088-0.12587 0.34281 0 0.62078 0.27918 0.62078 0.62199s-0.27796 0.61956-0.62078 0.61956c-0.13834 0-0.26988-0.0428-0.37088-0.1222-0.29895-0.23498-0.52493-0.40696-0.99168-0.49732z" data-v-451def2c></path><path id="path4150-7-1" d="m18.234 7.8656c0.46542-0.0958 0.69019-0.27099 0.99164-0.49615 0.10429-0.07789 0.23068-0.12587 0.37088-0.12587 0.34281 0 0.62078 0.27918 0.62078 0.62199s-0.27796 0.61956-0.62078 0.61956c-0.13834 0-0.26988-0.0428-0.37088-0.1222-0.29895-0.23498-0.52493-0.40696-0.99168-0.49732z" data-v-451def2c></path></g></g><g id="g19" transform="translate(0,8)" data-v-451def2c><g id="g21" stroke="#000" stroke-width=".5" class="water-drops water-drops-2" fill="#00f0ff" data-v-451def2c><path id="path23" d="m14.291 6.7851c0.46542-0.0958 0.69019-0.27099 0.99164-0.49615 0.10429-0.07789 0.23068-0.12587 0.37088-0.12587 0.34281 0 0.62078 0.27918 0.62078 0.62199s-0.27796 0.61956-0.62078 0.61956c-0.13834 0-0.26988-0.0428-0.37088-0.1222-0.29895-0.23498-0.52493-0.40696-0.99168-0.49732z" data-v-451def2c></path><g id="g25" transform="translate(0 .17167)" data-v-451def2c><path id="path27" d="m18.179 5.3612c0.46542-0.0958 0.69019-0.27099 0.99164-0.49615 0.10429-0.07789 0.23068-0.12587 0.37088-0.12587 0.34281 0 0.62078 0.27918 0.62078 0.62199s-0.27796 0.61956-0.62078 0.61956c-0.13834 0-0.26988-0.0428-0.37088-0.1222-0.29895-0.23498-0.52493-0.40696-0.99168-0.49732z" data-v-451def2c></path><path id="path29" d="m18.234 7.8656c0.46542-0.0958 0.69019-0.27099 0.99164-0.49615 0.10429-0.07789 0.23068-0.12587 0.37088-0.12587 0.34281 0 0.62078 0.27918 0.62078 0.62199s-0.27796 0.61956-0.62078 0.61956c-0.13834 0-0.26988-0.0428-0.37088-0.1222-0.29895-0.23498-0.52493-0.40696-0.99168-0.49732z" data-v-451def2c></path></g></g></g></g><path id="rect4136-6" class="humidifier-body" d="m4.3242 8.877v22.586h4.0059v-9.883h4.3789v-2.617h-4.3789v-5.721h4.3789v-2.617h-4.3789v-1.748h-4.0059z" stroke="#000" fill="#659dc5" data-v-451def2c></path></g>',1),W0=[Y0];function H0(t,e,n,r,a,i){return ct(),Lt("svg",{viewBox:"0 0 18 25",height:"100%",width:"100%",version:"1.1",xmlns:"http://www.w3.org/2000/svg","xmlns:bx":"https://boxy-svg.com",class:xn({inactive:!t.active,active:t.active,"in-alarm":t.inAlarm})},W0,2)}var X0=$e(V0,[["render",H0],["__scopeId","data-v-451def2c"]]);const j0=Oe({name:"DamperEl",props:{inAlarm:{type:Boolean,required:!1,default:!1}}}),U0=wn('<rect id="rect4367" class="damper" height="27.5" width="12" stroke="#000000" stroke-miterlimit="4" x="0.69481522" y="0.67645228" stroke-dasharray="none" stroke-width="1" fill="#659dc5" data-v-5ff604df></rect><g stroke="#000000" stroke-width="1.5px" id="g19" transform="translate(-9.3051848,-1.5735477)" data-v-5ff604df><g transform="translate(16,7)" id="g5" data-v-5ff604df><line x1="-5" x2="5" y1="0" y2="0" transform="rotate(-35)" class="damper-line" id="line3" data-v-5ff604df></line></g><g transform="translate(16,13)" id="g9" data-v-5ff604df><line x1="-5" x2="5" y1="0" y2="0" transform="rotate(-35)" class="damper-line" id="line7" data-v-5ff604df></line></g><g transform="translate(16,19)" id="g13" data-v-5ff604df><line x1="-5" x2="5" y1="0" y2="0" transform="rotate(-35)" class="damper-line" id="line11" data-v-5ff604df></line></g><g transform="translate(16,25)" id="g17" data-v-5ff604df><line x1="-5" x2="5" y1="0" y2="0" transform="rotate(-35)" class="damper-line" id="line15" data-v-5ff604df></line></g></g><g id="g4877" stroke-linejoin="miter" transform="matrix(1.2268237,0,0,0.94845469,-13.299764,-1.1862851)" stroke="#000000" stroke-linecap="butt" fill="none" data-v-5ff604df><path id="path4317" stroke-width="1.06273px" d="m 16.298,2.2402 v 28.442" data-v-5ff604df></path></g>',3),K0=[U0];function Z0(t,e,n,r,a,i){return ct(),Lt("svg",{viewBox:"0 0 13.431694 28.950886",height:"100%",width:"100%",version:"1.1",xmlns:"http://www.w3.org/2000/svg",class:xn({"in-alarm":t.inAlarm})},K0,2)}var Q0=$e(j0,[["render",Z0],["__scopeId","data-v-5ff604df"]]);const J0=Oe({name:"TextEl",props:{content:{type:String,default:"Text element"},fontSize:{type:Number,default:16},color:{type:String,default:"black"}},setup(){const t=xt(!1),e=xt(null);return _a(()=>{e.value.focus()}),{editable:t,editableElement:e}}});function tm(t,e,n,r,a,i){return ct(),Lt("div",{ref:"editableElement",contenteditable:!0,style:Bl(`font-size: ${t.fontSize}px; color: ${t.color}`)},un(t.content),5)}var em=$e(J0,[["render",tm],["__scopeId","data-v-4471ed3f"]]);const rm=Oe({name:"TemperatureEl"}),nm={height:"100%",width:"100%",version:"1.1",viewBox:"0 0 10.423067 22.852614",xmlns:"http://www.w3.org/2000/svg"},am=ee("g",{id:"layer1",stroke:"#000000","stroke-width":"1px",transform:"translate(-10.804626,-9.2243756)"},[ee("rect",{id:"rect3012",height:"14.505",width:"2.901",y:"9.9127998",x:"14.557",fill:"#ffff00"}),ee("path",{id:"path3010","stroke-width":"1.2px",transform:"matrix(0.74098,0,0,0.74098,7.3047,15.679)",fill:"#659dc5",d:"m 17.949,15.898 -3.1021,5.373 H 8.6427 L 5.5406,15.898 8.6427,10.525 h 6.2042 z"})],-1),im=ee("g",{id:"g4141",transform:"translate(-1.2033861,-8.1217684)"},[ee("circle",{r:"0.77312505",cy:"28.129852",cx:"6.4061227",id:"path4137",style:{fill:"none","fill-opacity":"1",stroke:"#000000","stroke-width":"0.5","stroke-miterlimit":"4","stroke-dasharray":"none","stroke-opacity":"1"}}),ee("path",{"inkscape:connector-curvature":"0",id:"path4139",d:"M 6.4061205,27.157211 V 23.65349",style:{fill:"none","fill-rule":"evenodd",stroke:"#000000","stroke-width":"0.5","stroke-linecap":"butt","stroke-linejoin":"miter","stroke-miterlimit":"4","stroke-dasharray":"none","stroke-opacity":"1"}})],-1),om=[am,im];function sm(t,e,n,r,a,i){return ct(),Lt("svg",nm,om)}var lm=$e(rm,[["render",sm]]);const um=Oe({name:"ObjectType",components:{Duct:C0,Fan:D0,CoolingCoil:I0,HeatingCoil:z0,FilterEl:N0,Humidifier:X0,Damper:Q0,TextEl:em,Temperature:lm},props:{item:{type:Object,required:!0}},setup(t){return{range:V(()=>{if(t.item.t3Entry.range){const n=fi.find(r=>r.id===t.item.t3Entry.range);if(n)return n.label}return"Unused"})}}}),cm={key:0,class:"object-title"},fm={key:0},dm={class:"ml-2 text-lg"},vm={key:1},pm={key:2},hm={key:3},gm={key:4},mm={key:5},bm={key:6},ym={key:7},Sm={key:8},Cm={key:9};function Em(t,e,n,r,a,i){const o=_e("fan"),s=_e("duct"),l=_e("cooling-coil"),u=_e("heating-coil"),f=_e("filter-el"),d=_e("humidifier"),c=_e("damper"),p=_e("text-el"),v=_e("temperature");return ct(),Lt(ta,null,[t.item.t3Entry?(ct(),Lt("div",cm,[$t(un(t.item.t3Entry[t.item.t3EntryDisplayField]||"N/A")+" - "+un(t.range)+" ",1),t.item.t3Entry.hw_switch_status!==1?(ct(),Lt("span",fm," - "+un(t.item.t3Entry.type==="OUTPUT"&&t.item.t3Entry.hw_switch_status!==1?t.item.t3Entry.hw_switch_status?"MAN-ON":"MAN-OFF":""),1)):De("",!0),ee("span",dm,[t.item.t3Entry.auto_manual?(ct(),Bt(Re,{key:1,name:"swipe_up"},{default:U(()=>[L(ua,{anchor:"top middle",self:"center middle"},{default:U(()=>[$t(" In manual mode ")]),_:1})]),_:1})):(ct(),Bt(Re,{key:0,name:"motion_photos_auto"},{default:U(()=>[L(ua,{anchor:"top middle",self:"center middle"},{default:U(()=>[$t(" In auto mode ")]),_:1})]),_:1}))])])):De("",!0),t.item.type==="Fan"?(ct(),Lt("div",vm,[L(o,Qe({class:"movable-item fan"},t.item.props),null,16)])):t.item.type==="Duct"?(ct(),Lt("div",pm,[L(s,{class:"movable-item duct"})])):t.item.type==="CoolingCoil"?(ct(),Lt("div",hm,[L(l,Qe({class:"movable-item cooling-coil"},t.item.props),null,16)])):t.item.type==="HeatingCoil"?(ct(),Lt("div",gm,[L(u,Qe({class:"movable-item heating-coil"},t.item.props),null,16)])):t.item.type==="Filter"?(ct(),Lt("div",mm,[L(f,Qe({class:"movable-item filter"},t.item.props),null,16)])):t.item.type==="Humidifier"?(ct(),Lt("div",bm,[L(d,Qe({class:"movable-item humidifier"},t.item.props),null,16)])):t.item.type==="Damper"?(ct(),Lt("div",ym,[L(c,Qe({class:"movable-item damper"},t.item.props),null,16)])):t.item.type==="Text"?(ct(),Lt("div",Sm,[L(p,Qe({class:"movable-item text"},t.item.props),null,16)])):t.item.type==="Temperature"?(ct(),Lt("div",Cm,[L(v,Qe({class:"movable-item temperature"},t.item.props),null,16)])):De("",!0)],64)}var xm=$e(um,[["render",Em],["__scopeId","data-v-750e389d"]]);const wm=Oe({name:"IndexPage",components:{VueMoveable:Ao,VueSelecto:Go,ObjectType:xm},setup(){var Tt,Ft;kf({title:"HVAC Drawer"});const e=new Ic,n=Tf(),r=xt(null),a=xt(null),i=xt(null),o=xt([]),s=xt("Pointer"),l=xt({active:!1,data:null}),u=xt({currentPanelData:[]}),f=xt({active:!1,uploadBtnDisabled:!0,uploadBtnLoading:!1}),d=xt(u.value.currentPanelData);let c=null;const p={items:[],selectedTargets:[],elementGuidelines:[],itemsCount:0,activeItemIndex:null,viewportTransform:{x:0,y:0,scale:1}},v=xt(xe.exports.cloneDeep(p)),h=xt([]),g=xt([]);let m=null;_a(()=>{var Y,A,et,vt;c=d0(i.value,{maxZoom:4,minZoom:.1,zoomDoubleClickSpeed:1,filterKey:function(){return!0},beforeMouseDown:function(wt){var Yt=!wt.altKey;return Yt}}),c.on("transform",function(wt){v.value.viewportTransform=wt.getTransform()});const R=document.querySelectorAll(".movable-item");Array.from(R).forEach(function(wt){v.value.elementGuidelines.push(wt)}),(A=(Y=window.chrome)==null?void 0:Y.webview)==null||A.postMessage({action:1}),(vt=(et=window.chrome)==null?void 0:et.webview)==null||vt.postMessage({action:0})}),bf(()=>{!c||c.dispose()}),(Ft=(Tt=window.chrome)==null?void 0:Tt.webview)==null||Ft.addEventListener("message",R=>{var Y;console.log("Recieved webview message",R.data),"action"in R.data&&(R.data.action==="UPDATE_ENTRY_RES"||(R.data.action==="GET_INITIAL_DATA_RES"?(R.data.data&&(R.data.data=JSON.parse(R.data.data)),v.value=R.data.data):R.data.action==="GET_PANEL_DATA_RES"?(u.value.currentPanelData=R.data.data,d.value=u.value.currentPanelData,v.value.items.filter(A=>{var et;return(et=A.t3Entry)==null?void 0:et.type}).forEach(A=>{A.t3Entry=R.data.data.find(et=>et.index===A.t3Entry.index&&et.type===A.t3Entry.type),Ct(A)})):R.data.action==="SAVE_GRAPHIC_DATA_RES"&&(((Y=R.data.data)==null?void 0:Y.status)===!0?n.notify({message:"Saved successfully.",color:"primary",icon:"check_circle",actions:[{label:"Dismiss",color:"white",handler:()=>{}}]}):n.notify({message:"Error, not saved!",color:"danger",icon:"error",actions:[{label:"Dismiss",color:"white",handler:()=>{}}]}))))});function b(R){console.log(R),g.value=[],h.value.unshift({title:R,state:xe.exports.cloneDeep(v.value)}),h.value.length>20&&h.value.pop()}function S(R){a.value.clickTarget(R.inputEvent,R.inputTarget)}function y(R){b("Move Object")}function x(R){const Y=v.value.items.find(A=>`movable-item-${A.id}`===R.target.id);Y.translate=R.beforeTranslate}function C(R){R.lastEvent||h.value.shift()}function E(R){b("Move Group"),R.events.forEach((Y,A)=>{const et=v.value.items.findIndex(vt=>`movable-item-${vt.id}`===Y.target.id);Y.set(v.value.items[et].translate)})}function M(R){R.events.forEach((Y,A)=>{const et=v.value.items.findIndex(vt=>`movable-item-${vt.id}`===Y.target.id);v.value.items[et].translate=Y.beforeTranslate})}function w(R){R.lastEvent||h.value.shift()}function _(R){const Y=R.inputEvent.target;(r.value.isMoveableElement(Y)||v.value.selectedTargets.some(A=>A===Y||A.contains(Y)))&&R.stop()}function I(R){v.value.selectedTargets=R.selected,v.value.selectedTargets.length===1?v.value.activeItemIndex=v.value.items.findIndex(Y=>`movable-item-${Y.id}`===v.value.selectedTargets[0].id):v.value.activeItemIndex=null,R.isDragStart&&(R.inputEvent.preventDefault(),setTimeout(()=>{r.value.dragStart(R.inputEvent)}))}function D(R){b("Resize object");const Y=v.value.items.findIndex(A=>`movable-item-${A.id}`===R.target.id);R.setOrigin(["%","%"]),R.dragStart&&R.dragStart.set(v.value.items[Y].translate)}function k(R){const Y=v.value.items.find(A=>`movable-item-${A.id}`===R.target.id);R.target.style.width=`${R.width}px`,R.target.style.height=`${R.height}px`,R.target.style.transform=`translate(${R.drag.beforeTranslate[0]}px, ${R.drag.beforeTranslate[1]}px) rotate(${Y.rotate}deg) scaleX(${Y.scaleX}) scaleY(${Y.scaleY})`}function O(R){const Y=v.value.items.findIndex(A=>`movable-item-${A.id}`===R.lastEvent.target.id);v.value.items[Y].width=R.lastEvent.width,v.value.items[Y].height=R.lastEvent.height,v.value.items[Y].translate=R.lastEvent.drag.beforeTranslate}function B(R){b("Rotate object")}function $(R){const Y=v.value.items.find(A=>`movable-item-${A.id}`===R.target.id);Y.rotate=R.rotate}function P(R){R.events.forEach((Y,A)=>{Y.dragStart&&Y.dragStart.set(v.value.items[A].translate)})}function W(R){R.events.forEach((Y,A)=>{const et=v.value.items.find(vt=>`movable-item-${vt.id}`===Y.target.id);Y.target.style.width=`${Y.width}px`,Y.target.style.height=`${Y.height}px`,Y.target.style.transform=`translate(${Y.drag.beforeTranslate[0]}px, ${Y.drag.beforeTranslate[1]}px) rotate(${et.rotate}deg) scaleX(${et.scaleX}) scaleY(${et.scaleY}) `})}function q(R){R.events.forEach(Y=>{const A=v.value.items.findIndex(et=>`movable-item-${et.id}`===Y.lastEvent.target.id);v.value.items[A].width=Y.lastEvent.width,v.value.items[A].height=Y.lastEvent.height,v.value.items[A].translate=Y.lastEvent.drag.beforeTranslate})}function z(R){b("Rotate Group"),R.events.forEach(Y=>{const A=v.value.items.findIndex(et=>`movable-item-${et.id}`===Y.target.id);Y.set(v.value.items[A].rotate),Y.dragStart&&Y.dragStart.set(v.value.items[A].translate)})}function j(R){R.events.forEach((Y,A)=>{const et=v.value.items.findIndex(vt=>`movable-item-${vt.id}`===Y.target.id);v.value.items[et].translate=Y.drag.beforeTranslate,v.value.items[et].rotate=Y.rotate})}function st(R){b(`Add ${R.type}`),v.value.itemsCount++,R.id=v.value.itemsCount,v.value.items.push(R);const Y=document.querySelectorAll(".movable-item");return v.value.elementGuidelines=[],Array.from(Y).forEach(function(A){v.value.elementGuidelines.push(A)}),R}const J={top:36,left:0};function ot(R){var et;if(s.value==="Pointer"||R.rect.width<20||R.rect.height<20)return;const Y=1/v.value.viewportTransform.scale,A=st({title:null,active:!1,type:s.value,translate:[(R.rect.left-J.left-v.value.viewportTransform.x)*Y,(R.rect.top-J.top-v.value.viewportTransform.y)*Y],width:R.rect.width*Y,height:R.rect.height*Y,rotate:0,scaleX:1,scaleY:1,props:((et=ls.find(vt=>vt.name===s.value))==null?void 0:et.props)||{},zindex:1,t3Entry:null,t3EntryDisplayField:"label"});setTimeout(()=>{const vt=document.querySelector(`#movable-item-${A.id}`);v.value.selectedTargets=[vt],v.value.activeItemIndex=v.value.items.findIndex(wt=>wt.id===A.id)},10)}function K(R){s.value=R}function rt(){const R=xe.exports.cloneDeep(v.value.selectedTargets);v.value.selectedTargets=[],setTimeout(()=>{v.value.selectedTargets=R},10)}function ft(R,Y=!1){b("Rotate object"),Y?R.rotate=R.rotate-90:R.rotate=R.rotate+90,rt()}function ht(R){b("Flip object H"),R.scaleX===1?R.scaleX=-1:R.scaleX=1,rt()}function F(R){b("Flip object V"),R.scaleY===1?R.scaleY=-1:R.scaleY=1,rt()}function N(R){b("Bring object to front"),R.zindex=R.zindex+1}function Z(R){b("Send object to back"),R.zindex=R.zindex-1}function nt(R){b("Remove object");const Y=v.value.items.findIndex(A=>A.id===R.id);v.value.activeItemIndex=null,v.value.items.splice(Y,1),v.value.selectedTargets=[]}function dt(R){v.value.activeItemIndex=null;const Y=xe.exports.cloneDeep(R);Y.translate[0]=Y.translate[0]+10,Y.translate[1]=Y.translate[1]+10;const A=st(Y);v.value.selectedTargets=[],setTimeout(()=>{const et=document.querySelector(`#movable-item-${A.id}`);v.value.selectedTargets=[et],v.value.activeItemIndex=v.value.items.findIndex(vt=>vt.id===A.id)},10)}function it(R){a.value.clickTarget(R)}function gt(R,Y){var et,vt;if(!Y.t3Entry)return;let A=Y.t3Entry[R];(R==="value"||R==="control")&&Ct(Y),(vt=(et=window.chrome)==null?void 0:et.webview)==null||vt.postMessage({action:3,field:R,value:A,panelId:1,entryIndex:Y.t3Entry.index,entryType:If[Y.t3Entry.type]})}function St(R){return!R.inputEvent.altKey}function _t(){b("Link object to T3000 entry"),v.value.items[v.value.activeItemIndex].t3Entry=xe.exports.cloneDeep(l.value.data),Ct(v.value.items[v.value.activeItemIndex]),l.value.data=null,l.value.active=!1}function Ct(R){var Y,A,et,vt,wt,Yt;if(b("Change linked entry value"),((Y=R.props)==null?void 0:Y.active)!==void 0){if(!R.t3Entry)return;if(R.t3Entry.type==="OUTPUT"&&R.t3Entry.hw_switch_status!==1)R.props.active=!!R.t3Entry.hw_switch_status;else if(R.t3Entry.range){const se=fi.find(At=>At.id===R.t3Entry.range);se&&(R.props.active=!!(((A=R.t3Entry)==null?void 0:A.digital_analog)===0&&(((et=R.t3Entry)==null?void 0:et.control)===1&&!se.directInvers||((vt=R.t3Entry)==null?void 0:vt.control)===0&&se.directInvers)||((wt=R.t3Entry)==null?void 0:wt.digital_analog)===1&&((Yt=R.t3Entry)==null?void 0:Yt.value)>0))}else R.t3Entry.type==="PROGRAM"?R.props.active=!!R.t3Entry.status:R.t3Entry.type==="SCHEDULE"?R.props.active=!!R.t3Entry.output:R.t3Entry.type==="HOLIDAY"&&(R.props.active=!!R.t3Entry.value)}}function kt(){var R,Y;(Y=(R=window.chrome)==null?void 0:R.webview)==null||Y.postMessage({action:2,data:yf(v.value)})}function Rt(){var R;if(((R=v.value.items)==null?void 0:R.length)>0){n.dialog({dark:!0,title:"Do you want to clear the drawing?",message:"This will also erase your undo history",cancel:!0,persistent:!0}).onOk(()=>{v.value=xe.exports.cloneDeep(p),h.value=[],g.value=[],rt()}).onCancel(()=>{});return}v.value=xe.exports.cloneDeep(p),h.value=[],g.value=[],rt()}e.keydown(R=>{v.value.selectedTargets.length<1||(["up","down","left","right"].includes(R.key)&&b("Move object"),R.key==="up"?r.value.request("draggable",{deltaX:0,deltaY:-5},!0):R.key==="down"?r.value.request("draggable",{deltaX:0,deltaY:5},!0):R.key==="left"?r.value.request("draggable",{deltaX:-5,deltaY:0},!0):R.key==="right"?r.value.request("draggable",{deltaX:5,deltaY:0},!0):R.key==="delete"&&X(),["up","down","left","right"].includes(R.key)&&rt())}),e.keydown(["ctrl","s"],R=>{R.inputEvent.preventDefault(),kt()}),e.keydown(["ctrl","z"],R=>{R.inputEvent.preventDefault(),mt()}),e.keydown(["ctrl","y"],R=>{R.inputEvent.preventDefault(),Pt()});function jt(){var R,Y;l.value.active=!0,(R=v.value.items[v.value.activeItemIndex])!=null&&R.t3Entry&&(l.value.data=xe.exports.cloneDeep((Y=v.value.items[v.value.activeItemIndex])==null?void 0:Y.t3Entry))}function pe(R){return fi.find(Y=>Y.id===R)}function X(){b("Remove selected objects"),v.value.selectedTargets.length>0&&(v.value.selectedTargets.forEach(R=>{const Y=v.value.items.findIndex(A=>`movable-item-${A.id}`===R.id);Y!==-1&&v.value.items.splice(Y,1)}),v.value.selectedTargets=[],v.value.activeItemIndex=null)}function at(R,Y){if(R===""){Y(()=>{d.value=u.value.currentPanelData});return}Y(()=>{const A=R.toUpperCase();d.value=u.value.currentPanelData.filter(et=>et.command.indexOf(A)>-1||et.description.indexOf(A)>-1||et.label.indexOf(A)>-1)})}function mt(){h.value.length<1||(g.value.unshift({title:m,state:xe.exports.cloneDeep(v.value)}),v.value=xe.exports.cloneDeep(h.value[0].state),h.value.shift(),rt())}function Pt(){g.value.length<1||(h.value.unshift({title:m,state:xe.exports.cloneDeep(v.value)}),v.value=xe.exports.cloneDeep(g.value[0].state),g.value.shift(),rt())}function Gt(R){console.log("handleCustomObjectUpload",R)}async function It(R){f.value.uploadBtnDisabled=!1;const Y=await R.data.text();console.log(Y)}return{movable:r,selecto:a,appState:v,addObject:st,viewport:i,onClickGroup:S,onDragStart:y,onDrag:x,onDragEnd:C,onDragGroup:M,onSelectoDragStart:_,onDragGroupStart:E,onDragGroupEnd:w,onSelectEnd:I,targets:o,onResize:k,onResizeEnd:O,onRotateStart:B,onRotate:$,onResizeGroupStart:P,onResizeGroup:W,onRotateGroupStart:z,onResizeGroupEnd:q,onRotateGroup:j,onResizeStart:D,onSelectoDragEnd:ot,selectTool:K,tools:ls,selectedTool:s,rotete90:ft,flipH:ht,flipV:F,bringToFront:N,sendToBack:Z,removeObject:nt,selectByRightClick:it,T3UpdateEntryField:gt,selectoDragCondition:St,duplicateObject:dt,linkT3EntrySave:_t,newProject:Rt,save:kt,refreshSelecto:rt,linkT3EntryDialog:l,linkT3EntryDialogAction:jt,T3000_Data:u,selectPanelOptions:d,getRangeById:pe,selectPanelFilterFn:at,undoHistory:h,redoHistory:g,undoAction:mt,redoAction:Pt,deleteSelected:X,uploadObjectDialog:f,handleCustomObjectUpload:Gt,customObjectFileAdded:It}}}),_m={class:"tools flex column"},Dm={class:"viewport-wrapper"},Mm={class:"viewport"},km={ref:"viewport"},Tm=["id"],Rm={key:0,class:"item-config flex flex-nowrap column"},Im={class:"item-config-inner"},Om={class:"grid gap-4 grid-cols-2 mb-4"},Pm={key:1},Bm=ee("div",{class:"text-h6"},"Link Entry",-1);function Am(t,e,n,r,a,i){const o=_e("vue-selecto"),s=_e("vue-moveable"),l=_e("object-type");return ct(),Lt(ta,null,[L(Rf,null,{default:U(()=>[ee("div",null,[ee("div",_m,[L(Jr,{class:"rounded-borders text-primary"},{default:U(()=>[(ct(!0),Lt(ta,null,rs(t.tools,u=>Wt((ct(),Bt(Kt,{key:u.name,onClick:f=>t.selectTool(u.name),clickable:"",active:t.selectedTool===u.name,"active-class":"active-tool"},{default:U(()=>[L(ua,{anchor:"center right",self:"center left"},{default:U(()=>[$t(un(u.label),1)]),_:2},1024),L(Et,null,{default:U(()=>[L(Re,{name:u.icon,size:"sm"},null,8,["name"])]),_:2},1024)]),_:2},1032,["onClick","active"])),[[Il]])),128))]),_:1})]),ee("div",Dm,[L(Gf,{class:"toolbar text-white shadow-2"},{default:U(()=>[L(Va,{"no-caps":"",stretch:"",flat:"","content-class":"menu-dropdown",label:"File"},{default:U(()=>[L(Jr,null,{default:U(()=>[Wt((ct(),Bt(Kt,{dense:"",clickable:"",onClick:t.newProject},{default:U(()=>[L(Et,{avatar:""},{default:U(()=>[L(te,{size:"sm",icon:"assignment",color:"grey-7","text-color":"white"})]),_:1}),L(Et,null,{default:U(()=>[L(vr,null,{default:U(()=>[$t("New Project")]),_:1})]),_:1})]),_:1},8,["onClick"])),[[Ut]]),L(we,{inset:"",spaced:""}),Wt((ct(),Bt(Kt,{dense:"",clickable:"",onClick:t.save},{default:U(()=>[L(Et,{avatar:""},{default:U(()=>[L(te,{size:"sm",icon:"assignment",color:"grey-7","text-color":"white"})]),_:1}),L(Et,null,{default:U(()=>[L(vr,null,{default:U(()=>[$t("Save")]),_:1})]),_:1}),L(Et,{side:""},{default:U(()=>[L(Na,null,{default:U(()=>[$t("Ctrl + S")]),_:1})]),_:1})]),_:1},8,["onClick"])),[[Ut]])]),_:1})]),_:1}),L(Va,{"no-caps":"",stretch:"",flat:"","content-class":"menu-dropdown",label:"Edit"},{default:U(()=>[L(Jr,null,{default:U(()=>[Wt((ct(),Bt(Kt,{dense:"",clickable:"",onClick:t.undoAction,disable:t.undoHistory.length<1},{default:U(()=>[L(Et,{avatar:""},{default:U(()=>[L(te,{size:"sm",icon:"undo",color:"grey-7","text-color":"white"})]),_:1}),L(Et,null,{default:U(()=>[L(vr,null,{default:U(()=>[$t("Undo")]),_:1})]),_:1}),L(Et,{side:""},{default:U(()=>[L(Na,null,{default:U(()=>[$t("Ctrl + Z")]),_:1})]),_:1})]),_:1},8,["onClick","disable"])),[[Ut]]),Wt((ct(),Bt(Kt,{dense:"",clickable:"",onClick:t.redoAction,disable:t.redoHistory.length<1},{default:U(()=>[L(Et,{avatar:""},{default:U(()=>[L(te,{size:"sm",icon:"redo",color:"grey-7","text-color":"white"})]),_:1}),L(Et,null,{default:U(()=>[L(vr,null,{default:U(()=>[$t("Redo")]),_:1})]),_:1}),L(Et,{side:""},{default:U(()=>[L(Na,null,{default:U(()=>[$t("Ctrl + Y")]),_:1})]),_:1})]),_:1},8,["onClick","disable"])),[[Ut]]),L(we,{inset:"",spaced:""}),Wt((ct(),Bt(Kt,{dense:"",clickable:"",onClick:t.deleteSelected,disable:t.appState.selectedTargets.length<1},{default:U(()=>[L(Et,{avatar:""},{default:U(()=>[L(te,{size:"sm",icon:"delete",color:"grey-7","text-color":"white"})]),_:1}),L(Et,null,{default:U(()=>[L(vr,null,{default:U(()=>[$t("Delete selected")]),_:1})]),_:1})]),_:1},8,["onClick","disable"])),[[Ut]])]),_:1})]),_:1}),L(Va,{"no-caps":"",stretch:"",flat:"","content-class":"menu-dropdown",label:"Object",disable:t.appState.activeItemIndex===null},{default:U(()=>[L(Jr,null,{default:U(()=>[Wt((ct(),Bt(Kt,{dense:"",clickable:"",onClick:e[0]||(e[0]=u=>t.duplicateObject(t.appState.items[t.appState.activeItemIndex]))},{default:U(()=>[L(Et,{avatar:""},{default:U(()=>[L(te,{size:"sm",icon:"file_copy",color:"grey-7","text-color":"white"})]),_:1}),L(Et,null,{default:U(()=>[$t("Duplicate")]),_:1})]),_:1})),[[Ut]]),Wt((ct(),Bt(Kt,{dense:"",clickable:"",onClick:e[1]||(e[1]=u=>t.rotete90(t.appState.items[t.appState.activeitemindex]))},{default:U(()=>[L(Et,{avatar:""},{default:U(()=>[L(te,{size:"sm",icon:"autorenew",color:"grey-7","text-color":"white"})]),_:1}),L(Et,null,{default:U(()=>[$t("Rotate 90\xB0")]),_:1})]),_:1})),[[Ut]]),Wt((ct(),Bt(Kt,{dense:"",clickable:"",onClick:e[2]||(e[2]=u=>t.rotete90(t.appState.items[t.appState.activeitemindex],!0))},{default:U(()=>[L(Et,{avatar:""},{default:U(()=>[L(te,{size:"sm",icon:"sync",color:"grey-7","text-color":"white"})]),_:1}),L(Et,null,{default:U(()=>[$t("Rotate -90\xB0")]),_:1})]),_:1})),[[Ut]]),L(we),Wt((ct(),Bt(Kt,{dense:"",clickable:"",onClick:e[3]||(e[3]=u=>t.flipH(t.appState.items[t.appState.activeItemIndex]))},{default:U(()=>[L(Et,{avatar:""},{default:U(()=>[L(te,{size:"sm",icon:"flip",color:"grey-7","text-color":"white"})]),_:1}),L(Et,null,{default:U(()=>[$t("Flip horizontal")]),_:1})]),_:1})),[[Ut]]),Wt((ct(),Bt(Kt,{dense:"",clickable:"",onClick:e[4]||(e[4]=u=>t.flipV(t.appState.items[t.appState.activeItemIndex]))},{default:U(()=>[L(Et,{avatar:""},{default:U(()=>[L(te,{size:"sm",icon:"flip",color:"grey-7","text-color":"white",style:{transform:"rotate(90deg)"}})]),_:1}),L(Et,null,{default:U(()=>[$t("Flip vertical")]),_:1})]),_:1})),[[Ut]]),L(we),Wt((ct(),Bt(Kt,{dense:"",clickable:"",onClick:e[5]||(e[5]=u=>t.bringToFront(t.appState.items[t.appState.activeItemIndex]))},{default:U(()=>[L(Et,{avatar:""},{default:U(()=>[L(te,{size:"sm",icon:"flip_to_front",color:"grey-7","text-color":"white"})]),_:1}),L(Et,null,{default:U(()=>[$t("Bring to front")]),_:1})]),_:1})),[[Ut]]),Wt((ct(),Bt(Kt,{dense:"",clickable:"",onClick:e[6]||(e[6]=u=>t.sendToBack(t.appState.items[t.appState.activeItemIndex]))},{default:U(()=>[L(Et,{avatar:""},{default:U(()=>[L(te,{size:"sm",icon:"flip_to_back",color:"grey-7","text-color":"white"})]),_:1}),L(Et,null,{default:U(()=>[$t("Send to Back")]),_:1})]),_:1})),[[Ut]]),L(we),Wt((ct(),Bt(Kt,{dense:"",clickable:"",onClick:e[7]||(e[7]=u=>t.removeObject(t.appState.items[t.appState.activeItemIndex]))},{default:U(()=>[L(Et,{avatar:""},{default:U(()=>[L(te,{size:"sm",icon:"remove",color:"grey-7","text-color":"white"})]),_:1}),L(Et,null,{default:U(()=>[$t("Remove")]),_:1})]),_:1})),[[Ut]])]),_:1})]),_:1},8,["disable"])]),_:1}),ee("div",Mm,[L(o,{ref:"selecto",dragContainer:".viewport",selectableTargets:t.targets,hitRate:100,selectByClick:!0,selectFromInside:!0,toggleContinueSelect:["shift"],ratio:0,boundContainer:!0,onDragStart:t.onSelectoDragStart,onSelectEnd:t.onSelectEnd,onDragEnd:t.onSelectoDragEnd,dragCondition:t.selectoDragCondition},null,8,["selectableTargets","onDragStart","onSelectEnd","onDragEnd","dragCondition"]),ee("div",km,[L(s,{ref:"movable",draggable:!0,resizable:!0,rotatable:!0,target:t.appState.selectedTargets,snappable:!0,snapThreshold:10,isDisplaySnapDigit:!0,snapGap:!0,snapDirections:{top:!0,right:!0,bottom:!0,left:!0},elementSnapDirections:{top:!0,right:!0,bottom:!0,left:!0},snapDigit:0,elementGuidelines:t.appState.elementGuidelines,origin:!0,throttleResize:0,throttleRotate:0,rotationPosition:"top",originDraggable:!0,originRelative:!0,defaultGroupRotate:0,defaultGroupOrigin:"50% 50%",padding:{left:0,top:0,right:0,bottom:0},onClickGroup:t.onClickGroup,onDragStart:t.onDragStart,onDrag:t.onDrag,onDragEnd:t.onDragEnd,onDragGroupStart:t.onDragGroupStart,onDragGroup:t.onDragGroup,onDragGroupEnd:t.onDragGroupEnd,onResizeStart:t.onResizeStart,onResize:t.onResize,onResizeEnd:t.onResizeEnd,onRotateStart:t.onRotateStart,onRotate:t.onRotate,onResizeGroupStart:t.onResizeGroupStart,onResizeGroup:t.onResizeGroup,onResizeGroupEnd:t.onResizeGroupEnd,onRotateGroupStart:t.onRotateGroupStart,onRotateGroup:t.onRotateGroup},null,8,["target","elementGuidelines","onClickGroup","onDragStart","onDrag","onDragEnd","onDragGroupStart","onDragGroup","onDragGroupEnd","onResizeStart","onResize","onResizeEnd","onRotateStart","onRotate","onResizeGroupStart","onResizeGroup","onResizeGroupEnd","onRotateGroupStart","onRotateGroup"]),(ct(!0),Lt(ta,null,rs(t.appState.items,u=>(ct(),Lt("div",{key:u.id,ref_for:!0,ref:"targets",style:Bl(`position: absolute; transform: translate(${u.translate[0]}px, ${u.translate[1]}px) rotate(${u.rotate}deg) scaleX(${u.scaleX}) scaleY(${u.scaleY}); width: ${u.width}px; height: ${u.height}px; z-index: ${u.zindex};`),id:`movable-item-${u.id}`,onMousedown:e[10]||(e[10]=Ef((...f)=>t.selectByRightClick&&t.selectByRightClick(...f),["right"])),class:"movable-item-wrapper"},[L(Zi,{"touch-position":"","context-menu":""},{default:U(()=>[L(Jr,null,{default:U(()=>[Wt((ct(),Bt(Kt,{dense:"",clickable:"",onClick:f=>t.duplicateObject(u)},{default:U(()=>[L(Et,{avatar:""},{default:U(()=>[L(te,{size:"sm",icon:"file_copy",color:"grey-7","text-color":"white"})]),_:1}),L(Et,null,{default:U(()=>[$t("Duplicate")]),_:1})]),_:2},1032,["onClick"])),[[Ut]]),Wt((ct(),Bt(Kt,{dense:"",clickable:"",onClick:e[8]||(e[8]=f=>t.rotete90(t.appState.items[t.appState.activeitemindex]))},{default:U(()=>[L(Et,{avatar:""},{default:U(()=>[L(te,{size:"sm",icon:"autorenew",color:"grey-7","text-color":"white"})]),_:1}),L(Et,null,{default:U(()=>[$t("Rotate 90\xB0")]),_:1})]),_:1})),[[Ut]]),Wt((ct(),Bt(Kt,{dense:"",clickable:"",onClick:e[9]||(e[9]=f=>t.rotete90(t.appState.items[t.appState.activeitemindex],!0))},{default:U(()=>[L(Et,{avatar:""},{default:U(()=>[L(te,{size:"sm",icon:"sync",color:"grey-7","text-color":"white"})]),_:1}),L(Et,null,{default:U(()=>[$t("Rotate -90\xB0")]),_:1})]),_:1})),[[Ut]]),L(we),Wt((ct(),Bt(Kt,{dense:"",clickable:"",onClick:f=>t.flipH(u)},{default:U(()=>[L(Et,{avatar:""},{default:U(()=>[L(te,{size:"sm",icon:"flip",color:"grey-7","text-color":"white"})]),_:1}),L(Et,null,{default:U(()=>[$t("Flip horizontal")]),_:1})]),_:2},1032,["onClick"])),[[Ut]]),Wt((ct(),Bt(Kt,{dense:"",clickable:"",onClick:f=>t.flipV(u)},{default:U(()=>[L(Et,{avatar:""},{default:U(()=>[L(te,{size:"sm",icon:"flip",color:"grey-7","text-color":"white",style:{transform:"rotate(90deg)"}})]),_:1}),L(Et,null,{default:U(()=>[$t("Flip vertical")]),_:1})]),_:2},1032,["onClick"])),[[Ut]]),L(we),Wt((ct(),Bt(Kt,{dense:"",clickable:"",onClick:f=>t.bringToFront(u)},{default:U(()=>[L(Et,{avatar:""},{default:U(()=>[L(te,{size:"sm",icon:"flip_to_front",color:"grey-7","text-color":"white"})]),_:1}),L(Et,null,{default:U(()=>[$t("Bring to front")]),_:1})]),_:2},1032,["onClick"])),[[Ut]]),Wt((ct(),Bt(Kt,{dense:"",clickable:"",onClick:f=>t.sendToBack(u)},{default:U(()=>[L(Et,{avatar:""},{default:U(()=>[L(te,{size:"sm",icon:"flip_to_back",color:"grey-7","text-color":"white"})]),_:1}),L(Et,null,{default:U(()=>[$t("Send to Back")]),_:1})]),_:2},1032,["onClick"])),[[Ut]]),L(we),Wt((ct(),Bt(Kt,{dense:"",clickable:"",onClick:f=>t.removeObject(u)},{default:U(()=>[L(Et,{avatar:""},{default:U(()=>[L(te,{size:"sm",icon:"remove",color:"grey-7","text-color":"white"})]),_:1}),L(Et,null,{default:U(()=>[$t("Remove")]),_:1})]),_:2},1032,["onClick"])),[[Ut]])]),_:2},1024)]),_:2},1024),L(l,{item:u},null,8,["item"])],44,Tm))),128))],512)])]),t.appState.activeItemIndex||t.appState.activeItemIndex===0?(ct(),Lt("div",Rm,[ee("div",Im,[L(gs,{class:"mb-2 border border-solid border-gray-700",dark:"","default-opened":"",label:"General"},{default:U(()=>{var u,f;return[ee("div",Om,[L(Je,{"input-style":"width: 60px","onUpdate:modelValue":[t.refreshSelecto,e[11]||(e[11]=d=>t.appState.items[t.appState.activeItemIndex].translate[0]=d)],label:"X",modelValue:t.appState.items[t.appState.activeItemIndex].translate[0],modelModifiers:{number:!0},dark:"",filled:"",type:"number"},null,8,["onUpdate:modelValue","modelValue"]),L(Je,{"input-style":"width: 60px","onUpdate:modelValue":[t.refreshSelecto,e[12]||(e[12]=d=>t.appState.items[t.appState.activeItemIndex].translate[1]=d)],label:"Y",modelValue:t.appState.items[t.appState.activeItemIndex].translate[1],modelModifiers:{number:!0},dark:"",filled:"",type:"number"},null,8,["onUpdate:modelValue","modelValue"]),L(Je,{"input-style":"width: 60px","onUpdate:modelValue":[t.refreshSelecto,e[13]||(e[13]=d=>t.appState.items[t.appState.activeItemIndex].width=d)],label:"Width",modelValue:t.appState.items[t.appState.activeItemIndex].width,modelModifiers:{number:!0},dark:"",filled:"",type:"number"},null,8,["onUpdate:modelValue","modelValue"]),L(Je,{"input-style":"width: 60px","onUpdate:modelValue":[t.refreshSelecto,e[14]||(e[14]=d=>t.appState.items[t.appState.activeItemIndex].height=d)],label:"Height",modelValue:t.appState.items[t.appState.activeItemIndex].height,modelModifiers:{number:!0},dark:"",filled:"",type:"number"},null,8,["onUpdate:modelValue","modelValue"]),L(Je,{"input-style":"width: 60px","onUpdate:modelValue":[t.refreshSelecto,e[15]||(e[15]=d=>t.appState.items[t.appState.activeItemIndex].rotate=d)],label:"Rotate",modelValue:t.appState.items[t.appState.activeItemIndex].rotate,modelModifiers:{number:!0},dark:"",filled:"",type:"number"},null,8,["onUpdate:modelValue","modelValue"]),t.appState.items[t.appState.activeItemIndex].props.fontSize!==void 0?(ct(),Bt(Je,{key:0,"input-style":"width: 60px",label:"Font size",modelValue:t.appState.items[t.appState.activeItemIndex].props.fontSize,"onUpdate:modelValue":e[16]||(e[16]=d=>t.appState.items[t.appState.activeItemIndex].props.fontSize=d),modelModifiers:{number:!0},dark:"",filled:"",type:"number"},null,8,["modelValue"])):De("",!0),t.appState.items[t.appState.activeItemIndex].props.color!==void 0?(ct(),Bt(Je,{key:1,dark:"",filled:"",modelValue:t.appState.items[t.appState.activeItemIndex].props.color,"onUpdate:modelValue":e[18]||(e[18]=d=>t.appState.items[t.appState.activeItemIndex].props.color=d),label:"Color"},{append:U(()=>[L(Re,{name:"colorize",class:"cursor-pointer"},{default:U(()=>[L(cd,{cover:"","transition-show":"scale","transition-hide":"scale"},{default:U(()=>[L(ud,{modelValue:t.appState.items[t.appState.activeItemIndex].props.color,"onUpdate:modelValue":e[17]||(e[17]=d=>t.appState.items[t.appState.activeItemIndex].props.color=d)},null,8,["modelValue"])]),_:1})]),_:1})]),_:1},8,["modelValue"])):De("",!0)]),!t.appState.items[t.appState.activeItemIndex].t3Entry&&t.appState.items[t.appState.activeItemIndex].props.active!==void 0?(ct(),Bt(ns,{key:0,dark:"",filled:"",modelValue:t.appState.items[t.appState.activeItemIndex].props.active,"onUpdate:modelValue":e[19]||(e[19]=d=>t.appState.items[t.appState.activeItemIndex].props.active=d),class:"text-white w-full",label:"Active",disable:t.appState.items[t.appState.activeItemIndex].t3Entry&&((u=t.appState.items[t.appState.activeItemIndex].t3Entry)==null?void 0:u.auto_manual)===0||((f=t.appState.items[t.appState.activeItemIndex].t3Entry)==null?void 0:f.digital_analog)===1},{default:U(()=>{var d;return[((d=t.appState.items[t.appState.activeItemIndex].t3Entry)==null?void 0:d.auto_manual)===0?(ct(),Bt(ua,{key:0,anchor:"center left",self:"center end"},{default:U(()=>[$t(" Can't activate it because the linked entry is in auto mode ")]),_:1})):De("",!0)]}),_:1},8,["modelValue","disable"])):De("",!0),t.appState.items[t.appState.activeItemIndex].props.inAlarm!==void 0?(ct(),Bt(ns,{key:1,dark:"",filled:"",modelValue:t.appState.items[t.appState.activeItemIndex].props.inAlarm,"onUpdate:modelValue":e[20]||(e[20]=d=>t.appState.items[t.appState.activeItemIndex].props.inAlarm=d),class:"text-white w-full",label:"In alarm"},null,8,["modelValue"])):De("",!0)]}),_:1}),ee("div",null,[L(mr,{dark:"",outline:"","no-caps":"",stretch:"",icon:t.appState.items[t.appState.activeItemIndex].t3Entry?"dataset_linked":void 0,class:"text-white w-full",label:t.appState.items[t.appState.activeItemIndex].t3Entry?`Linked with ${t.appState.items[t.appState.activeItemIndex].t3Entry.description}`:"Link with an entry",onClick:t.linkT3EntryDialogAction},null,8,["icon","label","onClick"]),t.appState.items[t.appState.activeItemIndex].t3Entry?(ct(),Bt(gs,{key:0,class:"mt-2 border border-solid border-gray-700",dark:"","default-opened":"",label:"Entry settings"},{default:U(()=>{var u,f,d,c,p,v;return[L(cr,{class:"mb-1",filled:"",dark:"",modelValue:t.appState.items[t.appState.activeItemIndex].t3Entry.auto_manual,"onUpdate:modelValue":[e[21]||(e[21]=h=>t.appState.items[t.appState.activeItemIndex].t3Entry.auto_manual=h),e[22]||(e[22]=h=>t.T3UpdateEntryField("auto_manual",t.appState.items[t.appState.activeItemIndex]))],options:[{label:"Auto",value:0},{label:"Manual",value:1}],label:"Auto/Manual","emit-value":"","map-options":""},null,8,["modelValue"]),t.appState.items[t.appState.activeItemIndex].t3Entry.digital_analog===0&&t.appState.items[t.appState.activeItemIndex].t3Entry.range?(ct(),Bt(cr,{key:0,class:"mb-1",disable:((u=t.appState.items[t.appState.activeItemIndex].t3Entry)==null?void 0:u.auto_manual)===0,filled:"",dark:"",modelValue:t.appState.items[t.appState.activeItemIndex].t3Entry.control,"onUpdate:modelValue":[e[23]||(e[23]=h=>t.appState.items[t.appState.activeItemIndex].t3Entry.control=h),e[24]||(e[24]=h=>t.T3UpdateEntryField("control",t.appState.items[t.appState.activeItemIndex]))],options:[{label:t.getRangeById(t.appState.items[t.appState.activeItemIndex].t3Entry.range).off,value:0},{label:t.getRangeById(t.appState.items[t.appState.activeItemIndex].t3Entry.range).on,value:1}],label:"Value","emit-value":"","map-options":""},null,8,["disable","modelValue","options"])):De("",!0),t.appState.items[t.appState.activeItemIndex].t3Entry.type==="PROGRAM"?(ct(),Bt(cr,{key:1,class:"mb-1",disable:((f=t.appState.items[t.appState.activeItemIndex].t3Entry)==null?void 0:f.auto_manual)===0,filled:"",dark:"",modelValue:t.appState.items[t.appState.activeItemIndex].t3Entry.status,"onUpdate:modelValue":[e[25]||(e[25]=h=>t.appState.items[t.appState.activeItemIndex].t3Entry.status=h),e[26]||(e[26]=h=>t.T3UpdateEntryField("status",t.appState.items[t.appState.activeItemIndex]))],options:[{label:"OFF",value:0},{label:"ON",value:1}],label:"Status","emit-value":"","map-options":""},null,8,["disable","modelValue"])):t.appState.items[t.appState.activeItemIndex].t3Entry.type==="SCHEDULE"?(ct(),Bt(cr,{key:2,class:"mb-1",disable:((d=t.appState.items[t.appState.activeItemIndex].t3Entry)==null?void 0:d.auto_manual)===0,filled:"",dark:"",modelValue:t.appState.items[t.appState.activeItemIndex].t3Entry.output,"onUpdate:modelValue":[e[27]||(e[27]=h=>t.appState.items[t.appState.activeItemIndex].t3Entry.output=h),e[28]||(e[28]=h=>t.T3UpdateEntryField("output",t.appState.items[t.appState.activeItemIndex]))],options:[{label:"OFF",value:0},{label:"ON",value:1}],label:"Output","emit-value":"","map-options":""},null,8,["disable","modelValue"])):t.appState.items[t.appState.activeItemIndex].t3Entry.type==="HOLIDAY"?(ct(),Bt(cr,{key:3,class:"mb-1",disable:((c=t.appState.items[t.appState.activeItemIndex].t3Entry)==null?void 0:c.auto_manual)===0,filled:"",dark:"",modelValue:t.appState.items[t.appState.activeItemIndex].t3Entry.value,"onUpdate:modelValue":[e[29]||(e[29]=h=>t.appState.items[t.appState.activeItemIndex].t3Entry.value=h),e[30]||(e[30]=h=>t.T3UpdateEntryField("value",t.appState.items[t.appState.activeItemIndex]))],options:[{label:"OFF",value:0},{label:"ON",value:1}],label:"Value","emit-value":"","map-options":""},null,8,["disable","modelValue"])):De("",!0),t.appState.items[t.appState.activeItemIndex].t3Entry.digital_analog===1?(ct(),Bt(Je,{key:4,class:"mb-1",disable:((p=t.appState.items[t.appState.activeItemIndex].t3Entry)==null?void 0:p.auto_manual)===0,filled:"",dark:"",type:"number",modelValue:t.appState.items[t.appState.activeItemIndex].t3Entry.value,"onUpdate:modelValue":[e[31]||(e[31]=h=>t.appState.items[t.appState.activeItemIndex].t3Entry.value=h),e[32]||(e[32]=h=>t.T3UpdateEntryField("value",t.appState.items[t.appState.activeItemIndex]))],modelModifiers:{number:!0},label:"Value"},null,8,["disable","modelValue"])):De("",!0),L(cr,{filled:"",dark:"",modelValue:t.appState.items[t.appState.activeItemIndex].t3EntryDisplayField,"onUpdate:modelValue":e[33]||(e[33]=h=>t.appState.items[t.appState.activeItemIndex].t3EntryDisplayField=h),options:[{label:"Value",value:((v=t.appState.items[t.appState.activeItemIndex].t3Entry)==null?void 0:v.digital_analog)===1?"value":"control"},{label:"Label",value:"label"},{label:"Description",value:"description"}],label:"Display field","emit-value":"","map-options":""},null,8,["modelValue","options"])]}),_:1})):De("",!0)])])])):(ct(),Lt("div",Pm))])]),_:1}),L(Ol,{modelValue:t.linkT3EntryDialog.active,"onUpdate:modelValue":e[35]||(e[35]=u=>t.linkT3EntryDialog.active=u)},{default:U(()=>[L(Sf,{style:{"min-width":"600px"}},{default:U(()=>[L(as,{class:"row items-center q-pb-none"},{default:U(()=>[Bm,L(Of),Wt(L(mr,{icon:"close",flat:"",round:"",dense:""},null,512),[[Ut]])]),_:1}),L(we),L(as,{style:{height:"70vh"},class:"scroll"},{default:U(()=>[L(cr,{"option-label":"description","option-value":"id",filled:"","use-input":"","hide-selected":"","fill-input":"","input-debounce":"0",modelValue:t.linkT3EntryDialog.data,"onUpdate:modelValue":e[34]||(e[34]=u=>t.linkT3EntryDialog.data=u),options:t.selectPanelOptions,onFilter:t.selectPanelFilterFn,label:"Select Entry"},null,8,["modelValue","options","onFilter"])]),_:1}),L(we),L(Cf,{align:"right"},{default:U(()=>[Wt(L(mr,{flat:"",label:"Cancel",color:"primary"},null,512),[[Ut]]),L(mr,{flat:"",label:"Save",disable:!t.linkT3EntryDialog.data,color:"primary",onClick:t.linkT3EntrySave},null,8,["disable","onClick"])]),_:1})]),_:1})]),_:1},8,["modelValue"])],64)}var $m=$e(wm,[["render",Am]]);export{$m as default};
